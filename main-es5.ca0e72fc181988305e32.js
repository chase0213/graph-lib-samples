(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"4rB0":function(t,e,n){(function(t){"use strict";var e={},n=function(t){var i,o,r,s,a;n.classes.dispatcher.extend(this);var l=this,h=t||{};if("string"==typeof h||h instanceof HTMLElement?h={renderers:[h]}:"[object Array]"===Object.prototype.toString.call(h)&&(h={renderers:h}),s=h.renderers||h.renderer||h.container,h.renderers&&0!==h.renderers.length||("string"==typeof s||s instanceof HTMLElement||"object"==typeof s&&"container"in s)&&(h.renderers=[s]),h.id){if(e[h.id])throw'sigma: Instance "'+h.id+'" already exists.';Object.defineProperty(this,"id",{value:h.id})}else{for(a=0;e[a];)a++;Object.defineProperty(this,"id",{value:""+a})}for(e[this.id]=this,this.settings=new n.classes.configurable(n.settings,h.settings||{}),Object.defineProperty(this,"graph",{value:new n.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),Object.defineProperty(this,"camera",{get:function(){return this.cameras[0]}}),Object.defineProperty(this,"events",{value:["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","doubleClickNode","doubleClickNodes","rightClickNode","rightClickNodes","overNode","overNodes","outNode","outNodes","downNode","downNodes","upNode","upNodes"],configurable:!0}),this._handler=(function(t){var e,n={};for(e in t.data)n[e]=t.data[e];n.renderer=t.target,this.dispatchEvent(t.type,n)}).bind(this),i=0,o=(r=h.renderers||[]).length;i<o;i++)this.addRenderer(r[i]);for(i=0,o=(r=h.middlewares||[]).length;i<o;i++)this.middlewares.push("string"==typeof r[i]?n.middlewares[r[i]]:r[i]);"object"==typeof h.graph&&h.graph&&(this.graph.read(h.graph),this.refresh()),window.addEventListener("resize",function(){l.settings&&l.refresh()})};if(n.prototype.addCamera=function(e){var i,o=this;if(!arguments.length){for(e=0;this.cameras[""+e];)e++;e=""+e}if(this.cameras[e])throw'sigma.addCamera: The camera "'+e+'" already exists.';return i=new n.classes.camera(e,this.graph,this.settings),this.cameras[e]=i,i.quadtree=new n.classes.quad,n.classes.edgequad!==t&&(i.edgequadtree=new n.classes.edgequad),i.bind("coordinatesUpdated",function(t){o.renderCamera(i,i.isAnimated)}),this.renderersPerCamera[e]=[],i},n.prototype.killCamera=function(t){if(!(t="string"==typeof t?this.cameras[t]:t))throw"sigma.killCamera: The camera is undefined.";var e,n=this.renderersPerCamera[t.id];for(e=n.length-1;e>=0;e--)this.killRenderer(n[e]);return delete this.renderersPerCamera[t.id],delete this.cameraFrames[t.id],delete this.cameras[t.id],t.kill&&t.kill(),this},n.prototype.addRenderer=function(t){var e,i,o,r,s=t||{};if("string"==typeof s?s={container:document.getElementById(s)}:s instanceof HTMLElement&&(s={container:s}),"string"==typeof s.container&&(s.container=document.getElementById(s.container)),"id"in s)e=s.id;else{for(e=0;this.renderers[""+e];)e++;e=""+e}if(this.renderers[e])throw'sigma.addRenderer: The renderer "'+e+'" already exists.';if(i=(i="function"==typeof s.type?s.type:n.renderers[s.type])||n.renderers.def,o="camera"in s?s.camera instanceof n.classes.camera?s.camera:this.cameras[s.camera]||this.addCamera(s.camera):this.addCamera(),this.cameras[o.id]!==o)throw"sigma.addRenderer: The camera is not properly referenced.";return r=new i(this.graph,o,this.settings,s),this.renderers[e]=r,Object.defineProperty(r,"id",{value:e}),r.bind&&r.bind(["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","clickEdge","clickEdges","doubleClickNode","doubleClickNodes","doubleClickEdge","doubleClickEdges","rightClickNode","rightClickNodes","rightClickEdge","rightClickEdges","overNode","overNodes","overEdge","overEdges","outNode","outNodes","outEdge","outEdges","downNode","downNodes","downEdge","downEdges","upNode","upNodes","upEdge","upEdges"],this._handler),this.renderersPerCamera[o.id].push(r),r},n.prototype.killRenderer=function(t){if(!(t="string"==typeof t?this.renderers[t]:t))throw"sigma.killRenderer: The renderer is undefined.";var e=this.renderersPerCamera[t.camera.id],n=e.indexOf(t);return n>=0&&e.splice(n,1),t.kill&&t.kill(),delete this.renderers[t.id],this},n.prototype.refresh=function(e){var i,o,r,s,a,l,h=0;for(e=e||{},i=0,o=(s=this.middlewares||[]).length;i<o;i++)s[i].call(this,0===i?"":"tmp"+h+":",i===o-1?"ready:":"tmp"+ ++h+":");for(r in this.cameras)(a=this.cameras[r]).settings("autoRescale")&&this.renderersPerCamera[a.id]&&this.renderersPerCamera[a.id].length?n.middlewares.rescale.call(this,s.length?"ready:":"",a.readPrefix,{width:this.renderersPerCamera[a.id][0].width,height:this.renderersPerCamera[a.id][0].height}):n.middlewares.copy.call(this,s.length?"ready:":"",a.readPrefix),e.skipIndexation||(l=n.utils.getBoundaries(this.graph,a.readPrefix),a.quadtree.index(this.graph.nodes(),{prefix:a.readPrefix,bounds:{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}),a.edgequadtree!==t&&a.settings("drawEdges")&&a.settings("enableEdgeHovering")&&a.edgequadtree.index(this.graph,{prefix:a.readPrefix,bounds:{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}));for(i=0,o=(s=Object.keys(this.renderers)).length;i<o;i++)if(this.renderers[s[i]].process)if(this.settings("skipErrors"))try{this.renderers[s[i]].process()}catch(u){console.log('Warning: The renderer "'+s[i]+'" crashed on ".process()"')}else this.renderers[s[i]].process();return this.render(),this},n.prototype.render=function(){var t,e,n;for(t=0,e=(n=Object.keys(this.renderers)).length;t<e;t++)if(this.settings("skipErrors"))try{this.renderers[n[t]].render()}catch(i){this.settings("verbose")&&console.log('Warning: The renderer "'+n[t]+'" crashed on ".render()"')}else this.renderers[n[t]].render();return this},n.prototype.renderCamera=function(t,e){var n,i,o,r=this;if(e)for(n=0,i=(o=this.renderersPerCamera[t.id]).length;n<i;n++)if(this.settings("skipErrors"))try{o[n].render()}catch(s){this.settings("verbose")&&console.log('Warning: The renderer "'+o[n].id+'" crashed on ".render()"')}else o[n].render();else if(!this.cameraFrames[t.id]){for(n=0,i=(o=this.renderersPerCamera[t.id]).length;n<i;n++)if(this.settings("skipErrors"))try{o[n].render()}catch(s){this.settings("verbose")&&console.log('Warning: The renderer "'+o[n].id+'" crashed on ".render()"')}else o[n].render();this.cameraFrames[t.id]=requestAnimationFrame(function(){delete r.cameraFrames[t.id]})}return this},n.prototype.kill=function(){var t;for(t in this.dispatchEvent("kill"),this.graph.kill(),delete this.middlewares,this.renderers)this.killRenderer(this.renderers[t]);for(t in this.cameras)this.killCamera(this.cameras[t]);for(t in delete this.renderers,delete this.cameras,this)this.hasOwnProperty(t)&&delete this[t];delete e[this.id]},n.instances=function(t){return arguments.length?e[t]:n.utils.extend({},e)},n.version="1.2.1",void 0!==this.sigma)throw"An object called sigma is already in the global scope.";this.sigma=n}).call(this),function(n){"use strict";if(n.conrad)throw new Error("conrad already exists");var i,o=!1,r={},s={},a=[],l={},h=[],u=!1,d={frameDuration:20,history:!0},c=Object.create(null);function p(t,e){var n,i,o,r,s,a,l=Array.isArray(t)?t:t.split(/ /);for(e=void 0===e?{}:e,n=0,o=l.length;n!==o;n+=1)if(c[a=l[n]])for(s={type:a,data:e||{}},i=0,r=c[a].length;i!==r;i+=1)try{c[a][i].handler(s)}catch(h){}}function f(){var t,e,n,i,o=!1,r=_(),s=a.shift();if(n=s.job(),r=_()-r,s.done++,s.time+=r,s.currentTime+=r,s.weightTime=s.currentTime/(s.weight||1),s.averageTime=s.time/s.done,!(i=s.count?s.count<=s.done:!n)){for(t=0,e=a.length;t<e;t++)if(a[t].weightTime>s.weightTime){a.splice(t,0,s),o=!0;break}o||a.push(s)}return i?s:null}function g(t){var e=a.length;s[t.id]=t,t.status="running",e&&(t.weightTime=a[e-1].weightTime,t.currentTime=t.weightTime*(t.weight||1)),t.startTime=_(),p("jobStarted",w(t)),a.push(t)}function v(){var t,e,n;for(t in r)(e=r[t]).after?l[t]=e:g(e),delete r[t];for(o=!!a.length;a.length&&_()-i<d.frameDuration;)if(n=f())for(t in m(n.id),l)l[t].after===n.id&&(g(l[t]),delete l[t]);o?(i=_(),p("enterFrame"),setTimeout(v,0)):p("stop")}function m(t){var e,n,i,o,u=!1;if(Array.isArray(t))for(e=0,n=t.length;e<n;e++)m(t[e]);else{if("string"!=typeof t)throw new Error("[conrad.killJob] Wrong arguments.");for(e=0,n=(i=[s,l,r]).length;e<n;e++)t in i[e]&&(o=i[e][t],d.history&&(o.status="done",h.push(o)),p("jobEnded",w(o)),delete i[e][t],"function"==typeof o.end&&o.end(),u=!0);for(e=0,n=(i=a).length;e<n;e++)if(i[e].id===t){i.splice(e,1);break}if(!u)throw new Error('[conrad.killJob] Job "'+t+'" not found.')}return this}function y(t){var e=r[t]||s[t]||l[t];return e?b(e):null}function b(){var t,e,n={};for(t=arguments.length-1;t>=0;t--)for(e in arguments[t])n[e]=arguments[t][e];return n}function w(t){var e,n,i;if(!t)return t;if(Array.isArray(t))for(e=[],n=0,i=t.length;n<i;n++)e.push(w(t[n]));else if("object"==typeof t)for(n in e={},t)e[n]=w(t[n]);else e=t;return e}function x(t){var e,n=[];for(e in t)n.push(t[e]);return n}function _(){return Date.now?Date.now():(new Date).getTime()}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var E={hasJob:y,addJob:function t(e,n){var s,a,l;if(Array.isArray(e)){for(u=!0,s=0,a=e.length;s<a;s++)t(e[s].id,b(e[s],n));u=!1,o||(i=_(),p("start"),v())}else if("object"==typeof e)if("string"==typeof e.id)t(e.id,e);else{for(s in u=!0,e)t(s,b("function"==typeof e[s]?{job:e[s]}:e[s],n));u=!1,o||(i=_(),p("start"),v())}else{if("string"!=typeof e)throw new Error("[conrad.addJob] Wrong arguments.");if(y(e))throw new Error('[conrad.addJob] Job with id "'+e+'" already exists.');if("function"==typeof n)l={id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:n};else{if("object"!=typeof n)throw new Error("[conrad.addJob] Wrong arguments.");l=b({id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},n)}r[e]=l,p("jobAdded",w(l)),o||u||(i=_(),p("start"),v())}return this},killJob:m,killAll:function(){var t,e=b(r,s,l);if(d.history)for(t in e)e[t].status="done",h.push(e[t]),"function"==typeof e[t].end&&e[t].end();return r={},l={},s={},a=[],o=!1,this},settings:function(t,e){var n;if("string"==typeof a1&&1===arguments.length)return d[a1];for(var i in n="object"==typeof a1&&1===arguments.length&&a1||{},"string"==typeof a1&&(n[a1]=a2),n)void 0!==n[i]?d[i]=n[i]:delete d[i];return this},getStats:function(t,e){var n,i,o,a,u,d,c;if(!arguments.length){for(i in u=[],r)u.push(r[i]);for(i in l)u.push(l[i]);for(i in s)u.push(s[i]);u=u.concat(h)}if("string"==typeof t)switch(t){case"waiting":u=x(l);break;case"running":u=x(s);break;case"done":u=h;break;default:d=t}if(t instanceof RegExp&&(d=t),!d&&("string"==typeof e||e instanceof RegExp)&&(d=e),d){if(c="string"==typeof d,u instanceof Array)n=u;else if("object"==typeof u)for(i in n=[],u)n=n.concat(u[i]);else{for(i in n=[],r)n.push(r[i]);for(i in l)n.push(l[i]);for(i in s)n.push(s[i]);n=n.concat(h)}for(u=[],o=0,a=n.length;o<a;o++)(c?n[o].id===d:n[o].id.match(d))&&u.push(n[o])}return w(u)},isRunning:function(){return o},clearHistory:function(){return h=[],this},bind:function t(e,n){var i,o,r,s;if(arguments.length)if(1===arguments.length&&Object(arguments[0])===arguments[0])for(e in arguments[0])t(e,arguments[0][e]);else if(arguments.length>1)for(i=0,o=(s=Array.isArray(e)?e:e.split(/ /)).length;i!==o;i+=1)c[r=s[i]]||(c[r]=[]),c[r].push({handler:n})},unbind:function(t,e){var n,i,o,r,s,a,l=Array.isArray(t)?t:t.split(/ /);if(arguments.length)if(e)for(n=0,i=l.length;n!==i;n+=1){if(c[a=l[n]]){for(s=[],o=0,r=c[a].length;o!==r;o+=1)c[a][o].handler!==e&&s.push(c[a][o]);c[a]=s}c[a]&&0===c[a].length&&delete c[a]}else for(n=0,i=l.length;n!==i;n+=1)delete c[l[n]];else c=Object.create(null)},version:"0.1.0"};t.exports&&(e=t.exports=E),e.conrad=E,n.conrad=E}(this);var i=this.sigma,o=this.conrad;i.conrad=o,"undefined"==typeof HTMLElement&&(HTMLElement=function(){}),"undefined"==typeof window&&(window={addEventListener:function(){}}),t.exports&&(e=t.exports=i),e.sigma=i,(function(t){"use strict";if(void 0===i)throw"sigma is not declared";var e,n=this;i.utils=i.utils||{},i.utils.extend=function(){var t,e,n={},i=arguments.length;for(t=i-1;t>=0;t--)for(e in arguments[t])n[e]=arguments[t][e];return n},i.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},i.utils.pkg=function(t){return(t||"").split(".").reduce(function(t,e){return e in t?t[e]:t[e]={}},n)},i.utils.id=(e=0,function(){return++e});var o={};i.utils.floatColor=function(t){if(o[t])return o[t];var e=t,n=0,i=0,r=0;"#"===t[0]?3===(t=t.slice(1)).length?(n=parseInt(t.charAt(0)+t.charAt(0),16),i=parseInt(t.charAt(1)+t.charAt(1),16),r=parseInt(t.charAt(2)+t.charAt(2),16)):(n=parseInt(t.charAt(0)+t.charAt(1),16),i=parseInt(t.charAt(2)+t.charAt(3),16),r=parseInt(t.charAt(4)+t.charAt(5),16)):t.match(/^ *rgba? *\(/)&&(n=+(t=t.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/))[1],i=+t[2],r=+t[3]);var s=256*n*256+256*i+r;return o[e]=s,s},i.utils.zoomTo=function(t,e,n,o,r){var s,a,l,h=t.settings;(a=Math.max(h("zoomMin"),Math.min(h("zoomMax"),t.ratio*o)))!==t.ratio&&(l={x:e*(1-(o=a/t.ratio))+t.x,y:n*(1-o)+t.y,ratio:a},r&&r.duration?(s=i.misc.animation.killAll(t),r=i.utils.extend(r,{easing:s?"quadraticOut":"quadraticInOut"}),i.misc.animation.camera(t,l,r)):(t.goTo(l),r&&r.onComplete&&r.onComplete()))},i.utils.getQuadraticControlPoint=function(t,e,n,i){return{x:(t+n)/2+(i-e)/4,y:(e+i)/2+(t-n)/4}},i.utils.getPointOnQuadraticCurve=function(t,e,n,i,o,r,s){return{x:Math.pow(1-t,2)*e+2*(1-t)*t*r+Math.pow(t,2)*i,y:Math.pow(1-t,2)*n+2*(1-t)*t*s+Math.pow(t,2)*o}},i.utils.getPointOnBezierCurve=function(t,e,n,i,o,r,s,a,l){var h=Math.pow(1-t,3),u=3*t*Math.pow(1-t,2),d=3*Math.pow(t,2)*(1-t),c=Math.pow(t,3);return{x:h*e+u*r+d*a+c*i,y:h*n+u*s+d*l+c*o}},i.utils.getSelfLoopControlPoints=function(t,e,n){return{x1:t-7*n,y1:e,x2:t,y2:e+7*n}},i.utils.getDistance=function(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))},i.utils.getCircleIntersection=function(t,e,n,i,o,r){var s,a,l,h,u,d,c,p,f;return a=i-t,l=o-e,!((h=Math.sqrt(l*l+a*a))>n+r)&&!(h<Math.abs(n-r))&&(f=e+l*(s=(n*n-r*r+h*h)/(2*h))/h,{xi:(p=t+a*s/h)+(d=(u=Math.sqrt(n*n-s*s))/h*-l),xi_prime:p-d,yi:f+(c=a*(u/h)),yi_prime:f-c})},i.utils.isPointOnSegment=function(t,e,n,o,r,s,a){return Math.abs((e-o)*(r-n)-(t-n)*(s-o))/i.utils.getDistance(n,o,r,s)<a&&Math.min(n,r)<=t&&t<=Math.max(n,r)&&Math.min(o,s)<=e&&e<=Math.max(o,s)},i.utils.isPointOnQuadraticCurve=function(t,e,n,o,r,s,a,l,h){var u=i.utils.getDistance(n,o,r,s);if(Math.abs(t-n)>u||Math.abs(e-o)>u)return!1;for(var d,c=.5,p=i.utils.getDistance(t,e,n,o)<i.utils.getDistance(t,e,r,s)?-.01:.01,f=100,g=i.utils.getPointOnQuadraticCurve(c,n,o,r,s,a,l),v=i.utils.getDistance(t,e,g.x,g.y);f-- >0&&c>=0&&c<=1&&v>h&&(p>.001||p<-.001);)d=v,g=i.utils.getPointOnQuadraticCurve(c,n,o,r,s,a,l),(v=i.utils.getDistance(t,e,g.x,g.y))>d?c+=p=-p/2:c+p<0||c+p>1?(p/=2,v=d):c+=p;return v<h},i.utils.isPointOnBezierCurve=function(t,e,n,o,r,s,a,l,h,u,d){var c=i.utils.getDistance(n,o,a,l);if(Math.abs(t-n)>c||Math.abs(e-o)>c)return!1;for(var p,f=.5,g=i.utils.getDistance(t,e,n,o)<i.utils.getDistance(t,e,r,s)?-.01:.01,v=100,m=i.utils.getPointOnBezierCurve(f,n,o,r,s,a,l,h,u),y=i.utils.getDistance(t,e,m.x,m.y);v-- >0&&f>=0&&f<=1&&y>d&&(g>.001||g<-.001);)p=y,m=i.utils.getPointOnBezierCurve(f,n,o,r,s,a,l,h,u),(y=i.utils.getDistance(t,e,m.x,m.y))>p?f+=g=-g/2:f+g<0||f+g>1?(g/=2,y=p):f+=g;return y<d},i.utils.getX=function(e){return e.offsetX!==t&&e.offsetX||e.layerX!==t&&e.layerX||e.clientX!==t&&e.clientX},i.utils.getY=function(e){return e.offsetY!==t&&e.offsetY||e.layerY!==t&&e.layerY||e.clientY!==t&&e.clientY},i.utils.getPixelRatio=function(){var e=1;return window.screen.deviceXDPI!==t&&window.screen.logicalXDPI!==t&&window.screen.deviceXDPI>window.screen.logicalXDPI?e=window.screen.systemXDPI/window.screen.logicalXDPI:window.devicePixelRatio!==t&&(e=window.devicePixelRatio),e},i.utils.getWidth=function(e){var n=e.target.ownerSVGElement?e.target.ownerSVGElement.width:e.target.width;return"number"==typeof n&&n||n!==t&&n.baseVal!==t&&n.baseVal.value},i.utils.getCenter=function(t){var e=-1!==t.target.namespaceURI.indexOf("svg")?1:i.utils.getPixelRatio();return{x:i.utils.getWidth(t)/(2*e),y:i.utils.getHeight(t)/(2*e)}},i.utils.mouseCoords=function(t,e,n){return e=e||i.utils.getX(t),n=n||i.utils.getY(t),{x:e-i.utils.getCenter(t).x,y:n-i.utils.getCenter(t).y,clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,shiftKey:t.shiftKey}},i.utils.getHeight=function(e){var n=e.target.ownerSVGElement?e.target.ownerSVGElement.height:e.target.height;return"number"==typeof n&&n||n!==t&&n.baseVal!==t&&n.baseVal.value},i.utils.getDelta=function(e){return e.wheelDelta!==t&&e.wheelDelta||e.detail!==t&&-e.detail},i.utils.getOffset=function(t){for(var e=0,n=0;t;)n+=parseInt(t.offsetTop),e+=parseInt(t.offsetLeft),t=t.offsetParent;return{top:n,left:e}},i.utils.doubleClick=function(t,e,n){var o,r=0;t._doubleClickHandler=t._doubleClickHandler||{},t._doubleClickHandler[e]=t._doubleClickHandler[e]||[],(o=t._doubleClickHandler[e]).push(function(t){if(2==++r)return r=0,n(t);1===r&&setTimeout(function(){r=0},i.settings.doubleClickTimeout)}),t.addEventListener(e,o[o.length-1],!1)},i.utils.unbindDoubleClick=function(t,e){for(var n,i=(t._doubleClickHandler||{})[e]||[];n=i.pop();)t.removeEventListener(e,n);delete(t._doubleClickHandler||{})[e]},i.utils.easings=i.utils.easings||{},i.utils.easings.linearNone=function(t){return t},i.utils.easings.quadraticIn=function(t){return t*t},i.utils.easings.quadraticOut=function(t){return t*(2-t)},i.utils.easings.quadraticInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},i.utils.easings.cubicIn=function(t){return t*t*t},i.utils.easings.cubicOut=function(t){return--t*t*t+1},i.utils.easings.cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},i.utils.loadShader=function(t,e,n,i){var o=t.createShader(n);return t.shaderSource(o,e),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(i&&i('Error compiling shader "'+o+'":'+t.getShaderInfoLog(o)),t.deleteShader(o),null)},i.utils.loadProgram=function(t,e,n,i,o){var r,s=t.createProgram();for(r=0;r<e.length;++r)t.attachShader(s,e[r]);if(n)for(r=0;r<n.length;++r)t.bindAttribLocation(s,locations?locations[r]:r,opt_attribs[r]);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?s:(o&&o("Error in program linking: "+t.getProgramInfoLog(s)),t.deleteProgram(s),null)},i.utils.pkg("sigma.utils.matrices"),i.utils.matrices.translation=function(t,e){return[1,0,0,0,1,0,t,e,1]},i.utils.matrices.rotation=function(t,e){var n=Math.cos(t),i=Math.sin(t);return e?[n,-i,i,n]:[n,-i,0,i,n,0,0,0,1]},i.utils.matrices.scale=function(t,e){return e?[t,0,0,t]:[t,0,0,0,t,0,0,0,1]},i.utils.matrices.multiply=function(t,e,n){var i=n?2:3,o=t[0*i+0],r=t[0*i+1],s=t[0*i+2],a=t[1*i+0],l=t[1*i+1],h=t[1*i+2],u=t[2*i+0],d=t[2*i+1],c=t[2*i+2],p=e[0*i+0],f=e[0*i+1],g=e[0*i+2],v=e[1*i+0],m=e[1*i+1],y=e[1*i+2],b=e[2*i+0],w=e[2*i+1],x=e[2*i+2];return n?[o*p+r*v,o*f+r*m,a*p+l*v,a*f+l*m]:[o*p+r*v+s*b,o*f+r*m+s*w,o*g+r*y+s*x,a*p+l*v+h*b,a*f+l*m+h*w,a*g+l*y+h*x,u*p+d*v+c*b,u*f+d*m+c*w,u*g+d*y+c*x]}}).call(this),function(t){"use strict";var e,n=0,i=["ms","moz","webkit","o"];for(e=0;e<i.length&&!t.requestAnimationFrame;e++)t.requestAnimationFrame=t[i[e]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[e]+"CancelAnimationFrame"]||t[i[e]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(e,i){var o=(new Date).getTime(),r=Math.max(0,16-(o-n)),s=t.setTimeout(function(){e(o+r)},r);return n=o+r,s}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e,n,i=Array.prototype.slice.call(arguments,1),o=this;return n=function(){return o.apply(this instanceof e&&t?this:t,i.concat(Array.prototype.slice.call(arguments)))},(e=function(){}).prototype=this.prototype,n.prototype=new e,n})}(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.settings"),i.settings=i.utils.extend(i.settings||{},{clone:!0,immutable:!0,verbose:!1,classPrefix:"sigma",defaultNodeType:"def",defaultEdgeType:"def",defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:14,edgeColor:"source",minArrowSize:0,font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,webglOversamplingRatio:2,borderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",singleHover:!0,hoverFontStyle:"",labelHoverShadow:"default",labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",edgeHoverColor:"edge",edgeHoverSizeRatio:1,defaultEdgeHoverColor:"#000",edgeHoverExtremities:!1,drawEdges:!0,drawNodes:!0,drawLabels:!0,drawEdgeLabels:!1,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,touchEnabled:!0,mouseEnabled:!0,mouseWheelEnabled:!0,doubleClickEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoResize:!0,autoRescale:!0,enableCamera:!0,enableHovering:!0,enableEdgeHovering:!1,edgeHoverPrecision:5,rescaleIgnoreSize:!1,skipErrors:!1,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200})}).call(this),(function(){"use strict";var n=function(){Object.defineProperty(this,"_handlers",{value:{}})};n.prototype.bind=function(t,e){var n,i,o,r;if(1===arguments.length&&"object"==typeof arguments[0])for(t in arguments[0])this.bind(t,arguments[0][t]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";for(n=0,i=(r="string"==typeof t?t.split(" "):t).length;n!==i;n+=1)(o=r[n])&&(this._handlers[o]||(this._handlers[o]=[]),this._handlers[o].push({handler:e}))}return this},n.prototype.unbind=function(t,e){var n,i,o,r,s,a,l,h="string"==typeof t?t.split(" "):t;if(!arguments.length){for(s in this._handlers)delete this._handlers[s];return this}if(e)for(n=0,i=h.length;n!==i;n+=1){if(this._handlers[l=h[n]]){for(a=[],o=0,r=this._handlers[l].length;o!==r;o+=1)this._handlers[l][o].handler!==e&&a.push(this._handlers[l][o]);this._handlers[l]=a}this._handlers[l]&&0===this._handlers[l].length&&delete this._handlers[l]}else for(n=0,i=h.length;n!==i;n+=1)delete this._handlers[h[n]];return this},n.prototype.dispatchEvent=function(t,e){var n,i,o,r,s,a,l,h="string"==typeof t?t.split(" "):t;for(e=void 0===e?{}:e,n=0,i=h.length;n!==i;n+=1)if(this._handlers[l=h[n]]){for(a=this.getEvent(l,e),s=[],o=0,r=this._handlers[l].length;o!==r;o+=1)this._handlers[l][o].handler(a),this._handlers[l][o].one||s.push(this._handlers[l][o]);this._handlers[l]=s}return this},n.prototype.getEvent=function(t,e){return{type:t,data:e||{},target:this}},n.extend=function(t,e){var i;for(i in n.prototype)n.prototype.hasOwnProperty(i)&&(t[i]=n.prototype[i]);n.apply(t,e)},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=n):(t.exports&&(e=t.exports=n),e.dispatcher=n)}).call(this),(function(){"use strict";var n=function(){var t,e,i={},o=Array.prototype.slice.call(arguments,0),r=function(t,e){var n,s,a,l;if(1!==arguments.length||"string"!=typeof t){if("object"==typeof t&&"string"==typeof e)return void 0!==(t||{})[e]?t[e]:r(e);for(n="object"==typeof t&&void 0===e?t:{},"string"==typeof t&&(n[t]=e),s=0,a=(l=Object.keys(n)).length;s<a;s++)i[l[s]]=n[l[s]];return this}if(void 0!==i[t])return i[t];for(s=0,a=o.length;s<a;s++)if(void 0!==o[s][t])return o[s][t]};for(r.embedObjects=function(){var t=o.concat(i).concat(Array.prototype.splice.call(arguments,0));return n.apply({},t)},t=0,e=arguments.length;t<e;t++)r(arguments[t]);return r};void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=n):(t.exports&&(e=t.exports=n),e.configurable=n)}).call(this),(function(n){"use strict";var o=Object.create(null),r=Object.create(null),s=Object.create(null),a=Object.create(null),l=Object.create(null),h={immutable:!0,clone:!0},u=function(t){return h[t]},d=function(t){var e,n,i;for(e in i={settings:t||u,nodesArray:[],edgesArray:[],nodesIndex:Object.create(null),edgesIndex:Object.create(null),inNeighborsIndex:Object.create(null),outNeighborsIndex:Object.create(null),allNeighborsIndex:Object.create(null),inNeighborsCount:Object.create(null),outNeighborsCount:Object.create(null),allNeighborsCount:Object.create(null)},s)s[e].call(i);for(e in o)n=c(e,i,o[e]),this[e]=n,i[e]=n};function c(t,e,n){return function(){var i,o;for(i in l[t])l[t][i].apply(e,arguments);for(i in o=n.apply(e,arguments),a[t])a[t][i].apply(e,arguments);return o}}function p(t){var e;for(e in t)"hasOwnProperty"in t&&!t.hasOwnProperty(e)||delete t[e];return t}d.addMethod=function(t,e){if("string"!=typeof t||"function"!=typeof e||2!==arguments.length)throw"addMethod: Wrong arguments.";if(o[t]||d[t])throw'The method "'+t+'" already exists.';return o[t]=e,a[t]=Object.create(null),l[t]=Object.create(null),this},d.hasMethod=function(t){return!(!o[t]&&!d[t])},d.attach=function(t,e,n,i){if("string"!=typeof t||"string"!=typeof e||"function"!=typeof n||arguments.length<3||arguments.length>4)throw"attach: Wrong arguments.";var o;if("constructor"===t)o=s;else if(i){if(!l[t])throw'The method "'+t+'" does not exist.';o=l[t]}else{if(!a[t])throw'The method "'+t+'" does not exist.';o=a[t]}if(o[e])throw'A function "'+e+'" is already attached to the method "'+t+'".';return o[e]=n,this},d.attachBefore=function(t,e,n){return this.attach(t,e,n,!0)},d.addIndex=function(t,e){if("string"!=typeof t||Object(e)!==e||2!==arguments.length)throw"addIndex: Wrong arguments.";if(r[t])throw'The index "'+t+'" already exists.';var n;for(n in r[t]=e,e){if("function"!=typeof e[n])throw"The bindings must be functions.";d.attach(n,t,e[n])}return this},d.addMethod("addNode",function(t){if(Object(t)!==t||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof t.id&&"number"!=typeof t.id)throw"The node must have a string or number id.";if(this.nodesIndex[t.id])throw'The node "'+t.id+'" already exists.';var e,n=t.id,i=Object.create(null);if(this.settings("clone"))for(e in t)"id"!==e&&(i[e]=t[e]);else i=t;return this.settings("immutable")?Object.defineProperty(i,"id",{value:n,enumerable:!0}):i.id=n,this.inNeighborsIndex[n]=Object.create(null),this.outNeighborsIndex[n]=Object.create(null),this.allNeighborsIndex[n]=Object.create(null),this.inNeighborsCount[n]=0,this.outNeighborsCount[n]=0,this.allNeighborsCount[n]=0,this.nodesArray.push(i),this.nodesIndex[i.id]=i,this}),d.addMethod("addEdge",function(t){if(Object(t)!==t||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof t.id&&"number"!=typeof t.id)throw"The edge must have a string or number id.";if("string"!=typeof t.source&&"number"!=typeof t.source||!this.nodesIndex[t.source])throw"The edge source must have an existing node id.";if("string"!=typeof t.target&&"number"!=typeof t.target||!this.nodesIndex[t.target])throw"The edge target must have an existing node id.";if(this.edgesIndex[t.id])throw'The edge "'+t.id+'" already exists.';var e,n=Object.create(null);if(this.settings("clone"))for(e in t)"id"!==e&&"source"!==e&&"target"!==e&&(n[e]=t[e]);else n=t;return this.settings("immutable")?(Object.defineProperty(n,"id",{value:t.id,enumerable:!0}),Object.defineProperty(n,"source",{value:t.source,enumerable:!0}),Object.defineProperty(n,"target",{value:t.target,enumerable:!0})):(n.id=t.id,n.source=t.source,n.target=t.target),this.edgesArray.push(n),this.edgesIndex[n.id]=n,this.inNeighborsIndex[n.target][n.source]||(this.inNeighborsIndex[n.target][n.source]=Object.create(null)),this.inNeighborsIndex[n.target][n.source][n.id]=n,this.outNeighborsIndex[n.source][n.target]||(this.outNeighborsIndex[n.source][n.target]=Object.create(null)),this.outNeighborsIndex[n.source][n.target][n.id]=n,this.allNeighborsIndex[n.source][n.target]||(this.allNeighborsIndex[n.source][n.target]=Object.create(null)),this.allNeighborsIndex[n.source][n.target][n.id]=n,n.target!==n.source&&(this.allNeighborsIndex[n.target][n.source]||(this.allNeighborsIndex[n.target][n.source]=Object.create(null)),this.allNeighborsIndex[n.target][n.source][n.id]=n),this.inNeighborsCount[n.target]++,this.outNeighborsCount[n.source]++,this.allNeighborsCount[n.target]++,this.allNeighborsCount[n.source]++,this}),d.addMethod("dropNode",function(t){if("string"!=typeof t&&"number"!=typeof t||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex[t])throw'The node "'+t+'" does not exist.';var e,n,i;for(delete this.nodesIndex[t],e=0,i=this.nodesArray.length;e<i;e++)if(this.nodesArray[e].id===t){this.nodesArray.splice(e,1);break}for(e=this.edgesArray.length-1;e>=0;e--)this.edgesArray[e].source!==t&&this.edgesArray[e].target!==t||this.dropEdge(this.edgesArray[e].id);for(n in delete this.inNeighborsIndex[t],delete this.outNeighborsIndex[t],delete this.allNeighborsIndex[t],delete this.inNeighborsCount[t],delete this.outNeighborsCount[t],delete this.allNeighborsCount[t],this.nodesIndex)delete this.inNeighborsIndex[n][t],delete this.outNeighborsIndex[n][t],delete this.allNeighborsIndex[n][t];return this}),d.addMethod("dropEdge",function(t){if("string"!=typeof t&&"number"!=typeof t||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex[t])throw'The edge "'+t+'" does not exist.';var e,n,i;for(i=this.edgesIndex[t],delete this.edgesIndex[t],e=0,n=this.edgesArray.length;e<n;e++)if(this.edgesArray[e].id===t){this.edgesArray.splice(e,1);break}return delete this.inNeighborsIndex[i.target][i.source][i.id],Object.keys(this.inNeighborsIndex[i.target][i.source]).length||delete this.inNeighborsIndex[i.target][i.source],delete this.outNeighborsIndex[i.source][i.target][i.id],Object.keys(this.outNeighborsIndex[i.source][i.target]).length||delete this.outNeighborsIndex[i.source][i.target],delete this.allNeighborsIndex[i.source][i.target][i.id],Object.keys(this.allNeighborsIndex[i.source][i.target]).length||delete this.allNeighborsIndex[i.source][i.target],i.target!==i.source&&(delete this.allNeighborsIndex[i.target][i.source][i.id],Object.keys(this.allNeighborsIndex[i.target][i.source]).length||delete this.allNeighborsIndex[i.target][i.source]),this.inNeighborsCount[i.target]--,this.outNeighborsCount[i.source]--,this.allNeighborsCount[i.source]--,this.allNeighborsCount[i.target]--,this}),d.addMethod("kill",function(){this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsIndex,delete this.outNeighborsIndex,delete this.allNeighborsIndex,delete this.inNeighborsCount,delete this.outNeighborsCount,delete this.allNeighborsCount}),d.addMethod("clear",function(){return this.nodesArray.length=0,this.edgesArray.length=0,p(this.nodesIndex),p(this.edgesIndex),p(this.nodesIndex),p(this.inNeighborsIndex),p(this.outNeighborsIndex),p(this.allNeighborsIndex),p(this.inNeighborsCount),p(this.outNeighborsCount),p(this.allNeighborsCount),this}),d.addMethod("read",function(t){var e,n,i;for(e=0,i=(n=t.nodes||[]).length;e<i;e++)this.addNode(n[e]);for(e=0,i=(n=t.edges||[]).length;e<i;e++)this.addEdge(n[e]);return this}),d.addMethod("nodes",function(t){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&("string"==typeof t||"number"==typeof t))return this.nodesIndex[t];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(t)){var e,n,i=[];for(e=0,n=t.length;e<n;e++){if("string"!=typeof t[e]&&"number"!=typeof t[e])throw"nodes: Wrong arguments.";i.push(this.nodesIndex[t[e]])}return i}throw"nodes: Wrong arguments."}),d.addMethod("degree",function(t,e){if(e={in:this.inNeighborsCount,out:this.outNeighborsCount}[e||""]||this.allNeighborsCount,"string"==typeof t||"number"==typeof t)return e[t];if("[object Array]"===Object.prototype.toString.call(t)){var n,i,o=[];for(n=0,i=t.length;n<i;n++){if("string"!=typeof t[n]&&"number"!=typeof t[n])throw"degree: Wrong arguments.";o.push(e[t[n]])}return o}throw"degree: Wrong arguments."}),d.addMethod("edges",function(t){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&("string"==typeof t||"number"==typeof t))return this.edgesIndex[t];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(t)){var e,n,i=[];for(e=0,n=t.length;e<n;e++){if("string"!=typeof t[e]&&"number"!=typeof t[e])throw"edges: Wrong arguments.";i.push(this.edgesIndex[t[e]])}return i}throw"edges: Wrong arguments."}),void 0!==i?(i.classes=i.classes||Object.create(null),i.classes.graph=d):(t.exports&&(e=t.exports=d),e.graph=d)}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.classes"),i.classes.camera=function(t,e,n,o){i.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:e}),Object.defineProperty(this,"id",{value:t}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+t+":"}),Object.defineProperty(this,"prefix",{value:"cam"+t+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof o&&o?n.embedObject(o):n},i.classes.camera.prototype.goTo=function(e){if(!this.settings("enableCamera"))return this;var n,i,o=e||{},r=["x","y","ratio","angle"];for(n=0,i=r.length;n<i;n++)if(o[r[n]]!==t){if("number"!=typeof o[r[n]]||isNaN(o[r[n]]))throw'Value for "'+r[n]+'" is not a number.';this[r[n]]=o[r[n]]}return this.dispatchEvent("coordinatesUpdated"),this},i.classes.camera.prototype.applyView=function(e,n,i){n=n!==t?n:this.prefix,e=e!==t?e:this.readPrefix;var o,r,s,a=(i=i||{}).nodes||this.graph.nodes(),l=i.edges||this.graph.edges(),h=Math.cos(this.angle)/this.ratio,u=Math.sin(this.angle)/this.ratio,d=Math.pow(this.ratio,this.settings("nodesPowRatio")),c=Math.pow(this.ratio,this.settings("edgesPowRatio")),p=(i.width||0)/2-this.x*h-this.y*u,f=(i.height||0)/2-this.y*h+this.x*u;for(o=0,r=a.length;o<r;o++)(s=a[o])[n+"x"]=(s[e+"x"]||0)*h+(s[e+"y"]||0)*u+p,s[n+"y"]=(s[e+"y"]||0)*h-(s[e+"x"]||0)*u+f,s[n+"size"]=(s[e+"size"]||0)/d;for(o=0,r=l.length;o<r;o++)l[o][n+"size"]=(l[o][e+"size"]||0)/c;return this},i.classes.camera.prototype.graphPosition=function(t,e,n){var i=0,o=0,r=Math.cos(this.angle),s=Math.sin(this.angle);return n||(i=-(this.x*r+this.y*s)/this.ratio,o=-(this.y*r-this.x*s)/this.ratio),{x:(t*r+e*s)/this.ratio+i,y:(e*r-t*s)/this.ratio+o}},i.classes.camera.prototype.cameraPosition=function(t,e,n){var i=0,o=0,r=Math.cos(this.angle),s=Math.sin(this.angle);return n||(i=-(this.x*r+this.y*s)/this.ratio,o=-(this.y*r-this.x*s)/this.ratio),{x:((t-i)*r-(e-o)*s)*this.ratio,y:((e-o)*r+(t-i)*s)*this.ratio}},i.classes.camera.prototype.getMatrix=function(){var t=i.utils.matrices.scale(1/this.ratio),e=i.utils.matrices.rotation(this.angle),n=i.utils.matrices.translation(-this.x,-this.y);return i.utils.matrices.multiply(n,i.utils.matrices.multiply(e,t))},i.classes.camera.prototype.getRectangle=function(t,e){var n=this.cameraPosition(t,0,!0),i=this.cameraPosition(0,e,!0),o=this.cameraPosition(t/2,e/2,!0),r=this.cameraPosition(t/4,0,!0).x,s=this.cameraPosition(0,e/4,!0).y;return{x1:this.x-o.x-r,y1:this.y-o.y-s,x2:this.x-o.x+r+n.x,y2:this.y-o.y-s+n.y,height:Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y+2*s,2))}}}).call(this),(function(n){"use strict";var i={pointToSquare:function(t){return{x1:t.x-t.size,y1:t.y-t.size,x2:t.x+t.size,y2:t.y-t.size,height:2*t.size}},isAxisAligned:function(t){return t.x1===t.x2||t.y1===t.y2},axisAlignedTopPoints:function(t){return t.y1===t.y2&&t.x1<t.x2?t:t.x1===t.x2&&t.y2>t.y1?{x1:t.x1-t.height,y1:t.y1,x2:t.x1,y2:t.y1,height:t.height}:t.x1===t.x2&&t.y2<t.y1?{x1:t.x1,y1:t.y2,x2:t.x2+t.height,y2:t.y2,height:t.height}:{x1:t.x2,y1:t.y1-t.height,x2:t.x1,y2:t.y1-t.height,height:t.height}},lowerLeftCoor:function(t){var e=Math.sqrt(Math.pow(t.x2-t.x1,2)+Math.pow(t.y2-t.y1,2));return{x:t.x1-(t.y2-t.y1)*t.height/e,y:t.y1+(t.x2-t.x1)*t.height/e}},lowerRightCoor:function(t,e){return{x:e.x-t.x1+t.x2,y:e.y-t.y1+t.y2}},rectangleCorners:function(t){var e=this.lowerLeftCoor(t),n=this.lowerRightCoor(t,e);return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:e.x,y:e.y},{x:n.x,y:n.y}]},splitSquare:function(t){return[[{x:t.x,y:t.y},{x:t.x+t.width/2,y:t.y},{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2}],[{x:t.x+t.width/2,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2}],[{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x,y:t.y+t.height},{x:t.x+t.width/2,y:t.y+t.height}],[{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height}]]},axis:function(t,e){return[{x:t[1].x-t[0].x,y:t[1].y-t[0].y},{x:t[1].x-t[3].x,y:t[1].y-t[3].y},{x:e[0].x-e[2].x,y:e[0].y-e[2].y},{x:e[0].x-e[1].x,y:e[0].y-e[1].y}]},projection:function(t,e){var n=(t.x*e.x+t.y*e.y)/(Math.pow(e.x,2)+Math.pow(e.y,2));return{x:n*e.x,y:n*e.y}},axisCollision:function(t,e,n){for(var i=[],o=[],r=0;r<4;r++){var s=this.projection(e[r],t),a=this.projection(n[r],t);i.push(s.x*t.x+s.y*t.y),o.push(a.x*t.x+a.y*t.y)}var l=Math.max.apply(Math,i),h=Math.max.apply(Math,o),u=Math.min.apply(Math,i);return Math.min.apply(Math,o)<=l&&h>=u},collision:function(t,e){for(var n=this.axis(t,e),i=!0,o=0;o<4;o++)i=i&&this.axisCollision(n[o],t,e);return i}};function o(t,e){for(var n=[],i=0;i<4;i++)t.x2>=e[i][0].x&&t.x1<=e[i][1].x&&t.y1+t.height>=e[i][0].y&&t.y1<=e[i][2].y&&n.push(i);return n}function r(t,e){for(var n=[],o=0;o<4;o++)i.collision(t,e[o])&&n.push(o);return n}function s(t,e){var n,i,o=e.level+1,r=Math.round(e.bounds.width/2),s=Math.round(e.bounds.height/2),a=Math.round(e.bounds.x),h=Math.round(e.bounds.y);switch(t){case 0:n=a,i=h;break;case 1:n=a+r,i=h;break;case 2:n=a,i=h+s;break;case 3:n=a+r,i=h+s}return l({x:n,y:i,width:r,height:s},o,e.maxElements,e.maxLevel)}function a(t,e,i){if(i.level<i.maxLevel)for(var r=o(e,i.corners),l=0,h=r.length;l<h;l++)i.nodes[r[l]]===n&&(i.nodes[r[l]]=s(r[l],i)),a(t,e,i.nodes[r[l]]);else i.elements.push(t)}function l(t,e,n,o){return{level:e||0,bounds:t,corners:i.splitSquare(t),maxElements:n||20,maxLevel:o||4,elements:[],nodes:[]}}var h=function(){this._geom=i,this._tree=null,this._cache={query:!1,result:!1}};h.prototype.index=function(t,e){if(!e.bounds)throw"sigma.classes.quad.index: bounds information not given.";var n=e.prefix||"";this._tree=l(e.bounds,0,e.maxElements,e.maxLevel);for(var o=0,r=t.length;o<r;o++)a(t[o],i.pointToSquare({x:t[o][n+"x"],y:t[o][n+"y"],size:t[o][n+"size"]}),this._tree);return this._cache={query:!1,result:!1},this._tree},h.prototype.point=function(t,e){return this._tree&&function t(e,i){if(i.level<i.maxLevel){var o=function(t,e){var n=t.x<e.x+e.width/2;return t.y<e.y+e.height/2?n?0:1:n?2:3}(e,i.bounds);return i.nodes[o]!==n?t(e,i.nodes[o]):[]}return i.elements}({x:t,y:e},this._tree)||[]},h.prototype.area=function(t){var e,s,a=JSON.stringify(t);if(this._cache.query===a)return this._cache.result;i.isAxisAligned(t)?(e=o,s=i.axisAlignedTopPoints(t)):(e=r,s=i.rectangleCorners(t));var l=this._tree?function t(e,i,o,r){if(r=r||{},i.level<i.maxLevel)for(var s=o(e,i.corners),a=0,l=s.length;a<l;a++)i.nodes[s[a]]!==n&&t(e,i.nodes[s[a]],o,r);else for(var h=0,u=i.elements.length;h<u;h++)r[i.elements[h].id]===n&&(r[i.elements[h].id]=i.elements[h]);return r}(s,this._tree,e):[],h=[];for(var u in l)h.push(l[u]);return this._cache.query=a,this._cache.result=h,h},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=h):(t.exports&&(e=t.exports=h),e.quad=h)}).call(this),(function(n){"use strict";var o={pointToSquare:function(t){return{x1:t.x-t.size,y1:t.y-t.size,x2:t.x+t.size,y2:t.y-t.size,height:2*t.size}},lineToSquare:function(t){return t.y1<t.y2?t.x1<t.x2?{x1:t.x1-t.size,y1:t.y1-t.size,x2:t.x2+t.size,y2:t.y1-t.size,height:t.y2-t.y1+2*t.size}:{x1:t.x2-t.size,y1:t.y1-t.size,x2:t.x1+t.size,y2:t.y1-t.size,height:t.y2-t.y1+2*t.size}:t.x1<t.x2?{x1:t.x1-t.size,y1:t.y2-t.size,x2:t.x2+t.size,y2:t.y2-t.size,height:t.y1-t.y2+2*t.size}:{x1:t.x2-t.size,y1:t.y2-t.size,x2:t.x1+t.size,y2:t.y2-t.size,height:t.y1-t.y2+2*t.size}},quadraticCurveToSquare:function(t,e){var n=i.utils.getPointOnQuadraticCurve(.5,t.x1,t.y1,t.x2,t.y2,e.x,e.y),o=Math.min(t.x1,t.x2,n.x),r=Math.max(t.x1,t.x2,n.x),s=Math.min(t.y1,t.y2,n.y),a=Math.max(t.y1,t.y2,n.y);return{x1:o-t.size,y1:s-t.size,x2:r+t.size,y2:s-t.size,height:a-s+2*t.size}},selfLoopToSquare:function(t){var e=i.utils.getSelfLoopControlPoints(t.x,t.y,t.size),n=Math.min(t.x,e.x1,e.x2),o=Math.max(t.x,e.x1,e.x2),r=Math.min(t.y,e.y1,e.y2),s=Math.max(t.y,e.y1,e.y2);return{x1:n-t.size,y1:r-t.size,x2:o+t.size,y2:r-t.size,height:s-r+2*t.size}},isAxisAligned:function(t){return t.x1===t.x2||t.y1===t.y2},axisAlignedTopPoints:function(t){return t.y1===t.y2&&t.x1<t.x2?t:t.x1===t.x2&&t.y2>t.y1?{x1:t.x1-t.height,y1:t.y1,x2:t.x1,y2:t.y1,height:t.height}:t.x1===t.x2&&t.y2<t.y1?{x1:t.x1,y1:t.y2,x2:t.x2+t.height,y2:t.y2,height:t.height}:{x1:t.x2,y1:t.y1-t.height,x2:t.x1,y2:t.y1-t.height,height:t.height}},lowerLeftCoor:function(t){var e=Math.sqrt(Math.pow(t.x2-t.x1,2)+Math.pow(t.y2-t.y1,2));return{x:t.x1-(t.y2-t.y1)*t.height/e,y:t.y1+(t.x2-t.x1)*t.height/e}},lowerRightCoor:function(t,e){return{x:e.x-t.x1+t.x2,y:e.y-t.y1+t.y2}},rectangleCorners:function(t){var e=this.lowerLeftCoor(t),n=this.lowerRightCoor(t,e);return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:e.x,y:e.y},{x:n.x,y:n.y}]},splitSquare:function(t){return[[{x:t.x,y:t.y},{x:t.x+t.width/2,y:t.y},{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2}],[{x:t.x+t.width/2,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2}],[{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x,y:t.y+t.height},{x:t.x+t.width/2,y:t.y+t.height}],[{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height}]]},axis:function(t,e){return[{x:t[1].x-t[0].x,y:t[1].y-t[0].y},{x:t[1].x-t[3].x,y:t[1].y-t[3].y},{x:e[0].x-e[2].x,y:e[0].y-e[2].y},{x:e[0].x-e[1].x,y:e[0].y-e[1].y}]},projection:function(t,e){var n=(t.x*e.x+t.y*e.y)/(Math.pow(e.x,2)+Math.pow(e.y,2));return{x:n*e.x,y:n*e.y}},axisCollision:function(t,e,n){for(var i=[],o=[],r=0;r<4;r++){var s=this.projection(e[r],t),a=this.projection(n[r],t);i.push(s.x*t.x+s.y*t.y),o.push(a.x*t.x+a.y*t.y)}var l=Math.max.apply(Math,i),h=Math.max.apply(Math,o),u=Math.min.apply(Math,i);return Math.min.apply(Math,o)<=l&&h>=u},collision:function(t,e){for(var n=this.axis(t,e),i=!0,o=0;o<4;o++)i=i&&this.axisCollision(n[o],t,e);return i}};function r(t,e){for(var n=[],i=0;i<4;i++)t.x2>=e[i][0].x&&t.x1<=e[i][1].x&&t.y1+t.height>=e[i][0].y&&t.y1<=e[i][2].y&&n.push(i);return n}function s(t,e){for(var n=[],i=0;i<4;i++)o.collision(t,e[i])&&n.push(i);return n}function a(t,e){var n,i,o=e.level+1,r=Math.round(e.bounds.width/2),s=Math.round(e.bounds.height/2),a=Math.round(e.bounds.x),l=Math.round(e.bounds.y);switch(t){case 0:n=a,i=l;break;case 1:n=a+r,i=l;break;case 2:n=a,i=l+s;break;case 3:n=a+r,i=l+s}return h({x:n,y:i,width:r,height:s},o,e.maxElements,e.maxLevel)}function l(t,e,i){if(i.level<i.maxLevel)for(var o=r(e,i.corners),s=0,h=o.length;s<h;s++)i.nodes[o[s]]===n&&(i.nodes[o[s]]=a(o[s],i)),l(t,e,i.nodes[o[s]]);else i.elements.push(t)}function h(t,e,n,i){return{level:e||0,bounds:t,corners:o.splitSquare(t),maxElements:n||40,maxLevel:i||8,elements:[],nodes:[]}}var u=function(){this._geom=o,this._tree=null,this._cache={query:!1,result:!1},this._enabled=!0};u.prototype.index=function(t,e){if(!this._enabled)return this._tree;if(!e.bounds)throw"sigma.classes.edgequad.index: bounds information not given.";var n,r,s,a,u=e.prefix||"";this._tree=h(e.bounds,0,e.maxElements,e.maxLevel);for(var d=t.edges(),c=0,p=d.length;c<p;c++)r=t.nodes(d[c].source),s=t.nodes(d[c].target),a={x1:r[u+"x"],y1:r[u+"y"],x2:s[u+"x"],y2:s[u+"y"],size:d[c][u+"size"]||0},"curve"===d[c].type||"curvedArrow"===d[c].type?r.id===s.id?l(d[c],o.selfLoopToSquare({x:r[u+"x"],y:r[u+"y"],size:r[u+"size"]||0}),this._tree):(n=i.utils.getQuadraticControlPoint(a.x1,a.y1,a.x2,a.y2),l(d[c],o.quadraticCurveToSquare(a,n),this._tree)):l(d[c],o.lineToSquare(a),this._tree);return this._cache={query:!1,result:!1},this._tree},u.prototype.point=function(t,e){return this._enabled&&this._tree&&function t(e,i){if(i.level<i.maxLevel){var o=function(t,e){var n=t.x<e.x+e.width/2;return t.y<e.y+e.height/2?n?0:1:n?2:3}(e,i.bounds);return i.nodes[o]!==n?t(e,i.nodes[o]):[]}return i.elements}({x:t,y:e},this._tree)||[]},u.prototype.area=function(t){if(!this._enabled)return[];var e,i,a=JSON.stringify(t);if(this._cache.query===a)return this._cache.result;o.isAxisAligned(t)?(e=r,i=o.axisAlignedTopPoints(t)):(e=s,i=o.rectangleCorners(t));var l=this._tree?function t(e,i,o,r){if(r=r||{},i.level<i.maxLevel)for(var s=o(e,i.corners),a=0,l=s.length;a<l;a++)i.nodes[s[a]]!==n&&t(e,i.nodes[s[a]],o,r);else for(var h=0,u=i.elements.length;h<u;h++)r[i.elements[h].id]===n&&(r[i.elements[h].id]=i.elements[h]);return r}(i,this._tree,e):[],h=[];for(var u in l)h.push(l[u]);return this._cache.query=a,this._cache.result=h,h},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.edgequad=u):(t.exports&&(e=t.exports=u),e.edgequad=u)}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.captors"),i.captors.mouse=function(t,e,n){var o,r,s,a,l,h,u,d,c,p,f,g=this,v=t,m=e,y=n;function b(t){var e,n,p;if(y("mouseEnabled")&&(g.dispatchEvent("mousemove",i.utils.mouseCoords(t)),u))return d=!0,c=!0,f&&clearTimeout(f),f=setTimeout(function(){d=!1},y("dragTimeout")),i.misc.animation.killAll(m),m.isMoving=!0,p=m.cameraPosition(i.utils.getX(t)-l,i.utils.getY(t)-h,!0),n=r-p.y,(e=o-p.x)===m.x&&n===m.y||(s=m.x,a=m.y,m.goTo({x:e,y:n})),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}function w(t){if(y("mouseEnabled")&&u){u=!1,f&&clearTimeout(f),m.isMoving=!1;var e=i.utils.getX(t),n=i.utils.getY(t);d?(i.misc.animation.killAll(m),i.misc.animation.camera(m,{x:m.x+y("mouseInertiaRatio")*(m.x-s),y:m.y+y("mouseInertiaRatio")*(m.y-a)},{easing:"quadraticOut",duration:y("mouseInertiaDuration")})):l===e&&h===n||m.goTo({x:m.x,y:m.y}),g.dispatchEvent("mouseup",i.utils.mouseCoords(t)),d=!1}}function x(t){if(y("mouseEnabled"))switch(o=m.x,r=m.y,s=m.x,a=m.y,l=i.utils.getX(t),h=i.utils.getY(t),c=!1,p=(new Date).getTime(),t.which){case 2:break;case 3:g.dispatchEvent("rightclick",i.utils.mouseCoords(t,l,h));break;default:u=!0,g.dispatchEvent("mousedown",i.utils.mouseCoords(t,l,h))}}function _(t){y("mouseEnabled")&&g.dispatchEvent("mouseout")}function E(t){if(y("mouseEnabled")){var e=i.utils.mouseCoords(t);e.isDragging=(new Date).getTime()-p>100&&c,g.dispatchEvent("click",e)}return t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}function k(t){var e,n,o,r=i.utils.getDelta(t);if(y("mouseEnabled")&&y("mouseWheelEnabled")&&0!==r)return n=r>0?1/y("zoomingRatio"):y("zoomingRatio"),e=m.cameraPosition(i.utils.getX(t)-i.utils.getCenter(t).x,i.utils.getY(t)-i.utils.getCenter(t).y,!0),o={duration:y("mouseZoomDuration")},i.utils.zoomTo(m,e.x,e.y,n,o),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}i.classes.dispatcher.extend(this),i.utils.doubleClick(v,"click",function(t){var e,n,o;if(y("mouseEnabled"))return n=1/y("doubleClickZoomingRatio"),g.dispatchEvent("doubleclick",i.utils.mouseCoords(t,l,h)),y("doubleClickEnabled")&&(e=m.cameraPosition(i.utils.getX(t)-i.utils.getCenter(t).x,i.utils.getY(t)-i.utils.getCenter(t).y,!0),o={duration:y("doubleClickZoomDuration")},i.utils.zoomTo(m,e.x,e.y,n,o)),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}),v.addEventListener("DOMMouseScroll",k,!1),v.addEventListener("mousewheel",k,!1),v.addEventListener("mousemove",b,!1),v.addEventListener("mousedown",x,!1),v.addEventListener("click",E,!1),v.addEventListener("mouseout",_,!1),document.addEventListener("mouseup",w,!1),this.kill=function(){i.utils.unbindDoubleClick(v,"click"),v.removeEventListener("DOMMouseScroll",k),v.removeEventListener("mousewheel",k),v.removeEventListener("mousemove",b),v.removeEventListener("mousedown",x),v.removeEventListener("click",E),v.removeEventListener("mouseout",_),document.removeEventListener("mouseup",w)}}}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.captors"),i.captors.touch=function(t,e,n){var o,r,s,a,l,h,u,d,c,p,f,g,v,m,y,b,w=this,x=t,_=e,E=n,k=[];function S(t){var e=i.utils.getOffset(x);return{x:t.pageX-e.left,y:t.pageY-e.top}}function C(t){var e,n;if(E("touchEnabled"))switch((k=t.touches).length){case 1:_.isMoving=!0,v=1,o=_.x,r=_.y,l=_.x,h=_.y,e=S(k[0]),u=e.x,d=e.y;break;case 2:return _.isMoving=!0,v=2,e=S(k[0]),n=S(k[1]),l=_.x,h=_.y,s=_.angle,a=_.ratio,o=_.x,r=_.y,u=e.x,d=e.y,c=n.x,p=n.y,f=Math.atan2(p-d,c-u),g=Math.sqrt((p-d)*(p-d)+(c-u)*(c-u)),t.preventDefault(),!1}}function T(t){if(E("touchEnabled")){k=t.touches;var e=E("touchInertiaRatio");switch(b&&(m=!1,clearTimeout(b)),v){case 2:if(1===t.touches.length){C(t),t.preventDefault();break}case 1:_.isMoving=!1,w.dispatchEvent("stopDrag"),m&&(y=!1,i.misc.animation.camera(_,{x:_.x+e*(_.x-l),y:_.y+e*(_.y-h)},{easing:"quadraticOut",duration:E("touchInertiaDuration")})),m=!1,v=0}}}function M(t){if(!y&&E("touchEnabled")){var e,n,x,C,T,M,D,O,P,I,A,N,R,L,z,B,F;switch(k=t.touches,m=!0,b&&clearTimeout(b),b=setTimeout(function(){m=!1},E("dragTimeout")),v){case 1:O=S(k[0]),I=_.cameraPosition((e=O.x)-u,(x=O.y)-d,!0),z=r-I.y,(L=o-I.x)===_.x&&z===_.y||(l=_.x,h=_.y,_.goTo({x:L,y:z}),w.dispatchEvent("mousemove",i.utils.mouseCoords(t,O.x,O.y)),w.dispatchEvent("drag"));break;case 2:O=S(k[0]),P=S(k[1]),e=O.x,x=O.y,n=P.x,C=P.y,A=_.cameraPosition((u+c)/2-i.utils.getCenter(t).x,(d+p)/2-i.utils.getCenter(t).y,!0),D=_.cameraPosition((e+n)/2-i.utils.getCenter(t).x,(x+C)/2-i.utils.getCenter(t).y,!0),N=Math.atan2(C-x,n-e)-f,R=Math.sqrt((C-x)*(C-x)+(n-e)*(n-e))/g,e=A.x,x=A.y,B=a/R,e*=R,F=s-N,C=(x*=R)*(T=Math.cos(-N))-e*(M=Math.sin(-N)),L=(e=n=e*T+x*M)-D.x+o,z=(x=C)-D.y+r,B===_.ratio&&F===_.angle&&L===_.x&&z===_.y||(l=_.x,h=_.y,_.goTo({x:L,y:z,angle:F,ratio:B}),w.dispatchEvent("drag"))}return t.preventDefault(),!1}}i.classes.dispatcher.extend(this),i.utils.doubleClick(x,"touchstart",function(t){var e,n,o;if(t.touches&&1===t.touches.length&&E("touchEnabled"))return y=!0,n=1/E("doubleClickZoomingRatio"),e=S(t.touches[0]),w.dispatchEvent("doubleclick",i.utils.mouseCoords(t,e.x,e.y)),E("doubleClickEnabled")&&(e=_.cameraPosition(e.x-i.utils.getCenter(t).x,e.y-i.utils.getCenter(t).y,!0),o={duration:E("doubleClickZoomDuration"),onComplete:function(){y=!1}},i.utils.zoomTo(_,e.x,e.y,n,o)),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}),x.addEventListener("touchstart",C,!1),x.addEventListener("touchend",T,!1),x.addEventListener("touchcancel",T,!1),x.addEventListener("touchleave",T,!1),x.addEventListener("touchmove",M,!1),this.kill=function(){i.utils.unbindDoubleClick(x,"touchstart"),x.addEventListener("touchstart",C),x.addEventListener("touchend",T),x.addEventListener("touchcancel",T),x.addEventListener("touchleave",T),x.addEventListener("touchmove",M)}}}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";if(void 0===o)throw"conrad is not declared";i.utils.pkg("sigma.renderers"),i.renderers.canvas=function(t,e,n,o){if("object"!=typeof o)throw"sigma.renderers.canvas: Wrong arguments.";if(!(o.container instanceof HTMLElement))throw"Container not found.";var r,s,a;for(i.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:i.utils.id()}),this.graph=t,this.camera=e,this.contexts={},this.domElements={},this.options=o,this.container=this.options.container,this.settings="object"==typeof o.settings&&o.settings?n.embedObjects(o.settings):n,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene"),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene,this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],r=0,s=(a=this.options.captors||[i.captors.mouse,i.captors.touch]).length;r<s;r++)this.captors.push(new("function"==typeof a[r]?a[r]:i.captors[a[r]])(this.domElements.mouse,this.camera,this.settings));i.misc.bindEvents.call(this,this.options.prefix),i.misc.drawHovers.call(this,this.options.prefix),this.resize(!1)},i.renderers.canvas.prototype.render=function(e){var n,r,s,a,l,h,u,d,c,p,f,g,v,m={},y=this.graph,b=this.graph.nodes,w=this.settings(e=e||{},"drawEdges"),x=this.settings(e,"drawNodes"),_=this.settings(e,"drawLabels"),E=this.settings(e,"drawEdgeLabels"),k=this.settings.embedObjects(e,{prefix:this.options.prefix});for(s in this.resize(!1),this.settings(e,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(w=!1),this.camera.applyView(t,this.options.prefix,{width:this.width,height:this.height}),this.clear(),this.jobs)o.hasJob(s)&&o.killJob(s);for(this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),r=0,a=(n=this.nodesOnScreen).length;r<a;r++)m[n[r].id]=n[r];if(w){for(n=y.edges(),r=0,a=n.length;r<a;r++)!m[(l=n[r]).source]&&!m[l.target]||l.hidden||b(l.source).hidden||b(l.target).hidden||this.edgesOnScreen.push(l);if(this.settings(e,"batchEdgesDrawing"))h="edges_"+this.conradId,g=k("canvasEdgesBatchSize"),a=(p=this.edgesOnScreen).length,c=0,u=Math.min(p.length,c+g),this.jobs[h]=d=function(){for(v=this.contexts.edges.globalCompositeOperation,this.contexts.edges.globalCompositeOperation="destination-over",f=i.canvas.edges,r=c;r<u;r++)(f[(l=p[r]).type||this.settings(e,"defaultEdgeType")]||f.def)(l,y.nodes(l.source),y.nodes(l.target),this.contexts.edges,k);if(E)for(f=i.canvas.edges.labels,r=c;r<u;r++)(l=p[r]).hidden||(f[l.type||this.settings(e,"defaultEdgeType")]||f.def)(l,y.nodes(l.source),y.nodes(l.target),this.contexts.labels,k);return this.contexts.edges.globalCompositeOperation=v,u===p.length?(delete this.jobs[h],!1):(c=u+1,u=Math.min(p.length,c+g),!0)},o.addJob(h,d.bind(this));else{for(f=i.canvas.edges,r=0,a=(n=this.edgesOnScreen).length;r<a;r++)(f[(l=n[r]).type||this.settings(e,"defaultEdgeType")]||f.def)(l,y.nodes(l.source),y.nodes(l.target),this.contexts.edges,k);if(E)for(f=i.canvas.edges.labels,r=0,a=(n=this.edgesOnScreen).length;r<a;r++)n[r].hidden||(f[n[r].type||this.settings(e,"defaultEdgeType")]||f.def)(n[r],y.nodes(n[r].source),y.nodes(n[r].target),this.contexts.labels,k)}}if(x)for(f=i.canvas.nodes,r=0,a=(n=this.nodesOnScreen).length;r<a;r++)n[r].hidden||(f[n[r].type||this.settings(e,"defaultNodeType")]||f.def)(n[r],this.contexts.nodes,k);if(_)for(f=i.canvas.labels,r=0,a=(n=this.nodesOnScreen).length;r<a;r++)n[r].hidden||(f[n[r].type||this.settings(e,"defaultNodeType")]||f.def)(n[r],this.contexts.labels,k);return this.dispatchEvent("render"),this},i.renderers.canvas.prototype.initDOM=function(t,e){var n=document.createElement(t);n.style.position="absolute",n.setAttribute("class","sigma-"+e),this.domElements[e]=n,this.container.appendChild(n),"canvas"===t.toLowerCase()&&(this.contexts[e]=n.getContext("2d"))},i.renderers.canvas.prototype.resize=function(e,n){var o,r=this.width,s=this.height,a=i.utils.getPixelRatio();if(e!==t&&n!==t?(this.width=e,this.height=n):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,e=this.width,n=this.height),r!==this.width||s!==this.height)for(o in this.domElements)this.domElements[o].style.width=e+"px",this.domElements[o].style.height=n+"px","canvas"===this.domElements[o].tagName.toLowerCase()&&(this.domElements[o].setAttribute("width",e*a+"px"),this.domElements[o].setAttribute("height",n*a+"px"),1!==a&&this.contexts[o].scale(a,a));return this},i.renderers.canvas.prototype.clear=function(){for(var t in this.contexts)this.contexts[t].clearRect(0,0,this.width,this.height);return this},i.renderers.canvas.prototype.kill=function(){for(var t,e;e=this.captors.pop();)e.kill();for(t in delete this.captors,this.domElements)this.domElements[t].parentNode.removeChild(this.domElements[t]),delete this.domElements[t],delete this.contexts[t];delete this.domElements,delete this.contexts},i.utils.pkg("sigma.canvas.nodes"),i.utils.pkg("sigma.canvas.edges"),i.utils.pkg("sigma.canvas.labels")}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.renderers"),i.renderers.webgl=function(t,e,n,o){if("object"!=typeof o)throw"sigma.renderers.webgl: Wrong arguments.";if(!(o.container instanceof HTMLElement))throw"Container not found.";var r,s,a;for(i.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:i.utils.id()}),this.graph=t,this.camera=e,this.contexts={},this.domElements={},this.options=o,this.container=this.options.container,this.settings="object"==typeof o.settings&&o.settings?n.embedObjects(o.settings):n,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeIndicesArrays",{value:{}}),this.settings(o,"batchEdgesDrawing")?(this.initDOM("canvas","edges",!0),this.initDOM("canvas","nodes",!0)):(this.initDOM("canvas","scene",!0),this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],r=0,s=(a=this.options.captors||[i.captors.mouse,i.captors.touch]).length;r<s;r++)this.captors.push(new("function"==typeof a[r]?a[r]:i.captors[a[r]])(this.domElements.mouse,this.camera,this.settings));i.misc.bindEvents.call(this,this.camera.prefix),i.misc.drawHovers.call(this,this.camera.prefix),this.resize()},i.renderers.webgl.prototype.process=function(){var t,e,n,o,r,s,a=this.graph,l=i.utils.extend(l,this.options),h=this.settings(l,"defaultEdgeType"),u=this.settings(l,"defaultNodeType");for(o in this.nodeFloatArrays)delete this.nodeFloatArrays[o];for(o in this.edgeFloatArrays)delete this.edgeFloatArrays[o];for(o in this.edgeIndicesArrays)delete this.edgeIndicesArrays[o];for(e=0,n=(t=a.edges()).length;e<n;e++)this.edgeFloatArrays[o=(r=t[e].type||h)&&i.webgl.edges[r]?r:"def"]||(this.edgeFloatArrays[o]={edges:[]}),this.edgeFloatArrays[o].edges.push(t[e]);for(e=0,n=(t=a.nodes()).length;e<n;e++)this.nodeFloatArrays[o=(r=t[e].type||u)&&i.webgl.nodes[r]?r:"def"]||(this.nodeFloatArrays[o]={nodes:[]}),this.nodeFloatArrays[o].nodes.push(t[e]);for(o in this.edgeFloatArrays){for(s=i.webgl.edges[o],t=this.edgeFloatArrays[o].edges,this.edgeFloatArrays[o].array=new Float32Array(t.length*s.POINTS*s.ATTRIBUTES),e=0,n=t.length;e<n;e++)t[e].hidden||a.nodes(t[e].source).hidden||a.nodes(t[e].target).hidden||s.addEdge(t[e],a.nodes(t[e].source),a.nodes(t[e].target),this.edgeFloatArrays[o].array,e*s.POINTS*s.ATTRIBUTES,l.prefix,this.settings);"function"==typeof s.computeIndices&&(this.edgeIndicesArrays[o]=s.computeIndices(this.edgeFloatArrays[o].array))}for(o in this.nodeFloatArrays)for(s=i.webgl.nodes[o],t=this.nodeFloatArrays[o].nodes,this.nodeFloatArrays[o].array=new Float32Array(t.length*s.POINTS*s.ATTRIBUTES),e=0,n=t.length;e<n;e++)this.nodeFloatArrays[o].array||(this.nodeFloatArrays[o].array=new Float32Array(t.length*s.POINTS*s.ATTRIBUTES)),t[e].hidden||s.addNode(t[e],this.nodeFloatArrays[o].array,e*s.POINTS*s.ATTRIBUTES,l.prefix,this.settings);return this},i.renderers.webgl.prototype.render=function(e){var n,r,s,a,l,h,u=this,d=this.contexts.nodes,c=this.contexts.edges,p=this.camera.getMatrix(),f=i.utils.extend(e,this.options),g=this.settings(f,"drawLabels"),v=this.settings(f,"drawEdges"),m=this.settings(f,"drawNodes");for(a in this.resize(!1),this.settings(f,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(v=!1),this.clear(),p=i.utils.matrices.multiply(p,i.utils.matrices.translation(this.width/2,this.height/2)),this.jobs)o.hasJob(a)&&o.killJob(a);if(v)if(this.settings(f,"batchEdgesDrawing"))(function(){var t,e,n,r,s,a,l,h,u,d;n="edges_"+this.conradId,d=this.settings(f,"webglEdgesBatchSize"),(t=Object.keys(this.edgeFloatArrays)).length&&(u=i.webgl.edges[t[e=0]],s=this.edgeFloatArrays[t[e]].array,h=this.edgeIndicesArrays[t[e]],l=0,a=Math.min(l+d*u.POINTS,s.length/u.ATTRIBUTES),this.jobs[n]=r=function(){return this.edgePrograms[t[e]]||(this.edgePrograms[t[e]]=u.initProgram(c)),l<a&&(c.useProgram(this.edgePrograms[t[e]]),u.render(c,this.edgePrograms[t[e]],s,{settings:this.settings,matrix:p,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(f,"webglOversamplingRatio"),start:l,count:a-l,indicesData:h})),a>=s.length/u.ATTRIBUTES&&e===t.length-1?(delete this.jobs[n],!1):(a>=s.length/u.ATTRIBUTES?(s=this.edgeFloatArrays[t[++e]].array,u=i.webgl.edges[t[e]],l=0,a=Math.min(l+d*u.POINTS,s.length/u.ATTRIBUTES)):(l=a,a=Math.min(l+d*u.POINTS,s.length/u.ATTRIBUTES)),!0)},o.addJob(n,r.bind(this)))}).call(this);else for(a in this.edgeFloatArrays)h=i.webgl.edges[a],this.edgePrograms[a]||(this.edgePrograms[a]=h.initProgram(c)),this.edgeFloatArrays[a]&&(c.useProgram(this.edgePrograms[a]),h.render(c,this.edgePrograms[a],this.edgeFloatArrays[a].array,{settings:this.settings,matrix:p,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(f,"webglOversamplingRatio"),indicesData:this.edgeIndicesArrays[a]}));if(m)for(a in d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA),d.enable(d.BLEND),this.nodeFloatArrays)h=i.webgl.nodes[a],this.nodePrograms[a]||(this.nodePrograms[a]=h.initProgram(d)),this.nodeFloatArrays[a]&&(d.useProgram(this.nodePrograms[a]),h.render(d,this.nodePrograms[a],this.nodeFloatArrays[a].array,{settings:this.settings,matrix:p,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(f,"webglOversamplingRatio")}));if(g)for(n=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(t,t,{nodes:n,edges:[],width:this.width,height:this.height}),l=function(t){return u.settings({prefix:u.camera.prefix},t)},r=0,s=n.length;r<s;r++)n[r].hidden||(i.canvas.labels[n[r].type||this.settings(f,"defaultNodeType")]||i.canvas.labels.def)(n[r],this.contexts.labels,l);return this.dispatchEvent("render"),this},i.renderers.webgl.prototype.initDOM=function(t,e,n){var i=document.createElement(t),o=this;i.style.position="absolute",i.setAttribute("class","sigma-"+e),this.domElements[e]=i,this.container.appendChild(i),"canvas"===t.toLowerCase()&&(this.contexts[e]=i.getContext(n?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}),n&&(i.addEventListener("webglcontextlost",function(t){t.preventDefault()},!1),i.addEventListener("webglcontextrestored",function(t){o.render()},!1)))},i.renderers.webgl.prototype.resize=function(e,n){var o,r=this.width,s=this.height,a=i.utils.getPixelRatio();if(e!==t&&n!==t?(this.width=e,this.height=n):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,e=this.width,n=this.height),r!==this.width||s!==this.height)for(o in this.domElements)this.domElements[o].style.width=e+"px",this.domElements[o].style.height=n+"px","canvas"===this.domElements[o].tagName.toLowerCase()&&(this.contexts[o]&&this.contexts[o].scale?(this.domElements[o].setAttribute("width",e*a+"px"),this.domElements[o].setAttribute("height",n*a+"px"),1!==a&&this.contexts[o].scale(a,a)):(this.domElements[o].setAttribute("width",e*this.settings("webglOversamplingRatio")+"px"),this.domElements[o].setAttribute("height",n*this.settings("webglOversamplingRatio")+"px")));for(o in this.contexts)this.contexts[o]&&this.contexts[o].viewport&&this.contexts[o].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},i.renderers.webgl.prototype.clear=function(){return this.contexts.labels.clearRect(0,0,this.width,this.height),this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},i.renderers.webgl.prototype.kill=function(){for(var t,e;e=this.captors.pop();)e.kill();for(t in delete this.captors,this.domElements)this.domElements[t].parentNode.removeChild(this.domElements[t]),delete this.domElements[t],delete this.contexts[t];delete this.domElements,delete this.contexts},i.utils.pkg("sigma.webgl.nodes"),i.utils.pkg("sigma.webgl.edges"),i.utils.pkg("sigma.canvas.labels")}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";if(void 0===o)throw"conrad is not declared";i.utils.pkg("sigma.renderers"),i.renderers.svg=function(t,e,n,o){if("object"!=typeof o)throw"sigma.renderers.svg: Wrong arguments.";if(!(o.container instanceof HTMLElement))throw"Container not found.";var r,s,a,l=this;for(i.classes.dispatcher.extend(this),this.graph=t,this.camera=e,this.domElements={graph:null,groups:{},nodes:{},edges:{},labels:{},hovers:{}},this.measurementCanvas=null,this.options=o,this.container=this.options.container,this.settings="object"==typeof o.settings&&o.settings?n.embedObjects(o.settings):n,this.settings("freeStyle",!!this.options.freeStyle),this.settings("xmlns","http://www.w3.org/2000/svg"),this.nodesOnScreen=[],this.edgesOnScreen=[],this.options.prefix="renderer"+i.utils.id()+":",this.initDOM("svg"),this.captors=[],r=0,s=(a=this.options.captors||[i.captors.mouse,i.captors.touch]).length;r<s;r++)this.captors.push(new("function"==typeof a[r]?a[r]:i.captors[a[r]])(this.domElements.graph,this.camera,this.settings));window.addEventListener("resize",function(){l.resize()}),i.misc.bindDOMEvents.call(this,this.domElements.graph),this.bindHovers(this.options.prefix),this.resize(!1)},i.renderers.svg.prototype.render=function(e){var n,o,r,s,a,l,h,u,d,c={},p=this.graph,f=this.graph.nodes,g=this.settings(e=e||{},"drawEdges"),v=this.settings(e,"drawNodes"),m=(this.settings(e,"drawLabels"),this.settings.embedObjects(e,{prefix:this.options.prefix,forceLabels:this.options.forceLabels}));for(this.settings(e,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(g=!1),this.camera.applyView(t,this.options.prefix,{width:this.width,height:this.height}),this.hideDOMElements(this.domElements.nodes),this.hideDOMElements(this.domElements.edges),this.hideDOMElements(this.domElements.labels),this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),o=0,s=(n=this.nodesOnScreen).length;o<s;o++)c[n[o].id]=n[o];for(o=0,s=(n=p.edges()).length;o<s;o++)!c[(a=n[o]).source]&&!c[a.target]||a.hidden||f(a.source).hidden||f(a.target).hidden||this.edgesOnScreen.push(a);if(u=i.svg.nodes,d=i.svg.labels,v)for(o=0,s=(n=this.nodesOnScreen).length;o<s;o++)n[o].hidden||this.domElements.nodes[n[o].id]||(r=(u[n[o].type]||u.def).create(n[o],m),this.domElements.nodes[n[o].id]=r,this.domElements.groups.nodes.appendChild(r),r=(d[n[o].type]||d.def).create(n[o],m),this.domElements.labels[n[o].id]=r,this.domElements.groups.labels.appendChild(r));if(v)for(o=0,s=(n=this.nodesOnScreen).length;o<s;o++)n[o].hidden||((u[n[o].type]||u.def).update(n[o],this.domElements.nodes[n[o].id],m),(d[n[o].type]||d.def).update(n[o],this.domElements.labels[n[o].id],m));if(u=i.svg.edges,g)for(o=0,s=(n=this.edgesOnScreen).length;o<s;o++)this.domElements.edges[n[o].id]||(l=f(n[o].source),h=f(n[o].target),r=(u[n[o].type]||u.def).create(n[o],l,h,m),this.domElements.edges[n[o].id]=r,this.domElements.groups.edges.appendChild(r));if(g)for(o=0,s=(n=this.edgesOnScreen).length;o<s;o++)l=f(n[o].source),h=f(n[o].target),(u[n[o].type]||u.def).update(n[o],this.domElements.edges[n[o].id],l,h,m);return this.dispatchEvent("render"),this},i.renderers.svg.prototype.initDOM=function(t){var e,n,i,o=document.createElementNS(this.settings("xmlns"),t),r=this.settings("classPrefix");o.style.position="absolute",o.setAttribute("class",r+"-svg"),o.setAttribute("xmlns",this.settings("xmlns")),o.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1");var s=document.createElement("canvas");s.setAttribute("class",r+"-measurement-canvas"),this.domElements.graph=this.container.appendChild(o);var a=["edges","nodes","labels","hovers"];for(i=0,n=a.length;i<n;i++)(e=document.createElementNS(this.settings("xmlns"),"g")).setAttributeNS(null,"id",r+"-group-"+a[i]),e.setAttributeNS(null,"class",r+"-group"),this.domElements.groups[a[i]]=this.domElements.graph.appendChild(e);this.container.appendChild(s),this.measurementCanvas=s.getContext("2d")},i.renderers.svg.prototype.hideDOMElements=function(t){var e;for(e in t)i.svg.utils.hide(t[e]);return this},i.renderers.svg.prototype.bindHovers=function(t){var e,n=i.svg.hovers,o=this;this.bind("overNode",function(i){var r=i.data.node,s=o.settings.embedObjects({prefix:t});if(s("enableHovering")){var a=(n[r.type]||n.def).create(r,o.domElements.nodes[r.id],o.measurementCanvas,s);o.domElements.hovers[r.id]=a,o.domElements.groups.hovers.appendChild(a),e=r}}),this.bind("outNode",function(n){var i=n.data.node;o.settings.embedObjects({prefix:t})("enableHovering")&&(o.domElements.groups.hovers.removeChild(o.domElements.hovers[i.id]),e=null,delete o.domElements.hovers[i.id],o.domElements.groups.nodes.appendChild(o.domElements.nodes[i.id]))}),this.bind("render",function(){if(e){var i=o.settings.embedObjects({prefix:t});o.domElements.groups.hovers.removeChild(o.domElements.hovers[e.id]),delete o.domElements.hovers[e.id];var r=(n[e.type]||n.def).create(e,o.domElements.nodes[e.id],o.measurementCanvas,i);o.domElements.hovers[e.id]=r,o.domElements.groups.hovers.appendChild(r)}})},i.renderers.svg.prototype.resize=function(e,n){var i=this.width,o=this.height;return e!==t&&n!==t?(this.width=e,this.height=n):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,e=this.width,n=this.height),i===this.width&&o===this.height||(this.domElements.graph.style.width=e+"px",this.domElements.graph.style.height=n+"px","svg"===this.domElements.graph.tagName.toLowerCase()&&(this.domElements.graph.setAttribute("width",1*e),this.domElements.graph.setAttribute("height",1*n))),this},i.utils.pkg("sigma.svg.nodes"),i.utils.pkg("sigma.svg.edges"),i.utils.pkg("sigma.svg.labels")}).call(this),function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.renderers");var e,n=!!t.WebGLRenderingContext;if(n){e=document.createElement("canvas");try{n=!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(o){n=!1}}i.renderers.def=n?i.renderers.webgl:i.renderers.canvas}(this),function(){"use strict";i.utils.pkg("sigma.webgl.nodes"),i.webgl.nodes.def={POINTS:3,ATTRIBUTES:5,addNode:function(t,e,n,o,r){var s=i.utils.floatColor(t.color||r("defaultNodeColor"));e[n++]=t[o+"x"],e[n++]=t[o+"y"],e[n++]=t[o+"size"],e[n++]=s,e[n++]=0,e[n++]=t[o+"x"],e[n++]=t[o+"y"],e[n++]=t[o+"size"],e[n++]=s,e[n++]=2*Math.PI/3,e[n++]=t[o+"x"],e[n++]=t[o+"y"],e[n++]=t[o+"size"],e[n++]=s,e[n++]=4*Math.PI/3},render:function(t,e,n,i){var o,r=t.getAttribLocation(e,"a_position"),s=t.getAttribLocation(e,"a_size"),a=t.getAttribLocation(e,"a_color"),l=t.getAttribLocation(e,"a_angle"),h=t.getUniformLocation(e,"u_resolution"),u=t.getUniformLocation(e,"u_matrix"),d=t.getUniformLocation(e,"u_ratio"),c=t.getUniformLocation(e,"u_scale");o=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,n,t.DYNAMIC_DRAW),t.uniform2f(h,i.width,i.height),t.uniform1f(d,1/Math.pow(i.ratio,i.settings("nodesPowRatio"))),t.uniform1f(c,i.scalingRatio),t.uniformMatrix3fv(u,!1,i.matrix),t.enableVertexAttribArray(r),t.enableVertexAttribArray(s),t.enableVertexAttribArray(a),t.enableVertexAttribArray(l),t.vertexAttribPointer(r,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(s,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(a,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),t.vertexAttribPointer(l,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.drawArrays(t.TRIANGLES,i.start||0,i.count||n.length/this.ATTRIBUTES)},initProgram:function(t){var e,n;return e=i.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","attribute float a_angle;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","varying vec2 center;","varying float radius;","void main() {","radius = a_size * u_ratio;","vec2 position = (u_matrix * vec3(a_position, 1)).xy;","center = position * u_scale;","center = vec2(center.x, u_scale * u_resolution.y - center.y);","position = position +","2.0 * radius * vec2(cos(a_angle), sin(a_angle));","position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);","radius = radius * u_scale;","gl_Position = vec4(position, 0, 1);","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),n=i.utils.loadShader(t,["precision mediump float;","varying vec4 color;","varying vec2 center;","varying float radius;","void main(void) {","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_FragCoord.xy - center;","float diff = radius - sqrt(m.x * m.x + m.y * m.y);","if (diff > 0.0)","gl_FragColor = color;","else","gl_FragColor = color0;","}"].join("\n"),t.FRAGMENT_SHADER),i.utils.loadProgram(t,[e,n])}}}(),function(){"use strict";i.utils.pkg("sigma.webgl.nodes"),i.webgl.nodes.fast={POINTS:1,ATTRIBUTES:4,addNode:function(t,e,n,o,r){e[n++]=t[o+"x"],e[n++]=t[o+"y"],e[n++]=t[o+"size"],e[n++]=i.utils.floatColor(t.color||r("defaultNodeColor"))},render:function(t,e,n,i){var o,r=t.getAttribLocation(e,"a_position"),s=t.getAttribLocation(e,"a_size"),a=t.getAttribLocation(e,"a_color"),l=t.getUniformLocation(e,"u_resolution"),h=t.getUniformLocation(e,"u_matrix"),u=t.getUniformLocation(e,"u_ratio"),d=t.getUniformLocation(e,"u_scale");o=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,n,t.DYNAMIC_DRAW),t.uniform2f(l,i.width,i.height),t.uniform1f(u,1/Math.pow(i.ratio,i.settings("nodesPowRatio"))),t.uniform1f(d,i.scalingRatio),t.uniformMatrix3fv(h,!1,i.matrix),t.enableVertexAttribArray(r),t.enableVertexAttribArray(s),t.enableVertexAttribArray(a),t.vertexAttribPointer(r,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(s,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(a,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),t.drawArrays(t.POINTS,i.start||0,i.count||n.length/this.ATTRIBUTES)},initProgram:function(t){var e,n;return e=i.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","gl_PointSize = a_size * u_ratio * u_scale * 2.0;","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),n=i.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","float border = 0.01;","float radius = 0.5;","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_PointCoord - vec2(0.5, 0.5);","float dist = radius - sqrt(m.x * m.x + m.y * m.y);","float t = 0.0;","if (dist > border)","t = 1.0;","else if (dist > 0.0)","t = dist / border;","gl_FragColor = mix(color0, color, t);","}"].join("\n"),t.FRAGMENT_SHADER),i.utils.loadProgram(t,[e,n])}}}(),function(){"use strict";i.utils.pkg("sigma.webgl.edges"),i.webgl.edges.def={POINTS:6,ATTRIBUTES:7,addEdge:function(t,e,n,o,r,s,a){var l=(t[s+"size"]||1)/2,h=e[s+"x"],u=e[s+"y"],d=n[s+"x"],c=n[s+"y"],p=t.color;if(!p)switch(a("edgeColor")){case"source":p=e.color||a("defaultNodeColor");break;case"target":p=n.color||a("defaultNodeColor");break;default:p=a("defaultEdgeColor")}p=i.utils.floatColor(p),o[r++]=h,o[r++]=u,o[r++]=d,o[r++]=c,o[r++]=l,o[r++]=0,o[r++]=p,o[r++]=d,o[r++]=c,o[r++]=h,o[r++]=u,o[r++]=l,o[r++]=1,o[r++]=p,o[r++]=d,o[r++]=c,o[r++]=h,o[r++]=u,o[r++]=l,o[r++]=0,o[r++]=p,o[r++]=d,o[r++]=c,o[r++]=h,o[r++]=u,o[r++]=l,o[r++]=0,o[r++]=p,o[r++]=h,o[r++]=u,o[r++]=d,o[r++]=c,o[r++]=l,o[r++]=1,o[r++]=p,o[r++]=h,o[r++]=u,o[r++]=d,o[r++]=c,o[r++]=l,o[r++]=0,o[r++]=p},render:function(t,e,n,o){var r,s=t.getAttribLocation(e,"a_color"),a=t.getAttribLocation(e,"a_position1"),l=t.getAttribLocation(e,"a_position2"),h=t.getAttribLocation(e,"a_thickness"),u=t.getAttribLocation(e,"a_minus"),d=t.getUniformLocation(e,"u_resolution"),c=t.getUniformLocation(e,"u_matrix"),p=t.getUniformLocation(e,"u_matrixHalfPi"),f=t.getUniformLocation(e,"u_matrixHalfPiMinus"),g=t.getUniformLocation(e,"u_ratio"),v=t.getUniformLocation(e,"u_scale");r=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),t.uniform2f(d,o.width,o.height),t.uniform1f(g,o.ratio/Math.pow(o.ratio,o.settings("edgesPowRatio"))),t.uniform1f(v,o.scalingRatio),t.uniformMatrix3fv(c,!1,o.matrix),t.uniformMatrix2fv(p,!1,i.utils.matrices.rotation(Math.PI/2,!0)),t.uniformMatrix2fv(f,!1,i.utils.matrices.rotation(-Math.PI/2,!0)),t.enableVertexAttribArray(s),t.enableVertexAttribArray(a),t.enableVertexAttribArray(l),t.enableVertexAttribArray(h),t.enableVertexAttribArray(u),t.vertexAttribPointer(a,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(l,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(h,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(u,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(s,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),t.drawArrays(t.TRIANGLES,o.start||0,o.count||n.length/this.ATTRIBUTES)},initProgram:function(t){var e,n;return e=i.utils.loadShader(t,["attribute vec2 a_position1;","attribute vec2 a_position2;","attribute float a_thickness;","attribute float a_minus;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 position = a_thickness * u_ratio *","normalize(a_position2 - a_position1);","mat2 matrix = a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi;","position = matrix * position + a_position1;","gl_Position = vec4(","((u_matrix * vec3(position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),n=i.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),i.utils.loadProgram(t,[e,n])}}}(),function(){"use strict";i.utils.pkg("sigma.webgl.edges"),i.webgl.edges.fast={POINTS:2,ATTRIBUTES:3,addEdge:function(t,e,n,o,r,s,a){var l=e[s+"x"],h=e[s+"y"],u=n[s+"x"],d=n[s+"y"],c=t.color;if(!c)switch(a("edgeColor")){case"source":c=e.color||a("defaultNodeColor");break;case"target":c=n.color||a("defaultNodeColor");break;default:c=a("defaultEdgeColor")}c=i.utils.floatColor(c),o[r++]=l,o[r++]=h,o[r++]=c,o[r++]=u,o[r++]=d,o[r++]=c},render:function(t,e,n,i){var o,r=t.getAttribLocation(e,"a_color"),s=t.getAttribLocation(e,"a_position"),a=t.getUniformLocation(e,"u_resolution"),l=t.getUniformLocation(e,"u_matrix");o=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,n,t.DYNAMIC_DRAW),t.uniform2f(a,i.width,i.height),t.uniformMatrix3fv(l,!1,i.matrix),t.enableVertexAttribArray(s),t.enableVertexAttribArray(r),t.vertexAttribPointer(s,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(r,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.lineWidth(3),t.drawArrays(t.LINES,i.start||0,i.count||n.length/this.ATTRIBUTES)},initProgram:function(t){var e,n;return e=i.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_color;","uniform vec2 u_resolution;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),n=i.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),i.utils.loadProgram(t,[e,n])}}}(),function(){"use strict";i.utils.pkg("sigma.webgl.edges"),i.webgl.edges.arrow={POINTS:9,ATTRIBUTES:11,addEdge:function(t,e,n,o,r,s,a){var l=(t[s+"size"]||1)/2,h=e[s+"x"],u=e[s+"y"],d=n[s+"x"],c=n[s+"y"],p=n[s+"size"],f=t.color;if(!f)switch(a("edgeColor")){case"source":f=e.color||a("defaultNodeColor");break;case"target":f=n.color||a("defaultNodeColor");break;default:f=a("defaultEdgeColor")}f=i.utils.floatColor(f),o[r++]=h,o[r++]=u,o[r++]=d,o[r++]=c,o[r++]=l,o[r++]=p,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=d,o[r++]=c,o[r++]=h,o[r++]=u,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=1,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=d,o[r++]=c,o[r++]=h,o[r++]=u,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=d,o[r++]=c,o[r++]=h,o[r++]=u,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=h,o[r++]=u,o[r++]=d,o[r++]=c,o[r++]=l,o[r++]=p,o[r++]=0,o[r++]=1,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=h,o[r++]=u,o[r++]=d,o[r++]=c,o[r++]=l,o[r++]=p,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=d,o[r++]=c,o[r++]=h,o[r++]=u,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=0,o[r++]=1,o[r++]=-1,o[r++]=f,o[r++]=d,o[r++]=c,o[r++]=h,o[r++]=u,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=0,o[r++]=1,o[r++]=0,o[r++]=f,o[r++]=d,o[r++]=c,o[r++]=h,o[r++]=u,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=0,o[r++]=1,o[r++]=1,o[r++]=f},render:function(t,e,n,o){var r,s=t.getAttribLocation(e,"a_pos1"),a=t.getAttribLocation(e,"a_pos2"),l=t.getAttribLocation(e,"a_thickness"),h=t.getAttribLocation(e,"a_tSize"),u=t.getAttribLocation(e,"a_delay"),d=t.getAttribLocation(e,"a_minus"),c=t.getAttribLocation(e,"a_head"),p=t.getAttribLocation(e,"a_headPosition"),f=t.getAttribLocation(e,"a_color"),g=t.getUniformLocation(e,"u_resolution"),v=t.getUniformLocation(e,"u_matrix"),m=t.getUniformLocation(e,"u_matrixHalfPi"),y=t.getUniformLocation(e,"u_matrixHalfPiMinus"),b=t.getUniformLocation(e,"u_ratio"),w=t.getUniformLocation(e,"u_nodeRatio"),x=t.getUniformLocation(e,"u_arrowHead"),_=t.getUniformLocation(e,"u_scale");r=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),t.uniform2f(g,o.width,o.height),t.uniform1f(b,o.ratio/Math.pow(o.ratio,o.settings("edgesPowRatio"))),t.uniform1f(w,Math.pow(o.ratio,o.settings("nodesPowRatio"))/o.ratio),t.uniform1f(x,5),t.uniform1f(_,o.scalingRatio),t.uniformMatrix3fv(v,!1,o.matrix),t.uniformMatrix2fv(m,!1,i.utils.matrices.rotation(Math.PI/2,!0)),t.uniformMatrix2fv(y,!1,i.utils.matrices.rotation(-Math.PI/2,!0)),t.enableVertexAttribArray(s),t.enableVertexAttribArray(a),t.enableVertexAttribArray(l),t.enableVertexAttribArray(h),t.enableVertexAttribArray(u),t.enableVertexAttribArray(d),t.enableVertexAttribArray(c),t.enableVertexAttribArray(p),t.enableVertexAttribArray(f),t.vertexAttribPointer(s,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(a,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(l,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(h,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(u,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),t.vertexAttribPointer(d,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,28),t.vertexAttribPointer(c,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,32),t.vertexAttribPointer(p,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,36),t.vertexAttribPointer(f,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,40),t.drawArrays(t.TRIANGLES,o.start||0,o.count||n.length/this.ATTRIBUTES)},initProgram:function(t){var e,n;return e=i.utils.loadShader(t,["attribute vec2 a_pos1;","attribute vec2 a_pos2;","attribute float a_thickness;","attribute float a_tSize;","attribute float a_delay;","attribute float a_minus;","attribute float a_head;","attribute float a_headPosition;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_nodeRatio;","uniform float u_arrowHead;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 pos = normalize(a_pos2 - a_pos1);","mat2 matrix = (1.0 - a_head) *","(","a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi",") + a_head * (","a_headPosition * u_matrixHalfPiMinus * 0.6 +","(a_headPosition * a_headPosition - 1.0) * mat2(1.0)",");","pos = a_pos1 + (","(1.0 - a_head) * a_thickness * u_ratio * matrix * pos +","a_head * u_arrowHead * a_thickness * u_ratio * matrix * pos +","a_delay * pos * (","a_tSize / u_nodeRatio +","u_arrowHead * a_thickness * u_ratio",")",");","gl_Position = vec4(","((u_matrix * vec3(pos, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),n=i.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),i.utils.loadProgram(t,[e,n])}}}(),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.canvas.labels"),i.canvas.labels.def=function(t,e,n){var i,o=n("prefix")||"",r=t[o+"size"];r<n("labelThreshold")||t.label&&"string"==typeof t.label&&(i="fixed"===n("labelSize")?n("defaultLabelSize"):n("labelSizeRatio")*r,e.font=(n("fontStyle")?n("fontStyle")+" ":"")+i+"px "+n("font"),e.fillStyle="node"===n("labelColor")?t.color||n("defaultNodeColor"):n("defaultLabelColor"),e.fillText(t.label,Math.round(t[o+"x"]+r+3),Math.round(t[o+"y"]+i/3)))}}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.canvas.hovers"),i.canvas.hovers.def=function(t,e,n){var o,r,s,a,l,h=n("hoverFontStyle")||n("fontStyle"),u=n("prefix")||"",d=t[u+"size"],c="fixed"===n("labelSize")?n("defaultLabelSize"):n("labelSizeRatio")*d;e.font=(h?h+" ":"")+c+"px "+(n("hoverFont")||n("font")),e.beginPath(),e.fillStyle="node"===n("labelHoverBGColor")?t.color||n("defaultNodeColor"):n("defaultHoverLabelBGColor"),t.label&&n("labelHoverShadow")&&(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=8,e.shadowColor=n("labelHoverShadowColor")),t.label&&"string"==typeof t.label&&(o=Math.round(t[u+"x"]-c/2-2),r=Math.round(t[u+"y"]-c/2-2),s=Math.round(e.measureText(t.label).width+c/2+d+7),a=Math.round(c+4),l=Math.round(c/2+2),e.moveTo(o,r+l),e.arcTo(o,r,o+l,r,l),e.lineTo(o+s,r),e.lineTo(o+s,r+a),e.lineTo(o+l,r+a),e.arcTo(o,r+a,o,r+a-l,l),e.lineTo(o,r+l),e.closePath(),e.fill(),e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0),n("borderSize")>0&&(e.beginPath(),e.fillStyle="node"===n("nodeBorderColor")?t.color||n("defaultNodeColor"):n("defaultNodeBorderColor"),e.arc(t[u+"x"],t[u+"y"],d+n("borderSize"),0,2*Math.PI,!0),e.closePath(),e.fill()),(i.canvas.nodes[t.type]||i.canvas.nodes.def)(t,e,n),t.label&&"string"==typeof t.label&&(e.fillStyle="node"===n("labelHoverColor")?t.color||n("defaultNodeColor"):n("defaultLabelHoverColor"),e.fillText(t.label,Math.round(t[u+"x"]+d+3),Math.round(t[u+"y"]+c/3)))}}).call(this),function(){"use strict";i.utils.pkg("sigma.canvas.nodes"),i.canvas.nodes.def=function(t,e,n){var i=n("prefix")||"";e.fillStyle=t.color||n("defaultNodeColor"),e.beginPath(),e.arc(t[i+"x"],t[i+"y"],t[i+"size"],0,2*Math.PI,!0),e.closePath(),e.fill()}}(),function(){"use strict";i.utils.pkg("sigma.canvas.edges"),i.canvas.edges.def=function(t,e,n,i,o){var r=t.color,s=o("prefix")||"",a=t[s+"size"]||1,l=o("edgeColor"),h=o("defaultNodeColor"),u=o("defaultEdgeColor");if(!r)switch(l){case"source":r=e.color||h;break;case"target":r=n.color||h;break;default:r=u}i.strokeStyle=r,i.lineWidth=a,i.beginPath(),i.moveTo(e[s+"x"],e[s+"y"]),i.lineTo(n[s+"x"],n[s+"y"]),i.stroke()}}(),function(){"use strict";i.utils.pkg("sigma.canvas.edges"),i.canvas.edges.arrow=function(t,e,n,i,o){var r=t.color,s=o("prefix")||"",a=o("edgeColor"),l=o("defaultNodeColor"),h=o("defaultEdgeColor"),u=t[s+"size"]||1,d=n[s+"size"],c=e[s+"x"],p=e[s+"y"],f=n[s+"x"],g=n[s+"y"],v=Math.max(2.5*u,o("minArrowSize")),m=Math.sqrt(Math.pow(f-c,2)+Math.pow(g-p,2)),y=c+(f-c)*(m-v-d)/m,b=p+(g-p)*(m-v-d)/m,w=(f-c)*v/m,x=(g-p)*v/m;if(!r)switch(a){case"source":r=e.color||l;break;case"target":r=n.color||l;break;default:r=h}i.strokeStyle=r,i.lineWidth=u,i.beginPath(),i.moveTo(c,p),i.lineTo(y,b),i.stroke(),i.fillStyle=r,i.beginPath(),i.moveTo(y+w,b+x),i.lineTo(y+.6*x,b-.6*w),i.lineTo(y-.6*x,b+.6*w),i.lineTo(y+w,b+x),i.closePath(),i.fill()}}(),function(){"use strict";i.utils.pkg("sigma.canvas.edgehovers"),i.canvas.edgehovers.def=function(t,e,n,i,o){var r=t.color,s=o("prefix")||"",a=t[s+"size"]||1,l=o("edgeColor"),h=o("defaultNodeColor"),u=o("defaultEdgeColor");if(!r)switch(l){case"source":r=e.color||h;break;case"target":r=n.color||h;break;default:r=u}r="edge"===o("edgeHoverColor")?t.hover_color||r:t.hover_color||o("defaultEdgeHoverColor")||r,a*=o("edgeHoverSizeRatio"),i.strokeStyle=r,i.lineWidth=a,i.beginPath(),i.moveTo(e[s+"x"],e[s+"y"]),i.lineTo(n[s+"x"],n[s+"y"]),i.stroke()}}(),function(){"use strict";i.utils.pkg("sigma.canvas.edgehovers"),i.canvas.edgehovers.curve=function(t,e,n,o,r){var s,a=t.color,l=r("prefix")||"",h=r("edgeHoverSizeRatio")*(t[l+"size"]||1),u=r("edgeColor"),d=r("defaultNodeColor"),c=r("defaultEdgeColor"),p=e[l+"x"],f=e[l+"y"],g=n[l+"x"],v=n[l+"y"];if(s=e.id===n.id?i.utils.getSelfLoopControlPoints(p,f,e[l+"size"]):i.utils.getQuadraticControlPoint(p,f,g,v),!a)switch(u){case"source":a=e.color||d;break;case"target":a=n.color||d;break;default:a=c}a="edge"===r("edgeHoverColor")?t.hover_color||a:t.hover_color||r("defaultEdgeHoverColor")||a,o.strokeStyle=a,o.lineWidth=h,o.beginPath(),o.moveTo(p,f),e.id===n.id?o.bezierCurveTo(s.x1,s.y1,s.x2,s.y2,g,v):o.quadraticCurveTo(s.x,s.y,g,v),o.stroke()}}(),function(){"use strict";i.utils.pkg("sigma.canvas.edgehovers"),i.canvas.edgehovers.arrow=function(t,e,n,i,o){var r=t.color,s=o("prefix")||"",a=o("edgeColor"),l=o("defaultNodeColor"),h=o("defaultEdgeColor"),u=t[s+"size"]||1,d=n[s+"size"],c=e[s+"x"],p=e[s+"y"],f=n[s+"x"],g=n[s+"y"],v=2.5*(u=t.hover?o("edgeHoverSizeRatio")*u:u),m=Math.sqrt(Math.pow(f-c,2)+Math.pow(g-p,2)),y=c+(f-c)*(m-v-d)/m,b=p+(g-p)*(m-v-d)/m,w=(f-c)*v/m,x=(g-p)*v/m;if(!r)switch(a){case"source":r=e.color||l;break;case"target":r=n.color||l;break;default:r=h}r="edge"===o("edgeHoverColor")?t.hover_color||r:t.hover_color||o("defaultEdgeHoverColor")||r,i.strokeStyle=r,i.lineWidth=u,i.beginPath(),i.moveTo(c,p),i.lineTo(y,b),i.stroke(),i.fillStyle=r,i.beginPath(),i.moveTo(y+w,b+x),i.lineTo(y+.6*x,b-.6*w),i.lineTo(y-.6*x,b+.6*w),i.lineTo(y+w,b+x),i.closePath(),i.fill()}}(),function(){"use strict";i.utils.pkg("sigma.canvas.edgehovers"),i.canvas.edgehovers.curvedArrow=function(t,e,n,o,r){var s,a,l,h,u,d,c,p=t.color,f=r("prefix")||"",g=r("edgeColor"),v=r("defaultNodeColor"),m=r("defaultEdgeColor"),y=r("edgeHoverSizeRatio")*(t[f+"size"]||1),b=n[f+"size"],w=e[f+"x"],x=e[f+"y"],_=n[f+"x"],E=n[f+"y"];if(s=e.id===n.id?i.utils.getSelfLoopControlPoints(w,x,b):i.utils.getQuadraticControlPoint(w,x,_,E),e.id===n.id?(a=Math.sqrt(Math.pow(_-s.x1,2)+Math.pow(E-s.y1,2)),h=s.x1+(_-s.x1)*(a-(l=2.5*y)-b)/a,u=s.y1+(E-s.y1)*(a-l-b)/a,d=(_-s.x1)*l/a,c=(E-s.y1)*l/a):(a=Math.sqrt(Math.pow(_-s.x,2)+Math.pow(E-s.y,2)),h=s.x+(_-s.x)*(a-(l=2.5*y)-b)/a,u=s.y+(E-s.y)*(a-l-b)/a,d=(_-s.x)*l/a,c=(E-s.y)*l/a),!p)switch(g){case"source":p=e.color||v;break;case"target":p=n.color||v;break;default:p=m}p="edge"===r("edgeHoverColor")?t.hover_color||p:t.hover_color||r("defaultEdgeHoverColor")||p,o.strokeStyle=p,o.lineWidth=y,o.beginPath(),o.moveTo(w,x),e.id===n.id?o.bezierCurveTo(s.x2,s.y2,s.x1,s.y1,h,u):o.quadraticCurveTo(s.x,s.y,h,u),o.stroke(),o.fillStyle=p,o.beginPath(),o.moveTo(h+d,u+c),o.lineTo(h+.6*c,u-.6*d),o.lineTo(h-.6*c,u+.6*d),o.lineTo(h+d,u+c),o.closePath(),o.fill()}}(),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.canvas.extremities"),i.canvas.extremities.def=function(t,e,n,o,r){(i.canvas.hovers[e.type]||i.canvas.hovers.def)(e,o,r),(i.canvas.hovers[n.type]||i.canvas.hovers.def)(n,o,r)}}).call(this),function(){"use strict";i.utils.pkg("sigma.svg.utils"),i.svg.utils={show:function(t){return t.style.display="",this},hide:function(t){return t.style.display="none",this}}}(),function(){"use strict";i.utils.pkg("sigma.svg.nodes"),i.svg.nodes.def={create:function(t,e){e("prefix");var n=document.createElementNS(e("xmlns"),"circle");return n.setAttributeNS(null,"data-node-id",t.id),n.setAttributeNS(null,"class",e("classPrefix")+"-node"),n.setAttributeNS(null,"fill",t.color||e("defaultNodeColor")),n},update:function(t,e,n){var i=n("prefix")||"";return e.setAttributeNS(null,"cx",t[i+"x"]),e.setAttributeNS(null,"cy",t[i+"y"]),e.setAttributeNS(null,"r",t[i+"size"]),n("freeStyle")||e.setAttributeNS(null,"fill",t.color||n("defaultNodeColor")),e.style.display="",this}}}(),function(){"use strict";i.utils.pkg("sigma.svg.edges"),i.svg.edges.def={create:function(t,e,n,i){var o=t.color,r=(i("prefix"),i("edgeColor")),s=i("defaultNodeColor"),a=i("defaultEdgeColor");if(!o)switch(r){case"source":o=e.color||s;break;case"target":o=n.color||s;break;default:o=a}var l=document.createElementNS(i("xmlns"),"line");return l.setAttributeNS(null,"data-edge-id",t.id),l.setAttributeNS(null,"class",i("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",o),l},update:function(t,e,n,i,o){var r=o("prefix")||"";return e.setAttributeNS(null,"stroke-width",t[r+"size"]||1),e.setAttributeNS(null,"x1",n[r+"x"]),e.setAttributeNS(null,"y1",n[r+"y"]),e.setAttributeNS(null,"x2",i[r+"x"]),e.setAttributeNS(null,"y2",i[r+"y"]),e.style.display="",this}}}(),function(){"use strict";i.utils.pkg("sigma.svg.edges"),i.svg.edges.curve={create:function(t,e,n,i){var o=t.color,r=(i("prefix"),i("edgeColor")),s=i("defaultNodeColor"),a=i("defaultEdgeColor");if(!o)switch(r){case"source":o=e.color||s;break;case"target":o=n.color||s;break;default:o=a}var l=document.createElementNS(i("xmlns"),"path");return l.setAttributeNS(null,"data-edge-id",t.id),l.setAttributeNS(null,"class",i("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",o),l},update:function(t,e,n,i,o){var r=o("prefix")||"";return e.setAttributeNS(null,"stroke-width",t[r+"size"]||1),e.setAttributeNS(null,"d","M"+n[r+"x"]+","+n[r+"y"]+" Q"+((n[r+"x"]+i[r+"x"])/2+(i[r+"y"]-n[r+"y"])/4)+","+((n[r+"y"]+i[r+"y"])/2+(n[r+"x"]-i[r+"x"])/4)+" "+i[r+"x"]+","+i[r+"y"]),e.setAttributeNS(null,"fill","none"),e.style.display="",this}}}(),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.svg.labels"),i.svg.labels.def={create:function(t,e){var n=t[(e("prefix")||"")+"size"],i=document.createElementNS(e("xmlns"),"text"),o="fixed"===e("labelSize")?e("defaultLabelSize"):e("labelSizeRatio")*n,r="node"===e("labelColor")?t.color||e("defaultNodeColor"):e("defaultLabelColor");return i.setAttributeNS(null,"data-label-target",t.id),i.setAttributeNS(null,"class",e("classPrefix")+"-label"),i.setAttributeNS(null,"font-size",o),i.setAttributeNS(null,"font-family",e("font")),i.setAttributeNS(null,"fill",r),i.innerHTML=t.label,i.textContent=t.label,i},update:function(t,e,n){var i=n("prefix")||"",o=t[i+"size"],r="fixed"===n("labelSize")?n("defaultLabelSize"):n("labelSizeRatio")*o;if((n("forceLabels")||!(o<n("labelThreshold")))&&"string"==typeof t.label)return e.setAttributeNS(null,"x",Math.round(t[i+"x"]+o+3)),e.setAttributeNS(null,"y",Math.round(t[i+"y"]+r/3)),e.style.display="",this}}}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.svg.hovers"),i.svg.hovers.def={create:function(t,e,n,i){i("hoverFontStyle")||i("fontStyle");var o,r,s,a=i("prefix")||"",l=t[a+"size"],h="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*l,u="node"===i("labelHoverColor")?t.color||i("defaultNodeColor"):i("defaultLabelHoverColor"),d=document.createElementNS(i("xmlns"),"g"),c=document.createElementNS(i("xmlns"),"rect"),p=document.createElementNS(i("xmlns"),"circle"),f=document.createElementNS(i("xmlns"),"text");return d.setAttributeNS(null,"class",i("classPrefix")+"-hover"),d.setAttributeNS(null,"data-node-id",t.id),"string"==typeof t.label&&(f.innerHTML=t.label,f.textContent=t.label,f.setAttributeNS(null,"class",i("classPrefix")+"-hover-label"),f.setAttributeNS(null,"font-size",h),f.setAttributeNS(null,"font-family",i("font")),f.setAttributeNS(null,"fill",u),f.setAttributeNS(null,"x",Math.round(t[a+"x"]+l+3)),f.setAttributeNS(null,"y",Math.round(t[a+"y"]+h/3)),Math.round(t[a+"x"]-h/2-2),Math.round(t[a+"y"]-h/2-2),o=Math.round(n.measureText(t.label).width+h/2+l+9),r=Math.round(h+4),s=Math.round(h/2+2),p.setAttributeNS(null,"class",i("classPrefix")+"-hover-area"),p.setAttributeNS(null,"fill","#fff"),p.setAttributeNS(null,"cx",t[a+"x"]),p.setAttributeNS(null,"cy",t[a+"y"]),p.setAttributeNS(null,"r",s),c.setAttributeNS(null,"class",i("classPrefix")+"-hover-area"),c.setAttributeNS(null,"fill","#fff"),c.setAttributeNS(null,"x",t[a+"x"]+s/4),c.setAttributeNS(null,"y",t[a+"y"]-s),c.setAttributeNS(null,"width",o),c.setAttributeNS(null,"height",r)),d.appendChild(p),d.appendChild(c),d.appendChild(f),d.appendChild(e),d}}}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.middlewares"),i.utils.pkg("sigma.utils"),i.middlewares.rescale=function(t,e,n){var o,r,s,a,l,h,u,d,c=this.graph.nodes(),p=this.graph.edges(),f=this.settings.embedObjects(n||{}),g=f("bounds")||i.utils.getBoundaries(this.graph,t,!0),v=g.minX,m=g.minY,y=g.maxX,b=g.maxY,w=g.sizeMax,x=g.weightMax,_=f("width")||1,E=f("height")||1,k=f("autoRescale"),S={nodePosition:1,nodeSize:1,edgeSize:1};for(k instanceof Array||(k=["nodePosition","nodeSize","edgeSize"]),o=0,r=k.length;o<r;o++)if(!S[k[o]])throw new Error('The rescale setting "'+k[o]+'" is not recognized.');var C=~k.indexOf("nodePosition"),T=~k.indexOf("nodeSize"),M=~k.indexOf("edgeSize");for(u="outside"===f("scalingMode")?Math.max(_/Math.max(y-v,1),E/Math.max(b-m,1)):Math.min(_/Math.max(y-v,1),E/Math.max(b-m,1)),y+=d=(f("rescaleIgnoreSize")?0:(f("maxNodeSize")||w)/u)+(f("sideMargin")||0),v-=d,b+=d,m-=d,u="outside"===f("scalingMode")?Math.max(_/Math.max(y-v,1),E/Math.max(b-m,1)):Math.min(_/Math.max(y-v,1),E/Math.max(b-m,1)),f("maxNodeSize")||f("minNodeSize")?f("maxNodeSize")===f("minNodeSize")?(s=0,a=+f("maxNodeSize")):(s=(f("maxNodeSize")-f("minNodeSize"))/w,a=+f("minNodeSize")):(s=1,a=0),f("maxEdgeSize")||f("minEdgeSize")?f("maxEdgeSize")===f("minEdgeSize")?(l=0,h=+f("minEdgeSize")):(l=(f("maxEdgeSize")-f("minEdgeSize"))/x,h=+f("minEdgeSize")):(l=1,h=0),o=0,r=p.length;o<r;o++)p[o][e+"size"]=p[o][t+"size"]*(M?l:1)+(M?h:0);for(o=0,r=c.length;o<r;o++)c[o][e+"size"]=c[o][t+"size"]*(T?s:1)+(T?a:0),c[o][e+"x"]=(c[o][t+"x"]-(y+v)/2)*(C?u:1),c[o][e+"y"]=(c[o][t+"y"]-(b+m)/2)*(C?u:1)},i.utils.getBoundaries=function(t,e,n){var i,o,r=t.edges(),s=t.nodes(),a=-1/0,l=-1/0,h=1/0,u=1/0,d=-1/0,c=-1/0;if(n)for(i=0,o=r.length;i<o;i++)a=Math.max(r[i][e+"size"],a);for(i=0,o=s.length;i<o;i++)l=Math.max(s[i][e+"size"],l),d=Math.max(s[i][e+"x"],d),h=Math.min(s[i][e+"x"],h),c=Math.max(s[i][e+"y"],c),u=Math.min(s[i][e+"y"],u);return{weightMax:a=a||1,sizeMax:l=l||1,minX:h,minY:u,maxX:d,maxY:c}}}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.middlewares"),i.middlewares.copy=function(t,e){var n,i,o;if(e+""!=t+""){for(n=0,i=(o=this.graph.nodes()).length;n<i;n++)o[n][e+"x"]=o[n][t+"x"],o[n][e+"y"]=o[n][t+"y"],o[n][e+"size"]=o[n][t+"size"];for(n=0,i=(o=this.graph.edges()).length;n<i;n++)o[n][e+"size"]=o[n][t+"size"]}}}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.misc.animation.running");var e,n=(e=0,function(){return""+ ++e});i.misc.animation.camera=function(e,o,r){if(!(e instanceof i.classes.camera&&"object"==typeof o&&o))throw"animation.camera: Wrong arguments.";if("number"!=typeof o.x&&"number"!=typeof o.y&&"number"!=typeof o.ratio&&"number"!=typeof o.angle)throw"There must be at least one valid coordinate in the given val.";var s,a,l,h,u,d=r||{},c=i.utils.dateNow();return u={x:e.x,y:e.y,ratio:e.ratio,angle:e.angle},h="function"!=typeof d.easing?i.utils.easings[d.easing||"quadraticInOut"]:d.easing,s=function(){var n,r=d.duration?(i.utils.dateNow()-c)/d.duration:1;r>=1?(e.isAnimated=!1,e.goTo({x:o.x!==t?o.x:u.x,y:o.y!==t?o.y:u.y,ratio:o.ratio!==t?o.ratio:u.ratio,angle:o.angle!==t?o.angle:u.angle}),cancelAnimationFrame(a),delete i.misc.animation.running[a],"function"==typeof d.onComplete&&d.onComplete()):(n=h(r),e.isAnimated=!0,e.goTo({x:o.x!==t?u.x+(o.x-u.x)*n:u.x,y:o.y!==t?u.y+(o.y-u.y)*n:u.y,ratio:o.ratio!==t?u.ratio+(o.ratio-u.ratio)*n:u.ratio,angle:o.angle!==t?u.angle+(o.angle-u.angle)*n:u.angle}),"function"==typeof d.onNewFrame&&d.onNewFrame(),l.frameId=requestAnimationFrame(s))},a=n(),l={frameId:requestAnimationFrame(s),target:e,type:"camera",options:d,fn:s},i.misc.animation.running[a]=l,a},i.misc.animation.kill=function(t){if(1!==arguments.length||"number"!=typeof t)throw"animation.kill: Wrong arguments.";var e=i.misc.animation.running[t];return e&&(cancelAnimationFrame(t),delete i.misc.animation.running[e.frameId],"camera"===e.type&&(e.target.isAnimated=!1),"function"==typeof(e.options||{}).onComplete&&e.options.onComplete()),this},i.misc.animation.killAll=function(t){var e,n,o=0,r="string"==typeof t?t:null,s="object"==typeof t?t:null,a=i.misc.animation.running;for(n in a)r&&a[n].type!==r||s&&a[n].target!==s||(e=i.misc.animation.running[n],cancelAnimationFrame(e.frameId),delete i.misc.animation.running[n],"camera"===e.type&&(e.target.isAnimated=!1),o++,"function"==typeof(e.options||{}).onComplete&&e.options.onComplete());return o},i.misc.animation.has=function(t){var e,n="string"==typeof t?t:null,o="object"==typeof t?t:null,r=i.misc.animation.running;for(e in r)if(!(n&&r[e].type!==n||o&&r[e].target!==o))return!0;return!1}}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.misc"),i.misc.bindEvents=function(e){var n,o,r,s,a=this;function l(t){t&&(r="x"in t.data?t.data.x:r,s="y"in t.data?t.data.y:s);var n,i,o,l,h,u,d,c,p=[],f=r+a.width/2,g=s+a.height/2,v=a.camera.cameraPosition(r,s),m=a.camera.quadtree.point(v.x,v.y);if(m.length)for(n=0,o=m.length;n<o;n++)if(h=(l=m[n])[e+"x"],u=l[e+"y"],d=l[e+"size"],!l.hidden&&f>h-d&&f<h+d&&g>u-d&&g<u+d&&Math.sqrt(Math.pow(f-h,2)+Math.pow(g-u,2))<d){for(c=!1,i=0;i<p.length;i++)if(l.size>p[i].size){p.splice(i,0,l),c=!0;break}c||p.push(l)}return p}function h(n){if(!a.settings("enableEdgeHovering"))return[];var o=i.renderers.canvas&&a instanceof i.renderers.canvas;if(!o)throw new Error("The edge events feature is not compatible with the WebGL renderer");n&&(r="x"in n.data?n.data.x:r,s="y"in n.data?n.data.y:s);var l,h,u,d,c,p,f,g,v,m,y=a.settings("edgeHoverPrecision"),b={},w=[],x=r+a.width/2,_=s+a.height/2,E=a.camera.cameraPosition(r,s),k=[];if(o)for(l=0,u=(d=a.camera.quadtree.area(a.camera.getRectangle(a.width,a.height))).length;l<u;l++)b[d[l].id]=d[l];function S(t,e){for(m=!1,h=0;h<t.length;h++)if(e.size>t[h].size){t.splice(h,0,e),m=!0;break}m||t.push(e)}if(a.camera.edgequadtree!==t&&(k=a.camera.edgequadtree.point(E.x,E.y)),k.length)for(l=0,u=k.length;l<u;l++)f=a.graph.nodes((c=k[l]).source),g=a.graph.nodes(c.target),p=c[e+"size"]||c["read_"+e+"size"],!c.hidden&&!f.hidden&&!g.hidden&&(!o||b[c.source]||b[c.target])&&i.utils.getDistance(f[e+"x"],f[e+"y"],x,_)>f[e+"size"]&&i.utils.getDistance(g[e+"x"],g[e+"y"],x,_)>g[e+"size"]&&("curve"==c.type||"curvedArrow"==c.type?f.id===g.id?(v=i.utils.getSelfLoopControlPoints(f[e+"x"],f[e+"y"],f[e+"size"]),i.utils.isPointOnBezierCurve(x,_,f[e+"x"],f[e+"y"],g[e+"x"],g[e+"y"],v.x1,v.y1,v.x2,v.y2,Math.max(p,y))&&S(w,c)):(v=i.utils.getQuadraticControlPoint(f[e+"x"],f[e+"y"],g[e+"x"],g[e+"y"]),i.utils.isPointOnQuadraticCurve(x,_,f[e+"x"],f[e+"y"],g[e+"x"],g[e+"y"],v.x,v.y,Math.max(p,y))&&S(w,c)):i.utils.isPointOnSegment(x,_,f[e+"x"],f[e+"y"],g[e+"x"],g[e+"y"],Math.max(p,y))&&S(w,c));return w}function u(t){var e,n,i={},o={};function r(t){if(a.settings("eventsEnabled")){e=l(t),n=h(t);var r,s,u,d,c=[],p=[],f={},g=e.length,v=[],m=[],y={},b=n.length;for(r=0;r<g;r++)f[(u=e[r]).id]=u,i[u.id]||(p.push(u),i[u.id]=u);for(s in i)f[s]||(c.push(i[s]),delete i[s]);for(r=0,g=p.length;r<g;r++)a.dispatchEvent("overNode",{node:p[r],captor:t.data});for(r=0,g=c.length;r<g;r++)a.dispatchEvent("outNode",{node:c[r],captor:t.data});for(p.length&&a.dispatchEvent("overNodes",{nodes:p,captor:t.data}),c.length&&a.dispatchEvent("outNodes",{nodes:c,captor:t.data}),r=0;r<b;r++)y[(d=n[r]).id]=d,o[d.id]||(m.push(d),o[d.id]=d);for(s in o)y[s]||(v.push(o[s]),delete o[s]);for(r=0,b=m.length;r<b;r++)a.dispatchEvent("overEdge",{edge:m[r],captor:t.data});for(r=0,b=v.length;r<b;r++)a.dispatchEvent("outEdge",{edge:v[r],captor:t.data});m.length&&a.dispatchEvent("overEdges",{edges:m,captor:t.data}),v.length&&a.dispatchEvent("outEdges",{edges:v,captor:t.data})}}t.bind("click",function(t){a.settings("eventsEnabled")&&(a.dispatchEvent("click",t.data),e=l(t),n=h(t),e.length?(a.dispatchEvent("clickNode",{node:e[0],captor:t.data}),a.dispatchEvent("clickNodes",{node:e,captor:t.data})):n.length?(a.dispatchEvent("clickEdge",{edge:n[0],captor:t.data}),a.dispatchEvent("clickEdges",{edge:n,captor:t.data})):a.dispatchEvent("clickStage",{captor:t.data}))}),t.bind("mousedown",r),t.bind("mouseup",r),t.bind("mousemove",r),t.bind("mouseout",function(t){if(a.settings("eventsEnabled")){var e,n,r,s,l=[],h=[];for(e in i)l.push(i[e]);for(i={},n=0,r=l.length;n<r;n++)a.dispatchEvent("outNode",{node:l[n],captor:t.data});for(l.length&&a.dispatchEvent("outNodes",{nodes:l,captor:t.data}),o={},n=0,s=h.length;n<s;n++)a.dispatchEvent("outEdge",{edge:h[n],captor:t.data});h.length&&a.dispatchEvent("outEdges",{edges:h,captor:t.data})}}),t.bind("doubleclick",function(t){a.settings("eventsEnabled")&&(a.dispatchEvent("doubleClick",t.data),e=l(t),n=h(t),e.length?(a.dispatchEvent("doubleClickNode",{node:e[0],captor:t.data}),a.dispatchEvent("doubleClickNodes",{node:e,captor:t.data})):n.length?(a.dispatchEvent("doubleClickEdge",{edge:n[0],captor:t.data}),a.dispatchEvent("doubleClickEdges",{edge:n,captor:t.data})):a.dispatchEvent("doubleClickStage",{captor:t.data}))}),t.bind("rightclick",function(t){a.settings("eventsEnabled")&&(a.dispatchEvent("rightClick",t.data),e=l(t),n=h(t),e.length?(a.dispatchEvent("rightClickNode",{node:e[0],captor:t.data}),a.dispatchEvent("rightClickNodes",{node:e,captor:t.data})):n.length?(a.dispatchEvent("rightClickEdge",{edge:n[0],captor:t.data}),a.dispatchEvent("rightClickEdges",{edge:n,captor:t.data})):a.dispatchEvent("rightClickStage",{captor:t.data}))}),a.bind("render",r)}for(n=0,o=this.captors.length;n<o;n++)u(this.captors[n])}}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.misc"),i.misc.bindDOMEvents=function(t){var e=this,n=this.graph;function o(t){this.attr=function(e){return t.getAttributeNS(null,e)},this.tag=t.tagName,this.class=this.attr("class"),this.id=this.attr("id"),this.isNode=function(){return!!~this.class.indexOf(e.settings("classPrefix")+"-node")},this.isEdge=function(){return!!~this.class.indexOf(e.settings("classPrefix")+"-edge")},this.isHover=function(){return!!~this.class.indexOf(e.settings("classPrefix")+"-hover")}}function r(t){if(e.settings("eventsEnabled")){e.dispatchEvent("click",t);var i=new o(t.target);i.isNode()?e.dispatchEvent("clickNode",{node:n.nodes(i.attr("data-node-id"))}):e.dispatchEvent("clickStage"),t.preventDefault(),t.stopPropagation()}}function s(t){if(e.settings("eventsEnabled")){e.dispatchEvent("doubleClick",t);var i=new o(t.target);i.isNode()?e.dispatchEvent("doubleClickNode",{node:n.nodes(i.attr("data-node-id"))}):e.dispatchEvent("doubleClickStage"),t.preventDefault(),t.stopPropagation()}}t.addEventListener("click",r,!1),i.utils.doubleClick(t,"click",s),t.addEventListener("touchstart",r,!1),i.utils.doubleClick(t,"touchstart",s),t.addEventListener("mouseover",function(t){var i=t.toElement||t.target;if(e.settings("eventsEnabled")&&i){var r=new o(i);if(r.isNode())e.dispatchEvent("overNode",{node:n.nodes(r.attr("data-node-id"))});else if(r.isEdge()){var s=n.edges(r.attr("data-edge-id"));e.dispatchEvent("overEdge",{edge:s,source:n.nodes(s.source),target:n.nodes(s.target)})}}},!0),t.addEventListener("mouseout",function(t){var i=t.fromElement||t.originalTarget;if(e.settings("eventsEnabled")){var r=new o(i);if(r.isNode())e.dispatchEvent("outNode",{node:n.nodes(r.attr("data-node-id"))});else if(r.isEdge()){var s=n.edges(r.attr("data-edge-id"));e.dispatchEvent("outEdge",{edge:s,source:n.nodes(s.source),target:n.nodes(s.target)})}}},!0)}}).call(this),(function(t){"use strict";if(void 0===i)throw"sigma is not declared";i.utils.pkg("sigma.misc"),i.misc.drawHovers=function(t){var e=this,n={},o={};function r(){var r,s,a,l,h,u=e.contexts.hover.canvas,d=e.settings("defaultNodeType"),c=e.settings("defaultEdgeType"),p=i.canvas.hovers,f=i.canvas.edgehovers,g=i.canvas.extremities,v=e.settings.embedObjects({prefix:t});if(e.contexts.hover.clearRect(0,0,u.width,u.height),v("enableHovering")&&v("singleHover")&&Object.keys(n).length&&(p[(l=n[Object.keys(n)[0]]).type]||p[d]||p.def)(l,e.contexts.hover,v),v("enableHovering")&&!v("singleHover"))for(r in n)(p[n[r].type]||p[d]||p.def)(n[r],e.contexts.hover,v);if(v("enableEdgeHovering")&&v("singleHover")&&Object.keys(o).length&&(h=o[Object.keys(o)[0]],s=e.graph.nodes(h.source),a=e.graph.nodes(h.target),h.hidden||((f[h.type]||f[c]||f.def)(h,s,a,e.contexts.hover,v),v("edgeHoverExtremities")?(g[h.type]||g.def)(h,s,a,e.contexts.hover,v):((i.canvas.nodes[s.type]||i.canvas.nodes.def)(s,e.contexts.hover,v),(i.canvas.nodes[a.type]||i.canvas.nodes.def)(a,e.contexts.hover,v)))),v("enableEdgeHovering")&&!v("singleHover"))for(r in o)s=e.graph.nodes((h=o[r]).source),a=e.graph.nodes(h.target),h.hidden||((f[h.type]||f[c]||f.def)(h,s,a,e.contexts.hover,v),v("edgeHoverExtremities")?(g[h.type]||g.def)(h,s,a,e.contexts.hover,v):((i.canvas.nodes[s.type]||i.canvas.nodes.def)(s,e.contexts.hover,v),(i.canvas.nodes[a.type]||i.canvas.nodes.def)(a,e.contexts.hover,v)))}this.bind("overNode",function(t){var e=t.data.node;e.hidden||(n[e.id]=e,r())}),this.bind("outNode",function(t){delete n[t.data.node.id],r()}),this.bind("overEdge",function(t){var e=t.data.edge;e.hidden||(o[e.id]=e,r())}),this.bind("outEdge",function(t){delete o[t.data.edge.id],r()}),this.bind("render",function(t){r()})}}).call(this)},TycK:function(t,e,n){"use strict";var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=123)}([function(t,e,n){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){e.__esModule=!0;var i,o=(i=n(169))&&i.__esModule?i:{default:i};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){var i=a(n(77)),o=a(n(29)),r=a(n(8)),s=a(n(6));function a(t){return t&&t.__esModule?t:{default:t}}var l=n(9),h=n(157);function u(t,e,n,i){var o=!1;!0===i&&(o=null===e[n]&&void 0!==t[n]),o?delete t[n]:t[n]=e[n]}e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,n,i){return e==t?.5:Math.max(0,1/(e-t)*(i-t))},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){if(d.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return h.v4()},e.assignAllKeys=function(t,e){for(var n in t)t.hasOwnProperty(n)&&"object"!==(0,s.default)(t[n])&&(t[n]=e)},e.fillIfDefined=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in t)void 0!==n[o]&&(null===n[o]||"object"!==(0,s.default)(n[o])?u(t,n,o,i):"object"===(0,s.default)(t[o])&&e.fillIfDefined(t[o],n[o],i))},e.extend=function(t,e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t},e.selectiveExtend=function(t,e,n){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var i=2;i<arguments.length;i++)for(var o=arguments[i],r=0;r<t.length;r++){var s=t[r];o&&o.hasOwnProperty(s)&&(e[s]=o[s])}return e},e.selectiveDeepExtend=function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var s=t[r];if(i.hasOwnProperty(s))if(i[s]&&i[s].constructor===Object)void 0===n[s]&&(n[s]={}),n[s].constructor===Object?e.deepExtend(n[s],i[s],!1,o):u(n,i,s,o);else{if(Array.isArray(i[s]))throw new TypeError("Arrays are not supported by deepExtend");u(n,i,s,o)}}return n},e.selectiveNotDeepExtend=function(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var r in i)if(i.hasOwnProperty(r)&&-1===t.indexOf(r))if(i[r]&&i[r].constructor===Object)void 0===n[r]&&(n[r]={}),n[r].constructor===Object?e.deepExtend(n[r],i[r]):u(n,i,r,o);else if(Array.isArray(i[r])){n[r]=[];for(var s=0;s<i[r].length;s++)n[r].push(i[r][s])}else u(n,i,r,o);return n},e.deepExtend=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in n)if(n.hasOwnProperty(r)||!0===i)if(n[r]&&n[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?e.deepExtend(t[r],n[r],i):u(t,n,r,o);else if(Array.isArray(n[r])){t[r]=[];for(var s=0;s<n[r].length;s++)t[r].push(n[r][s])}else u(t,n,r,o);return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!=e[n])return!1;return!0},e.convert=function(t,n){var i;if(void 0!==t){if(null===t)return null;if(!n)return t;if("string"!=typeof n&&!(n instanceof String))throw new Error("Type must be a string");switch(n){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return e.isString(t)&&!isNaN(Date.parse(t))?l(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(l.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return(i=d.exec(t))?new Date(Number(i[1])):l(new Date(t)).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return l(t);if(t instanceof Date)return l(t.valueOf());if(l.isMoment(t))return l(t);if(e.isString(t))return i=d.exec(t),l(i?Number(i[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(l.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return(i=d.exec(t))?new Date(Number(i[1])).toISOString():l(t).format();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t))return"/Date("+((i=d.exec(t))?new Date(Number(i[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+n+'"')}}};var d=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=void 0===t?"undefined":(0,s.default)(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(t[i]);return n.push(e),n},e.copyArray=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var n=t.className.split(" "),i=e.split(" ");n=n.concat(i.filter(function(t){return n.indexOf(t)<0})),t.className=n.join(" ")},e.removeClassName=function(t,e){var n=t.className.split(" "),i=e.split(" ");n=n.filter(function(t){return i.indexOf(t)<0}),t.className=n.join(" ")},e.forEach=function(t,e){var n,i;if(Array.isArray(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else for(n in t)t.hasOwnProperty(n)&&e(t[n],n,t)},e.toArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},e.updateProperty=function(t,e,n){return t[e]!==n&&(t[e]=n,!0)},e.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},e.addEventListener=function(t,e,n,i){t.addEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,n,i)):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n,i){t.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,n,i)):t.detachEvent("on"+e,n)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){var e;return t||(t=window.event),t.target?e=t.target:t.srcElement&&(e=t.srcElement),null!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,n){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":n||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,i){return e+e+n+n+i+i});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},e.overrideOpacity=function(t,n){var i;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?"rgba("+(i=t.substr(t.indexOf("(")+1).replace(")","").split(","))[0]+","+i[1]+","+i[2]+","+n+")":null==(i=e.hexToRGB(t))?t:"rgba("+i.r+","+i.g+","+i.b+","+n+")"},e.RGBToHex=function(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},e.parseColor=function(t){var n;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var i=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(i[0],i[1],i[2])}if(!0===e.isValidHex(t)){var o=e.hexToHSV(t),r={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},s={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},a=e.HSVToHex(s.h,s.s,s.v),l=e.HSVToHex(r.h,r.s,r.v);n={background:t,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else n={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else(n={}).background=t.background||void 0,n.border=t.border||void 0,e.isString(t.highlight)?n.highlight={border:t.highlight,background:t.highlight}:(n.highlight={},n.highlight.background=t.highlight&&t.highlight.background||void 0,n.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?n.hover={border:t.hover,background:t.hover}:(n.hover={},n.hover.background=t.hover&&t.hover.background||void 0,n.hover.border=t.hover&&t.hover.border||void 0);return n},e.RGBToHSV=function(t,e,n){t/=255,e/=255,n/=255;var i=Math.min(t,Math.min(e,n)),o=Math.max(t,Math.max(e,n));return i==o?{h:0,s:0,v:i}:{h:60*((t==i?3:n==i?1:5)-(t==i?e-n:n==i?t-e:n-t)/(o-i))/360,s:(o-i)/o,v:o}};var c=function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var n=t.split(":"),i=n[0].trim(),o=n[1].trim();e[i]=o}}),e},p=function(t){return(0,r.default)(t).map(function(e){return e+": "+t[e]}).join("; ")};e.addCssText=function(t,n){var i=c(t.style.cssText),o=c(n),r=e.extend(i,o);t.style.cssText=p(r)},e.removeCssText=function(t,e){var n=c(t.style.cssText),i=c(e);for(var o in i)i.hasOwnProperty(o)&&delete n[o];t.style.cssText=p(n)},e.HSVToRGB=function(t,e,n){var i,o,r,s=Math.floor(6*t),a=6*t-s,l=n*(1-e),h=n*(1-a*e),u=n*(1-(1-a)*e);switch(s%6){case 0:i=n,o=u,r=l;break;case 1:i=h,o=n,r=l;break;case 2:i=l,o=n,r=u;break;case 3:i=l,o=h,r=n;break;case 4:i=u,o=l,r=n;break;case 5:i=n,o=l,r=h}return{r:Math.floor(255*i),g:Math.floor(255*o),b:Math.floor(255*r)}},e.HSVToHex=function(t,n,i){var o=e.HSVToRGB(t,n,i);return e.RGBToHex(o.r,o.g,o.b)},e.hexToHSV=function(t){var n=e.hexToRGB(t);return e.RGBToHSV(n.r,n.g,n.b)},e.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},e.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},e.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},e.selectiveBridgeObject=function(t,n){if(null!==n&&"object"===(void 0===n?"undefined":(0,s.default)(n))){for(var i=(0,o.default)(n),r=0;r<t.length;r++)n.hasOwnProperty(t[r])&&"object"==(0,s.default)(n[t[r]])&&(i[t[r]]=e.bridgeObject(n[t[r]]));return i}return null},e.bridgeObject=function(t){if(null!==t&&"object"===(void 0===t?"undefined":(0,s.default)(t))){var n=(0,o.default)(t);if(t instanceof Element)n=t;else for(var i in n=(0,o.default)(t),t)t.hasOwnProperty(i)&&"object"==(0,s.default)(t[i])&&(n[i]=e.bridgeObject(t[i]));return n}return null},e.insertSort=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n],o=n;o>0&&e(i,t[o-1])<0;o--)t[o]=t[o-1];t[o]=i}return t},e.mergeOptions=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},a=function(t){return null!==t&&"object"===(void 0===t?"undefined":(0,s.default)(t))},l=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};if(!a(t))throw new Error("Parameter mergeTarget must be an object");if(!a(e))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!a(i))throw new Error("Parameter globalOptions must be an object");var h=function(t,e,n){a(t[n])||(t[n]={});var i=e[n],o=t[n];for(var r in i)i.hasOwnProperty(r)&&(o[r]=i[r])},u=e[n],d=a(i)&&!l(i),c=d?i[n]:void 0,p=c?c.enabled:void 0;if(void 0!==u){if("boolean"==typeof u)return a(t[n])||(t[n]={}),void(t[n].enabled=u);if(null===u&&!a(t[n])){if(!r(c))return;t[n]=(0,o.default)(c)}if(a(u)){var f=!0;void 0!==u.enabled?f=u.enabled:void 0!==p&&(f=c.enabled),h(t,e,n),t[n].enabled=f}}},e.binarySearchCustom=function(t,e,n,i){for(var o=0,r=0,s=t.length-1;r<=s&&o<1e4;){var a=Math.floor((r+s)/2),l=t[a],h=e(void 0===i?l[n]:l[n][i]);if(0==h)return a;-1==h?r=a+1:s=a-1,o++}return-1},e.binarySearchValue=function(t,e,n,i,o){var r,s,a,l,h=0,u=0,d=t.length-1;for(o=null!=o?o:function(t,e){return t==e?0:t<e?-1:1};u<=d&&h<1e4;){if(l=Math.floor(.5*(d+u)),r=t[Math.max(0,l-1)][n],s=t[l][n],a=t[Math.min(t.length-1,l+1)][n],0==o(s,e))return l;if(o(r,e)<0&&o(s,e)>0)return"before"==i?Math.max(0,l-1):l;if(o(s,e)<0&&o(a,e)>0)return"before"==i?l:Math.min(t.length-1,l+1);o(s,e)<0?u=l+1:d=l-1,h++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},e.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;return n==i&&(i=e.clientWidth),document.body.removeChild(e),n-i},e.topMost=function(t,e){var n=void 0;Array.isArray(e)||(e=[e]);var o=!0,r=!1,s=void 0;try{for(var a,l=(0,i.default)(t);!(o=(a=l.next()).done);o=!0){var h=a.value;if(h){n=h[e[0]];for(var u=1;u<e.length;u++)n&&(n=n[e[u]]);if(void 0!==n)break}}}catch(d){r=!0,s=d}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}return n}},function(t,e,n){t.exports={default:n(194),__esModule:!0}},function(t,e,n){e.__esModule=!0;var i,o=(i=n(6))&&i.__esModule?i:{default:i};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){e.__esModule=!0;var i=s(n(196)),o=s(n(29)),r=s(n(6));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,r.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i.default?(0,i.default)(t,e):t.__proto__=e)}},function(t,e,n){e.__esModule=!0;var i=s(n(142)),o=s(n(144)),r="function"==typeof o.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===r(i.default)?function(t){return void 0===t?"undefined":r(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":r(t)}},function(t,e){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports={default:n(140),__esModule:!0}},function(t,e,n){t.exports="undefined"!=typeof window&&window.moment||n(154)},function(t,e,n){if("undefined"!=typeof window){var i=n(175),o=window.Hammer||n(176);t.exports=i(o,{preventDefault:"mouse"})}else t.exports=function(){return{on:t=function(){},off:t,destroy:t,emit:t,get:function(e){return{set:t}}};var t}},function(t,e,n){var i=s(n(19)),o=s(n(6)),r=s(n(8));function s(t){return t&&t.__esModule?t:{default:t}}var a=n(2),l=n(43);function h(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var n=(0,r.default)(this._options.type),i=0,o=n.length;i<o;i++){var s=n[i],a=this._options.type[s];this._type[s]="Date"==a||"ISODate"==a||"ASPDate"==a?"Date":a}this._subscribers={},t&&this.add(t),this.setOptions(e)}h.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=l.extend(this,{replace:["add","update","remove"]})),"object"===(0,o.default)(t.queue)&&this._queue.setOptions(t.queue)))},h.prototype.on=function(t,e){var n=this._subscribers[t];n||(this._subscribers[t]=n=[]),n.push({callback:e})},h.prototype.off=function(t,e){var n=this._subscribers[t];n&&(this._subscribers[t]=n.filter(function(t){return t.callback!=e}))},h.prototype._trigger=function(t,e,n){if("*"==t)throw new Error("Cannot trigger event *");var i=[];t in this._subscribers&&(i=i.concat(this._subscribers[t])),"*"in this._subscribers&&(i=i.concat(this._subscribers["*"]));for(var o=0,r=i.length;o<r;o++){var s=i[o];s.callback&&s.callback(t,e,n||null)}},h.prototype.add=function(t,e){var n,i=[];if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)n=this._addItem(t[r]),i.push(n);else{if(!t||"object"!==(void 0===t?"undefined":(0,o.default)(t)))throw new Error("Unknown dataType");n=this._addItem(t),i.push(n)}return i.length&&this._trigger("add",{items:i},e),i},h.prototype.update=function(t,e){var n=[],i=[],r=[],s=[],l=this,h=l._fieldId,u=function(t){var e=t[h];if(l._data[e]){var o=a.extend({},l._data[e]);e=l._updateItem(t),i.push(e),s.push(t),r.push(o)}else e=l._addItem(t),n.push(e)};if(Array.isArray(t))for(var d=0,c=t.length;d<c;d++)t[d]&&"object"===(0,o.default)(t[d])?u(t[d]):console.warn("Ignoring input item, which is not an object at index "+d);else{if(!t||"object"!==(void 0===t?"undefined":(0,o.default)(t)))throw new Error("Unknown dataType");u(t)}return n.length&&this._trigger("add",{items:n},e),i.length&&this._trigger("update",{items:i,oldData:r,data:s},e),n.concat(i)},h.prototype.get=function(t){var e,n,i,o,s=this,l=a.getType(arguments[0]);if("String"==l||"Number"==l?(e=arguments[0],i=arguments[1]):"Array"==l?(n=arguments[0],i=arguments[1]):i=arguments[0],i&&i.returnType){var h=["Array","Object"];o=-1==h.indexOf(i.returnType)?"Array":i.returnType}else o="Array";var u,d,c,p,f=i&&i.type||this._options.type,g=i&&i.filter,v=[];if(null!=e)(u=s._getItem(e,f))&&g&&!g(u)&&(u=null);else if(null!=n)for(c=0,p=n.length;c<p;c++)u=s._getItem(n[c],f),g&&!g(u)||v.push(u);else for(c=0,p=(d=(0,r.default)(this._data)).length;c<p;c++)u=s._getItem(d[c],f),g&&!g(u)||v.push(u);if(i&&i.order&&null==e&&this._sort(v,i.order),i&&i.fields){var m=i.fields;if(null!=e)u=this._filterFields(u,m);else for(c=0,p=v.length;c<p;c++)v[c]=this._filterFields(v[c],m)}if("Object"==o){var y,b={};for(c=0,p=v.length;c<p;c++)b[(y=v[c]).id]=y;return b}return null!=e?u:v},h.prototype.getIds=function(t){var e,n,i,o,s=this._data,a=t&&t.filter,l=t&&t.order,h=t&&t.type||this._options.type,u=(0,r.default)(s),d=[];if(a)if(l){for(o=[],e=0,n=u.length;e<n;e++)a(i=this._getItem(u[e],h))&&o.push(i);for(this._sort(o,l),e=0,n=o.length;e<n;e++)d.push(o[e][this._fieldId])}else for(e=0,n=u.length;e<n;e++)a(i=this._getItem(u[e],h))&&d.push(i[this._fieldId]);else if(l){for(o=[],e=0,n=u.length;e<n;e++)o.push(s[u[e]]);for(this._sort(o,l),e=0,n=o.length;e<n;e++)d.push(o[e][this._fieldId])}else for(e=0,n=u.length;e<n;e++)d.push((i=s[u[e]])[this._fieldId]);return d},h.prototype.getDataSet=function(){return this},h.prototype.forEach=function(t,e){var n,i,o,s,a=e&&e.filter,l=e&&e.type||this._options.type,h=(0,r.default)(this._data);if(e&&e.order){var u=this.get(e);for(n=0,i=u.length;n<i;n++)t(o=u[n],s=o[this._fieldId])}else for(n=0,i=h.length;n<i;n++)o=this._getItem(s=h[n],l),a&&!a(o)||t(o,s)},h.prototype.map=function(t,e){var n,i,o,s,a=e&&e.filter,l=e&&e.type||this._options.type,h=[],u=(0,r.default)(this._data);for(n=0,i=u.length;n<i;n++)s=this._getItem(o=u[n],l),a&&!a(s)||h.push(t(s,o));return e&&e.order&&this._sort(h,e.order),h},h.prototype._filterFields=function(t,e){if(!t)return t;var n,i,o={},s=(0,r.default)(t),a=s.length;if(Array.isArray(e))for(n=0;n<a;n++)-1!=e.indexOf(i=s[n])&&(o[i]=t[i]);else for(n=0;n<a;n++)e.hasOwnProperty(i=s[n])&&(o[e[i]]=t[i]);return o},h.prototype._sort=function(t,e){if(a.isString(e)){var n=e;t.sort(function(t,e){var i=t[n],o=e[n];return i>o?1:i<o?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},h.prototype.remove=function(t,e){var n,i,o,r,s,a=[],l=[];for(i=0,o=(n=Array.isArray(t)?t:[t]).length;i<o;i++)(s=this._remove(n[i]))&&null!=(r=s[this._fieldId])&&(a.push(r),l.push(s));return a.length&&this._trigger("remove",{items:a,oldData:l},e),a},h.prototype._remove=function(t){var e,n;return a.isNumber(t)||a.isString(t)?n=t:t&&"object"===(void 0===t?"undefined":(0,o.default)(t))&&(n=t[this._fieldId]),void 0!==n&&this._data[n]?(e=this._data[n],delete this._data[n],this.length--,e):null},h.prototype.clear=function(t){var e,n,i=(0,r.default)(this._data),o=[];for(e=0,n=i.length;e<n;e++)o.push(this._data[i[e]]);return this._data={},this.length=0,this._trigger("remove",{items:i,oldData:o},t),i},h.prototype.max=function(t){var e,n,i=this._data,o=(0,r.default)(i),s=null,a=null;for(e=0,n=o.length;e<n;e++){var l=i[o[e]],h=l[t];null!=h&&(!s||h>a)&&(s=l,a=h)}return s},h.prototype.min=function(t){var e,n,i=this._data,o=(0,r.default)(i),s=null,a=null;for(e=0,n=o.length;e<n;e++){var l=i[o[e]],h=l[t];null!=h&&(!s||h<a)&&(s=l,a=h)}return s},h.prototype.distinct=function(t){var e,n,i,o=this._data,s=(0,r.default)(o),l=[],h=this._options.type&&this._options.type[t]||null,u=0;for(e=0,i=s.length;e<i;e++){var d=o[s[e]][t],c=!1;for(n=0;n<u;n++)if(l[n]==d){c=!0;break}c||void 0===d||(l[u]=d,u++)}if(h)for(e=0,i=l.length;e<i;e++)l[e]=a.convert(l[e],h);return l},h.prototype._addItem=function(t){var e=t[this._fieldId];if(null!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=a.randomUUID(),t[this._fieldId]=e;var n,i,o={},s=(0,r.default)(t);for(n=0,i=s.length;n<i;n++){var l=s[n];o[l]=a.convert(t[l],this._type[l])}return this._data[e]=o,this.length++,e},h.prototype._getItem=function(t,e){var n,i,o,s=this._data[t];if(!s)return null;var l={},h=(0,r.default)(s);if(e)for(i=0,o=h.length;i<o;i++)l[n=h[i]]=a.convert(s[n],e[n]);else for(i=0,o=h.length;i<o;i++)l[n=h[i]]=s[n];return l[this._fieldId]||(l[this._fieldId]=s.id),l},h.prototype._updateItem=function(t){var e=t[this._fieldId];if(null==e)throw new Error("Cannot update item: item has no id (item: "+(0,i.default)(t)+")");var n=this._data[e];if(!n)throw new Error("Cannot update item: no item with id "+e+" found");for(var o=(0,r.default)(t),s=0,l=o.length;s<l;s++){var h=o[s];n[h]=a.convert(t[h],this._type[h])}return e},t.exports=h},function(t,e,n){var i,o=(i=n(8))&&i.__esModule?i:{default:i},r=n(2),s=n(11);function a(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var n=this;this.listener=function(){n._onEvent.apply(n,arguments)},this.setData(t)}a.prototype.setData=function(t){var e,n,i,o;if(this._data){for(this._data.off&&this._data.off("*",this.listener),o=[],n=0,i=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;n<i;n++)o.push(this._data._data[e[n]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:o})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",n=0,i=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;n<i;n++)this._ids[e[n]]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},a.prototype.refresh=function(){var t,e,n,i=this._data.getIds({filter:this._options&&this._options.filter}),r=(0,o.default)(this._ids),s={},a=[],l=[],h=[];for(e=0,n=i.length;e<n;e++)s[t=i[e]]=!0,this._ids[t]||(a.push(t),this._ids[t]=!0);for(e=0,n=r.length;e<n;e++)s[t=r[e]]||(l.push(t),h.push(this._data._data[t]),delete this._ids[t]);this.length+=a.length-l.length,a.length&&this._trigger("add",{items:a}),l.length&&this._trigger("remove",{items:l,oldData:h})},a.prototype.get=function(t){var e,n,i,o=this,s=r.getType(arguments[0]);"String"==s||"Number"==s||"Array"==s?(e=arguments[0],n=arguments[1],i=arguments[2]):(n=arguments[0],i=arguments[1]);var a=r.extend({},this._options,n);this._options.filter&&n&&n.filter&&(a.filter=function(t){return o._options.filter(t)&&n.filter(t)});var l=[];return null!=e&&l.push(e),l.push(a),l.push(i),this._data&&this._data.get.apply(this._data,l)},a.prototype.getIds=function(t){var e;if(this._data){var n=this._options.filter;e=this._data.getIds({filter:t&&t.filter?n?function(e){return n(e)&&t.filter(e)}:t.filter:n,order:t&&t.order})}else e=[];return e},a.prototype.map=function(t,e){var n=[];if(this._data){var i=this._options.filter;n=this._data.map(t,{filter:e&&e.filter?i?function(t){return i(t)&&e.filter(t)}:e.filter:i,order:e&&e.order})}else n=[];return n},a.prototype.getDataSet=function(){for(var t=this;t instanceof a;)t=t._data;return t||null},a.prototype._onEvent=function(t,e,n){var i,o,r,s=e&&e.items,a=[],l=[],h=[],u=[],d=[],c=[];if(s&&this._data){switch(t){case"add":for(i=0,o=s.length;i<o;i++)this.get(r=s[i])&&(this._ids[r]=!0,a.push(r));break;case"update":for(i=0,o=s.length;i<o;i++)this.get(r=s[i])?this._ids[r]?(l.push(r),d.push(e.data[i]),u.push(e.oldData[i])):(this._ids[r]=!0,a.push(r)):this._ids[r]&&(delete this._ids[r],h.push(r),c.push(e.oldData[i]));break;case"remove":for(i=0,o=s.length;i<o;i++)this._ids[r=s[i]]&&(delete this._ids[r],h.push(r),c.push(e.oldData[i]))}this.length+=a.length-h.length,a.length&&this._trigger("add",{items:a},n),l.length&&this._trigger("update",{items:l,oldData:u,data:d},n),h.length&&this._trigger("remove",{items:h,oldData:c},n)}},a.prototype.on=s.prototype.on,a.prototype.off=s.prototype.off,a.prototype._trigger=s.prototype._trigger,a.prototype.subscribe=a.prototype.on,a.prototype.unsubscribe=a.prototype.off,t.exports=a},function(t,e,n){var i=n(57)("wks"),o=n(40),r=n(18).Symbol,s="function"==typeof r;(t.exports=function(t){return i[t]||(i[t]=s&&r[t]||(s?r:o)("Symbol."+t))}).store=i},function(t,e,n){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var n=0;n<t[e].redundant.length;n++)t[e].redundant[n].parentNode.removeChild(t[e].redundant[n]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,n){var i;return e.hasOwnProperty(t)?e[t].redundant.length>0?(i=e[t].redundant[0],e[t].redundant.shift()):(i=document.createElementNS("http://www.w3.org/2000/svg",t),n.appendChild(i)):(i=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},n.appendChild(i)),e[t].used.push(i),i},e.getDOMElement=function(t,e,n,i){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==i?n.insertBefore(o,i):n.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==i?n.insertBefore(o,i):n.appendChild(o)),e[t].used.push(o),o},e.drawPoint=function(t,n,i,o,r,s){var a;if("circle"==i.style?((a=e.getSVGElement("circle",o,r)).setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",n),a.setAttributeNS(null,"r",.5*i.size)):((a=e.getSVGElement("rect",o,r)).setAttributeNS(null,"x",t-.5*i.size),a.setAttributeNS(null,"y",n-.5*i.size),a.setAttributeNS(null,"width",i.size),a.setAttributeNS(null,"height",i.size)),void 0!==i.styles&&a.setAttributeNS(null,"style",i.styles),a.setAttributeNS(null,"class",i.className+" vis-point"),s){var l=e.getSVGElement("text",o,r);s.xOffset&&(t+=s.xOffset),s.yOffset&&(n+=s.yOffset),s.content&&(l.textContent=s.content),s.className&&l.setAttributeNS(null,"class",s.className+" vis-label"),l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",n)}return a},e.drawBar=function(t,n,i,o,r,s,a,l){if(0!=o){o<0&&(n-=o*=-1);var h=e.getSVGElement("rect",s,a);h.setAttributeNS(null,"x",t-.5*i),h.setAttributeNS(null,"y",n),h.setAttributeNS(null,"width",i),h.setAttributeNS(null,"height",o),h.setAttributeNS(null,"class",r),l&&h.setAttributeNS(null,"style",l)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var i=l(n(19)),o=l(n(6)),r=l(n(8)),s=l(n(0)),a=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=n(2),u=!1,d=void 0,c="background: #FFeeee; color: #dd0000",p=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"validate",value:function(e,n,i){u=!1,d=n;var o=n;return void 0!==i&&(o=n[i]),t.parse(e,o,[]),u}},{key:"parse",value:function(e,n,i){for(var o in e)e.hasOwnProperty(o)&&t.check(o,e,n,i)}},{key:"check",value:function(e,n,i,o){if(void 0!==i[e]||void 0!==i.__any__){var r=e,s=!0;void 0===i[e]&&void 0!==i.__any__&&(r="__any__",s="object"===t.getType(n[e]));var a=i[r];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,n,i,r,a,o)}else t.getSuggestion(e,i,o)}},{key:"checkFields",value:function(e,n,i,o,s,a){var l=function(n){console.log("%c"+n+t.printLocation(a,e),c)},d=t.getType(n[e]),p=s[d];void 0!==p?"array"===t.getType(p)&&-1===p.indexOf(n[e])?(l('Invalid option detected in "'+e+'". Allowed values are:'+t.print(p)+' not "'+n[e]+'". '),u=!0):"object"===d&&"__any__"!==o&&(a=h.copyAndExtendArray(a,e),t.parse(n[e],i[o],a)):void 0===s.any&&(l('Invalid type received for "'+e+'". Expected: '+t.print((0,r.default)(s))+". Received ["+d+'] "'+n[e]+'"'),u=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":(0,o.default)(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,n,i){var o,s=t.findInOptions(e,n,i,!1),a=t.findInOptions(e,d,[],!0);o=void 0!==s.indexMatch?" in "+t.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n':a.distance<=4&&s.distance>a.distance?" in "+t.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(a.path,a.closestMatch,""):s.distance<=8?'. Did you mean "'+s.closestMatch+'"?'+t.printLocation(s.path,e):". Did you mean one of these: "+t.print((0,r.default)(n))+t.printLocation(i,e),console.log('%cUnknown option detected: "'+e+'"'+o,c),u=!0}},{key:"findInOptions",value:function(e,n,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[],l=e.toLowerCase(),u=void 0;for(var d in n){var c=void 0;if(void 0!==n[d].__type__&&!0===o){var p=t.findInOptions(e,n[d],h.copyAndExtendArray(i,d));r>p.distance&&(s=p.closestMatch,a=p.path,r=p.distance,u=p.indexMatch)}else-1!==d.toLowerCase().indexOf(l)&&(u=d),r>(c=t.levenshteinDistance(e,d))&&(s=d,a=h.copyArray(i),r=c)}return{closestMatch:s,path:a,distance:r,indexMatch:u}}},{key:"printLocation",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",i="\n\n"+n+"options = {\n",o=0;o<t.length;o++){for(var r=0;r<o+1;r++)i+="  ";i+=t[o]+": {\n"}for(var s=0;s<t.length+1;s++)i+="  ";i+=e+"\n";for(var a=0;a<t.length+1;a++){for(var l=0;l<t.length-a;l++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return(0,i.default)(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var n,i,o=[];for(n=0;n<=e.length;n++)o[n]=[n];for(i=0;i<=t.length;i++)o[0][i]=i;for(n=1;n<=e.length;n++)for(i=1;i<=t.length;i++)o[n][i]=e.charAt(n-1)==t.charAt(i-1)?o[n-1][i-1]:Math.min(o[n-1][i-1]+1,Math.min(o[n][i-1]+1,o[n-1][i]+1));return o[e.length][t.length]}}]),t}();e.default=p,e.printStyle=c},function(t,e,n){var i=n(2);function o(t,e){this.options=null,this.props=null}o.prototype.setOptions=function(t){t&&i.extend(this.options,t)},o.prototype.redraw=function(){return!1},o.prototype.destroy=function(){},o.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=o},function(t,e,n){var i=n(18),o=n(7),r=n(80),s=n(26),a=function(t,e,n){var l,h,u,d=t&a.F,c=t&a.G,p=t&a.S,f=t&a.P,g=t&a.B,v=t&a.W,m=c?o:o[e]||(o[e]={}),y=m.prototype,b=c?i:p?i[e]:(i[e]||{}).prototype;for(l in c&&(n=e),n)(h=!d&&b&&void 0!==b[l])&&l in m||(u=h?b[l]:n[l],m[l]=c&&"function"!=typeof b[l]?n[l]:g&&h?r(u,i):v&&b[l]==u?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):f&&"function"==typeof u?r(Function.call,u):u,f&&((m.virtual||(m.virtual={}))[l]=u,t&a.R&&y&&!y[l]&&s(y,l,u)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports={default:n(160),__esModule:!0}},function(t,e,n){var i=n(27),o=n(81),r=n(53),s=Object.defineProperty;e.f=n(21)?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(6)),o=s(n(0)),r=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,n,i){(0,o.default)(this,t),this.body=n,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,r.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,i.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var n=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var n=e.borderDashes;!0===n&&(n=[5,15]),t.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){t.lineWidth=Math.min(this.width,e.borderWidth/this.body.view.scale),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var n=e.borderWidth/this.body.view.scale;t.save(),n>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,n,i,o){void 0!==n&&this.resize(n,i,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,n,i,o){this._updateBoundingBox(t,e,n,i,o)}},{key:"getDimensionsFromLabel",value:function(t,e,n){this.textSize=this.labelModule.getTextSize(t,e,n);var i=this.textSize.width,o=this.textSize.height;return 0===i&&(i=14,o=14),{width:i,height:o}}}]),t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(23));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,n)){this.labelModule.getTextSize(t,e,n);var o=2*i.size;this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,n,i,o,r,s,a){this.resize(t,r,s,a),this.left=i-this.width/2,this.top=o-this.height/2,this.initContextForDraw(t,a),t[e](i,o,a.size),this.performFill(t,a),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(t,r,s,i,o,"hanging"),this.labelModule.draw(t,i,o+.5*this.height+.5*this.labelModule.size.height,r,s,"hanging")),this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}();e.default=u},function(t,e,n){var i=n(78),o=n(51);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(20),o=n(39);t.exports=n(21)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(32);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){t.exports={default:n(138),__esModule:!0}},function(t,e,n){e.__esModule=!0;var i=r(n(188)),o=r(n(77));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return function(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var a,l=(0,o.default)(t);!(i=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(h){r=!0,s=h}finally{try{!i&&l.return&&l.return()}finally{if(r)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(84),o=n(58);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){function i(t,e,n){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==n?n:0}i.subtract=function(t,e){var n=new i;return n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n},i.add=function(t,e){var n=new i;return n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n},i.avg=function(t,e){return new i((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},i.crossProduct=function(t,e){var n=new i;return n.x=t.y*e.z-t.z*e.y,n.y=t.z*e.x-t.x*e.z,n.z=t.x*e.y-t.y*e.x,n},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=i},function(t,e,n){var i,o;void 0===(o="function"==typeof(i=function(){return function(t){var e,n=t&&t.preventDefault||!1,i=t&&t.container||window,o={},r={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){h(t,"keydown")},l=function(t){h(t,"keyup")},h=function(t,e){if(void 0!==r[e][t.keyCode]){for(var i=r[e][t.keyCode],o=0;o<i.length;o++)void 0===i[o].shift?i[o].fn(t):1==i[o].shift&&1==t.shiftKey?i[o].fn(t):0==i[o].shift&&0==t.shiftKey&&i[o].fn(t);1==n&&t.preventDefault()}};return o.bind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===r[n][s[t].code]&&(r[n][s[t].code]=[]),r[n][s[t].code].push({fn:e,shift:s[t].shift})},o.bindAll=function(t,e){for(var n in void 0===e&&(e="keydown"),s)s.hasOwnProperty(n)&&o.bind(n,t,e)},o.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,n){if(void 0===n&&(n="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var i=[],o=r[n][s[t].code];if(void 0!==o)for(var a=0;a<o.length;a++)o[a].fn==e&&o[a].shift==s[t].shift||i.push(r[n][s[t].code][a]);r[n][s[t].code]=i}else r[n][s[t].code]=[]},o.reset=function(){r={keydown:{},keyup:{}}},o.destroy=function(){r={keydown:{},keyup:{}},i.removeEventListener("keydown",a,!0),i.removeEventListener("keyup",l,!0)},i.addEventListener("keydown",a,!0),i.addEventListener("keyup",l,!0),o}})?i.apply(e,[]):i)||(t.exports=o)},function(t,e,n){e.convertHiddenOptions=function(t,n,i){if(i&&!Array.isArray(i))return e.convertHiddenOptions(t,n,[i]);if(n.hiddenDates=[],i&&1==Array.isArray(i)){for(var o=0;o<i.length;o++)if(void 0===i[o].repeat){var r={};r.start=t(i[o].start).toDate().valueOf(),r.end=t(i[o].end).toDate().valueOf(),n.hiddenDates.push(r)}n.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,n,i){if(i&&!Array.isArray(i))return e.updateHiddenDates(t,n,[i]);if(i&&void 0!==n.domProps.centerContainer.width){e.convertHiddenOptions(t,n,i);for(var o=t(n.range.start),r=t(n.range.end),s=(n.range.end-n.range.start)/n.domProps.centerContainer.width,a=0;a<i.length;a++)if(void 0!==i[a].repeat){var l=t(i[a].start),h=t(i[a].end);if("Invalid Date"==l._d)throw new Error("Supplied start date is not valid: "+i[a].start);if("Invalid Date"==h._d)throw new Error("Supplied end date is not valid: "+i[a].end);if(h-l>=4*s){var u=0,d=r.clone();switch(i[a].repeat){case"daily":l.day()!=h.day()&&(u=1),l.dayOfYear(o.dayOfYear()),l.year(o.year()),l.subtract(7,"days"),h.dayOfYear(o.dayOfYear()),h.year(o.year()),h.subtract(7-u,"days"),d.add(1,"weeks");break;case"weekly":var c=h.diff(l,"days"),p=l.day();l.date(o.date()),l.month(o.month()),l.year(o.year()),h=l.clone(),l.day(p),h.day(p),h.add(c,"days"),l.subtract(1,"weeks"),h.subtract(1,"weeks"),d.add(1,"weeks");break;case"monthly":l.month()!=h.month()&&(u=1),l.month(o.month()),l.year(o.year()),l.subtract(1,"months"),h.month(o.month()),h.year(o.year()),h.subtract(1,"months"),h.add(u,"months"),d.add(1,"months");break;case"yearly":l.year()!=h.year()&&(u=1),l.year(o.year()),l.subtract(1,"years"),h.year(o.year()),h.subtract(1,"years"),h.add(u,"years"),d.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[a].repeat)}for(;l<d;)switch(n.hiddenDates.push({start:l.valueOf(),end:h.valueOf()}),i[a].repeat){case"daily":l.add(1,"days"),h.add(1,"days");break;case"weekly":l.add(1,"weeks"),h.add(1,"weeks");break;case"monthly":l.add(1,"months"),h.add(1,"months");break;case"yearly":l.add(1,"y"),h.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[a].repeat)}n.hiddenDates.push({start:l.valueOf(),end:h.valueOf()})}}e.removeDuplicates(n);var f=e.isHidden(n.range.start,n.hiddenDates),g=e.isHidden(n.range.end,n.hiddenDates),v=n.range.start,m=n.range.end;1==f.hidden&&(v=1==n.range.startToFront?f.startDate-1:f.endDate+1),1==g.hidden&&(m=1==n.range.endToFront?g.startDate-1:g.endDate+1),1!=f.hidden&&1!=g.hidden||n.range._applyRange(v,m)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,n=[],i=0;i<e.length;i++)for(var o=0;o<e.length;o++)i!=o&&1!=e[o].remove&&1!=e[i].remove&&(e[o].start>=e[i].start&&e[o].end<=e[i].end?e[o].remove=!0:e[o].start>=e[i].start&&e[o].start<=e[i].end?(e[i].end=e[o].end,e[o].remove=!0):e[o].end>=e[i].start&&e[o].end<=e[i].end&&(e[i].start=e[o].start,e[o].remove=!0));for(i=0;i<e.length;i++)!0!==e[i].remove&&n.push(e[i]);t.hiddenDates=n,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,n){for(var i=!1,o=e.current.valueOf(),r=0;r<e.hiddenDates.length;r++){var s=e.hiddenDates[r].end;if(o>=e.hiddenDates[r].start&&o<s){i=!0;break}}if(1==i&&o<e._end.valueOf()&&o!=n){var a=t(n),l=t(s);a.year()!=l.year()?e.switchedYear=!0:a.month()!=l.month()?e.switchedMonth=!0:a.dayOfYear()!=l.dayOfYear()&&(e.switchedDay=!0),e.current=l}},e.toScreen=function(t,n,i){var o;if(0==t.body.hiddenDates.length)return o=t.range.conversion(i),(n.valueOf()-o.offset)*o.scale;var r=e.isHidden(n,t.body.hiddenDates);1==r.hidden&&(n=r.startDate);var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(n<t.range.start){o=t.range.conversion(i,s);var a=e.getHiddenDurationBeforeStart(t.body.hiddenDates,n,o.offset);return n=t.options.moment(n).toDate().valueOf(),-(o.offset-(n+=a).valueOf())*o.scale}return n>t.range.end?(n=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,{start:t.range.start,end:n},n),o=t.range.conversion(i,s),(n.valueOf()-o.offset)*o.scale):(n=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,n),o=t.range.conversion(i,s),(n.valueOf()-o.offset)*o.scale)},e.toTime=function(t,n,i){if(0==t.body.hiddenDates.length){var o=t.range.conversion(i);return new Date(n/o.scale+o.offset)}var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),s=(t.range.end-t.range.start-r)*n/i,a=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,s);return new Date(a+s+t.range.start)},e.getHiddenDurationBetween=function(t,e,n){for(var i=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;r>=e&&s<n&&(i+=s-r)}return i},e.getHiddenDurationBeforeStart=function(t,e,n){for(var i=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;r>=e&&s<=n&&(i+=s-r)}return i},e.correctTimeForHidden=function(t,n,i,o){return(o=t(o).toDate().valueOf())-e.getHiddenDurationBefore(t,n,i,o)},e.getHiddenDurationBefore=function(t,e,n,i){var o=0;i=t(i).toDate().valueOf();for(var r=0;r<e.length;r++){var s=e[r].start,a=e[r].end;s>=n.start&&a<n.end&&i>=a&&(o+=a-s)}return o},e.getAccumulatedHiddenDuration=function(t,e,n){for(var i=0,o=0,r=e.start,s=0;s<t.length;s++){var a=t[s].start,l=t[s].end;if(a>=e.start&&l<e.end){if(o+=a-r,r=l,o>=n)break;i+=l-a}}return i},e.snapAwayFromHidden=function(t,n,i,o){var r=e.isHidden(n,t);return 1==r.hidden?i<0?1==o?r.startDate-(r.endDate-n)-1:r.startDate-1:1==o?r.endDate+(n-r.startDate)+1:r.endDate+1:n},e.isHidden=function(t,e){for(var n=0;n<e.length;n++){var i=e[n].start,o=e[n].end;if(t>=i&&t<o)return{hidden:!0,startDate:i,endDate:o}}return{hidden:!1,startDate:i,endDate:o}}},function(t,e,n){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,n){var i=r(n(6)),o=r(n(8));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(10),a=n(2),l=n(9);function h(t,e,n){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=n||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}h.prototype.stack=!0,h.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},h.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},h.prototype.setData=function(t){null!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent&&(this.parent.stackDirty=!0),null!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},h.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},h.prototype.isVisible=function(t){return!1},h.prototype.show=function(){return!1},h.prototype.hide=function(){return!1},h.prototype.redraw=function(){},h.prototype.repositionX=function(){},h.prototype.repositionY=function(){},h.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this,e=document.createElement("div");e.className="vis-drag-center",e.dragCenterItem=this;var n=new s(e);n.on("tap",function(e){t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})}),n.on("doubletap",function(e){e.stopPropagation(),t.parent.itemSet._onUpdateItem(t),t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e),this.dom.dragCenter=e}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},h.prototype._repaintDeleteButton=function(t){if(this.selected&&((this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove)&&!this.dom.deleteButton){var e=this,n=document.createElement("div");n.className=this.options.rtl?"vis-delete-rtl":"vis-delete",n.title="Delete this item",new s(n).on("tap",function(t){t.stopPropagation(),e.parent.removeFromDataSet(e)}),t.appendChild(n),this.dom.deleteButton=n}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},h.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){if(!this.selected||!this.options.editable.updateTime&&!0!==this.data.editable||!1===this.data.editable||this.dom.onItemUpdateTimeTooltip)!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);else{var e=document.createElement("div");e.className="vis-onUpdateTime-tooltip",t.appendChild(e),this.dom.onItemUpdateTimeTooltip=e}var n;this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-this.parent.itemSet.body.domProps.scrollTop?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?n=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(n="start: "+l(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(n+="<br> end: "+l(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=n)}},h.prototype._updateContents=function(t){var e,n,i,o,r=this.parent.itemSet.itemsData.get(this.id),s=this.dom.box||this.dom.point,a=s.getElementsByClassName("vis-item-visible-frame")[0];if(i=this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this))(r,s):"",a)if(i instanceof Object&&!(i instanceof Element))o(r,a);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(i)){if(i instanceof Element)a.innerHTML="",a.appendChild(i);else if(null!=i)a.innerHTML=i;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=i}if((e=this.options.template?(n=this.options.template.bind(this))(r,t,this.data):this.data.content)instanceof Object&&!(e instanceof Element))n(r,t);else if(this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(null!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},h.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,o.default)(this.data)}for(var n=0;n<e.length;n++){var i=e[n],r=this.data[i];null!=r?t.setAttribute("data-"+i,r):t.removeAttribute("data-"+i)}}},h.prototype._updateStyle=function(t){this.style&&(a.removeCssText(t,this.style),this.style=null),this.data.style&&(a.addCssText(t,this.data.style),this.style=this.data.style)},h.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},h.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,i.default)(this.options.editable)&&(this.editable={},a.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,i.default)(this.data.editable)&&(this.editable={},a.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},h.prototype.getWidthLeft=function(){return 0},h.prototype.getWidthRight=function(){return 0},h.prototype.getTitle=function(){return this.data.title},t.exports=h},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(51);t.exports=function(t){return Object(i(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){function i(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}i.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},i.extend=function(t,e){var n=new i(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){n.flush()};var o=[{name:"flush",original:void 0}];if(e&&e.replace)for(var r=0;r<e.replace.length;r++){var s=e.replace[r];o.push({name:s,original:t[s]}),n.replace(t,s)}return n._extended={object:t,methods:o},n},i.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,n=0;n<e.length;n++){var i=e[n];i.original?t[i.name]=i.original:delete t[i.name]}this._extended=null}},i.prototype.replace=function(t,e){var n=this,i=t[e];if(!i)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.queue({args:t,fn:i,context:this})}},i.prototype.queue=function(t){this._queue.push("function"==typeof t?{fn:t}:t),this._flushIfNeeded()},i.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},i.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=i},function(t,e){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){var n=this;function i(){n.off(t,i),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o=0;o<i.length;o++)if((n=i[o])===e||n.fn===e){i.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var i,o=(i=n(6))&&i.__esModule?i:{default:i},r=n(2),s=n(16),a=n(66),l=n(36),h=n(9);function u(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:a.FORMAT,moment:h,timeAxis:null},this.options=r.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}(u.prototype=new s).setOptions=function(t){t&&(r.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),r.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,o.default)(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof h.locale?h.locale(t.locale):h.lang(t.locale)))},u.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},u.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},u.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,n=this.dom.background,i="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==i;this._calculateCharSize();var r=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=this.options.showMinorLabels&&"none"!==this.options.orientation.axis?t.minorCharHeight:0,t.majorLabelHeight=r?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var s=e.nextSibling,a=n.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n),e.style.height=this.props.height+"px",this._repaintLabels(),s?i.insertBefore(e,s):i.appendChild(e),a?this.body.dom.backgroundVertical.insertBefore(n,a):this.body.dom.backgroundVertical.appendChild(n),this._isResized()||o},u.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=r.convert(this.body.range.start,"Number"),n=r.convert(this.body.range.end,"Number"),i=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),o=i-l.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,i);o-=this.body.util.toTime(0).valueOf();var s=new a(new Date(e),new Date(n),o,this.body.hiddenDates,this.options);s.setMoment(this.options.moment),this.options.format&&s.setFormat(this.options.format),this.options.timeAxis&&s.setScale(this.options.timeAxis),this.step=s;var h,u,c,p,f,g=this.dom;g.redundant.lines=g.lines,g.redundant.majorTexts=g.majorTexts,g.redundant.minorTexts=g.minorTexts,g.lines=[],g.majorTexts=[],g.minorTexts=[];var v,m,y,b,w=0,x=void 0,_=0;for(s.start(),h=s.getCurrent(),c=this.body.util.toScreen(h);s.hasNext()&&_<1e3;){switch(_++,p=s.isMajor(),b=s.getClassName(),y=s.getLabelMinor(),u=c,s.next(),h=s.getCurrent(),s.isMajor(),v=w,w=(c=this.body.util.toScreen(h))-u,s.scale){case"week":f=!0;break;default:f=w>=.4*v}if(this.options.showMinorLabels&&f){var E=this._repaintMinorText(u,y,t,b);E.style.width=w+"px"}p&&this.options.showMajorLabels?(u>0&&(null==x&&(x=u),E=this._repaintMajorText(u,s.getLabelMajor(),t,b)),m=this._repaintMajorLine(u,w,t,b)):f?m=this._repaintMinorLine(u,w,t,b):m&&(m.style.width=parseInt(m.style.width)+w+"px")}if(1e3!==_||d||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),d=!0),this.options.showMajorLabels){var k=this.body.util.toTime(0),S=s.getLabelMajor(k);(null==x||S.length*(this.props.majorCharWidth||10)+10<x)&&this._repaintMajorText(0,S,t,b)}r.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},u.prototype._repaintMinorText=function(t,e,n,i){var o=this.dom.redundant.minorTexts.shift();if(!o){var r=document.createTextNode("");(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)}return this.dom.minorTexts.push(o),o.innerHTML=e,o.style.top="top"==n?this.props.majorLabelHeight+"px":"0",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",o.className="vis-text vis-minor "+i,o},u.prototype._repaintMajorText=function(t,e,n,i){var o=this.dom.redundant.majorTexts.shift();if(!o){var r=document.createElement("div");(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)}return o.childNodes[0].innerHTML=e,o.className="vis-text vis-major "+i,o.style.top="top"==n?"0":this.props.minorLabelHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",this.dom.majorTexts.push(o),o},u.prototype._repaintMinorLine=function(t,e,n,i){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==n?r.majorLabelHeight+"px":this.body.domProps.top.height+"px",o.style.height=r.minorLineHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-minor "+i):(o.style.left=t-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-minor "+i),o.style.width=e+"px",o},u.prototype._repaintMajorLine=function(t,e,n,i){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==n?"0":this.body.domProps.top.height+"px",this.options.rtl?(o.style.left="",o.style.right=t-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-major "+i):(o.style.left=t-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-major "+i),o.style.height=r.majorLineHeight+"px",o.style.width=e+"px",o},u.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var d=!1;t.exports=u},function(t,e,n){var i=n(10),o=n(2),r=n(16),s=n(9),a=n(98);function l(t,e){this.body=t,this.defaultOptions={moment:s,locales:a,locale:"en",id:void 0,title:void 0},this.options=o.extend({},this.defaultOptions),this.customTime=e&&e.time?e.time:new Date,this.eventParams={},this.setOptions(e),this._create()}(l.prototype=new r).setOptions=function(t){t&&o.selectiveExtend(["moment","locale","locales","id"],this.options,t)},l.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");function n(t){this.body.range._onMouseWheel(t)}e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",e.addEventListener?(e.addEventListener("mousewheel",n.bind(this),!1),e.addEventListener("DOMMouseScroll",n.bind(this),!1)):e.attachEvent("onmousewheel",n.bind(this)),t.appendChild(e),this.hammer=new i(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:i.DIRECTION_HORIZONTAL})},l.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},l.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales.en);var i=this.options.title;return void 0===i?i=(i=n.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+i.substring(1):"function"==typeof i&&(i=i.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=i,!1},l.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},l.prototype.setCustomTime=function(t){this.customTime=o.convert(t,"Date"),this.redraw()},l.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},l.prototype.setCustomTitle=function(t){this.options.title=t},l.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},l.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,n=this.body.util.toTime(e);this.setCustomTime(n),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},l.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},l.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(2),a=n(117).default,l=n(48).default,h=n(193).default,u=n(200).default,d=n(201).default,c=n(202).default,p=n(203).default,f=n(204).default,g=n(205).default,v=n(206).default,m=n(207).default,y=n(208).default,b=n(209).default,w=n(210).default,x=n(211).default,_=n(212).default,E=n(213).default,k=n(15).printStyle,S=function(){function t(e,n,o,r,l,h){(0,i.default)(this,t),this.options=s.bridgeObject(l),this.globalOptions=l,this.defaultOptions=h,this.body=n,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new a(this.body,this.options,!1),this.setOptions(e)}return(0,o.default)(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var n=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");return t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist),this.chooser=l.choosify("node",[e,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(e),this.updateShape(n),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){null==this.options.label&&(this.options.label=""),t.updateGroupOptions(this.options,e,this.grouplist);var n=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[e,this.options,n,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new h(this.options,this.body,this.labelModule);break;case"circle":this.shape=new u(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new d(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new c(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new p(this.options,this.body,this.labelModule);break;case"dot":this.shape=new f(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new g(this.options,this.body,this.labelModule);break;case"icon":this.shape=new v(this.options,this.body,this.labelModule);break;case"image":this.shape=new m(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new y(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new b(this.options,this.body,this.labelModule);break;case"star":this.shape=new w(this.options,this.body,this.labelModule);break;case"text":this.shape=new x(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new _(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new E(this.options,this.body,this.labelModule);break;default:this.shape=new g(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),o=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+i*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+i*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&l.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),l.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,n){if(void 0!==n){var i=t.group;if(void 0!==e&&void 0!==e.group&&i!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof i||"string"==typeof i&&""!=i){var o=n.get(i);s.selectiveNotDeepExtend(["font"],t,o),t.color=s.parseColor(t.color)}}}},{key:"parseOptions",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments[4],a=["color","fixed","shadow"];if(s.selectiveNotDeepExtend(a,e,n,i),t.checkMass(n),s.mergeOptions(e,n,"shadow",o),null!=n.color){var l=s.parseColor(n.color);s.fillIfDefined(e.color,l)}else!0===i&&null===n.color&&(e.color=s.bridgeObject(o.color));null!=n.fixed&&("boolean"==typeof n.fixed?(e.fixed.x=n.fixed,e.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"==typeof n.fixed.x&&(e.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"==typeof n.fixed.y&&(e.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(e.font=s.bridgeObject(o.font)),t.updateGroupOptions(e,n,r),void 0!==n.scaling&&s.mergeOptions(e.scaling,n.scaling,"label",o.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var n="";void 0!==e&&(n=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+n+", setting mass to 1.",k),t.mass=1}}}]),t}();e.default=S},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(6)),o=s(n(0)),r=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=n(2),l=function(){function t(){(0,o.default)(this,t)}return(0,r.default)(t,null,[{key:"choosify",value:function(t,e){var n=["node","edge","label"],o=!0,r=a.topMost(e,"chosen");if("boolean"==typeof r)o=r;else if("object"===(void 0===r?"undefined":(0,i.default)(r))){if(-1===n.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+n.join("', '")+"'");var s=a.topMost(e,["chosen",t]);"boolean"!=typeof s&&"function"!=typeof s||(o=s)}return o}},{key:"pointInRect",value:function(t,e,n){if(t.width<=0||t.height<=0)return!1;if(void 0!==n){var i={x:e.x-n.x,y:e.y-n.y};if(0!==n.angle){var o=-n.angle;e={x:Math.cos(o)*i.x-Math.sin(o)*i.y,y:Math.sin(o)*i.x+Math.cos(o)*i.y}}else e=i}return t.left<e.x&&t.x+t.width>e.x&&t.top<e.y&&t.y+t.width>e.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),t}();e.default=l},function(t,e,n){n(125);for(var i=n(18),o=n(26),r=n(31),s=n(13)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var h=a[l],u=i[h],d=u&&u.prototype;d&&!d[s]&&o(d,s,h),r[h]=r.Array}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,n){var i=n(32);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(27),o=n(130),r=n(58),s=n(56)("IE_PROTO"),a=function(){},l=function(){var t,e=n(82)("iframe"),i=r.length;for(e.style.display="none",n(134).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[r[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=l(),void 0===e?n:o(n,e)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(57)("keys"),o=n(40);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var i=n(18),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(20).f,o=n(22),r=n(13)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){var i=n(135)(!0);n(79)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){e.f=n(13)},function(t,e,n){var i=n(18),o=n(7),r=n(52),s=n(61),a=n(20).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=s(n(8)),o=s(n(19)),r=s(n(6));function s(t){return t&&t.__esModule?t:{default:t}}var a=n(2),l=n(9),h=n(16),u=n(36);function d(t,e){var n=l().hours(0).minutes(0).seconds(0).milliseconds(0),i=n.clone().add(-3,"days").valueOf(),o=n.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===e?(this.start=i,this.end=o):(this.start=e.start||i,this.end=e.end||o),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:l,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=a.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function c(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}(d.prototype=new h).setOptions=function(t){t&&(a.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end))},d.prototype.startRolling=function(){var t=this;!function e(){t.stopRolling(),t.rolling=!0;var n=t.end-t.start,i=a.convert(new Date,"Date").valueOf();t.setRange(i-n*t.options.rollingMode.offset,i+n*(1-t.options.rollingMode.offset),{animation:!1}),(n=1/t.conversion(t.body.domProps.center.width).scale/10)<30&&(n=30),n>1e3&&(n=1e3),t.body.dom.rollingModeBtn.style.visibility="hidden",t.currentTimeTimer=setTimeout(e,n)}()},d.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},d.prototype.setRange=function(t,e,n,s,l){n||(n={}),!0!==n.byUser&&(n.byUser=!1);var h=this,d=null!=t?a.convert(t,"Date").valueOf():null,c=null!=e?a.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,n.animation){var p=this.start,f=this.end,g="object"===(0,r.default)(n.animation)&&"duration"in n.animation?n.animation.duration:500,v="object"===(0,r.default)(n.animation)&&"easingFunction"in n.animation?n.animation.easingFunction:"easeInOutQuad",m=a.easingFunctions[v];if(!m)throw new Error("Unknown easing function "+(0,o.default)(v)+". Choose from: "+(0,i.default)(a.easingFunctions).join(", "));var y=(new Date).valueOf(),b=!1;return function t(){if(!h.props.touch.dragging){var e=(new Date).valueOf()-y,i=m(e/g),o=e>g;w=h._applyRange(o||null===d?d:p+(d-p)*i,o||null===c?c:f+(c-f)*i),u.updateHiddenDates(h.options.moment,h.body,h.options.hiddenDates),b=b||w;var r={start:new Date(h.start),end:new Date(h.end),byUser:n.byUser,event:n.event};if(l&&l(i,w,o),w&&h.body.emitter.emit("rangechange",r),o){if(b&&(h.body.emitter.emit("rangechanged",r),s))return s()}else h.animationTimer=setTimeout(t,20)}}()}var w=this._applyRange(d,c);if(u.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),w){var x={start:new Date(this.start),end:new Date(this.end),byUser:n.byUser,event:n.event};if(this.body.emitter.emit("rangechange",x),clearTimeout(h.timeoutID),h.timeoutID=setTimeout(function(){h.body.emitter.emit("rangechanged",x)},200),s)return s()}},d.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},d.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},d.prototype._applyRange=function(t,e){var n,i=null!=t?a.convert(t,"Date").valueOf():this.start,o=null!=e?a.convert(e,"Date").valueOf():this.end,r=null!=this.options.max?a.convert(this.options.max,"Date").valueOf():null,s=null!=this.options.min?a.convert(this.options.min,"Date").valueOf():null;if(isNaN(i)||null===i)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');if(o<i&&(o=i),null!==s&&i<s&&(i+=n=s-i,o+=n,null!=r&&o>r&&(o=r)),null!==r&&o>r&&(i-=n=o-r,o-=n,null!=s&&i<s&&(i=s)),null!==this.options.zoomMin){var l=parseFloat(this.options.zoomMin);l<0&&(l=0),o-i<l&&(this.end-this.start===l&&i>=this.start-.5&&o<=this.end?(i=this.start,o=this.end):(i-=(n=l-(o-i))/2,o+=n/2))}if(null!==this.options.zoomMax){var h=parseFloat(this.options.zoomMax);h<0&&(h=0),o-i>h&&(this.end-this.start===h&&i<this.start&&o>this.end?(i=this.start,o=this.end):(i+=(n=o-i-h)/2,o-=n/2))}var u=this.start!=i||this.end!=o;return i>=this.start&&i<=this.end||o>=this.start&&o<=this.end||this.start>=i&&this.start<=o||this.end>=i&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=i,this.end=o,u},d.prototype.getRange=function(){return{start:this.start,end:this.end}},d.prototype.conversion=function(t,e){return d.conversion(this.start,this.end,t,e)},d.conversion=function(t,e,n,i){return void 0===i&&(i=0),0!=n&&e-t!=0?{offset:t,scale:n/(e-t-i)}:{offset:0,scale:1}},d.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},d.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;c(e);var n="horizontal"==e?t.deltaX:t.deltaY;n-=this.deltaDifference;var i=this.props.touch.end-this.props.touch.start;i-=u.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var o,r="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height,s=this.props.touch.start+(o=this.options.rtl?n/r*i:-n/r*i),a=this.props.touch.end+o,l=u.snapAwayFromHidden(this.body.hiddenDates,s,this.previousDelta-n,!0),h=u.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-n,!0);if(l!=s||h!=a)return this.deltaDifference+=n,this.props.touch.start=l,this.props.touch.end=h,void this._onDrag(t);this.previousDelta=n,this._applyRange(s,a);var d=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:d,end:p,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},d.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},d.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var n,i;if(n=e<0?1-e/5:1/(1+e/5),this.rolling)i=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var o=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);i=this._pointerToDate(o)}this.zoom(n,i,e,t),t.preventDefault()}},d.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,a.preventDefault(t)},d.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){a.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),n=this._pointerToDate(this.props.touch.center),i=u.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=u.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,n),r=i-o,s=n-o+(this.props.touch.start-(n-o))*e,l=n+r+(this.props.touch.end-(n+r))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var h=u.snapAwayFromHidden(this.body.hiddenDates,s,1-e,!0),d=u.snapAwayFromHidden(this.body.hiddenDates,l,e-1,!0);h==s&&d==l||(this.props.touch.start=h,this.props.touch.end=d,this.scaleOffset=1-t.scale,s=h,l=d),this.setRange(s,l,{animation:!1,byUser:!0,event:t}),this.startToFront=!1,this.endToFront=!0}},d.prototype._isInsideRange=function(t){var e,n=t.center?t.center.x:t.clientX;e=this.options.rtl?n-a.getAbsoluteLeft(this.body.dom.centerContainer):a.getAbsoluteRight(this.body.dom.centerContainer)-n;var i=this.body.util.toTime(e);return i>=this.start&&i<=this.end},d.prototype._pointerToDate=function(t){var e,n=this.options.direction;return c(n),"horizontal"==n?this.body.util.toTime(t.x).valueOf():(e=this.conversion(this.body.domProps.center.height),t.y/e.scale+e.offset)},d.prototype.getPointer=function(t,e){return this.options.rtl?{x:a.getAbsoluteRight(e)-t.x,y:t.y-a.getAbsoluteTop(e)}:{x:t.x-a.getAbsoluteLeft(e),y:t.y-a.getAbsoluteTop(e)}},d.prototype.zoom=function(t,e,n,i){null==e&&(e=(this.start+this.end)/2);var o=u.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=u.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),s=o-r,a=e-r+(this.start-(e-r))*t,l=e+s+(this.end-(e+s))*t;this.startToFront=!(n>0),this.endToFront=!(-n>0);var h=u.snapAwayFromHidden(this.body.hiddenDates,a,n,!0),d=u.snapAwayFromHidden(this.body.hiddenDates,l,-n,!0);h==a&&d==l||(a=h,l=d),this.setRange(a,l,{animation:!1,byUser:!0,event:i}),this.startToFront=!1,this.endToFront=!0},d.prototype.move=function(t){var e=this.end-this.start,n=this.end+e*t;this.start=this.start+e*t,this.end=n},d.prototype.moveTo=function(t){var e=(this.start+this.end)/2-t;this.setRange(this.start-e,this.end-e,{animation:!1,byUser:!0,event:null})},t.exports=d},function(t,e,n){var i=r(n(19)),o=r(n(6));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(44),a=n(10),l=n(37),h=n(2),u=n(45),d=n(97),c=n(36),p=n(46);function f(){}s(f.prototype),f.prototype._create=function(t){this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",(function(){!0===this.initialDrawDone&&this._redraw()}).bind(this)),this.on("rangechanged",(function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}).bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var e=this;this._origRedraw=this._redraw.bind(this),this._redraw=h.throttle(this._origRedraw),this.on("_change",function(t){e.itemSet&&e.itemSet.initialItemSetDrawn&&t&&1==t.queue?e._redraw():e._origRedraw()}),this.hammer=new a(this.dom.root);var n=this.hammer.get("pinch").set({enable:!0});function i(t){this.isActive()&&this.emit("mousewheel",t);var e=0,n=0;if("detail"in t&&(n=-1*t.detail),"wheelDelta"in t&&(n=t.wheelDelta),"wheelDeltaY"in t&&(n=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*n,n=0),"deltaY"in t&&(n=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),this.options.zoomKey&&!t[this.options.zoomKey])if(t.preventDefault(),this.options.verticalScroll&&Math.abs(n)>=Math.abs(e)){var i=this.props.scrollTop+n;this.isActive()&&(this._setScrollTop(i),this._redraw(),this.emit("scroll",t))}else if(this.options.horizontalScroll){var o=(Math.abs(e)>=Math.abs(n)?e:n)/120*(this.range.end-this.range.start)/20;this.range.setRange(this.range.start+o,this.range.end+o,{animation:!1,byUser:!0,event:t})}}function o(t){e.options.verticalScroll&&(t.preventDefault(),e.isActive()&&(e._setScrollTop(-t.target.scrollTop),e._redraw(),e.emit("scrollSide",t)))}l.disablePreventDefaultVertically(n),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){var n=function(n){e.isActive()&&e.emit(t,n)};e.hammer.on(t,n),e.listeners[t]=n}),l.onTouch(this.hammer,(function(t){e.emit("touch",t)}).bind(this)),l.onRelease(this.hammer,(function(t){e.emit("release",t)}).bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",i.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",i.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",i.bind(this)),this.dom.left.parentNode.addEventListener("scroll",o.bind(this)),this.dom.right.parentNode.addEventListener("scroll",o.bind(this));var r=!1;if(this.dom.center.addEventListener("dragover",(function(t){if(t.preventDefault&&t.preventDefault(),!(!t.target.className.indexOf("vis")>-1||r))return t.dataTransfer.dropEffect="move",r=!0,!1}).bind(this),!1),this.dom.center.addEventListener("drop",(function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var n=JSON.parse(t.dataTransfer.getData("text"));if(!n||!n.content)return}catch(i){return!1}return r=!1,t.center={x:t.clientX,y:t.clientY},"item"!==n.target?e.itemSet._onAddItem(t):e.itemSet._onDropObjectOnItem(t),e.emit("drop",e.getEventProperties(t)),!1}).bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},f.prototype.setOptions=function(t){if(t){if(h.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,o.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===(0,o.default)(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var e=this.timeAxis2=new u(this.body);e.setOptions=function(t){var n=t?h.extend({},t):{};n.orientation="top",u.prototype.setOptions.call(e,n)},this.components.push(e)}}else if(this.timeAxis2){var n=this.components.indexOf(this.timeAxis2);-1!==n&&this.components.splice(n,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&c.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new d(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var i=h.deepExtend({},this.options);this.components.forEach(function(t){h.deepExtend(i,t.options)}),this.configurator.setModuleOptions({global:i})}this._redraw()},f.prototype.isActive=function(){return!this.activator||this.activator.active},f.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},f.prototype.setCustomTime=function(t,e){var n=this.customTimes.filter(function(t){return e===t.options.id});if(0===n.length)throw new Error("No custom time bar found with id "+(0,i.default)(e));n.length>0&&n[0].setCustomTime(t)},f.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,i.default)(t));return e[0].getCustomTime()},f.prototype.setCustomTimeTitle=function(t,e){var n=this.customTimes.filter(function(t){return t.options.id===e});if(0===n.length)throw new Error("No custom time bar found with id "+(0,i.default)(e));if(n.length>0)return n[0].setCustomTitle(t)},f.prototype.getEventProperties=function(t){return{event:t}},f.prototype.addCustomTime=function(t,e){var n=void 0!==t?h.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+(0,i.default)(e)+" already exists");var o=new p(this.body,h.extend({},this.options,{time:n,id:e}));return this.customTimes.push(o),this.components.push(o),this._redraw(),e},f.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,i.default)(t));e.forEach((function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}).bind(this))},f.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},f.prototype.fit=function(t,e){var n=this.getDataRange();if(null!==n.min||null!==n.max){var i=n.max-n.min,o=new Date(n.min.valueOf()-.01*i),r=new Date(n.max.valueOf()+.01*i);this.range.setRange(o,r,{animation:!t||void 0===t.animation||t.animation},e)}},f.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},f.prototype.setWindow=function(t,e,n,i){var o;"function"==typeof arguments[2]&&(i=arguments[2],n={}),1==arguments.length?this.range.setRange((o=arguments[0]).start,o.end,{animation:void 0===o.animation||o.animation}):2==arguments.length&&"function"==typeof arguments[1]?this.range.setRange((o=arguments[0]).start,o.end,{animation:void 0===o.animation||o.animation},i=arguments[1]):this.range.setRange(t,e,{animation:!n||void 0===n.animation||n.animation},i)},f.prototype.moveTo=function(t,e,n){"function"==typeof arguments[1]&&(n=arguments[1],e={});var i=this.range.end-this.range.start,o=h.convert(t,"Date").valueOf(),r=o-i/2,s=o+i/2,a=!e||void 0===e.animation||e.animation;this.range.setRange(r,s,{animation:a},n)},f.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},f.prototype.zoomIn=function(t,e,n){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(n=arguments[1],e={});var i=this.getWindow(),o=i.start.valueOf(),r=i.end.valueOf(),s=r-o,a=s/(1+t),l=(s-a)/2,h=o+l,u=r-l;this.setWindow(h,u,e,n)}},f.prototype.zoomOut=function(t,e,n){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(n=arguments[1],e={});var i=this.getWindow(),o=i.start.valueOf(),r=i.end.valueOf(),s=r-o,a=o-s*t/2,l=r+s*t/2;this.setWindow(a,l,e,n)}},f.prototype.redraw=function(){this._redraw()},f.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,n=this.props,i=this.dom;if(i&&i.container&&0!=i.root.offsetWidth){c.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(h.addClassName(i.root,"vis-top"),h.removeClassName(i.root,"vis-bottom")):(h.removeClassName(i.root,"vis-top"),h.addClassName(i.root,"vis-bottom")),i.root.style.maxHeight=h.option.asSize(e.maxHeight,""),i.root.style.minHeight=h.option.asSize(e.minHeight,""),i.root.style.width=h.option.asSize(e.width,""),n.border.left=(i.centerContainer.offsetWidth-i.centerContainer.clientWidth)/2,n.border.right=n.border.left,n.border.top=(i.centerContainer.offsetHeight-i.centerContainer.clientHeight)/2,n.border.bottom=n.border.top,n.borderRootHeight=i.root.offsetHeight-i.root.clientHeight,n.borderRootWidth=i.root.offsetWidth-i.root.clientWidth,0===i.centerContainer.clientHeight&&(n.border.left=n.border.top,n.border.right=n.border.left),0===i.root.clientHeight&&(n.borderRootWidth=n.borderRootHeight),n.center.height=i.center.offsetHeight,n.left.height=i.left.offsetHeight,n.right.height=i.right.offsetHeight,n.top.height=i.top.clientHeight||-n.border.top,n.bottom.height=i.bottom.clientHeight||-n.border.bottom;var o=Math.max(n.left.height,n.center.height,n.right.height);i.root.style.height=h.option.asSize(e.height,n.top.height+o+n.bottom.height+n.borderRootHeight+n.border.top+n.border.bottom+"px"),n.root.height=i.root.offsetHeight,n.background.height=n.root.height-n.borderRootHeight;var r=n.root.height-n.top.height-n.bottom.height-n.borderRootHeight;n.centerContainer.height=r,n.leftContainer.height=r,n.rightContainer.height=n.leftContainer.height,n.root.width=i.root.offsetWidth,n.background.width=n.root.width-n.borderRootWidth,this.initialDrawDone||(n.scrollbarWidth=h.getScrollBarWidth()),e.verticalScroll?e.rtl?(n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth+n.scrollbarWidth||-n.border.right):(n.left.width=i.leftContainer.clientWidth+n.scrollbarWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right):(n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right),this._setDOM();var s=this._updateScrollTop();"top"!=e.orientation.item&&(s+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),i.center.style.top=s+"px";var l=0==n.scrollTop?"hidden":"",u=n.scrollTop==n.scrollTopMin?"hidden":"";i.shadowTop.style.visibility=l,i.shadowBottom.style.visibility=u,i.shadowTopLeft.style.visibility=l,i.shadowBottomLeft.style.visibility=u,i.shadowTopRight.style.visibility=l,i.shadowBottomRight.style.visibility=u,e.verticalScroll&&(i.rightContainer.className="vis-panel vis-right vis-vertical-scroll",i.leftContainer.className="vis-panel vis-left vis-vertical-scroll",i.shadowTopRight.style.visibility="hidden",i.shadowBottomRight.style.visibility="hidden",i.shadowTopLeft.style.visibility="hidden",i.shadowBottomLeft.style.visibility="hidden",i.left.style.top="0px",i.right.style.top="0px"),(!e.verticalScroll||n.center.height<n.centerContainer.height)&&(i.left.style.top=s+"px",i.right.style.top=s+"px",i.rightContainer.className=i.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.leftContainer.className=i.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=i.leftContainer.clientWidth||-n.border.left,n.right.width=i.rightContainer.clientWidth||-n.border.right,this._setDOM());var d=n.center.height>n.centerContainer.height;if(this.hammer.get("pan").set({direction:d?a.DIRECTION_ALL:a.DIRECTION_HORIZONTAL}),this.components.forEach(function(e){t=e.redraw()||t}),t){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},f.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var n=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=n,t.centerContainer.width=n,t.top.width=n,t.bottom.width=n,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},f.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},f.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},f.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},f.prototype._toTime=function(t){return c.toTime(this,t,this.props.center.width)},f.prototype._toGlobalTime=function(t){return c.toTime(this,t,this.props.root.width)},f.prototype._toScreen=function(t){return c.toScreen(this,t,this.props.center.width)},f.prototype._toGlobalScreen=function(t){return c.toScreen(this,t,this.props.root.width)},f.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},f.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1==t.options.autoResize?t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=h.getScrollBarWidth(),t.body.emitter.emit("_change"))):t._stopAutoResize()},h.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},f.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(h.removeEventListener(window,"resize",this._onResize),this._onResize=null)},f.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},f.prototype._onPinch=function(t){this.touch.allowDragging=!1},f.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,n=this._getScrollTop(),i=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),i!=n&&this.emit("verticalDrag")}},f.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},f.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},f.prototype._getScrollTop=function(){return this.props.scrollTop},f.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=f},function(t,e,n){var i=n(9),o=n(36),r=n(2);function s(t,e,n,o,r){this.moment=i,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,n),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=Array.isArray(o)?o:null!=o?[o]:[],this.format=s.FORMAT,this.options=r||{}}s.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},s.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},s.prototype.setFormat=function(t){var e=r.deepExtend({},s.FORMAT);this.format=r.deepExtend(e,t)},s.prototype.setRange=function(t,e,n){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):new Date,this._end=null!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(n)},s.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},s.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},s.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},s.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,o.stepOverHiddenDates(this.moment,this,t)},s.prototype.getCurrent=function(){return this.current},s.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},s.prototype.setAutoScale=function(t){this.autoScale=t},s.prototype.setMinimumStep=function(t){null!=t&&(31104e9>t&&(this.scale="year",this.step=1e3),15552e9>t&&(this.scale="year",this.step=500),31104e8>t&&(this.scale="year",this.step=100),15552e8>t&&(this.scale="year",this.step=50),31104e7>t&&(this.scale="year",this.step=10),15552e7>t&&(this.scale="year",this.step=5),31104e6>t&&(this.scale="year",this.step=1),7776e6>t&&(this.scale="month",this.step=3),2592e6>t&&(this.scale="month",this.step=1),432e6>t&&(this.scale="day",this.step=5),1728e5>t&&(this.scale="day",this.step=2),864e5>t&&(this.scale="day",this.step=1),432e5>t&&(this.scale="weekday",this.step=1),144e5>t&&(this.scale="hour",this.step=4),36e5>t&&(this.scale="hour",this.step=1),9e5>t&&(this.scale="minute",this.step=15),6e5>t&&(this.scale="minute",this.step=10),3e5>t&&(this.scale="minute",this.step=5),6e4>t&&(this.scale="minute",this.step=1),15e3>t&&(this.scale="second",this.step=15),1e4>t&&(this.scale="second",this.step=10),5e3>t&&(this.scale="second",this.step=5),1e3>t&&(this.scale="second",this.step=1),200>t&&(this.scale="millisecond",this.step=200),100>t&&(this.scale="millisecond",this.step=100),50>t&&(this.scale="millisecond",this.step=50),10>t&&(this.scale="millisecond",this.step=10),5>t&&(this.scale="millisecond",this.step=5),1>t&&(this.scale="millisecond",this.step=1))},s.snap=function(t,e,n){var o=i(t);if("year"==e){var r=o.year()+Math.round(o.month()/12);o.year(Math.round(r/n)*n),o.month(0),o.date(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("month"==e)o.date()>15?(o.date(1),o.add(1,"month")):o.date(1),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("week"==e)o.weekday()>2?(o.weekday(0),o.add(1,"week")):o.weekday(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("day"==e){switch(n){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("weekday"==e){switch(n){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("hour"==e){switch(n){case 4:o.minutes(60*Math.round(o.minutes()/60));break;default:o.minutes(30*Math.round(o.minutes()/30))}o.seconds(0),o.milliseconds(0)}else if("minute"==e){switch(n){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5)),o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30))}o.milliseconds(0)}else if("second"==e)switch(n){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5)),o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500))}else if("millisecond"==e){var s=n>5?n/2:1;o.milliseconds(Math.round(o.milliseconds()/s)*s)}return o},s.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":case"week":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}},s.prototype.getLabelMinor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&e.length>0?this.moment(t).format(e):""}},s.prototype.getLabelMajor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},s.prototype.getClassName=function(){var t=this.moment,e=this.moment(this.current),n=e.locale?e.locale("en"):e.lang("en"),i=this.step,o=[];function r(t){return t/i%2==0?" vis-even":" vis-odd"}function s(e){return e.isSame(new Date,"day")?" vis-today":e.isSame(t().add(1,"day"),"day")?" vis-tomorrow":e.isSame(t().add(-1,"day"),"day")?" vis-yesterday":""}function a(t){return t.isSame(new Date,"week")?" vis-current-week":""}function l(t){return t.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":o.push(s(n)),o.push(r(n.milliseconds()));break;case"second":o.push(s(n)),o.push(r(n.seconds()));break;case"minute":o.push(s(n)),o.push(r(n.minutes()));break;case"hour":o.push("vis-h"+n.hours()+(4==this.step?"-h"+(n.hours()+4):"")),o.push(s(n)),o.push(r(n.hours()));break;case"weekday":o.push("vis-"+n.format("dddd").toLowerCase()),o.push(s(n)),o.push(a(n)),o.push(r(n.date()));break;case"day":o.push("vis-day"+n.date()),o.push("vis-"+n.format("MMMM").toLowerCase()),o.push(s(n)),o.push(l(n)),o.push(this.step<=2?s(n):""),o.push(this.step<=2?"vis-"+n.format("dddd").toLowerCase():""),o.push(r(n.date()-1));break;case"week":o.push("vis-week"+n.format("w")),o.push(a(n)),o.push(r(n.week()));break;case"month":o.push("vis-"+n.format("MMMM").toLowerCase()),o.push(l(n)),o.push(r(n.month()));break;case"year":o.push("vis-year"+n.year()),o.push(n.isSame(new Date,"year")?" vis-current-year":""),o.push(r(n.year()))}return o.filter(String).join(" ")},t.exports=s},function(t,e,n){var i=n(2),o=n(16),r=n(9),s=n(98);function a(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:r,locales:s,locale:"en"},this.options=i.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}(a.prototype=new o)._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},a.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},a.prototype.setOptions=function(t){t&&i.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},a.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),n=this.body.util.toScreen(e),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en);var o=i.current+" "+i.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.right=n+"px":this.bar.style.left=n+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},a.prototype.start=function(){var t=this;!function e(){t.stop();var n=1/t.body.range.conversion(t.body.domProps.center.width).scale/10;n<30&&(n=30),n>1e3&&(n=1e3),t.redraw(),t.body.emitter.emit("currentTimeTick"),t.currentTimeTimer=setTimeout(e,n)}()},a.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},a.prototype.setCurrentTime=function(t){var e=i.convert(t,"Date").valueOf(),n=(new Date).valueOf();this.offset=e-n,this.redraw()},a.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=a},function(t,e,n){var i,o=(i=n(8))&&i.__esModule?i:{default:i},r=n(2),s=n(100);function a(t,e,n){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=n,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,this.showNested=0!=e.showNested),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var i in e.subgroupStack)this.subgroupStack[i]=e.subgroupStack[i],this.doInnerStack=this.doInnerStack||e.subgroupStack[i];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(e)}a.prototype._create=function(){var t=document.createElement("div");t.className=this.itemSet.options.groupEditable.order?"vis-label draggable":"vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var n=document.createElement("div");n.className="vis-group",n["timeline-group"]=this,this.dom.foreground=n,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},a.prototype.setData=function(t){var e,n;if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?(n=this.itemSet.options.groupTemplate.bind(this))(t,this.dom.inner):t&&t.content)instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?n(t,this.dom.inner):this.dom.inner.innerHTML=null!=e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?r.removeClassName(this.dom.inner,"vis-hidden"):r.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(this.showNested=0!=t.showNested),r.addClassName(this.dom.label,"vis-nesting-group");var i=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(r.removeClassName(this.dom.label,i),r.addClassName(this.dom.label,"expanded")):(r.removeClassName(this.dom.label,"expanded"),r.addClassName(this.dom.label,i))}else this.nestedGroups&&(this.nestedGroups=null,r.removeClassName(this.dom.label,i=this.itemSet.options.rtl?"collapsed-rtl":"collapsed"),r.removeClassName(this.dom.label,"expanded"),r.removeClassName(this.dom.label,"vis-nesting-group"));t&&t.nestedInGroup&&(r.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var o=t&&t.className||null;o!=this.className&&(this.className&&(r.removeClassName(this.dom.label,this.className),r.removeClassName(this.dom.foreground,this.className),r.removeClassName(this.dom.background,this.className),r.removeClassName(this.dom.axis,this.className)),r.addClassName(this.dom.label,o),r.addClassName(this.dom.foreground,o),r.addClassName(this.dom.background,o),r.addClassName(this.dom.axis,o),this.className=o),this.style&&(r.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(r.addCssText(this.dom.label,t.style),this.style=t.style)},a.prototype.getLabelWidth=function(){return this.props.label.width},a.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var e={},n=0;if(r.forEach(this.items,function(t,i){t.dirty=!0,t.displayed&&(e[i]=t.redraw(!0),n=e[i].length)}),n>0)for(var i=0;i<n;i++)r.forEach(e,function(t){t[i]()});return!0}},a.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetLeft,e=this.dom.foreground.offsetWidth;this.top=this.dom.foreground.offsetTop,this.right=t,this.width=e},a.prototype._redrawItems=function(t,e,n,i){if(t||this.stackDirty||this.isVisible&&!e){var o={},a=null;if("function"==typeof this.itemSet.options.order){var l=this,h={},u=0;if(r.forEach(this.items,function(t,e){t.displayed||(h[e]=t.redraw(!0),u=h[e].length,l.visibleItems.push(t))}),u>0)for(var d=0;d<u;d++)r.forEach(h,function(t){t[d]()});if(r.forEach(this.items,function(t){t.repositionX(!1)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(a in this.subgroups)o[a]=this.subgroups[a].items.slice().sort(function(t,e){return l.itemSet.options.order(t.data,e.data)});s.stackSubgroupsWithInnerStack(o,n,this.subgroups)}else{var c=this.orderedItems.byStart.slice().sort(function(t,e){return l.itemSet.options.order(t.data,e.data)});s.stack(c,n,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,i)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,i),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(a in this.subgroups)o[a]=this.subgroups[a].items;s.stackSubgroupsWithInnerStack(o,n,this.subgroups)}else s.stack(this.visibleItems,n,!0);else s.nostack(this.visibleItems,n,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},a.prototype._didResize=function(t,e){t=r.updateProperty(this,"height",e)||t;var n=this.dom.inner.clientHeight;return t=r.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||t,r.updateProperty(this.props.label,"height",n)||t},a.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px",this.dom.foreground.style.height=t+"px",this.dom.label.style.height=t+"px"},a.prototype._updateItemsVerticalPosition=function(t){for(var e=0,n=this.visibleItems.length;e<n;e++){var i=this.visibleItems[e];i.repositionY(t),this.isVisible||"__background__"==this.groupId||i.displayed&&i.hide()}},a.prototype.redraw=function(t,e,n,i){var o,r,s=!1,a=this.isVisible,l=[(function(){n=this._didMarkerHeightChange.bind(this)}).bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),(function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}).bind(this),(function(){this._redrawItems.bind(this)(n,a,e,t)}).bind(this),this._updateSubgroupsSizes.bind(this),(function(){o=this._calculateHeight.bind(this)(e)}).bind(this),this._calculateGroupSizeAndPosition.bind(this),(function(){s=this._didResize.bind(this)(s,o)}).bind(this),(function(){this._applyGroupHeight.bind(this)(o)}).bind(this),(function(){this._updateItemsVerticalPosition.bind(this)(e)}).bind(this),function(){return!this.isVisible&&this.height&&(s=!1),s}];return i?l:(l.forEach(function(t){r=t()}),r)},a.prototype._updateSubGroupHeights=function(t){if((0,o.default)(this.subgroups).length>0){var e=this;this.resetSubgroups(),r.forEach(this.visibleItems,function(n){void 0!==n.data.subgroup&&(e.subgroups[n.data.subgroup].height=Math.max(e.subgroups[n.data.subgroup].height,n.height+t.item.vertical),e.subgroups[n.data.subgroup].visible=!0)})}},a.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},a.prototype._calculateHeight=function(t){var e,n=this.visibleItems;if(n.length>0){var i=n[0].top,o=n[0].top+n[0].height;if(r.forEach(n,function(t){i=Math.min(i,t.top),o=Math.max(o,t.top+t.height)}),i>t.axis){var s=i-t.axis;o-=s,r.forEach(n,function(t){t.top-=s})}e=o+t.item.vertical/2}else e=0;return Math.max(e,this.props.label.height)},a.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},a.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var n=this.dom.background;n.parentNode&&n.parentNode.removeChild(n);var i=this.dom.axis;i.parentNode&&i.parentNode.removeChild(i)},a.prototype.add=function(t){this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)&&this._checkIfVisible(t,this.visibleItems,this.itemSet.body.range)},a.prototype._addToSubgroup=function(t,e){null!=(e=e||t.data.subgroup)&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var n=t.data.end||t.data.start;new Date(n)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=n),this.subgroups[e].items.push(t)},a.prototype._updateSubgroupsSizes=function(){var t=this;if(t.subgroups)for(var e in t.subgroups){var n=t.subgroups[e].items[0].data.start,i=(t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start)-1;t.subgroups[e].items.forEach(function(t){new Date(t.data.start)<new Date(n)&&(n=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(i)&&(i=e)}),t.subgroups[e].start=n,t.subgroups[e].end=new Date(i-1)}},a.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t,e=[];if("string"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var n=0;n<e.length;n++)this.subgroups[e[n].subgroup].index=n}},a.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},a.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},a.prototype._removeFromSubgroup=function(t,e){if(null!=(e=e||t.data.subgroup)){var n=this.subgroups[e];if(n){var i=n.items.indexOf(t);i>=0&&(n.items.splice(i,1),n.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},a.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},a.prototype.order=function(){for(var t=r.toArray(this.items),e=[],n=[],i=0;i<t.length;i++)void 0!==t[i].data.end&&n.push(t[i]),e.push(t[i]);this.orderedItems={byStart:e,byEnd:n},s.orderByStart(this.orderedItems.byStart),s.orderByEnd(this.orderedItems.byEnd)},a.prototype._updateItemsInRange=function(t,e,n){var i=[],o={},s=(n.end-n.start)/4,a=n.start-s,l=n.end+s,h=function(t){return t<a?-1:t<=l?0:1};if(e.length>0)for(var u=0;u<e.length;u++)this._checkIfVisibleWithReference(e[u],i,o,n);var d=r.binarySearchCustom(t.byStart,h,"data","start");if(this._traceVisible(d,t.byStart,i,o,function(t){return t.data.start<a||t.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,u=0;u<t.byEnd.length;u++)this._checkIfVisibleWithReference(t.byEnd[u],i,o,n);else{var c=r.binarySearchCustom(t.byEnd,h,"data","end");this._traceVisible(c,t.byEnd,i,o,function(t){return t.data.end<a||t.data.end>l})}var p={},f=0;for(u=0;u<i.length;u++){var g=i[u];g.displayed||(p[u]=g.redraw(!0),f=p[u].length)}if(f>0)for(var v=0;v<f;v++)r.forEach(p,function(t){t[v]()});for(u=0;u<i.length;u++)i[u].repositionX();return i},a.prototype._traceVisible=function(t,e,n,i,o){if(-1!=t){var r,s;for(r=t;r>=0&&!o(s=e[r]);r--)void 0===i[s.id]&&(i[s.id]=!0,n.push(s));for(r=t+1;r<e.length&&!o(s=e[r]);r++)void 0===i[s.id]&&(i[s.id]=!0,n.push(s))}},a.prototype._checkIfVisible=function(t,e,n){t.isVisible(n)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},a.prototype._checkIfVisibleWithReference=function(t,e,n,i){t.isVisible(i)?void 0===n[t.id]&&(n[t.id]=!0,e.push(t)):t.displayed&&t.hide()},a.prototype.changeSubgroup=function(t,e,n){this._removeFromSubgroup(t,e),this._addToSubgroup(t,n),this.orderSubgroups()},t.exports=a},function(t,e,n){var i,o=(i=n(29))&&i.__esModule?i:{default:i},r=n(68);function s(t,e,n){r.call(this,t,e,n),this.width=0,this.height=0,this.top=0,this.left=0}(s.prototype=(0,o.default)(r.prototype)).redraw=function(t,e,n){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var i=0,o=this.visibleItems.length;i<o;i++)this.visibleItems[i].repositionY(e);return!1},s.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=s},function(t,e,n){var i=n(38);function o(t,e,n){if(this.props={content:{width:0}},this.overflow=!1,this.options=n,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}i.call(this,t,e,n)}(o.prototype=new i(null,null,null)).baseClassName="vis-item vis-range",o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),this.dom.content.style.maxWidth="none")},o.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},o.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach(function(t){n=t()}),n)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},o.prototype.repositionX=function(t){var e,n,i=this.parent.width,o=this.conversion.toScreen(this.data.start),r=this.conversion.toScreen(this.data.end),s=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(o<-i&&(o=-i),r>2*i&&(r=2*i));var a=Math.max(r-o+.5,1);switch(this.overflow?(this.options.rtl?this.right=o:this.left=o,this.width=a+this.props.content.width,n=this.props.content.width):(this.options.rtl?this.right=o:this.left=o,this.width=a,n=Math.min(r-o,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=a+"px",s){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(a-n,0)+"px":this.dom.content.style.left=Math.max(a-n,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((a-n)/2,0)+"px":this.dom.content.style.left=Math.max((a-n)/2,0)+"px";break;default:e=this.overflow?r>0?Math.max(-o,0):-n:o<0?-o:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},o.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},o.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(19)),o=a(n(6)),r=a(n(0)),s=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}var l=n(2),h=n(179).default,u=function(){function t(e,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,r.default)(this,t),this.parent=e,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},l.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new h(o),this.wrapper=void 0}return(0,s.default)(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":(0,o.default)(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,n=0,i=!1;for(var o in this.configureOptions)this.configureOptions.hasOwnProperty(o)&&(this.allowCreation=!1,i=!1,"function"==typeof e?i=(i=e(o,[]))||this._handleObject(this.configureOptions[o],[o],!0):!0!==e&&-1===e.indexOf(o)||(i=!0),!1!==i&&(this.allowCreation=!0,n>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),n++);if(!0===this.options.showButton){var r=document.createElement("div");r.className="vis-configuration vis-config-button",r.innerHTML="generate options",r.onclick=function(){t._printOptions()},r.onmouseover=function(){r.className="vis-configuration vis-config-button hover"},r.onmouseout=function(){r.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(r)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,n=0;n<t.length;n++){if(void 0===e[t[n]]){e=void 0;break}e=e[t[n]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");return i.className="vis-configuration vis-config-label vis-config-s"+e.length,i.innerHTML=!0===n?"<i><b>"+t+":</b></i>":t+":",i}},{key:"_makeDropdown",value:function(t,e,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===o&&(s.selected="selected"),s.innerHTML=t[r],i.appendChild(s)}var a=this;i.onchange=function(){a._update(this.value,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,i)}},{key:"_makeRange",value:function(t,e,n){var i=t[0],o=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=o,a.max=r}catch(f){}a.step=s;var l="",h=0;void 0!==e?(e<0&&1.2*e<o?(a.min=Math.ceil(1.2*e),h=a.min,l="range increased"):e/1.2<o&&(a.min=Math.ceil(e/1.2),h=a.min,l="range increased"),1.2*e>r&&1!==r&&(a.max=Math.ceil(1.2*e),h=a.max,l="range increased"),a.value=e):a.value=i;var u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=a.value;var d=this;a.onchange=function(){u.value=this.value,d._update(Number(this.value),n)},a.oninput=function(){u.value=this.value};var c=this._makeLabel(n[n.length-1],n),p=this._makeItem(n,c,a,u);""!==l&&this.popupHistory[p]!==h&&(this.popupHistory[p]=h,this._setupPopup(l,p))}},{key:"_setupPopup",value:function(t,e){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=t,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=t,void 0!==e&&(i.checked=e,e!==t&&("object"===(void 0===t?"undefined":(0,o.default)(t))?e!==t.enabled&&this.changedOptions.push({path:n,value:e}):this.changedOptions.push({path:n,value:e})));var r=this;i.onchange=function(){r._update(this.checked,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,i)}},{key:"_makeTextInput",value:function(t,e,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=e,e!==t&&this.changedOptions.push({path:n,value:e});var o=this;i.onchange=function(){o._update(this.value,n)};var r=this._makeLabel(n[n.length-1],n);this._makeItem(n,r,i)}},{key:"_makeColorField",value:function(t,e,n){var i=this,o=t[1],r=document.createElement("div");"none"!==(e=void 0===e?o:e)?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=e):r.className="vis-configuration vis-config-colorBlock none",e=void 0===e?o:e,r.onclick=function(){i._showColorPicker(e,r,n)};var s=this._makeLabel(n[n.length-1],n);this._makeItem(n,s,r)}},{key:"_showColorPicker",value:function(t,e,n){var i=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var o="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=o,i._update(o,n)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){i._showColorPicker(t,e,n)}})}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,o=this.options.filter,r=!1;for(var s in t)if(t.hasOwnProperty(s)){i=!0;var a=t[s],h=l.copyAndExtendArray(e,s);if("function"==typeof o&&!1===(i=o(s,e))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,i=this._handleObject(a,h,!0),this.allowCreation=!1===n),!1!==i){r=!0;var u=this._getValue(h);if(a instanceof Array)this._handleArray(a,u,h);else if("string"==typeof a)this._makeTextInput(a,u,h);else if("boolean"==typeof a)this._makeCheckbox(a,u,h);else if(a instanceof Object){var d=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==s&&(d=!1),!0===d)if(void 0!==a.enabled){var c=l.copyAndExtendArray(h,"enabled"),p=this._getValue(c);if(!0===p){var f=this._makeLabel(s,h,!0);this._makeItem(h,f),r=this._handleObject(a,h)||r}else this._makeCheckbox(a,p,h)}else{var g=this._makeLabel(s,h,!0);this._makeItem(h,g),r=this._handleObject(a,h)||r}}else console.error("dont know how to handle",a,s,h)}}return r}},{key:"_handleArray",value:function(t,e,n){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,n),t[1]!==e&&this.changedOptions.push({path:n,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,n),t[0]!==e&&this.changedOptions.push({path:n,value:Number(e)}))}},{key:"_update",value:function(t,e){var n=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n;t="false"!==(t="true"===t||t)&&t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===i[e[o]]&&(i[e[o]]={}),o!==e.length-1?i=i[e[o]]:i[e[o]]=t);return n}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,i.default)(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e.default=u},function(t,e,n){var i,o=(i=n(6))&&i.__esModule?i:{default:i},r=n(14);function s(t,e){}function a(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}s.draw=function(t,e,n,i){i=i||0;for(var s=function(t,e){var n=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(n=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(n=e.group.options.drawPoints.onRender),n}(n,e),l=0;l<t.length;l++)if(s){var h=s(t[l],e);!0!==h&&"object"!==(void 0===h?"undefined":(0,o.default)(h))||r.drawPoint(t[l].screen_x+i,t[l].screen_y,a(e,h),n.svgElements,n.svg,t[l].label)}else r.drawPoint(t[l].screen_x+i,t[l].screen_y,a(e),n.svgElements,n.svg,t[l].label)},s.drawIcon=function(t,e,n,i,o,s){var l=.5*o,h=r.getSVGElement("rect",s.svgElements,s.svg);h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",n-l),h.setAttributeNS(null,"width",i),h.setAttributeNS(null,"height",2*l),h.setAttributeNS(null,"class","vis-outline"),r.drawPoint(e+.5*i,n,a(t),s.svgElements,s.svg)},t.exports=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(23));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r));return a.labelOffset=0,a.selected=!1,a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"setOptions",value:function(t,e,n){this.options=t,void 0===e&&void 0===n||this.setImages(e,n)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),t=2*this.options.size*n,e=2*this.options.size*i}else t=this.imageObj.width,e=this.imageObj.height;this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,n,i){this.initContextForDraw(t,i),t.circle(e,n,i.size),this.performFill(t,i)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,n,this.left,this.top,this.width,this.height),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,n,i,o){var r,s=0;if(void 0!==this.height){s=.5*this.height;var a=this.labelModule.getTextSize(t,i,o);a.lineCount>=1&&(s+=a.height/2)}r=n+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,r,i,o,"hanging")}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(19)),o=l(n(6)),r=l(n(29)),s=l(n(0)),a=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=n(2),u=n(117).default,d=n(48).default,c=n(215).default,p=n(217).default,f=n(218).default,g=n(219).default,v=function(){function t(e,n,i,o){if((0,s.default)(this,t),void 0===n)throw new Error("No body provided");this.options=h.bridgeObject(i),this.globalOptions=i,this.defaultOptions=o,this.body=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new u(this.body,this.options,!0),this.setOptions(e)}return(0,a.default)(t,[{key:"setOptions",value:function(e){if(e){t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value)),this.chooser=d.choosify("edge",[e,this.options,this.defaultOptions]),this.updateLabelModule(e);var n=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(n=!0),n}}},{key:"getFormattingValues",value:function(){var t=this.options.color.inherit,e={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:t?void 0:this.options.color.color,inheritsColor:t,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var n=this.options.selectionWidth;"function"==typeof n?e.width=n(e.width):"number"==typeof n&&(e.width+=n),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.highlight,e.shadow=this.options.shadow.enabled}else if(this.hover){var i=this.options.hoverWidth;"function"==typeof i?e.width=i(e.width):"number"==typeof i&&(e.width+=i),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.hover,e.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),void 0!==e.color&&(e.inheritsColor=!1),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0)));else e.shadow=this.options.shadow.enabled,e.width=Math.max(e.width,.3/this.body.view.scale);return e}},{key:"updateLabelModule",value:function(t){this.labelModule.update(this.options,[t,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof p&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof c&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof f&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof g&&!1===t.type.enabled)&&(n=!1),!0===n&&(e=this.cleanup())),!0===n?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new p(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===t.type?new c(this.options,this.body,this.labelModule):new f(this.options,this.body,this.labelModule):this.edgeType=new g(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(t,e,n,this.options.value),o=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+i*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+i*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(i.from=this.edgeType.getArrowData(t,"from",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core)),e.toArrow&&(i.to=this.edgeType.getArrowData(t,"to",n,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core)),e.middleArrow&&(i.middle=this.edgeType.getArrowData(t,"middle",n,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,n),this.drawArrows(t,i,e),this.drawLabel(t,n)}}},{key:"drawArrows",value:function(t,e,n){n.fromArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.from),n.middleArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.middle),n.toArrow&&this.edgeType.drawArrowHead(t,n,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var n=this.from,i=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),n.id!=i.id){this.labelModule.pointToSelf=!1;var o=this.edgeType.getPoint(.5,e);t.save();var r=this._getRotation(t);0!=r.angle&&(t.translate(r.x,r.y),t.rotate(r.angle)),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover),t.restore()}else{var s,a;this.labelModule.pointToSelf=!0;var l=this.options.selfReferenceSize;n.shape.width>n.shape.height?(s=n.x+.5*n.shape.width,a=n.y-l):(s=n.x+l,a=n.y-.5*n.shape.height),o=this._pointOnCircle(s,a,l,.125),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var n=this._getRotation();d.pointInRect(this.labelModule.getSize(),t,n)&&e.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:t.x,top:t.y})&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,t.left,t.top)<10}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,n.x,n.y);var i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return i;if("horizontal"===this.options.font.align)return i;var o=this.from.x-this.to.x,r=Math.atan2(this.from.y-this.to.y,o);return(r<-1&&o<0||r>0&&o<0)&&(r+=Math.PI),i.angle=r,i}},{key:"_pointOnCircle",value:function(t,e,n,i){var o=2*i*Math.PI;return{x:t+n*Math.cos(o),y:e-n*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(h.selectiveDeepExtend(l,t,e,n),t.label=d.isValidLabel(e.label)?e.label:void 0,h.mergeOptions(t,e,"smooth",s),h.mergeOptions(t,e,"shadow",s),null!=e.dashes?t.dashes=e.dashes:!0===n&&null===e.dashes&&(t.dashes=(0,r.default)(s.dashes)),null!=e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),h.mergeOptions(t.scaling,e.scaling,"label",s.scaling)):!0===n&&null===e.scaling&&(t.scaling=(0,r.default)(s.scaling)),null!=e.arrows)if("string"==typeof e.arrows){var u=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=u.indexOf("to"),t.arrows.middle.enabled=-1!=u.indexOf("middle"),t.arrows.from.enabled=-1!=u.indexOf("from")}else{if("object"!==(0,o.default)(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,i.default)(e.arrows));h.mergeOptions(t.arrows,e.arrows,"to",s.arrows),h.mergeOptions(t.arrows,e.arrows,"middle",s.arrows),h.mergeOptions(t.arrows,e.arrows,"from",s.arrows)}else!0===n&&null===e.arrows&&(t.arrows=(0,r.default)(s.arrows));if(null!=e.color){var c=e.color,p=t.color;if(a)h.deepExtend(p,s.color,!1,n);else for(var f in p)p.hasOwnProperty(f)&&delete p[f];if(h.isString(p))p.color=p,p.highlight=p,p.hover=p,p.inherit=!1,void 0===c.opacity&&(p.opacity=1);else{var g=!1;void 0!==c.color&&(p.color=c.color,g=!0),void 0!==c.highlight&&(p.highlight=c.highlight,g=!0),void 0!==c.hover&&(p.hover=c.hover,g=!0),void 0!==c.inherit&&(p.inherit=c.inherit),void 0!==c.opacity&&(p.opacity=Math.min(1,Math.max(0,c.opacity))),!0===g?p.inherit=!1:void 0===p.inherit&&(p.inherit="from")}}else!0===n&&null===e.color&&(t.color=h.bridgeObject(s.color));!0===n&&null===e.font&&(t.font=h.bridgeObject(s.font))}}]),t}();e.default=v},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(118));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_findBorderPositionBezier",value:function(t,e){var n,i,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),s=10,a=0,l=0,h=1,u=.2,d=this.to,c=!1;for(t.id===this.from.id&&(d=this.from,c=!0);l<=h&&a<s;){var p=.5*(l+h);if(n=this.getPoint(p,r),i=Math.atan2(d.y-n.y,d.x-n.x),o=d.distanceToBorder(e,i)-Math.sqrt(Math.pow(n.x-d.x,2)+Math.pow(n.y-d.y,2)),Math.abs(o)<u)break;o<0?!1===c?l=p:h=p:!1===c?h=p:l=p,a++}return n.t=p,n}},{key:"_getDistanceToBezierEdge",value:function(t,e,n,i,o,r,s){var a=1e9,l=void 0,h=void 0,u=void 0,d=void 0,c=void 0,p=t,f=e;for(h=1;h<10;h++)u=.1*h,d=Math.pow(1-u,2)*t+2*u*(1-u)*s.x+Math.pow(u,2)*n,c=Math.pow(1-u,2)*e+2*u*(1-u)*s.y+Math.pow(u,2)*i,h>0&&(a=(l=this._getDistanceToLine(p,f,d,c,o,r))<a?l:a),p=d,f=c;return a}},{key:"_bezierCurve",value:function(t,e,n,i){var o=void 0!==n&&void 0!==n.x,r=void 0!==i&&void 0!==i.x;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),o&&r?t.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):o?t.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(2),a=function(){function t(){(0,i.default)(this,t)}return(0,o.default)(t,null,[{key:"getRange",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,o=-1e9,r=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)r>(e=t[n[a]]).shape.boundingBox.left&&(r=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),i>e.shape.boundingBox.top&&(i=e.shape.boundingBox.top),o<e.shape.boundingBox.bottom&&(o=e.shape.boundingBox.bottom);return 1e9===r&&-1e9===s&&1e9===i&&-1e9===o&&(i=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:i,maxY:o}}},{key:"getRangeCore",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,o=-1e9,r=1e9,s=-1e9;if(n.length>0)for(var a=0;a<n.length;a++)r>(e=t[n[a]]).x&&(r=e.x),s<e.x&&(s=e.x),i>e.y&&(i=e.y),o<e.y&&(o=e.y);return 1e9===r&&-1e9===s&&1e9===i&&-1e9===o&&(i=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:i,maxY:o}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var n={};return void 0===e||"node"===e?(s.deepExtend(n,t.options,!0),n.x=t.x,n.y=t.y,n.amountOfConnections=t.edges.length):s.deepExtend(n,t.options,!0),n}}]),t}();e.default=a},function(t,e,n){t.exports={default:n(124),__esModule:!0}},function(t,e,n){var i=n(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(52),o=n(17),r=n(83),s=n(26),a=n(22),l=n(31),h=n(129),u=n(59),d=n(85),c=n(13)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,g,v,m,y){h(n,e,g);var b,w,x,_=function(t){if(!p&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",k="values"==v,S=!1,C=t.prototype,T=C[c]||C["@@iterator"]||v&&C[v],M=T||_(v),D=v?k?_("entries"):M:void 0,O="Array"==e&&C.entries||T;if(O&&(x=d(O.call(new t)))!==Object.prototype&&x.next&&(u(x,E,!0),i||a(x,c)||s(x,c,f)),k&&T&&"values"!==T.name&&(S=!0,M=function(){return T.call(this)}),i&&!y||!p&&!S&&C[c]||s(C,c,M),l[e]=M,l[E]=f,v)if(b={values:k?M:_("values"),keys:m?M:_("keys"),entries:D},y)for(w in b)w in C||r(C,w,b[w]);else o(o.P+o.F*(p||S),e,b);return b}},function(t,e,n){var i=n(128);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){t.exports=!n(21)&&!n(28)(function(){return 7!=Object.defineProperty(n(82)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(32),o=n(18).document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,n){t.exports=n(26)},function(t,e,n){var i=n(22),o=n(25),r=n(131)(!1),s=n(56)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),l=0,h=[];for(n in a)n!=s&&i(a,n)&&h.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~r(h,n)||h.push(n));return h}},function(t,e,n){var i=n(22),o=n(41),r=n(56)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var i=n(50),o=n(13)("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),o))?n:r?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var i=n(17),o=n(7),r=n(28);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*r(function(){n(1)}),"Object",s)}},function(t,e,n){var i=n(84),o=n(58).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){var i=n(42),o=n(39),r=n(25),s=n(53),a=n(22),l=n(81),h=Object.getOwnPropertyDescriptor;e.f=n(21)?h:function(t,e){if(t=r(t),e=s(e,!0),l)try{return h(t,e)}catch(n){}if(a(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){t.exports={default:n(162),__esModule:!0}},function(t,e,n){t.exports=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}},function(t,e,n){var i=n(2);function o(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var n=this;this.frame.slide.onmousedown=function(t){n._onMouseDown(t)},this.frame.prev.onclick=function(t){n.prev(t)},this.frame.play.onclick=function(t){n.togglePlay(t)},this.frame.next.onclick=function(t){n.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}o.prototype.prev=function(){var t=this.getIndex();t>0&&this.setIndex(--t)},o.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&this.setIndex(++t)},o.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?this.setIndex(++e):this.playLoop&&this.setIndex(e=0);var n=new Date,i=Math.max(this.playInterval-(n-t),0),o=this;this.playTimeout=setTimeout(function(){o.playNext()},i)},o.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},o.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},o.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},o.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},o.prototype.setPlayInterval=function(t){this.playInterval=t},o.prototype.getPlayInterval=function(){return this.playInterval},o.prototype.setPlayLoop=function(t){this.playLoop=t},o.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},o.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},o.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},o.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},o.prototype.getIndex=function(){return this.index},o.prototype.get=function(){return this.values[this.index]},o.prototype._onMouseDown=function(t){if(t.which?1===t.which:1===t.button){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},i.addEventListener(document,"mousemove",this.onmousemove),i.addEventListener(document,"mouseup",this.onmouseup),i.preventDefault(t)}},o.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,n=Math.round((t-3)/e*(this.values.length-1));return n<0&&(n=0),n>this.values.length-1&&(n=this.values.length-1),n},o.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(this.values.length-1)*e+3},o.prototype._onMouseMove=function(t){var e=this.leftToIndex(this.startSlideX+(t.clientX-this.startClientX));this.setIndex(e),i.preventDefault()},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",i.removeEventListener(document,"mousemove",this.onmousemove),i.removeEventListener(document,"mouseup",this.onmouseup),i.preventDefault()},t.exports=o},function(t,e,n){function i(t,e,n,i){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,n,i)}i.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},i.prototype.setRange=function(t,e,n,i){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(n))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(n,i)},i.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),this._step=!0===this.prettyStep?i.calculatePrettyStep(t):t)},i.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},n=Math.pow(10,Math.round(e(t))),i=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5))),r=n;return Math.abs(i-t)<=Math.abs(r-t)&&(r=i),Math.abs(o-t)<=Math.abs(r-t)&&(r=o),r<=0&&(r=1),r},i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},i.prototype.getStep=function(){return this._step},i.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},i.prototype.next=function(){this._current+=this._step},i.prototype.end=function(){return this._current>this._end},t.exports=i},function(t,e,n){var i,o=(i=n(6))&&i.__esModule?i:{default:i},r=n(2),s=n(95),a=n(34),l={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},h={dot:l.DOT,"dot-line":l.DOTLINE,"dot-color":l.DOTCOLOR,"dot-size":l.DOTSIZE,line:l.LINE,grid:l.GRID,surface:l.SURFACE,bar:l.BAR,"bar-color":l.BARCOLOR,"bar-size":l.BARSIZE},u=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],d=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],c=void 0;function p(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function f(t,e){return void 0===t||""===t?e:t+(void 0===(n=e)||""===n||"string"!=typeof n?n:n.charAt(0).toUpperCase()+n.slice(1));var n}function g(t,e,n,i){for(var o,r=0;r<n.length;++r)e[f(i,o=n[r])]=t[o]}function v(t,e,n,i){for(var o,r=0;r<n.length;++r)void 0!==t[o=n[r]]&&(e[f(i,o)]=t[o])}function m(t,e){void 0!==t.backgroundColor&&function(t,e){var n="white",i="gray",r=1;if("string"==typeof t)n=t,i="none",r=0;else{if("object"!==(void 0===t?"undefined":(0,o.default)(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(n=t.fill),void 0!==t.stroke&&(i=t.stroke),void 0!==t.strokeWidth&&(r=t.strokeWidth)}e.frame.style.backgroundColor=n,e.frame.style.borderColor=i,e.frame.style.borderWidth=r+"px",e.frame.style.borderStyle="solid"}(t.backgroundColor,e),function(t,e){void 0!==t&&(void 0===e.dataColor&&(e.dataColor={}),"string"==typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(t.fill&&(e.dataColor.fill=t.fill),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth)))}(t.dataColor,e),function(t,e){if(void 0!==t){var n,i;if("string"==typeof t){if(-1===(n=void 0===(i=h[t])?-1:i))throw new Error("Style '"+t+"' is invalid")}else{if(!function(t){var e=!1;for(var n in l)if(l[n]===t){e=!0;break}return e}(t))throw new Error("Style '"+t+"' is invalid");n=t}e.style=n}}(t.style,e),function(t,e){void 0===t?void 0===c.showLegend&&(e.showLegend=e.style===l.DOTCOLOR||e.style===l.DOTSIZE):e.showLegend=t}(t.showLegend,e),y(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),null!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&r.selectiveDeepExtend(["tooltipStyle"],e,t)}function y(t,e){var n=t;void 0!==n&&(void 0===e.camera&&(e.camera=new s),e.camera.setArmRotation(n.horizontal,n.vertical),e.camera.setArmLength(n.distance))}t.exports.STYLE=l,t.exports.setDefaults=function(t,e){if(void 0===t||p(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");c=t,g(t,e,u),g(t,e,d,"default"),m(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new a(0,0,-1)},t.exports.setOptions=function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===c||p(c))throw new Error("DEFAULTS not set for module Settings");v(t,e,u),v(t,e,d,"default"),m(t,e)}},t.exports.setCameraPosition=y},function(t,e,n){var i,o=(i=n(165))&&i.__esModule?i:{default:i},r=n(34);function s(){this.armLocation=new r,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new r,this.offsetMultiplier=.6,this.cameraLocation=new r,this.cameraRotation=new r(.5*Math.PI,0,0),this.calculateCameraOrientation()}s.prototype.setOffset=function(t,e){var n=Math.abs,i=o.default,r=this.armLength*this.offsetMultiplier;n(t)>r&&(t=i(t)*r),n(e)>r&&(e=i(e)*r),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},s.prototype.getOffset=function(){return this.cameraOffset},s.prototype.setArmLocation=function(t,e,n){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=n,this.calculateCameraOrientation()},s.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},s.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},s.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},s.prototype.getArmLength=function(){return this.armLength},s.prototype.getCameraLocation=function(){return this.cameraLocation},s.prototype.getCameraRotation=function(){return this.cameraRotation},s.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=this.cameraRotation.z,n=this.cameraOffset.x,i=this.cameraOffset.y,o=Math.sin,r=Math.cos;this.cameraLocation.x=this.cameraLocation.x+n*r(e)+i*-o(e)*r(t),this.cameraLocation.y=this.cameraLocation.y+n*o(e)+i*r(e)*r(t),this.cameraLocation.z=this.cameraLocation.z+i*o(t)},t.exports=s},function(t,e,n){var i=n(12);function o(t,e,n){this.dataGroup=t,this.column=e,this.graph=n,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,n.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}o.prototype.isLoaded=function(){return this.loaded},o.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},o.prototype.getLabel=function(){return this.graph.filterLabel},o.prototype.getColumn=function(){return this.column},o.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},o.prototype.getValues=function(){return this.values},o.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},o.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var n={};n.column=this.column,n.value=this.values[t];var o=new i(this.dataGroup.getDataSet(),{filter:function(t){return t[n.column]==n.value}}).get();e=this.dataGroup._getDataPoints(o),this.dataPoints[t]=e}return e},o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},o.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var n=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+n+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var i=this;setTimeout(function(){i.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=o},function(t,e,n){var i=n(35),o=n(44),r=n(10),s=n(2);function a(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=r(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(n){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(n.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=i(),this.escListener=this.deactivate.bind(this)}o(a.prototype),a.current=null,a.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},a.prototype.activate=function(){a.current&&a.current.deactivate(),a.current=this,this.active=!0,this.dom.overlay.style.display="none",s.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},a.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",s.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},a.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=a},function(t,e,n){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de,e.fr={current:"actuel",time:"heure"},e.fr_FR=e.fr,e.fr_CA=e.fr,e.fr_BE=e.fr,e.es={current:"corriente",time:"hora"},e.es_ES=e.es},function(t,e,n){var i=r(n(29)),o=r(n(6));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(10),a=n(2),l=n(11),h=n(12),u=n(66),d=n(16),c=n(68),p=n(69),f=n(101),g=n(102),v=n(70),m=n(103),y=n(104).default,b="__ungrouped__",w="__background__";function x(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,n){var i=e.order;e.order=t.order,t.order=i},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:u.snap,onDropObjectOnItem:function(t,e,n){n(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=a.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){n._onAdd(e.items)},update:function(t,e,i){n._onUpdate(e.items)},remove:function(t,e,i){n._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){if(n._onAddGroups(e.items),n.groupsData&&n.groupsData.length>0){var o=n.groupsData.getDataSet();o.get().forEach(function(t){if(t.nestedGroups){0!=t.showNested&&(t.showNested=!0);var e=[];t.nestedGroups.forEach(function(n){var i=o.get(n);i&&(i.nestedInGroup=t.id,0==t.showNested&&(i.visible=!1),e=e.concat(i))}),o.update(e,i)}})}},update:function(t,e,i){n._onUpdateGroups(e.items)},remove:function(t,e,i){n._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}x.prototype=new d,x.types={background:m,box:f,range:v,point:g},x.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var n=document.createElement("div");n.className="vis-foreground",t.appendChild(n),this.dom.foreground=n;var i=document.createElement("div");i.className="vis-axis",this.dom.axis=i;var o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();var r=new p(w,null,this);r.show(),this.groups[w]=r,this.hammer=new s(this.body.dom.centerContainer),this.hammer.on("hammer.input",(function(t){t.isFirst&&this._onTouch(t)}).bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new s(this.options.rtl?this.body.dom.rightContainer:this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:s.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},x.prototype.setOptions=function(t){if(t){a.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,t),"itemsAlwaysDraggable"in t&&("boolean"==typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,o.default)(t.itemsAlwaysDraggable)&&(a.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===(0,o.default)(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===(0,o.default)(t.margin)&&(a.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===(0,o.default)(t.margin.item)&&a.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"===(0,o.default)(t.editable)&&a.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===(0,o.default)(t.groupEditable)&&a.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));var e=(function(e){var n=t[e];if(n){if(!(n instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=n}}).bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(e),this.markDirty()}},x.prototype.markDirty=function(t){this.groupIds=[],t&&t.refreshItems&&a.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},x.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},x.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},x.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},x.prototype.setSelection=function(t){var e,n,i,o;for(null==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,n=this.selection.length;e<n;e++)(o=this.items[i=this.selection[e]])&&o.unselect();for(this.selection=[],e=0,n=t.length;e<n;e++)(o=this.items[i=t[e]])&&(this.selection.push(i),o.select())},x.prototype.getSelection=function(){return this.selection.concat([])},x.prototype.getVisibleItems=function(){var t,e,n=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(n.start),e=this.body.util.toScreen(n.end)):(e=this.body.util.toScreen(n.start),t=this.body.util.toScreen(n.end));var i=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var r=this.groups[o],s=r.isVisible?r.visibleItems:[],a=0;a<s.length;a++){var l=s[a];this.options.rtl?l.right<e&&l.right+l.width>t&&i.push(l.id):l.left<t&&l.left+l.width>e&&i.push(l.id)}return i},x.prototype._deselect=function(t){for(var e=this.selection,n=0,i=e.length;n<i;n++)if(e[n]==t){e.splice(n,1);break}},x.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,n=a.option.asSize,i=this.options,o=i.orientation.item,r=!1,s=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,s.className="vis-itemset",r=this._orderGroups()||r;var l=e.end-e.start,h=l!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth||e.start!=this.lastRangeStart||i.stack!=this.lastStack||i.stackSubgroups!=this.lastStackSubgroups;this.lastVisibleInterval=l,this.lastRangeStart=e.start,this.lastStack=i.stack,this.lastStackSubgroups=i.stackSubgroups,this.props.lastWidth=this.props.width;var u=this._firstGroup(),d={item:t.item,axis:t.axis},c={item:t.item,axis:t.item.vertical/2},p=0,f=t.axis+t.item.vertical;this.groups[w].redraw(e,c,h);var g={},v=0;if(a.forEach(this.groups,function(t,n){n!==w&&(g[n]=t.redraw(e,t==u?d:c,h,!0),v=g[n].length)}),v>0){for(var m={},y=0;y<v;y++)a.forEach(g,function(t,e){m[e]=t[y]()});a.forEach(this.groups,function(t,e){e!==w&&(r=m[e]||r,p+=t.height)}),p=Math.max(p,f)}return p=Math.max(p,f),s.style.height=n(p),this.props.width=s.offsetWidth,this.props.height=p,this.dom.axis.style.top=n("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,r=this._isResized()||r},x.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation.item?0:this.groupIds.length-1]]||this.groups[b]||null},x.prototype._updateUngrouped=function(){var t,e,n=this.groups[b];if(this.groupsData){if(n)for(e in n.hide(),delete this.groups[b],this.items)if(this.items.hasOwnProperty(e)){(t=this.items[e]).parent&&t.parent.remove(t);var i=this._getGroupId(t.data),o=this.groups[i];o&&o.add(t)||t.hide()}}else if(!n){for(e in n=new c(null,null,this),this.groups[b]=n,this.items)this.items.hasOwnProperty(e)&&n.add(t=this.items[e]);n.show()}},x.prototype.getLabelSet=function(){return this.dom.labelSet},x.prototype.setItems=function(t){var e,n=this,i=this.itemsData;if(t){if(!(t instanceof l||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(i&&(a.forEach(this.itemListeners,function(t,e){i.off(e,t)}),e=i.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;a.forEach(this.itemListeners,function(t,e){n.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},x.prototype.getItems=function(){return this.itemsData},x.prototype.setGroups=function(t){var e,n=this;if(this.groupsData&&(a.forEach(this.groupListeners,function(t,e){n.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof l||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var i=this.groupsData;this.groupsData instanceof h&&(i=this.groupsData.getDataSet()),i.get().forEach(function(t){t.nestedGroups&&t.nestedGroups.forEach(function(e){var n=i.get(e);n.nestedInGroup=t.id,0==t.showNested&&(n.visible=!1),i.update(n)})});var o=this.id;a.forEach(this.groupListeners,function(t,e){n.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},x.prototype.getGroups=function(){return this.groupsData},x.prototype.removeItem=function(t){var e=this.itemsData.get(t),n=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&n.remove(t)})},x.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},x.prototype._getGroupId=function(t){return"background"==this._getType(t)&&null==t.group?w:this.groupsData?t.group:b},x.prototype._onAdd=x.prototype._onUpdate=function(t){var e=this;t.forEach((function(t){var n,i=e.itemsData.get(t,e.itemOptions),o=e.items[t],r=i?e._getType(i):null,s=x.types[r];if(o&&(s&&o instanceof s?e._updateItem(o,i):(n=o.selected,e._removeItem(o),o=null)),!o&&i){if(!s)throw"rangeoverflow"==r?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+r+'"');(o=new s(i,e.conversion,e.options)).id=t,e._addItem(o),n&&(this.selection.push(t),o.select())}}).bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},x.prototype._onRemove=function(t){var e=0,n=this;t.forEach(function(t){var i=n.items[t];i&&(e++,n._removeItem(i))}),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},x.prototype._order=function(){a.forEach(this.groups,function(t){t.order()})},x.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},x.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var n=e.groupsData.get(t),o=e.groups[t];if(o)o.setData(n);else{if(t==b||t==w)throw new Error("Illegal group id. "+t+" is a reserved id.");var r=(0,i.default)(e.options);for(var s in a.extend(r,{height:null}),o=new c(t,n,e),e.groups[t]=o,e.items)if(e.items.hasOwnProperty(s)){var l=e.items[s];l.data.group==t&&o.add(l)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})},x.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var n=e[t];n&&(n.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},x.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!a.equalArray(t,this.groupIds);if(e){var n=this.groups;t.forEach(function(t){n[t].hide()}),t.forEach(function(t){n[t].show()}),this.groupIds=t}return e}return!1},x.prototype._orderNestedGroups=function(t){var e=[];return t.forEach(function(t){var n=this.groupsData.get(t);if(n.nestedInGroup||e.push(t),n.nestedGroups){var i=this.groupsData.get({filter:function(e){return e.nestedInGroup==t},order:this.options.groupOrder}).map(function(t){return t.id});e=e.concat(i)}},this),e},x.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),n=this.groups[e];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,n&&n.add(t)},x.prototype._updateItem=function(t,e){t.setData(e);var n=this._getGroupId(t.data),i=this.groups[n];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},x.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},x.prototype._constructByEndArray=function(t){for(var e=[],n=0;n<t.length;n++)t[n]instanceof v&&e.push(t[n]);return e},x.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},x.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},x.prototype._onDragStart=function(t){if(!this.touchParams.itemIsDragging){var e,n=this.touchParams.item||null,i=this;if(n&&(n.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=n.editable&&!n.editable.updateTime&&!n.editable.updateGroup&&!this.options.editable.overrideItems)return;var o=this.touchParams.dragLeftItem,r=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=n,o)e={item:o,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(n.data)},this.touchParams.itemProps=[e];else if(r)e={item:r,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(n.data)},this.touchParams.itemProps=[e];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var s=this._getGroupIndex(n.data.group),a=this.options.itemsAlwaysDraggable.item&&!n.selected?[n.id]:this.getSelection();this.touchParams.itemProps=a.map((function(e){var n=i.items[e],o=i._getGroupIndex(n.data.group);return{item:n,initialX:t.center.x,groupOffset:s-o,data:this._cloneItemData(n.data)}}).bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}},x.prototype._onDragStartAddItem=function(t){var e,n,i=this.options.snap||null;this.options.rtl?n=(e=a.getAbsoluteRight(this.dom.frame))-t.center.x+10:(e=a.getAbsoluteLeft(this.dom.frame),n=t.center.x-e-10);var o=this.body.util.toTime(n),r=this.body.util.getScale(),s=this.body.util.getStep(),l=i?i(o,r,s):o,h={type:"range",start:l,end:l,content:"new item"},u=a.randomUUID();h[this.itemsData._fieldId]=u;var d=this.groupFromTarget(t);d&&(h.group=d.groupId);var c=new v(h,this.conversion,this.options);c.id=u,c.data=this._cloneItemData(h),this._addItem(c),this.touchParams.selectedItem=c;var p={item:c,initialX:t.center.x,data:c.data};this.options.rtl?p.dragLeft=!0:p.dragRight=!0,this.touchParams.itemProps=[p],t.stopPropagation()},x.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e,n=this,i=this.options.snap||null;e=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var o=this.body.util.getScale(),r=this.body.util.getStep(),s=this.touchParams.selectedItem,l=(this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateGroup,h=null;if(l&&s&&null!=s.data.group){var u=n.groupFromTarget(t);u&&(h=this._getGroupIndex(u.groupId))}this.touchParams.itemProps.forEach((function(u){var d,c,p,f,g,v=n.body.util.toTime(t.center.x-e),m=n.body.util.toTime(u.initialX-e);d=this.options.rtl?-(v-m):v-m;var y=this._cloneItemData(u.item.data);if(null==u.item.editable||u.item.editable.updateTime||u.item.editable.updateGroup||n.options.editable.overrideItems){if((this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateTime)if(u.dragLeft)this.options.rtl?null!=y.end&&(p=a.convert(u.data.end,"Date"),g=new Date(p.valueOf()+d),y.end=i?i(g,o,r):g):null!=y.start&&(c=a.convert(u.data.start,"Date"),f=new Date(c.valueOf()+d),y.start=i?i(f,o,r):f);else if(u.dragRight)this.options.rtl?null!=y.start&&(c=a.convert(u.data.start,"Date"),f=new Date(c.valueOf()+d),y.start=i?i(f,o,r):f):null!=y.end&&(p=a.convert(u.data.end,"Date"),g=new Date(p.valueOf()+d),y.end=i?i(g,o,r):g);else if(null!=y.start)if(c=a.convert(u.data.start,"Date").valueOf(),f=new Date(c+d),null!=y.end){var b=(p=a.convert(u.data.end,"Date")).valueOf()-c.valueOf();y.start=i?i(f,o,r):f,y.end=new Date(y.start.valueOf()+b)}else y.start=i?i(f,o,r):f;if(l&&!u.dragLeft&&!u.dragRight&&null!=h&&null!=y.group){var w=h-u.groupOffset;w=Math.max(0,w),w=Math.min(n.groupIds.length-1,w),y.group=n.groupIds[w]}y=this._cloneItemData(y),n.options.onMoving(y,(function(t){t&&u.item.setData(this._cloneItemData(t,"Date"))}).bind(this))}}).bind(this)),this.body.emitter.emit("_change")}},x.prototype._moveToGroup=function(t,e){var n=this.groups[e];if(n&&n.groupId!=t.data.group){var i=t.parent;i.remove(t),i.order(),t.data.group=n.groupId,n.add(t),n.order()}},x.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var e=this,n=this.itemsData.getDataSet(),i=this.touchParams.itemProps;this.touchParams.itemProps=null,i.forEach((function(t){var i=t.item.id;if(null!=e.itemsData.get(i,e.itemOptions)){var o=this._cloneItemData(t.item.data);e.options.onMove(o,function(o){o?(o[n._fieldId]=i,n.update(o)):(t.item.setData(t.data),e.body.emitter.emit("_change"))})}else e.options.onAdd(t.item.data,function(n){e._removeItem(t.item),n&&e.itemsData.getDataSet().add(n),e.body.emitter.emit("_change")})}).bind(this))}},x.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var n=this.groupsData.getDataSet(),i=n.get(e.groupId);null==i.showNested&&(i.showNested=!0),i.showNested=!i.showNested;var o=n.get(e.nestedGroups).map(function(t){return t.visible=i.showNested,t});n.update(o.concat(i)),i.showNested?(a.removeClassName(e.dom.label,"collapsed"),a.addClassName(e.dom.label,"expanded")):(a.removeClassName(e.dom.label,"expanded"),a.addClassName(e.dom.label,this.options.rtl?"collapsed-rtl":"collapsed"))}},x.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},x.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof h&&(e=this.groupsData.getDataSet());var n=this.groupFromTarget(t);if(n&&n.height!=this.groupTouchParams.group.height){var i=n.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,r=a.getAbsoluteTop(n.dom.foreground),s=this.groupTouchParams.group.height;if(i){if(r+s<o)return}else if(r+n.height-s>o)return}if(n&&n!=this.groupTouchParams.group){var l=e.get(n.groupId),u=e.get(this.groupTouchParams.group.groupId);u&&l&&(this.options.groupOrderSwap(u,l,e),e.update(u),e.update(l));var d=e.getIds({order:this.options.groupOrder});if(!a.equalArray(d,this.groupTouchParams.originalOrder))for(var c=this.groupTouchParams.originalOrder,p=this.groupTouchParams.group.groupId,f=Math.min(c.length,d.length),g=0,v=0,m=0;g<f;){for(;g+v<f&&g+m<f&&d[g+v]==c[g+m];)g++;if(g+v>=f)break;if(d[g+v]==p)v=1;else if(c[g+m]==p)m=1;else{var y=d.indexOf(c[g+m]),b=e.get(d[g+v]),w=e.get(c[g+m]);this.options.groupOrderSwap(b,w,e),e.update(b),e.update(w);var x=d[g+v];d[g+v]=c[g+m],d[y]=x,g++}}}}},x.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,n=e.groupTouchParams.group.groupId,i=e.groupsData.getDataSet(),o=a.extend({},i.get(n));e.options.onMoveGroup(o,function(t){if(t)t[i._fieldId]=n,i.update(t);else{var o=i.getIds({order:e.options.groupOrder});if(!a.equalArray(o,e.groupTouchParams.originalOrder))for(var r=e.groupTouchParams.originalOrder,s=Math.min(r.length,o.length),l=0;l<s;){for(;l<s&&o[l]==r[l];)l++;if(l>=s)break;var h=o.indexOf(r[l]),u=i.get(o[l]),d=i.get(r[l]);e.options.groupOrderSwap(u,d,i),i.update(u),i.update(d);var c=o[l];o[l]=r[l],o[h]=c,l++}}}),e.body.emitter.emit("groupDragged",{groupId:n})}},x.prototype._onSelectItem=function(t){if(this.options.selectable)if(t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)||t.srcEvent&&t.srcEvent.shiftKey)this._onMultiSelectItem(t);else{var e=this.getSelection(),n=this.itemFromTarget(t);this.setSelection(n?[n.id]:[]);var i=this.getSelection();(i.length>0||e.length>0)&&this.body.emitter.emit("select",{items:i,event:t})}},x.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e&&e!==this.itemFromRelatedTarget(t)){var n=e.getTitle();if(this.options.showTooltips&&n){null==this.popup&&(this.popup=new y(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(n);var i=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-a.getAbsoluteLeft(i)+i.offsetLeft,t.clientY-a.getAbsoluteTop(i)+i.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}},x.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))},x.prototype._onMouseMove=function(t){if(this.itemFromTarget(t)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var e=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-a.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-a.getAbsoluteTop(e)+e.offsetTop),this.popup.show()}},x.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},x.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var n=e.itemsData.get(t.id);this.options.onUpdate(n,function(t){t&&e.itemsData.getDataSet().update(t)})}}},x.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t),n=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(n,e)},x.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e,n,i=this,o=this.options.snap||null;this.options.rtl?n=(e=a.getAbsoluteRight(this.dom.frame))-t.center.x:(e=a.getAbsoluteLeft(this.dom.frame),n=t.center.x-e);var r,s,l=this.body.util.toTime(n),h=this.body.util.getScale(),u=this.body.util.getStep();"drop"==t.type?((s=JSON.parse(t.dataTransfer.getData("text"))).content=s.content?s.content:"new item",s.start=s.start?s.start:o?o(l,h,u):l,s.type=s.type||"box",s[this.itemsData._fieldId]=s.id||a.randomUUID(),"range"!=s.type||s.end||(r=this.body.util.toTime(n+this.props.width/5),s.end=o?o(r,h,u):r)):((s={start:o?o(l,h,u):l,content:"new item"})[this.itemsData._fieldId]=a.randomUUID(),"range"===this.options.type&&(r=this.body.util.toTime(n+this.props.width/5),s.end=o?o(r,h,u):r));var d=this.groupFromTarget(t);d&&(s.group=d.groupId),s=this._cloneItemData(s),this.options.onAdd(s,function(e){e&&(i.itemsData.getDataSet().add(e),"drop"==t.type&&i.setSelection([e.id]))})}},x.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var n=this.options.multiselect?this.getSelection():[];if(t.srcEvent&&t.srcEvent.shiftKey&&this.options.multiselect){var i=this.itemsData.get(e.id).group,o=void 0;this.options.multiselectPerGroup&&n.length>0&&(o=this.itemsData.get(n[0]).group),this.options.multiselectPerGroup&&null!=o&&o!=i||n.push(e.id);var r=x._getItemRange(this.itemsData.get(n,this.itemOptions));if(!this.options.multiselectPerGroup||o==i)for(var s in n=[],this.items)if(this.items.hasOwnProperty(s)){var a=this.items[s],l=a.data.start;!(l>=r.min&&(void 0!==a.data.end?a.data.end:l)<=r.max)||this.options.multiselectPerGroup&&o!=this.itemsData.get(a.id).group||a instanceof m||n.push(a.id)}}else{var h=n.indexOf(e.id);-1==h?n.push(e.id):n.splice(h,1)}this.setSelection(n),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},x._getItemRange=function(t){var e=null,n=null;return t.forEach(function(t){(null==n||t.start<n)&&(n=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:n,max:e}},x.prototype.itemFromElement=function(t){for(var e=t;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},x.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},x.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},x.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,n=this.groupIds;n.length<=0&&this.groupsData&&(n=this.groupsData.getIds({order:this.options.groupOrder}));for(var i=0;i<n.length;i++){var o=this.groups[n[i]],r=o.dom.foreground,s=a.getAbsoluteTop(r);if(e>s&&e<s+r.offsetHeight)return o;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&e>s)return o}else if(0===i&&e<s+r.offset)return o}return null},x.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},x.prototype._cloneItemData=function(t,e){var n=a.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),null!=n.start&&(n.start=a.convert(n.start,e&&e.start||"Date")),null!=n.end&&(n.end=a.convert(n.end,e&&e.end||"Date")),n},t.exports=x},function(t,e,n){e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},e.stack=function(t,n,i){if(i)for(var o=0;o<t.length;o++)t[o].top=null;for(o=0;o<t.length;o++){var r=t[o];if(r.stack&&null===r.top){r.top=n.axis;do{for(var s=null,a=0,l=t.length;a<l;a++){var h=t[a];if(null!==h.top&&h!==r&&h.stack&&e.collision(r,h,n.item,h.options.rtl)){s=h;break}}null!=s&&(r.top=s.top+s.height+n.item.vertical)}while(s)}}},e.substack=function(t,n,i){for(var o=0;o<t.length;o++)t[o].top=null;var r=i.height;for(o=0;o<t.length;o++){var s=t[o];if(s.stack&&null===s.top){s.top=s.baseTop;do{for(var a=null,l=0,h=t.length;l<h;l++){var u=t[l];if(null!==u.top&&u!==s&&e.collision(s,u,n.item,u.options.rtl)){a=u;break}}null!=a&&(s.top=a.top+a.height+n.item.vertical),s.top+s.height>r&&(r=s.top+s.height)}while(a)}}i.height=r-i.top+.5*n.item.vertical},e.nostack=function(t,n,i,o){for(var r=0;r<t.length;r++)if(null==t[r].data.subgroup)t[r].top=n.item.vertical;else if(void 0!==t[r].data.subgroup&&o){var s=0;for(var a in i)i.hasOwnProperty(a)&&1==i[a].visible&&i[a].index<i[t[r].data.subgroup].index&&(i[t[r].data.subgroup].top=s+=i[a].height);t[r].top=s+.5*n.item.vertical}o||e.stackSubgroups(t,n,i)},e.stackSubgroups=function(t,n,i){for(var o in i)if(i.hasOwnProperty(o)){i[o].top=0;do{var r=null;for(var s in i)if(null!==i[s].top&&s!==o&&i[o].index>i[s].index&&e.collisionByTimes(i[o],i[s])){r=i[s];break}null!=r&&(i[o].top=r.top+r.height)}while(r)}for(var a=0;a<t.length;a++)void 0!==t[a].data.subgroup&&(t[a].top=i[t[a].data.subgroup].top+.5*n.item.vertical)},e.stackSubgroupsWithInnerStack=function(t,n,i){var o=!1,r=[];for(var s in i)i[s].hasOwnProperty("index")?r[i[s].index]=s:r.push(s);for(var a=0;a<r.length;a++)if(i.hasOwnProperty(s=r[a])){for(var l in o=o||i[s].stack,i[s].top=0,i)i[l].visible&&i[s].index>i[l].index&&(i[s].top+=i[l].height);for(var h=t[s],u=0;u<h.length;u++)void 0!==h[u].data.subgroup&&(h[u].top=i[h[u].data.subgroup].top+.5*n.item.vertical,i[s].stack&&(h[u].baseTop=h[u].top));o&&i[s].stack&&e.substack(t[s],n,i[s])}},e.collision=function(t,e,n,i){return i?t.right-n.horizontal+.001<e.right+e.width&&t.right+t.width+n.horizontal-.001>e.right&&t.top-n.vertical+.001<e.top+e.height&&t.top+t.height+n.vertical-.001>e.top:t.left-n.horizontal+.001<e.left+e.width&&t.left+t.width+n.horizontal-.001>e.left&&t.top-n.vertical+.001<e.top+e.height&&t.top+t.height+n.vertical-.001>e.top},e.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,n){var i=n(38);function o(t,e,n){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=n,t&&null==t.start)throw new Error('Property "start" missing in item '+t);i.call(this,t,e,n)}(o.prototype=new i(null,null,null)).isVisible=function(t){var e=this.options.align,n=this.width*t.getMillisecondsPerPixel();return"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-n<t.end:"left"==e?this.data.start.getTime()+n>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+n/2>t.start&&this.data.start.getTime()-n/2<t.end},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var n=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");n.appendChild(this.dom.dot)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+t,this.dom.line.className="vis-item vis-line"+t,this.dom.dot.className="vis-item vis-dot"+t}},o.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},o.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach(function(t){n=t()}),n)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},o.prototype.repositionY=function(){var t=this.dom.box,e=this.dom.line,n=this.dom.dot;if("top"==this.options.orientation.item)t.style.top=(this.top||0)+"px",e.style.top="0",e.style.height=this.parent.top+this.top+1+"px",e.style.bottom="";else{var i=this.parent.itemSet.props.height,o=i-this.parent.top-this.parent.height+this.top;t.style.top=(this.parent.height-this.top-this.height||0)+"px",e.style.top=i-o+"px",e.style.bottom="0"}n.style.top=-this.props.dot.height/2+"px"},o.prototype.getWidthLeft=function(){return this.width/2},o.prototype.getWidthRight=function(){return this.width/2},t.exports=o},function(t,e,n){var i=n(38);function o(t,e,n){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=n,t&&null==t.start)throw new Error('Property "start" missing in item '+t);i.call(this,t,e,n)}(o.prototype=new i(null,null,null)).isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+t,this.dom.dot.className="vis-item vis-dot"+t}},o.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},o.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach(function(t){n=t()}),n)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},o.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype.getWidthLeft=function(){return this.props.dot.width},o.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=o},function(t,e,n){var i=n(38),o=n(69),r=n(70);function s(t,e,n){if(this.props={content:{width:0}},this.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}i.call(this,t,e,n)}(s.prototype=new i(null,null,null)).baseClassName="vis-item vis-background",s.prototype.stack=!1,s.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},s.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},s.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0},s.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""))},s.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},s.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1},s.prototype._repaintDomAdditionals=function(){},s.prototype.redraw=function(t){var e,n,i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?i:(i.forEach(function(t){n=t()}),n)},s.prototype.show=r.prototype.show,s.prototype.hide=r.prototype.hide,s.prototype.repositionX=r.prototype.repositionX,s.prototype.repositionY=function(t){var e,n=this.options.orientation.item;if(void 0!==this.data.subgroup){var i=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[i].height+"px",this.dom.box.style.top="top"==n?this.parent.top+this.parent.subgroups[i].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[i].top-this.parent.subgroups[i].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof o?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==n?"0":"",this.dom.box.style.top="top"==n?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,n){(0,i.default)(this,t),this.container=e,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,o.default)(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,r=0,s=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+n>o-this.padding&&(a=!0),r=a?this.x-n:this.x,s=l?this.y-e:this.y}else(s=this.y-e)+e+this.padding>i&&(s=i-e-this.padding),s<this.padding&&(s=this.padding),(r=this.x)+n+this.padding>o&&(r=o-n-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",r="number",s="object";e.allOptions={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:o,function:"function"}},align:{string:i},rtl:{boolean:o,undefined:"undefined"},rollingMode:{follow:{boolean:o},offset:{number:r,undefined:"undefined"},__type__:{object:s}},verticalScroll:{boolean:o,undefined:"undefined"},horizontalScroll:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},throttleRedraw:{number:r},clickToUse:{boolean:o},dataAttributes:{string:i,array:"array"},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},overrideItems:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},end:{number:r,date:"date",string:i,moment:"moment"},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s,function:"function"}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},week:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s,function:"function"}},__type__:{object:s}},moment:{function:"function"},groupOrder:{string:i,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},groupOrderSwap:{function:"function"},height:{string:i,number:r},hiddenDates:{start:{date:"date",number:r,string:i,moment:"moment"},end:{date:"date",number:r,string:i,moment:"moment"},repeat:{string:i},__type__:{object:s,array:"array"}},itemsAlwaysDraggable:{item:{boolean:o,undefined:"undefined"},range:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},limitSize:{boolean:o},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:s}},margin:{axis:{number:r},item:{horizontal:{number:r,undefined:"undefined"},vertical:{number:r,undefined:"undefined"},__type__:{object:s,number:r}},__type__:{object:s,number:r}},max:{date:"date",number:r,string:i,moment:"moment"},maxHeight:{number:r,string:i},maxMinorChars:{number:r},min:{date:"date",number:r,string:i,moment:"moment"},minHeight:{number:r,string:i},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:s}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},stackSubgroups:{boolean:o},snap:{function:"function",null:"null"},start:{date:"date",number:r,string:i,moment:"moment"},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:i,function:"function"},showTooltips:{boolean:o},tooltip:{followMouse:{boolean:o},overflowMethod:{string:["cap","flip"]},__type__:{object:s}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:o,object:s}},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:s}},type:{string:i},width:{string:i,number:r},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:s}},e.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(t,e,n){var i,o=(i=n(6))&&i.__esModule?i:{default:i},r=n(2),s=n(14),a=n(11),l=n(12),h=n(16),u=n(107),d=n(109),c=n(112),p=n(110),f=n(111),g=n(72);function v(t,e){this.id=r.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=r.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var n=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,i){n._onAdd(e.items)},update:function(t,e,i){n._onUpdate(e.items)},remove:function(t,e,i){n._onRemove(e.items)}},this.groupListeners={add:function(t,e,i){n._onAddGroups(e.items)},update:function(t,e,i){n._onUpdateGroups(e.items)},remove:function(t,e,i){n._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){n.lastStart=n.body.range.start,n.svg.style.left=r.option.asSize(-n.props.width),n.forceGraphUpdate=!0,n.redraw.call(n)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(v.prototype=new h)._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new u(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new c(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new c(this.body,this.options.legend,"right",this.options.groups),this.show()},v.prototype.setOptions=function(t){t&&(void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),r.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),r.mergeOptions(this.options,t,"interpolation"),r.mergeOptions(this.options,t,"drawPoints"),r.mergeOptions(this.options,t,"shaded"),r.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,o.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(t)),this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},v.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},v.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},v.prototype.setItems=function(t){var e,n=this,i=this.itemsData;if(t){if(!(t instanceof a||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(i&&(r.forEach(this.itemListeners,function(t,e){i.off(e,t)}),e=i.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;r.forEach(this.itemListeners,function(t,e){n.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e)}},v.prototype.setGroups=function(t){var e,n=this;if(this.groupsData){r.forEach(this.groupListeners,function(t,e){n.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var i=0;i<e.length;i++)this._removeGroup(e[i])}if(t){if(!(t instanceof a||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;r.forEach(this.groupListeners,function(t,e){n.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},v.prototype._onUpdate=function(t){this._updateAllGroupData(t)},v.prototype._onAdd=function(t){this._onUpdate(t)},v.prototype._onRemove=function(t){this._onUpdate(t)},v.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},v.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},v.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},v.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},v.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new d(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},v.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var n={},i=this.itemsData.get(),o=this.itemsData._fieldId,s={};t&&t.map(function(t){s[t]=t});for(var a={},l=0;l<i.length;l++){var h=i[l],u=h.group;null==u&&(u="__ungrouped__"),a.hasOwnProperty(u)?a[u]++:a[u]=1}var d={};if(!e&&t)for(u in this.groups)if(this.groups.hasOwnProperty(u)){var c=(v=this.groups[u]).getItems();n[u]=c.filter(function(t){return d[t[o]]=t[o],t[o]!==s[t[o]]});var p=a[u];a[u]-=n[u].length,n[u].length<p&&(n[u][p-1]={})}for(l=0;l<i.length;l++)if(null==(u=(h=i[l]).group)&&(u="__ungrouped__"),e||!t||h[o]===s[h[o]]||!d.hasOwnProperty(h[o])){n.hasOwnProperty(u)||(n[u]=new Array(a[u]));var f=r.bridgeObject(h);f.x=r.convert(h.x,"Date"),f.end=r.convert(h.end,"Date"),f.orginalY=h.y,f.y=Number(h.y),f[o]=h[o];var g=n[u].length-a[u]--;n[u][g]=f}for(u in this.groups)this.groups.hasOwnProperty(u)&&(n.hasOwnProperty(u)||(n[u]=new Array(0)));for(u in n)if(n.hasOwnProperty(u))if(0==n[u].length)this.groups.hasOwnProperty(u)&&this._removeGroup(u);else{var v=void 0;null!=this.groupsData&&(v=this.groupsData.get(u)),null==v&&(v={id:u,content:this.options.defaultGroup+u}),this._updateGroup(v,u),this.groups[u].setItems(n[u])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},v.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,n=e!=this.lastVisibleInterval;return this.lastVisibleInterval=e,1==t&&(this.svg.style.width=r.option.asSize(3*this.props.width),this.svg.style.left=r.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==n||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(t=this._updateGraph()||t,this.forceGraphUpdate=!1):0!=this.lastStart&&0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/(this.body.range.end-this.body.range.start)*(this.body.range.start-this.lastStart)+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),t},v.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var n=this.groups[e];1!=n.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:n.options.zIndex})}r.insertSort(t,function(t,e){var n=t.zIndex,i=e.zIndex;return void 0===n&&(n=0),void 0===i&&(i=0),n==i?0:n<i?-1:1});for(var i=new Array(t.length),o=0;o<t.length;o++)i[o]=t[o].id;return i},v.prototype._updateGraph=function(){if(s.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,n={},i=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),r=this._getSortedGroupIds();if(r.length>0){var a={};for(this._getRelevantData(r,a,i,o),this._applySampling(r,a),e=0;e<r.length;e++)this._convertXcoordinates(a[r[e]]);if(this._getYRanges(r,a,n),1==this._updateYAxis(r,n))return s.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<r.length;e++)t=this.groups[r[e]],!0===this.options.stack&&"line"===this.options.style&&(null!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(null!=l&&(this._stack(a[t.id],a[l.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==l.options.shaded.orientation?(l.options.shaded.orientation="group",l.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=l.id))),l=t)),this._convertYcoordinates(a[r[e]],t);var h={};for(e=0;e<r.length;e++)if("line"===(t=this.groups[r[e]]).options.style&&1==t.options.shaded.enabled){var u=a[r[e]];if(null==u||0==u.length)continue;if(h.hasOwnProperty(r[e])||(h[r[e]]=f.calcPath(u,t)),"group"===t.options.shaded.orientation){var d=t.options.shaded.groupId;if(-1===r.indexOf(d)){console.log(t.id+": Unknown shading group target given:"+d);continue}h.hasOwnProperty(d)||(h[d]=f.calcPath(a[d],this.groups[d])),f.drawShading(h[r[e]],t,h[d],this.framework)}else f.drawShading(h[r[e]],t,void 0,this.framework)}for(p.draw(r,a,this.framework),e=0;e<r.length;e++)if(t=this.groups[r[e]],a[r[e]].length>0)switch(t.options.style){case"line":h.hasOwnProperty(r[e])||(h[r[e]]=f.calcPath(a[r[e]],t)),f.draw(h[r[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||g.draw(a[r[e]],t,this.framework)}}}return s.cleanupElements(this.svgElements),!1},v.prototype._stack=function(t,e){var n,i,o,r;n=0;for(var s=0;s<t.length;s++){o=void 0,r=void 0;for(var a=n;a<e.length;a++){if(e[a].x===t[s].x){o=e[a],r=e[a],n=a;break}if(e[a].x>t[s].x){r=e[a],o=0==a?r:e[a-1],n=a;break}}void 0===r&&(o=e[e.length-1],r=e[e.length-1]),t[s].y=0==(i=r.x-o.x)?t[s].orginalY+r.y:t[s].orginalY+(r.y-o.y)/i*(t[s].x-o.x)+o.y}},v.prototype._getRelevantData=function(t,e,n,i){var o,s,a;if(t.length>0)for(s=0;s<t.length;s++){var l=(o=this.groups[t[s]]).getItems();if(1==o.options.sort){var h=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},u=Math.max(0,r.binarySearchValue(l,n,"x","before",h)),d=Math.min(l.length,r.binarySearchValue(l,i,"x","after",h)+1);d<=0&&(d=l.length);var c=new Array(d-u);for(a=u;a<d;a++)c[a-u]=o.itemsData[a];e[t[s]]=c}else e[t[s]]=o.itemsData}},v.prototype._applySampling=function(t,e){if(t.length>0)for(var n=0;n<t.length;n++)if(1==this.groups[t[n]].options.sampling){var i=e[t[n]];if(i.length>0){var o,r=i.length,s=r/(this.body.util.toGlobalScreen(i[i.length-1].x)-this.body.util.toGlobalScreen(i[0].x));o=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(s)));for(var a=new Array(r),l=0;l<r;l+=o)a[Math.round(l/o)]=i[l];e[t[n]]=a.splice(0,Math.round(r/o))}}},v.prototype._getYRanges=function(t,e,n){var i,o,r,s,a=[],l=[];if(t.length>0){for(r=0;r<t.length;r++)s=this.groups[t[r]].options,(i=e[t[r]]).length>0&&(o=this.groups[t[r]],!0===s.stack&&"bar"===s.style?"left"===s.yAxisOrientation?a=a.concat(i):l=l.concat(i):n[t[r]]=o.getYRange(i,t[r]));p.getStackedYRange(a,n,t,"__barStackLeft","left"),p.getStackedYRange(l,n,t,"__barStackRight","right")}},v.prototype._updateYAxis=function(t,e){var n,i,o=!1,r=!1,s=!1,a=1e9,l=1e9,h=-1e9,u=-1e9;if(t.length>0){for(var d=0;d<t.length;d++){var c=this.groups[t[d]];c&&"right"!=c.options.yAxisOrientation?(r=!0,a=1e9,h=-1e9):c&&c.options.yAxisOrientation&&(s=!0,l=1e9,u=-1e9)}for(d=0;d<t.length;d++)e.hasOwnProperty(t[d])&&!0!==e[t[d]].ignore&&(n=e[t[d]].min,i=e[t[d]].max,"right"!=e[t[d]].yAxisOrientation?(r=!0,a=a>n?n:a,h=h<i?i:h):(s=!0,l=l>n?n:l,u=u<i?i:u));1==r&&this.yAxisLeft.setRange(a,h),1==s&&this.yAxisRight.setRange(l,u)}o=this._toggleAxisVisiblity(r,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(s,this.yAxisRight)||o,1==s&&1==r?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==s?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o,o=this.yAxisRight.redraw()||o):o=this.yAxisRight.redraw()||o;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(d=0;d<p.length;d++)-1!=t.indexOf(p[d])&&t.splice(t.indexOf(p[d]),1);return o},v.prototype._toggleAxisVisiblity=function(t,e){var n=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),n=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),n=!0),n},v.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,n=0;n<t.length;n++)t[n].screen_x=e(t[n].x)+this.props.width,t[n].screen_y=t[n].y,t[n].screen_end=null!=t[n].end?e(t[n].end)+this.props.width:void 0},v.prototype._convertYcoordinates=function(t,e){var n=this.yAxisLeft,i=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(n=this.yAxisRight);for(var o=0;o<t.length;o++)t[o].screen_y=Math.round(n.convertValue(t[o].y));e.setZeroPosition(Math.min(i,n.convertValue(0)))},t.exports=v},function(t,e,n){var i,o=(i=n(8))&&i.__esModule?i:{default:i},r=n(2),s=n(14),a=n(16),l=n(108);function h(t,e,n,i){this.id=r.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=i,this.linegraphSVG=n,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=r.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var o=this;this.body.emitter.on("verticalDrag",function(){o.dom.lineContainer.style.top=o.body.domProps.scrollTop+"px"})}(h.prototype=new a).addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},h.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},h.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},h.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0),r.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},h.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},h.prototype._redrawGroupIcons=function(){var t;s.prepareElements(this.svgElements);var e=this.options.iconWidth,n=11.5;t="left"===this.options.orientation?4:this.width-e-4;var i=(0,o.default)(this.groups);i.sort(function(t,e){return t<e?-1:1});for(var r=0;r<i.length;r++){var a=i[r];!0!==this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&!0!==this.linegraphOptions.visibility[a]||(this.groups[a].getLegend(e,15,this.framework,t,n),n+=19)}s.cleanupElements(this.svgElements),this.iconsRemoved=!1},h.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(s.prepareElements(this.svgElements),s.cleanupElements(this.svgElements),this.iconsRemoved=!0)},h.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},h.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},h.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},h.prototype.redraw=function(){var t=!1,e=0;for(var n in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(n)&&(!0!==this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&!0!==this.linegraphOptions.visibility[n]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var i=this.props,o=this.dom.frame;o.className="vis-data-axis",this._calculateCharSize();var r=this.options.orientation,s=this.options.showMajorLabels;i.minorLabelHeight=this.options.showMinorLabels?i.minorCharHeight:0,i.majorLabelHeight=s?i.majorCharHeight:0,i.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,i.minorLineHeight=1,i.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,i.majorLineHeight=1,"left"===r?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(r)}return t},h.prototype._redrawLabels=function(){var t=this,e=!1;s.prepareElements(this.DOMelements.lines),s.prepareElements(this.DOMelements.labels);var n=this.options.orientation,i=null!=this.options[n].range?this.options[n].range:{},o=!0;null!=i.max&&(this.range.end=i.max,o=!1);var r=!0;null!=i.min&&(this.range.start=i.min,r=!1),this.scale=new l(this.range.start,this.range.end,r,o,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[n].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(e){var i=e.y,o=e.major;t.options.showMinorLabels&&!1===o&&t._redrawLabel(i-2,e.val,n,"vis-y-axis vis-minor",t.props.minorCharHeight),o&&i>=0&&t._redrawLabel(i-2,e.val,n,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(o?t._redrawLine(i,n,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(i,n,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var a=0;void 0!==this.options[n].title&&void 0!==this.options[n].title.text&&(a=this.props.titleCharHeight);var h=!0===this.options.icons?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-h&&!0===this.options.visible?(this.width=this.maxLabelSize+h,this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-h&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+h),this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),e=!1),e},h.prototype.convertValue=function(t){return this.scale.convertValue(t)},h.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},h.prototype._redrawLabel=function(t,e,n,i,o){var r=s.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=i,r.innerHTML=e,"left"===n?(r.style.left="-"+this.options.labelOffsetX+"px",r.style.textAlign="right"):(r.style.right="-"+this.options.labelOffsetX+"px",r.style.textAlign="left"),r.style.top=t-.5*o+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},h.prototype._redrawLine=function(t,e,n,i,o){if(!0===this.master){var r=s.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=n,r.innerHTML="","left"===e?r.style.left=this.width-i+"px":r.style.right=this.width-i+"px",r.style.width=o+"px",r.style.top=t+"px"}},h.prototype._redrawTitle=function(t){if(s.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=s.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&r.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}s.cleanupElements(this.DOMelements.title)},h.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var n=document.createTextNode("0"),i=document.createElement("div");i.className="vis-y-axis vis-major vis-measure",i.appendChild(n),this.dom.frame.appendChild(i),this.props.majorCharHeight=i.clientHeight,this.props.majorCharWidth=i.clientWidth,this.dom.frame.removeChild(i)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(o),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}},t.exports=h},function(t,e,n){function i(t,e,n,i,o,r){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=r,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=s,this.autoScaleStart=n,this.autoScaleEnd=i,this.formattingFunction=a,n||i){var l=this,h=function(t){var e=t-t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx]);return t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx])>l.magnitudefactor*l.minorSteps[l.minorStepIdx]*.5?e+l.magnitudefactor*l.minorSteps[l.minorStepIdx]:e};n&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=h(this._start)),i&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=h(this._end)),this.determineScale()}}i.prototype.setCharHeight=function(t){this.majorCharHeight=t},i.prototype.setHeight=function(t){this.containerHeight=t},i.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,n=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,n);var i=0;n<0&&(i=n);for(var o=!1,r=i;Math.abs(r)<=Math.abs(n);r++){this.magnitudefactor=Math.pow(10,r);for(var s=0;s<this.minorSteps.length;s++)if(this.magnitudefactor*this.minorSteps[s]>=e){o=!0,this.minorStepIdx=s;break}if(!0===o)break}},i.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},i.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},i.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},i.prototype.getLines=function(){for(var t=[],e=this.getStep(),n=this._start+(e-this._start%e)%e;this._end-n>1e-5;n+=e)n!=this._start&&t.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return t},i.prototype.followScale=function(t){var e=this.minorStepIdx,n=this._start,i=this._end,o=this,r=function(){o.magnitudefactor*=2},s=function(){o.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?r():(r(),r())):(this.minorStepIdx=2,1==e?s():(s(),s())));for(var a=t.convertValue(0),l=t.getStep()*t.scale,h=!1,u=0;!h&&u++<5;){this.scale=l/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var d=this.containerHeight/this.scale;this._start=n,this._end=this._start+d;var c=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign?(this._end+=(a-c)/this.scale,this._start=this._end-d):this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+d):(this._start+=p-f/this.scale,this._end=this._start+d),!this.autoScaleEnd&&this._end>i+1e-5)s(),h=!1;else{if(!this.autoScaleStart&&this._start<n-1e-5){if(!(this.zeroAlign&&n>=0)){s(),h=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&d<i-n?(r(),h=!1):h=!0}}},i.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},i.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=i},function(t,e,n){var i,o=(i=n(6))&&i.__esModule?i:{default:i},r=n(2),s=n(110),a=n(111),l=n(72);function h(t,e,n,i){this.id=e,this.options=r.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],n),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=i,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}h.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&r.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},h.prototype.getItems=function(){return this.itemsData},h.prototype.setZeroPosition=function(t){this.zeroPosition=t},h.prototype.setOptions=function(t){void 0!==t&&(r.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),r.mergeOptions(this.options,t,"interpolation"),r.mergeOptions(this.options,t,"drawPoints"),r.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,o.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},h.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},h.prototype.getLegend=function(t,e,n,i,o){switch(null!=n&&null!=n||(n={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),null!=i&&null!=i||(i=0),null!=o&&null!=o||(o=.5*e),this.options.style){case"line":a.drawIcon(this,i,o,t,e,n);break;case"points":case"point":l.drawIcon(this,i,o,t,e,n);break;case"bar":s.drawIcon(this,i,o,t,e,n)}return{icon:n.svg,label:this.content,orientation:this.options.yAxisOrientation}},h.prototype.getYRange=function(t){for(var e=t[0].y,n=t[0].y,i=0;i<t.length;i++)e=e>t[i].y?t[i].y:e,n=n<t[i].y?t[i].y:n;return{min:e,max:n,yAxisOrientation:this.options.yAxisOrientation}},t.exports=h},function(t,e,n){var i=n(14),o=n(72);function r(t,e){}r.drawIcon=function(t,e,n,o,r,s){var a=.5*r,l=i.getSVGElement("rect",s.svgElements,s.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",n-a),l.setAttributeNS(null,"width",o),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var h=Math.round(.3*o),u=t.options.barChart.width/h,d=Math.round(.4*r),c=Math.round(.75*r),p=Math.round((o-2*h)/3);if(i.drawBar(e+.5*h+p,n+a-d-1,h,d,t.className+" vis-bar",s.svgElements,s.svg,t.style),i.drawBar(e+1.5*h+p+2,n+a-c-1,h,c,t.className+" vis-bar",s.svgElements,s.svg,t.style),1==t.options.drawPoints.enabled){var f={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/u,className:t.className};i.drawPoint(e+.5*h+p,n+a-d-1,f,s.svgElements,s.svg),i.drawPoint(e+1.5*h+p+2,n+a-c-1,f,s.svgElements,s.svg)}},r.draw=function(t,e,n){var s,a,l,h,u,d,c=[],p={},f=0;for(u=0;u<t.length;u++)if("bar"===(h=n.groups[t[u]]).options.style&&!0===h.visible&&(void 0===n.options.groups.visibility[t[u]]||!0===n.options.groups.visibility[t[u]]))for(d=0;d<e[t[u]].length;d++)c.push({screen_x:e[t[u]][d].screen_x,screen_end:e[t[u]][d].screen_end,screen_y:e[t[u]][d].screen_y,x:e[t[u]][d].x,end:e[t[u]][d].end,y:e[t[u]][d].y,groupId:t[u],label:e[t[u]][d].label}),f+=1;if(0!==f)for(c.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),r._getDataIntersections(p,c),u=0;u<c.length;u++){var g=null!=(h=n.groups[c[u].groupId]).options.barChart.minWidth?h.options.barChart.minWidth:.1*h.options.barChart.width,v=0;if(void 0===p[a=c[u].screen_x])u+1<c.length&&(s=Math.abs(c[u+1].screen_x-a)),l=r._getSafeDrawData(s,h,g);else{var m=u+(p[a].amount-p[a].resolved);m<c.length&&(s=Math.abs(c[m].screen_x-a)),l=r._getSafeDrawData(s,h,g),p[a].resolved+=1,!0===h.options.stack&&!0!==h.options.excludeFromStacking?c[u].screen_y<h.zeroPosition?(v=p[a].accumulatedNegative,p[a].accumulatedNegative+=h.zeroPosition-c[u].screen_y):(v=p[a].accumulatedPositive,p[a].accumulatedPositive+=h.zeroPosition-c[u].screen_y):!0===h.options.barChart.sideBySide&&(l.width=l.width/p[a].amount,l.offset+=p[a].resolved*l.width-.5*l.width*(p[a].amount+1))}var y=l.width,b=c[u].screen_x;b+=null!=c[u].screen_end?.5*(y=c[u].screen_end-c[u].screen_x):l.offset,i.drawBar(b,c[u].screen_y-v,y,h.zeroPosition-c[u].screen_y,h.className+" vis-bar",n.svgElements,n.svg,h.style),!0===h.options.drawPoints.enabled&&o.draw([{screen_x:c[u].screen_x,screen_y:c[u].screen_y-v,x:c[u].x,y:c[u].y,groupId:c[u].groupId,label:c[u].label}],h,n,l.offset)}},r._getDataIntersections=function(t,e){for(var n,i=0;i<e.length;i++)i+1<e.length&&(n=Math.abs(e[i+1].screen_x-e[i].screen_x)),i>0&&(n=Math.min(n,Math.abs(e[i-1].screen_x-e[i].screen_x))),0===n&&(void 0===t[e[i].screen_x]&&(t[e[i].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[i].screen_x].amount+=1)},r._getSafeDrawData=function(t,e,n){var i,o;return t<e.options.barChart.width&&t>0?(i=t<n?n:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(i=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:i,offset:o}},r.getStackedYRange=function(t,e,n,i,o){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var s={};r._getDataIntersections(s,t),e[i]=r._getStackedYRange(s,t),e[i].yAxisOrientation=o,n.push(i)}},r._getStackedYRange=function(t,e){for(var n,i=e[0].screen_y,o=e[0].screen_y,r=0;r<e.length;r++)void 0===t[n=e[r].screen_x]?(i=i>e[r].screen_y?e[r].screen_y:i,o=o<e[r].screen_y?e[r].screen_y:o):e[r].screen_y<0?t[n].accumulatedNegative+=e[r].screen_y:t[n].accumulatedPositive+=e[r].screen_y;for(var s in t)t.hasOwnProperty(s)&&(i=(i=i>t[s].accumulatedNegative?t[s].accumulatedNegative:i)>t[s].accumulatedPositive?t[s].accumulatedPositive:i,o=(o=o<t[s].accumulatedNegative?t[s].accumulatedNegative:o)<t[s].accumulatedPositive?t[s].accumulatedPositive:o);return{min:i,max:o}},t.exports=r},function(t,e,n){var i=n(14);function o(t,e){}o.calcPath=function(t,e){if(null!=t&&t.length>0)return 1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t)},o.drawIcon=function(t,e,n,o,r,s){var a,l,h=.5*r,u=i.getSVGElement("rect",s.svgElements,s.svg);u.setAttributeNS(null,"x",e),u.setAttributeNS(null,"y",n-h),u.setAttributeNS(null,"width",o),u.setAttributeNS(null,"height",2*h),u.setAttributeNS(null,"class","vis-outline"),(a=i.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&a.setAttributeNS(null,"style",t.style),a.setAttributeNS(null,"d","M"+e+","+n+" L"+(e+o)+","+n),1==t.options.shaded.enabled&&((l=i.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"d","top"==t.options.shaded.orientation?"M"+e+", "+(n-h)+"L"+e+","+n+" L"+(e+o)+","+n+" L"+(e+o)+","+(n-h):"M"+e+","+n+" L"+e+","+(n+h)+" L"+(e+o)+","+(n+h)+"L"+(e+o)+","+n),l.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&l.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled&&i.drawPoint(e+.5*o,n,{style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className},s.svgElements,s.svg)},o.drawShading=function(t,e,n,o){if(1==e.options.shaded.enabled){var r,s,a=Number(o.svg.style.height.replace("px","")),l=i.getSVGElement("path",o.svgElements,o.svg),h="L";1==e.options.interpolation.enabled&&(h="C"),s="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?a:Math.min(Math.max(0,e.zeroPosition),a),r="group"==e.options.shaded.orientation&&null!=n&&null!=n?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,h,!1)+" L"+n[n.length-1][0]+","+n[n.length-1][1]+" "+this.serializePath(n,h,!0)+n[0][0]+","+n[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,h,!1)+" V"+s+" H"+t[0][0]+" Z",l.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&l.setAttributeNS(null,"style",e.options.shaded.style),l.setAttributeNS(null,"d",r)}},o.draw=function(t,e,n){if(null!=t&&null!=t){var o=i.getSVGElement("path",n.svgElements,n.svg);o.setAttributeNS(null,"class",e.className),void 0!==e.style&&o.setAttributeNS(null,"style",e.style);var r="L";1==e.options.interpolation.enabled&&(r="C"),o.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,r,!1))}},o.serializePath=function(t,e,n){if(t.length<2)return"";var i,o=e;if(n)for(i=t.length-2;i>0;i--)o+=t[i][0]+","+t[i][1]+" ";else for(i=1;i<t.length;i++)o+=t[i][0]+","+t[i][1]+" ";return o},o._catmullRomUniform=function(t){var e,n,i,o,r,s,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var l=t.length,h=0;h<l-1;h++)s={screen_x:1/6*((n=t[h]).screen_x+6*(i=t[h+1]).screen_x-(o=h+2<l?t[h+2]:i).screen_x),screen_y:1/6*(n.screen_y+6*i.screen_y-o.screen_y)},a.push([(r={screen_x:(6*n.screen_x-(e=0==h?t[0]:t[h-1]).screen_x+i.screen_x)*(1/6),screen_y:(6*n.screen_y-e.screen_y+i.screen_y)*(1/6)}).screen_x,r.screen_y]),a.push([s.screen_x,s.screen_y]),a.push([i.screen_x,i.screen_y]);return a},o._catmullRom=function(t,e){var n=e.options.interpolation.alpha;if(0==n||void 0===n)return this._catmullRomUniform(t);var i,o,r,s,a,l,h,u,d,c,p,f,g,v,m,y,b,w,x,_=[];_.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var E=t.length,k=0;k<E-1;k++)i=0==k?t[0]:t[k-1],o=t[k],r=t[k+1],s=k+2<E?t[k+2]:r,h=Math.sqrt(Math.pow(i.screen_x-o.screen_x,2)+Math.pow(i.screen_y-o.screen_y,2)),u=Math.sqrt(Math.pow(o.screen_x-r.screen_x,2)+Math.pow(o.screen_y-r.screen_y,2)),d=Math.sqrt(Math.pow(r.screen_x-s.screen_x,2)+Math.pow(r.screen_y-s.screen_y,2)),v=Math.pow(d,n),y=Math.pow(d,2*n),m=Math.pow(u,n),b=Math.pow(u,2*n),x=Math.pow(h,n),w=Math.pow(h,2*n),(f=3*x*(x+m))>0&&(f=1/f),(g=3*v*(v+m))>0&&(g=1/g),0==(a={screen_x:(-b*i.screen_x+(c=2*w+3*x*m+b)*o.screen_x+w*r.screen_x)*f,screen_y:(-b*i.screen_y+c*o.screen_y+w*r.screen_y)*f}).screen_x&&0==a.screen_y&&(a=o),0==(l={screen_x:(y*o.screen_x+(p=2*y+3*v*m+b)*r.screen_x-b*s.screen_x)*g,screen_y:(y*o.screen_y+p*r.screen_y-b*s.screen_y)*g}).screen_x&&0==l.screen_y&&(l=r),_.push([a.screen_x,a.screen_y]),_.push([l.screen_x,l.screen_y]),_.push([r.screen_x,r.screen_y]);return _},o._linear=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n].screen_x,t[n].screen_y]);return e},t.exports=o},function(t,e,n){var i,o=(i=n(8))&&i.__esModule?i:{default:i},r=n(2),s=n(14),a=n(16);function l(t,e,n,i){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=n,this.options=r.extend({},this.defaultOptions),this.linegraphOptions=i,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}(l.prototype=new a).clear=function(){this.groups={},this.amountOfGroups=0},l.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},l.prototype.updateGroup=function(t,e){this.groups[t]=e},l.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},l.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},l.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},l.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},l.prototype.setOptions=function(t){r.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},l.prototype.redraw=function(){var t=0,e=(0,o.default)(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var n=0;n<e.length;n++){var i=e[n];1!=this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&1!=this.linegraphOptions.visibility[i]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=this.body.domProps.center.height-this.body.domProps.centerContainer.height+4+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var r="";for(n=0;n<e.length;n++)1!=this.groups[i=e[n]].visible||void 0!==this.linegraphOptions.visibility[i]&&1!=this.linegraphOptions.visibility[i]||(r+=this.groups[i].content+"<br />");this.dom.textArea.innerHTML=r,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},l.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,o.default)(this.groups);t.sort(function(t,e){return t<e?-1:1}),s.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,n=Number(e.replace("px","")),i=n,r=this.options.iconSize,a=.75*this.options.iconSize,l=n+.5*a+3;this.svg.style.width=r+5+n+"px";for(var h=0;h<t.length;h++){var u=t[h];1!=this.groups[u].visible||void 0!==this.linegraphOptions.visibility[u]&&1!=this.linegraphOptions.visibility[u]||(this.groups[u].getLegend(r,a,this.framework,i,l),l+=a+this.options.iconSpacing)}}},t.exports=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",r="number",s="object";e.allOptions={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:i,number:r},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:s},__type__:{boolean:o,object:s}},style:{string:["line","bar","points"]},barChart:{width:{number:r},minWidth:{number:r},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:s}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:r},__type__:{object:s,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:r},style:{string:["square","circle"]},__type__:{object:s,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:i,number:r},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:i,number:r,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},right:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:i,number:r,undefined:"undefined"},style:{string:i,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},__type__:{object:s}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},__type__:{object:s,boolean:o}},groups:{visibility:{any:"any"},__type__:{object:s}},autoResize:{boolean:o},throttleRedraw:{number:r},clickToUse:{boolean:o},end:{number:r,date:"date",string:i,moment:"moment"},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},moment:{function:"function"},height:{string:i,number:r},hiddenDates:{start:{date:"date",number:r,string:i,moment:"moment"},end:{date:"date",number:r,string:i,moment:"moment"},repeat:{string:i},__type__:{object:s,array:"array"}},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:s}},max:{date:"date",number:r,string:i,moment:"moment"},maxHeight:{number:r,string:i},maxMinorChars:{number:r},min:{date:"date",number:r,string:i,moment:"moment"},minHeight:{number:r,string:i},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:i},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:"date",number:r,string:i,moment:"moment"},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:s}},width:{string:i,number:r},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},zIndex:{number:r},__type__:{object:s}},e.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(t,e,n){var i,o=(i=n(29))&&i.__esModule?i:{default:i};function r(t){return u=t,function(){var t={};if(d=0,c=u.charAt(0),k(),"strict"===p&&(t.strict=!0,k()),"graph"!==p&&"digraph"!==p||(t.type=p,k()),f===l.IDENTIFIER&&(t.id=p,k()),"{"!=p)throw O("Angle bracket { expected");if(k(),S(t),"}"!=p)throw O("Angle bracket } expected");if(k(),""!==p)throw O("End of file expected");return k(),delete t.node,delete t.edge,delete t.graph,t}()}var s={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},a=(0,o.default)(s);a.color="color.color",a.style="dashes";var l={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},h={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},u="",d=0,c="",p="",f=l.NULL;function g(){c=u.charAt(++d)}function v(){return u.charAt(d+1)}var m=/[a-zA-Z_0-9.:#]/;function y(t){return m.test(t)}function b(t,e){if(t||(t={}),e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function w(t,e,n){for(var i=e.split("."),o=t;i.length;){var r=i.shift();i.length?(o[r]||(o[r]={}),o=o[r]):o[r]=n}}function x(t,e){for(var n,i,o=null,r=[t],s=t;s.parent;)r.push(s.parent),s=s.parent;if(s.nodes)for(n=0,i=s.nodes.length;n<i;n++)if(e.id===s.nodes[n].id){o=s.nodes[n];break}for(o||(o={id:e.id},t.node&&(o.attr=b(o.attr,t.node))),n=r.length-1;n>=0;n--){var a=r[n];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(o)&&a.nodes.push(o)}e.attr&&(o.attr=b(o.attr,e.attr))}function _(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var n=b({},t.edge);e.attr=b(n,e.attr)}}function E(t,e,n,i,o){var r={from:e,to:n,type:i};return t.edge&&(r.attr=b({},t.edge)),r.attr=b(r.attr||{},o),r}function k(){for(f=l.NULL,p="";" "===c||"\t"===c||"\n"===c||"\r"===c;)g();do{var t=!1;if("#"===c){for(var e=d-1;" "===u.charAt(e)||"\t"===u.charAt(e);)e--;if("\n"===u.charAt(e)||""===u.charAt(e)){for(;""!=c&&"\n"!=c;)g();t=!0}}if("/"===c&&"/"===v()){for(;""!=c&&"\n"!=c;)g();t=!0}if("/"===c&&"*"===v()){for(;""!=c;){if("*"===c&&"/"===v()){g(),g();break}g()}t=!0}for(;" "===c||"\t"===c||"\n"===c||"\r"===c;)g()}while(t);if(""!==c){var n=c+v();if(h[n])return f=l.DELIMITER,p=n,g(),void g();if(h[c])return f=l.DELIMITER,p=c,void g();if(y(c)||"-"===c){for(p+=c,g();y(c);)p+=c,g();return"false"===p?p=!1:"true"===p?p=!0:isNaN(Number(p))||(p=Number(p)),void(f=l.IDENTIFIER)}if('"'===c){for(g();""!=c&&('"'!=c||'"'===c&&'"'===v());)'"'===c?(p+=c,g()):"\\"===c&&"n"===v()?(p+="\n",g()):p+=c,g();if('"'!=c)throw O('End of string " expected');return g(),void(f=l.IDENTIFIER)}for(f=l.UNKNOWN;""!=c;)p+=c,g();throw new SyntaxError('Syntax error in part "'+P(p,30)+'"')}f=l.DELIMITER}function S(t){for(;""!==p&&"}"!=p;)C(t),";"===p&&k()}function C(t){var e=T(t);if(e)M(t,e);else if(!function(t){return"node"===p?(k(),t.node=D(),"node"):"edge"===p?(k(),t.edge=D(),"edge"):"graph"===p?(k(),t.graph=D(),"graph"):null}(t)){if(f!=l.IDENTIFIER)throw O("Identifier expected");var n=p;if(k(),"="===p){if(k(),f!=l.IDENTIFIER)throw O("Identifier expected");t[n]=p,k()}else!function(t,e){var n={id:e},i=D();i&&(n.attr=i),x(t,n),M(t,e)}(t,n)}}function T(t){var e=null;if("subgraph"===p&&((e={}).type="subgraph",k(),f===l.IDENTIFIER&&(e.id=p,k())),"{"===p){if(k(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,S(e),"}"!=p)throw O("Angle bracket } expected");k(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function M(t,e){for(;"->"===p||"--"===p;){var n,i=p;k();var o=T(t);if(o)n=o;else{if(f!=l.IDENTIFIER)throw O("Identifier or subgraph expected");x(t,{id:n=p}),k()}_(t,E(t,e,n,i,D())),e=n}}function D(){for(var t=null,e={dashed:!0,solid:!1,dotted:[1,5]};"["===p;){for(k(),t={};""!==p&&"]"!=p;){if(f!=l.IDENTIFIER)throw O("Attribute name expected");var n=p;if(k(),"="!=p)throw O("Equal sign = expected");if(k(),f!=l.IDENTIFIER)throw O("Attribute value expected");var i=p;"style"===n&&(i=e[i]),w(t,n,i),k(),","==p&&k()}if("]"!=p)throw O("Bracket ] expected");k()}return t}function O(t){return new SyntaxError(t+', got "'+P(p,30)+'" (char '+d+")")}function P(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function I(t,e,n){for(var i=e.split("."),o=i.pop(),r=t,s=0;s<i.length;s++){var a=i[s];a in r||(r[a]={}),r=r[a]}return r[o]=n,t}function A(t,e){var n={};for(var i in t)if(t.hasOwnProperty(i)){var o=e[i];Array.isArray(o)?o.forEach(function(e){I(n,e,t[i])}):I(n,"string"==typeof o?o:i,t[i])}return n}e.parseDOT=r,e.DOTToGraph=function(t){var e=r(t),n={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};b(e,A(t.attr,s)),e.image&&(e.shape="image"),n.nodes.push(e)}),e.edges){var i=function(t){var e={from:t.from,to:t.to};return b(e,A(t.attr,a)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(t){var e,o,r,s,a;e=t.from instanceof Object?t.from.nodes:{id:t.from},o=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=i(t);n.edges.push(e)}),r=e,s=o,a=function(e,o){var r=E(n,e.id,o.id,t.type,t.attr),s=i(r);n.edges.push(s)},Array.isArray(r)?r.forEach(function(t){Array.isArray(s)?s.forEach(function(e){a(t,e)}):a(t,s)}):Array.isArray(s)?s.forEach(function(t){a(r,t)}):a(r,s),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=i(t);n.edges.push(e)})})}return e.attr&&(n.options=e.attr),n}},function(t,e,n){e.parseGephi=function(t,e){var n=[],i=[],o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(o.nodes.fixed=e.fixed),void 0!==e.parseColor&&(o.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(o.edges.inheritColor=e.inheritColor));for(var r=t.edges,s=t.nodes,a=0;a<r.length;a++){var l={},h=r[a];l.id=h.id,l.from=h.source,l.to=h.target,l.attributes=h.attributes,l.label=h.label,l.title=void 0!==h.attributes?h.attributes.title:void 0,"Directed"===h.type&&(l.arrows="to"),h.color&&!1===o.inheritColor&&(l.color=h.color),n.push(l)}for(var u=0;u<s.length;u++){var d={},c=s[u];d.id=c.id,d.attributes=c.attributes,d.x=c.x,d.y=c.y,d.label=c.label,d.title=void 0!==c.attributes?c.attributes.title:c.title,d.color=!0===o.nodes.parseColor?c.color:void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0,d.size=c.size,d.fixed=o.nodes.fixed&&void 0!==c.x&&void 0!==c.y,i.push(d)}return{nodes:i,edges:n}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(0)),o=s(n(1)),r=s(n(185));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){(0,i.default)(this,t),this.images={},this.imageBroken={},this.callback=e}return(0,o.default)(t,[{key:"_tryloadBrokenUrl",value:function(t,e,n){void 0!==t&&void 0!==n&&(void 0!==e?(n.onerror=function(){console.error("Could not load brokenImage:",e)},n.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var n=this,i=this.images[t];if(i)return i;var o=new r.default;return this.images[t]=o,o.image.onload=function(){n._fixImageCoordinates(o.image),o.init(),n._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",t),n._tryloadBrokenUrl(t,e,o)},o.image.src=t,o}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(30)),o=a(n(6)),r=a(n(0)),s=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}var l=n(2),h=n(48).default,u=n(191).default,d=["bold","ital","boldital","mono"],c=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.default)(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return(0,s.default)(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),h.isValidLabel(t.label)?this.labelDirty=!0:t.label="",null!=t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===(0,o.default)(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var n=this;l.forEach(d,function(t){n.fontOptions[t]={}}),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:l.forEach(e,function(t,e){null!=t&&"object"!==(void 0===t?"undefined":(0,o.default)(t))&&(n.fontOptions[e]=t)})}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=l.topMost(t,"widthConstraint");if("number"==typeof n)e.maxWdt=Number(n),e.minWdt=Number(n);else if("object"===(void 0===n?"undefined":(0,o.default)(n))){var i=l.topMost(t,["widthConstraint","maximum"]);"number"==typeof i&&(e.maxWdt=Number(i));var r=l.topMost(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=Number(r))}var s=l.topMost(t,"heightConstraint");if("number"==typeof s)e.minHgt=Number(s);else if("object"===(void 0===s?"undefined":(0,o.default)(s))){var a=l.topMost(t,["heightConstraint","minimum"]);"number"==typeof a&&(e.minHgt=Number(a));var h=l.topMost(t,["heightConstraint","valign"]);"string"==typeof h&&("top"!==h&&"bottom"!==h||(e.valign=h))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),l.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=h.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=t?t.top+t.bottom:0)}},{key:"addFontOptionsToPile",value:function(t,e){for(var n=0;n<e.length;++n)this.addFontToPile(t,e[n])}},{key:"addFontToPile",value:function(t,e){void 0!==e&&null!=e.font&&t.push(e.font)}},{key:"getBasicOptions",value:function(e){for(var n={},i=0;i<e.length;++i){var o=e[i],r={};t.parseFontString(r,o)&&(o=r),l.forEach(o,function(t,e){void 0!==t&&(n.hasOwnProperty(e)||(n[e]=-1!==d.indexOf(e)?{}:t))})}return n}},{key:"getFontOption",value:function(e,n,i){for(var o=void 0,r=0;r<e.length;++r){var s=e[r];if(s.hasOwnProperty(n)){if(null==(o=s[n]))continue;var a={};if(t.parseFontString(a,o)&&(o=a),o.hasOwnProperty(i))return o[i]}}if(this.fontOptions.hasOwnProperty(i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(t,e){for(var n={},i=["color","size","face","mod","vadjust"],o=0;o<i.length;++o){var r=i[o];n[r]=this.getFontOption(t,e,r)}return n}},{key:"propagateFonts",value:function(t){var e=this,n=[];this.addFontOptionsToPile(n,t),this.fontOptions=this.getBasicOptions(n);for(var i=function(t){var i=d[t],o=e.fontOptions[i],r=e.getFontOptions(n,i);l.forEach(r,function(t,e){o[e]=t}),o.size=Number(o.size),o.vadjust=Number(o.vadjust)},o=0;o<d.length;++o)i(o)}},{key:"draw",value:function(t,e,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,i,o,e,n,r),this._drawBackground(t),this._drawText(t,e,this.size.yLine,r,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments[4],s=this._setAlignment(t,e,n,o),a=(0,i.default)(s,2);e=a[0],n=a[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var l=0;l<this.lineCount;l++){var h=this.lines[l];if(h&&h.blocks){var u=0;this.isEdgeLabel||"center"===this.fontOptions.align?u+=(this.size.width-h.width)/2:"right"===this.fontOptions.align&&(u+=this.size.width-h.width);for(var d=0;d<h.blocks.length;d++){var c=h.blocks[d];t.font=c.font;var p=this._getColor(c.color,r,c.strokeColor),f=(0,i.default)(p,2),g=f[0],v=f[1];c.strokeWidth>0&&(t.lineWidth=c.strokeWidth,t.strokeStyle=v,t.lineJoin="round"),t.fillStyle=g,c.strokeWidth>0&&t.strokeText(c.text,e+u,n+c.vadjust),t.fillText(c.text,e+u,n+c.vadjust),u+=c.width}n+=h.height}}}},{key:"_setAlignment",value:function(t,e,n,i){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,n=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",n+=4):t.textBaseline="middle"):t.textBaseline=i,[e,n]}},{key:"_getColor",value:function(t,e,n){var i=t||"#000000",o=n||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var r=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));i=l.overrideOpacity(i,r),o=l.overrideOpacity(o,r)}return[i,o]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=n,e=.5*-this.size.height;break;case"top":t=n,e=-(this.size.height+2);break;case"bottom":t=n,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,n),this.size.left=i-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,n,i){var o=function(t,e,n){return"normal"===e?"mod"===n?"":t[n]:void 0!==t[e][n]?t[e][n]:t[n]},r={color:o(this.fontOptions,i,"color"),size:o(this.fontOptions,i,"size"),face:o(this.fontOptions,i,"face"),mod:o(this.fontOptions,i,"mod"),vadjust:o(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||n)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,e,n));var s="";return void 0!==r.mod&&""!==r.mod&&(s+=r.mod+" "),t.font=(s+=r.size+"px "+r.face).replace(/"/g,""),r.font=t.font,r.height=r.size,r}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,n,i){return new u(t,this,e,n).process(i)}},{key:"_processLabel",value:function(t,e,n){if(!1!==this.labelDirty||this.differentState(e,n)){var i=this._processLabelText(t,e,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=e,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var n=e.split(" ");return t.size=n[0].replace("px",""),t.face=n[1],t.color=n[2],!0}}]),t}();e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(30)),o=s(n(0)),r=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=n(2),l=n(119).default,h=function(){function t(e,n,i){(0,o.default)(this,t),this.body=n,this.labelModule=i,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,r.default)(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,n,i,o){t.strokeStyle=this.getColor(t,e,n,i),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,o):this._drawLine(t,e,o)}},{key:"_drawLine",value:function(t,e,n,o,r){if(this.from!=this.to)this._line(t,e,n,o,r);else{var s=this._getCircleData(t),a=(0,i.default)(s,3);this._circle(t,e,a[0],a[1],a[2])}}},{key:"_drawDashedLine",value:function(t,e,n,o,r){t.lineCap="round";var s=[5,5];if(!0===Array.isArray(e.dashes)&&(s=e.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,n);else{var a=this._getCircleData(t),l=(0,i.default)(a,3);this._circle(t,e,l[0],l[1],l[2])}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,s);else{var h=this._getCircleData(t),u=(0,i.default)(h,3);this._circle(t,e,u[0],u[1],u[2])}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,n){return this.from!=this.to?this._findBorderPosition(t,e,n):this._findBorderPositionCircle(t,e,n)}},{key:"findBorderPositions",value:function(t){var e={},n={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),n=this._findBorderPosition(this.to,t);else{var o=this._getCircleData(t).slice(0,2),r=(0,i.default)(o,2),s=r[0],a=r[1];e=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.25,high:.6,direction:-1}),n=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.6,high:.8,direction:1})}return{from:e,to:n}}},{key:"_getCircleData",value:function(t){var e=void 0,n=void 0,i=this.from,o=this.options.selfReferenceSize;return void 0!==t&&void 0===i.shape.width&&i.shape.resize(t),i.shape.width>i.shape.height?(e=i.x+.5*i.shape.width,n=i.y-o):(e=i.x+o,n=i.y-.5*i.shape.height),[e,n,o]}},{key:"_pointOnCircle",value:function(t,e,n,i){var o=2*i*Math.PI;return{x:t+n*Math.cos(o),y:e-n*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,n){for(var i=n.x,o=n.y,r=n.low,s=n.high,a=n.direction,l=0,h=this.options.selfReferenceSize,u=void 0,d=void 0,c=void 0,p=.5*(r+s);r<=s&&l<10&&(u=this._pointOnCircle(i,o,h,p=.5*(r+s)),d=Math.atan2(t.y-u.y,t.x-u.x),c=t.distanceToBorder(e,d)-Math.sqrt(Math.pow(u.x-t.x,2)+Math.pow(u.y-t.y,2)),!(Math.abs(c)<.05));)c>0?a>0?r=p:s=p:a>0?s=p:r=p,l++;return u.t=p,u}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,n,i){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var o=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=void 0,s=void 0;return r=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(r=a.overrideOpacity(this.from.options.color.border,e.opacity),s=a.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?s=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),o.addColorStop(0,r),o.addColorStop(1,s),o}return a.overrideOpacity("to"===e.inheritsColor?this.to.options.color.border:this.from.options.color.border,e.opacity)}return a.overrideOpacity(e.color,e.opacity)}},{key:"_circle",value:function(t,e,n,i,o){this.enableShadow(t,e),t.beginPath(),t.arc(n,i,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,n,o,r,s,a,l){var h=0;if(this.from!=this.to)h=this._getDistanceToEdge(t,e,n,o,r,s,a);else{var u=this._getCircleData(void 0),d=(0,i.default)(u,3),c=d[2],p=d[0]-r,f=d[1]-s;h=Math.abs(Math.sqrt(p*p+f*f)-c)}return h}},{key:"_getDistanceToLine",value:function(t,e,n,i,o,r){var s=n-t,a=i-e,l=((o-t)*s+(r-e)*a)/(s*s+a*a);l>1?l=1:l<0&&(l=0);var h=t+l*s-o,u=e+l*a-r;return Math.sqrt(h*h+u*u)}},{key:"getArrowData",value:function(t,e,n,o,r,s){var a=void 0,l=void 0,h=void 0,u=void 0,d=void 0,c=void 0,p=void 0,f=s.width;if("from"===e?(h=this.from,u=this.to,d=.1,c=s.fromArrowScale,p=s.fromArrowType):"to"===e?(h=this.to,u=this.from,d=-.1,c=s.toArrowScale,p=s.toArrowType):(h=this.to,u=this.from,c=s.middleArrowScale,p=s.middleArrowType),h!=u)if("middle"!==e)if(!0===this.options.smooth.enabled){l=this.findBorderPosition(h,t,{via:n});var g=this.getPoint(Math.max(0,Math.min(1,l.t+d)),n);a=Math.atan2(l.y-g.y,l.x-g.x)}else a=Math.atan2(h.y-u.y,h.x-u.x),l=this.findBorderPosition(h,t);else a=Math.atan2(h.y-u.y,h.x-u.x),l=this.getPoint(.5,n);else{var v=this._getCircleData(t),m=(0,i.default)(v,3),y=m[0],b=m[1],w=m[2];"from"===e?a=-2*(l=this.findBorderPosition(this.from,t,{x:y,y:b,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===e?a=-2*(l=this.findBorderPosition(this.from,t,{x:y,y:b,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(l=this._pointOnCircle(y,b,w,.175),a=3.9269908169872414)}"middle"===e&&c<0&&(f*=-1);var x=15*c+3*f;return{point:l,core:{x:l.x-.9*x*Math.cos(a),y:l.y-.9*x*Math.sin(a)},angle:a,length:x,type:p}}},{key:"drawArrowHead",value:function(t,e,n,i,o){t.strokeStyle=this.getColor(t,e,n,i),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,l.draw(t,o),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(3)),o=l(n(4)),r=l(n(5)),s=l(n(0)),a=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"transform",value:function(t,e){t instanceof Array||(t=[t]);for(var n=e.point.x,i=e.point.y,o=e.angle,r=e.length,s=0;s<t.length;++s){var a=t[s],l=a.x*Math.cos(o)-a.y*Math.sin(o),h=a.x*Math.sin(o)+a.y*Math.cos(o);a.x=n+r*l,a.y=i+r*h}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;++n)t.lineTo(e[n].x,e[n].y);t.closePath()}}]),t}(),u=function(t){function e(){return(0,s.default)(this,e),(0,o.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,r.default)(e,h),(0,a.default)(e,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];h.transform(n,e),h.drawPath(t,n)}}]),e}(),d=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"draw",value:function(t,e){var n={x:-.4,y:0};h.transform(n,e),t.circle(n.x,n.y,.4*e.length)}}]),t}(),c=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"draw",value:function(t,e){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];h.transform(n,e),h.drawPath(t,n)}}]),t}(),p=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"draw",value:function(t,e){var n;switch(e.type&&(n=e.type.toLowerCase()),n){case"circle":d.draw(t,e);break;case"bar":c.draw(t,e);break;case"arrow":default:u.draw(t,e)}}}]),t}();e.default=p},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,n,o){(0,i.default)(this,t),this.body=e,this.physicsBody=n,this.setOptions(o),this.randomSeed=5}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,o=this._formBarnesHutTree(e,n);this.barnesHutTree=o;for(var r=0;r<i;r++)(t=e[n[r]]).options.mass>0&&this._getForceContributions(o.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){var n,i,o;t.childrenCount>0&&(n=t.centerOfMass.x-e.x,i=t.centerOfMass.y-e.y,(o=Math.sqrt(n*n+i*i))*t.calcSize>this.thetaInversed?this._calculateForces(o,n,i,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(o,n,i,e,t))}},{key:"_calculateForces",value:function(t,e,n,i,o){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var r=this.options.gravitationalConstant*o.mass*i.options.mass/Math.pow(t,3),s=n*r;this.physicsBody.forces[i.id].x+=e*r,this.physicsBody.forces[i.id].y+=s}},{key:"_formBarnesHutTree",value:function(t,e){for(var n=void 0,i=e.length,o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,l=1;l<i;l++){var h=t[e[l]],u=h.x,d=h.y;h.options.mass>0&&(u<o&&(o=u),u>s&&(s=u),d<r&&(r=d),d>a&&(a=d))}var c=Math.abs(s-o)-Math.abs(a-r);c>0?(r-=.5*c,a+=.5*c):(o+=.5*c,s-=.5*c);var p=Math.max(1e-5,Math.abs(s-o)),f=.5*p,g=.5*(o+s),v=.5*(r+a),m={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:g-f,maxX:g+f,minY:v-f,maxY:v+f},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(m.root);for(var y=0;y<i;y++)(n=t[e[y]]).options.mass>0&&this._placeInTree(m.root,n);return m}},{key:"_updateBranchMass",value:function(t,e){var n=t.centerOfMass,i=t.mass+e.options.mass,o=1/i;n.x=n.x*t.mass+e.x*e.options.mass,n.x*=o,n.y=n.y*t.mass+e.y*e.options.mass,n.y*=o,t.mass=i;var r=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<r?r:t.maxWidth}},{key:"_placeInTree",value:function(t,e,n){1==n&&void 0!==n||this._updateBranchMass(t,e);var i=t.children.NW.range;this._placeInRegion(t,e,i.maxX>e.x?i.maxY>e.y?"NW":"SW":i.maxY>e.y?"NE":"SE")}},{key:"_placeInRegion",value:function(t,e,n){var i=t.children[n];switch(i.childrenCount){case 0:i.children.data=e,i.childrenCount=1,this._updateBranchMass(i,e);break;case 1:i.children.data.x===e.x&&i.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(i),this._placeInTree(i,e));break;case 4:this._placeInTree(i,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var n=void 0,i=void 0,o=void 0,r=void 0,s=.5*t.size;switch(e){case"NW":n=t.range.minX,i=t.range.minX+s,o=t.range.minY,r=t.range.minY+s;break;case"NE":n=t.range.minX+s,i=t.range.maxX,o=t.range.minY,r=t.range.minY+s;break;case"SW":n=t.range.minX,i=t.range.minX+s,o=t.range.minY+s,r=t.range.maxY;break;case"SE":n=t.range.minX+s,i=t.range.maxX,o=t.range.minY+s,r=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:o,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,n){void 0===n&&(n="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=n,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,n,o){(0,i.default)(this,t),this.body=e,this.physicsBody=n,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,n=void 0,i=void 0,o=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<r.length;a++)t=-(i=o[r[a]]).x,e=-i.y,n=Math.sqrt(t*t+e*e),this._calculateForces(n,t,e,s,i)}},{key:"_calculateForces",value:function(t,e,n,i,o){var r=0===t?0:this.options.centralGravity/t;i[o.id].x=e*r,i[o.id].y=n*r}}]),t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",r="number",s="object",a=["arrow","circle","bar"],l={configure:{enabled:{boolean:o},filter:{boolean:o,string:i,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:o},__type__:{object:s,boolean:o,string:i,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:o}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{boolean:o},chosen:{label:{boolean:o,function:"function"},edge:{boolean:o,function:"function"},__type__:{object:s,boolean:o}},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],boolean:o},opacity:{number:r},__type__:{object:s,string:i}},dashes:{boolean:o,array:"array"},font:{color:{string:i},size:{number:r},face:{string:i},background:{string:i},strokeWidth:{number:r},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:r},multi:{boolean:o,string:i},bold:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},boldital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},ital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},mono:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},__type__:{object:s,string:i}},hidden:{boolean:o},hoverWidth:{function:"function",number:r},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:r,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:s}},selectionWidth:{function:"function",number:r},selfReferenceSize:{number:r},shadow:{enabled:{boolean:o},color:{string:i},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:r},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:s,boolean:o}},title:{string:i,undefined:"undefined"},width:{number:r},widthConstraint:{maximum:{number:r},__type__:{object:s,boolean:o,number:r}},value:{number:r,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:r},y:{number:r},zoom:{number:r},__type__:{object:s}},bindToWindow:{boolean:o},__type__:{object:s,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:r},zoomView:{boolean:o},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:r},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:r},nodeSpacing:{number:r},treeSpacing:{number:r},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,boolean:o}},__type__:{object:s}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:s,boolean:o,function:"function"}},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,boolean:o}},nodes:{borderWidth:{number:r},borderWidthSelected:{number:r,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},chosen:{label:{boolean:o,function:"function"},node:{boolean:o,function:"function"},__type__:{object:s,boolean:o}},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:s,string:i}},__type__:{object:s,string:i}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:s,boolean:o}},font:{align:{string:i},color:{string:i},size:{number:r},face:{string:i},background:{string:i},strokeWidth:{number:r},strokeColor:{string:i},vadjust:{number:r},multi:{boolean:o,string:i},bold:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},boldital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},ital:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},mono:{color:{string:i},size:{number:r},face:{string:i},mod:{string:i},vadjust:{number:r},__type__:{object:s,string:i}},__type__:{object:s,string:i}},group:{string:i,number:r,undefined:"undefined"},heightConstraint:{minimum:{number:r},valign:{string:i},__type__:{object:s,boolean:o,number:r}},hidden:{boolean:o},icon:{face:{string:i},code:{string:i},size:{number:r},color:{string:i},__type__:{object:s}},id:{string:i,number:r},image:{selected:{string:i,undefined:"undefined"},unselected:{string:i,undefined:"undefined"},__type__:{object:s,string:i}},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:r,undefined:"undefined"},margin:{top:{number:r},right:{number:r},bottom:{number:r},left:{number:r},__type__:{object:s,number:r}},mass:{number:r},physics:{boolean:o},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:s}},shadow:{enabled:{boolean:o},color:{string:i},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:o,array:"array"},borderRadius:{number:r},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:s}},size:{number:r},title:{string:i,dom:"dom",undefined:"undefined"},value:{number:r,undefined:"undefined"},widthConstraint:{minimum:{number:r},maximum:{number:r},__type__:{object:s,boolean:o,number:r}},x:{number:r},y:{number:r},__type__:{object:s}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},repulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},maxVelocity:{number:r},minVelocity:{number:r},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:r},updateInterval:{number:r},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:s,boolean:o}},timestep:{number:r},adaptiveTimestep:{boolean:o},__type__:{object:s,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:i},locales:{__any__:{any:"any"},__type__:{object:s}},height:{string:i},width:{string:i},__type__:{object:s}};l.groups.__any__=l.nodes,l.manipulation.controlNodeStyle=l.nodes,e.allOptions=l,e.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(t,e,n){var i=n(2);i.extend(e,n(159)),i.extend(e,n(177)),i.extend(e,n(181))},function(t,e,n){n(49),n(60),t.exports=n(136)},function(t,e,n){var i=n(126),o=n(127),r=n(31),s=n(25);t.exports=n(79)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(54),o=n(39),r=n(59),s={};n(26)(s,n(13)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:o(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var i=n(20),o=n(27),r=n(33);t.exports=n(21)?Object.defineProperties:function(t,e){o(t);for(var n,s=r(e),a=s.length,l=0;a>l;)i.f(t,n=s[l++],e[n]);return t}},function(t,e,n){var i=n(25),o=n(132),r=n(133);t.exports=function(t){return function(e,n,s){var a,l=i(e),h=o(l.length),u=r(s,h);if(t&&n!=n){for(;h>u;)if((a=l[u++])!=a)return!0}else for(;h>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var i=n(55),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(55),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):r(t,e)}},function(t,e,n){var i=n(18).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(55),o=n(51);t.exports=function(t){return function(e,n){var r,s,a=String(o(e)),l=i(n),h=a.length;return l<0||l>=h?t?"":void 0:(r=a.charCodeAt(l))<55296||r>56319||l+1===h||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):r:t?a.slice(l,l+2):s-56320+(r-55296<<10)+65536}}},function(t,e,n){var i=n(27),o=n(137);t.exports=n(7).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){var i=n(86),o=n(13)("iterator"),r=n(31);t.exports=n(7).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){n(139);var i=n(7).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(17);i(i.S,"Object",{create:n(54)})},function(t,e,n){n(141),t.exports=n(7).Object.keys},function(t,e,n){var i=n(41),o=n(33);n(87)("keys",function(){return function(t){return o(i(t))}})},function(t,e,n){t.exports={default:n(143),__esModule:!0}},function(t,e,n){n(60),n(49),t.exports=n(61).f("iterator")},function(t,e,n){t.exports={default:n(145),__esModule:!0}},function(t,e,n){n(146),n(151),n(152),n(153),t.exports=n(7).Symbol},function(t,e,n){var i=n(18),o=n(22),r=n(21),s=n(17),a=n(83),l=n(147).KEY,h=n(28),u=n(57),d=n(59),c=n(40),p=n(13),f=n(61),g=n(62),v=n(148),m=n(149),y=n(27),b=n(25),w=n(53),x=n(39),_=n(54),E=n(150),k=n(89),S=n(20),C=n(33),T=k.f,M=S.f,D=E.f,O=i.Symbol,P=i.JSON,I=P&&P.stringify,A=p("_hidden"),N=p("toPrimitive"),R={}.propertyIsEnumerable,L=u("symbol-registry"),z=u("symbols"),B=u("op-symbols"),F=Object.prototype,j="function"==typeof O,H=i.QObject,V=!H||!H.prototype||!H.prototype.findChild,W=r&&h(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=T(F,e);i&&delete F[e],M(t,e,n),i&&t!==F&&M(F,e,i)}:M,U=function(t){var e=z[t]=_(O.prototype);return e._k=t,e},Y=j&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},G=function(t,e,n){return t===F&&G(B,e,n),y(t),e=w(e,!0),y(n),o(z,e)?(n.enumerable?(o(t,A)&&t[A][e]&&(t[A][e]=!1),n=_(n,{enumerable:x(0,!1)})):(o(t,A)||M(t,A,x(1,{})),t[A][e]=!0),W(t,e,n)):M(t,e,n)},q=function(t,e){y(t);for(var n,i=v(e=b(e)),o=0,r=i.length;r>o;)G(t,n=i[o++],e[n]);return t},X=function(t){var e=R.call(this,t=w(t,!0));return!(this===F&&o(z,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(z,t)||o(this,A)&&this[A][t])||e)},K=function(t,e){if(t=b(t),e=w(e,!0),t!==F||!o(z,e)||o(B,e)){var n=T(t,e);return!n||!o(z,e)||o(t,A)&&t[A][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=D(b(t)),i=[],r=0;n.length>r;)o(z,e=n[r++])||e==A||e==l||i.push(e);return i},Q=function(t){for(var e,n=t===F,i=D(n?B:b(t)),r=[],s=0;i.length>s;)!o(z,e=i[s++])||n&&!o(F,e)||r.push(z[e]);return r};j||(a((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(n){this===F&&e.call(B,n),o(this,A)&&o(this[A],t)&&(this[A][t]=!1),W(this,t,x(1,n))};return r&&V&&W(F,t,{configurable:!0,set:e}),U(t)}).prototype,"toString",function(){return this._k}),k.f=K,S.f=G,n(88).f=E.f=Z,n(42).f=X,n(63).f=Q,r&&!n(52)&&a(F,"propertyIsEnumerable",X,!0),f.f=function(t){return U(p(t))}),s(s.G+s.W+s.F*!j,{Symbol:O});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),$=0;J.length>$;)p(J[$++]);for(var tt=C(p.store),et=0;tt.length>et;)g(tt[et++]);s(s.S+s.F*!j,"Symbol",{for:function(t){return o(L,t+="")?L[t]:L[t]=O(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!j,"Object",{create:function(t,e){return void 0===e?_(t):q(_(t),e)},defineProperty:G,defineProperties:q,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),P&&s(s.S+s.F*(!j||h(function(){var t=O();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!Y(t)){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);return"function"==typeof(e=i[1])&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!Y(e))return e}),i[1]=e,I.apply(P,i)}}}),O.prototype[N]||n(26)(O.prototype,N,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(t,e,n){var i=n(40)("meta"),o=n(32),r=n(22),s=n(20).f,a=0,l=Object.isExtensible||function(){return!0},h=!n(28)(function(){return l(Object.preventExtensions({}))}),u=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},d=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},getWeak:function(t,e){if(!r(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},onFreeze:function(t){return h&&d.NEED&&l(t)&&!r(t,i)&&u(t),t}}},function(t,e,n){var i=n(33),o=n(63),r=n(42);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var s,a=n(t),l=r.f,h=0;a.length>h;)l.call(t,s=a[h++])&&e.push(s);return e}},function(t,e,n){var i=n(50);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(25),o=n(88).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==r.call(t)?function(t){try{return o(t)}catch(e){return s.slice()}}(t):o(i(t))}},function(t,e){},function(t,e,n){n(62)("asyncIterator")},function(t,e,n){n(62)("observable")},function(t,e,n){(function(t){t.exports=function(){var e,n;function i(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,n,i){return Me(t,e,n,i,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function f(t){if(null==t._isValid){var e=p(t),i=n.call(e.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function g(t){var e=c(NaN);return null!=t?d(p(e),t):p(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var v=i.momentProperties=[];function m(t,e){var n,i,o;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=p(e)),s(e._locale)||(t._locale=e._locale),v.length>0)for(n=0;n<v.length;n++)s(o=e[i=v[n]])||(t[i]=o);return t}var y=!1;function b(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,i.updateOffset(this),y=!1)}function w(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=x(e)),n}function E(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&s++;return s+r}function k(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var n=!0;return d(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var o,r=[],s=0;s<arguments.length;s++){if(o="","object"==typeof arguments[s]){for(var a in o+="\n["+s+"] ",arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[s];r.push(o)}k(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var C,T={};function M(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),T[t]||(k(e),T[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t,e){var n,i=d({},t);for(n in e)u(e,n)&&(r(t[n])&&r(e[n])?(i[n]={},d(i[n],t[n]),d(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)u(t,n)&&!u(e,n)&&r(t[n])&&(i[n]=d({},i[n]));return i}function P(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,C=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)u(t,e)&&n.push(e);return n};var I={};function A(t,e){var n=t.toLowerCase();I[n]=I[n+"s"]=I[e]=t}function N(t){return"string"==typeof t?I[t]||I[t.toLowerCase()]:void 0}function R(t){var e,n,i={};for(n in t)u(t,n)&&(e=N(n))&&(i[e]=t[n]);return i}var L={};function z(t,e){L[t]=e}function B(t,e,n){var i=""+Math.abs(t);return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},V={};function W(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(V[t]=o),e&&(V[e[0]]=function(){return B(o.apply(this,arguments),e[1],e[2])}),n&&(V[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function U(t,e){return t.isValid()?(e=Y(e,t.localeData()),H[e]=H[e]||function(t){var e,n,i,o=t.match(F);for(e=0,n=o.length;e<n;e++)o[e]=V[o[e]]?V[o[e]]:(i=o[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,r="";for(i=0;i<n;i++)r+=D(o[i])?o[i].call(e,t):o[i];return r}}(e),H[e](t)):t.localeData().invalidDate()}function Y(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;n>=0&&j.test(t);)t=t.replace(j,i),j.lastIndex=0,n-=1;return t}var G=/\d/,q=/\d\d/,X=/\d{3}/,K=/\d{4}/,Z=/[+-]?\d{6}/,Q=/\d\d?/,J=/\d\d\d\d?/,$=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,nt=/[+-]?\d{1,6}/,it=/\d+/,ot=/[+-]?\d+/,rt=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,lt={};function ht(t,e,n){lt[t]=D(e)?e:function(t,i){return t&&n?n:e}}function ut(t,e){return u(lt,t)?lt[t](e._strict,e._locale):new RegExp(dt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})))}function dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ct={};function pt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),a(e)&&(i=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)ct[t[n]]=i}function ft(t,e){pt(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}function gt(t,e,n){null!=e&&u(ct,t)&&ct[t](e,n._a,n,t)}var vt=0,mt=1,yt=2,bt=3,wt=4,xt=5,_t=6,Et=7,kt=8;function St(t){return Ct(t)?366:365}function Ct(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),A("year","y"),z("year",1),ht("Y",ot),ht("YY",Q,q),ht("YYYY",et,K),ht("YYYYY",nt,Z),ht("YYYYYY",nt,Z),pt(["YYYYY","YYYYYY"],vt),pt("YYYY",function(t,e){e[vt]=2===t.length?i.parseTwoDigitYear(t):_(t)}),pt("YY",function(t,e){e[vt]=i.parseTwoDigitYear(t)}),pt("Y",function(t,e){e[vt]=parseInt(t,10)}),i.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var Tt,Mt=Dt("FullYear",!0);function Dt(t,e){return function(n){return null!=n?(Pt(this,t,n),i.updateOffset(this,e),this):Ot(this,t)}}function Ot(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Pt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Ct(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),It(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function It(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?Ct(t)?29:28:31-n%7%2}Tt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),A("month","M"),z("month",8),ht("M",Q),ht("MM",Q,q),ht("MMM",function(t,e){return e.monthsShortRegex(t)}),ht("MMMM",function(t,e){return e.monthsRegex(t)}),pt(["M","MM"],function(t,e){e[mt]=_(t)-1}),pt(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[mt]=o:p(n).invalidMonth=t});var At=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Nt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(!a(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),It(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function zt(t){return null!=t?(Lt(this,t),i.updateOffset(this,!0),this):Ot(this,"Month")}var Bt=at,Ft=at;function jt(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],r=[];for(e=0;e<12;e++)n=c([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)i[e]=dt(i[e]),o[e]=dt(o[e]);for(e=0;e<24;e++)r[e]=dt(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ht(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Vt(t,e,n){var i=7+e-n;return-(7+Ht(t,0,i).getUTCDay()-e)%7+i-1}function Wt(t,e,n,i,o){var r,s,a=1+7*(e-1)+(7+n-i)%7+Vt(t,i,o);return a<=0?s=St(r=t-1)+a:a>St(t)?(r=t+1,s=a-St(t)):(r=t,s=a),{year:r,dayOfYear:s}}function Ut(t,e,n){var i,o,r=Vt(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1;return s<1?i=s+Yt(o=t.year()-1,e,n):s>Yt(t.year(),e,n)?(i=s-Yt(t.year(),e,n),o=t.year()+1):(o=t.year(),i=s),{week:i,year:o}}function Yt(t,e,n){var i=Vt(t,e,n),o=Vt(t+1,e,n);return(St(t)-i+o)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),z("week",5),z("isoWeek",5),ht("w",Q),ht("ww",Q,q),ht("W",Q),ht("WW",Q,q),ft(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=_(t)}),W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),ht("d",Q),ht("e",Q),ht("E",Q),ht("dd",function(t,e){return e.weekdaysMinRegex(t)}),ht("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ht("dddd",function(t,e){return e.weekdaysRegex(t)}),ft(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:p(n).invalidWeekday=t}),ft(["d","e","E"],function(t,e,n,i){e[i]=_(t)});var Gt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Kt=at,Zt=at,Qt=at;function Jt(){function t(t,e){return e.length-t.length}var e,n,i,o,r,s=[],a=[],l=[],h=[];for(e=0;e<7;e++)n=c([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),r=this.weekdays(n,""),s.push(i),a.push(o),l.push(r),h.push(i),h.push(o),h.push(r);for(s.sort(t),a.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)a[e]=dt(a[e]),l[e]=dt(l[e]),h[e]=dt(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function $t(){return this.hours()%12||12}function te(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ee(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,$t),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+$t.apply(this)+B(this.minutes(),2)}),W("hmmss",0,0,function(){return""+$t.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),te("a",!0),te("A",!1),A("hour","h"),z("hour",13),ht("a",ee),ht("A",ee),ht("H",Q),ht("h",Q),ht("k",Q),ht("HH",Q,q),ht("hh",Q,q),ht("kk",Q,q),ht("hmm",J),ht("hmmss",$),ht("Hmm",J),ht("Hmmss",$),pt(["H","HH"],bt),pt(["k","kk"],function(t,e,n){var i=_(t);e[bt]=24===i?0:i}),pt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),pt(["h","hh"],function(t,e,n){e[bt]=_(t),p(n).bigHour=!0}),pt("hmm",function(t,e,n){var i=t.length-2;e[bt]=_(t.substr(0,i)),e[wt]=_(t.substr(i)),p(n).bigHour=!0}),pt("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[bt]=_(t.substr(0,i)),e[wt]=_(t.substr(i,2)),e[xt]=_(t.substr(o)),p(n).bigHour=!0}),pt("Hmm",function(t,e,n){var i=t.length-2;e[bt]=_(t.substr(0,i)),e[wt]=_(t.substr(i))}),pt("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[bt]=_(t.substr(0,i)),e[wt]=_(t.substr(i,2)),e[xt]=_(t.substr(o))});var ne,ie=Dt("Hours",!0),oe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Nt,monthsShort:Rt,week:{dow:0,doy:6},weekdays:Gt,weekdaysMin:Xt,weekdaysShort:qt,meridiemParse:/[ap]\.?m?\.?/i},re={},se={};function ae(t){return t?t.toLowerCase().replace("_","-"):t}function le(e){var n=null;if(!re[e]&&void 0!==t&&t&&t.exports)try{n=ne._abbr,function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),he(n)}catch(i){}return re[e]}function he(t,e){var n;return t&&(n=s(e)?de(t):ue(t,e))&&(ne=n),ne._abbr}function ue(t,e){if(null!==e){var n=oe;if(e.abbr=t,null!=re[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=re[t]._config;else if(null!=e.parentLocale){if(null==re[e.parentLocale])return se[e.parentLocale]||(se[e.parentLocale]=[]),se[e.parentLocale].push({name:t,config:e}),null;n=re[e.parentLocale]._config}return re[t]=new P(O(n,e)),se[t]&&se[t].forEach(function(t){ue(t.name,t.config)}),he(t),re[t]}return delete re[t],null}function de(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ne;if(!o(t)){if(e=le(t))return e;t=[t]}return function(t){for(var e,n,i,o,r=0;r<t.length;){for(e=(o=ae(t[r]).split("-")).length,n=(n=ae(t[r+1]))?n.split("-"):null;e>0;){if(i=le(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&E(o,n,!0)>=e-1)break;e--}r++}return null}(t)}function ce(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[mt]<0||n[mt]>11?mt:n[yt]<1||n[yt]>It(n[vt],n[mt])?yt:n[bt]<0||n[bt]>24||24===n[bt]&&(0!==n[wt]||0!==n[xt]||0!==n[_t])?bt:n[wt]<0||n[wt]>59?wt:n[xt]<0||n[xt]>59?xt:n[_t]<0||n[_t]>999?_t:-1,p(t)._overflowDayOfYear&&(e<vt||e>yt)&&(e=yt),p(t)._overflowWeeks&&-1===e&&(e=Et),p(t)._overflowWeekday&&-1===e&&(e=kt),p(t).overflow=e),t}function pe(t,e,n){return null!=t?t:null!=e?e:n}function fe(t){var e,n,o,r,s=[];if(!t._d){for(o=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[yt]&&null==t._a[mt]&&function(t){var e,n,i,o,r,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,s=4,n=pe(e.GG,t._a[vt],Ut(De(),1,4).year),i=pe(e.W,1),((o=pe(e.E,1))<1||o>7)&&(l=!0);else{r=t._locale._week.dow,s=t._locale._week.doy;var h=Ut(De(),r,s);n=pe(e.gg,t._a[vt],h.year),i=pe(e.w,h.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||e.e>6)&&(l=!0)):o=r}i<1||i>Yt(n,r,s)?p(t)._overflowWeeks=!0:null!=l?p(t)._overflowWeekday=!0:(a=Wt(n,i,o,r,s),t._a[vt]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(r=pe(t._a[vt],o[vt]),(t._dayOfYear>St(r)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),n=Ht(r,0,t._dayOfYear),t._a[mt]=n.getUTCMonth(),t._a[yt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[bt]&&0===t._a[wt]&&0===t._a[xt]&&0===t._a[_t]&&(t._nextDay=!0,t._a[bt]=0),t._d=(t._useUTC?Ht:function(t,e,n,i,o,r,s){var a=new Date(t,e,n,i,o,r,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[bt]=24),t._w&&void 0!==t._w.d&&t._w.d!==t._d.getDay()&&(p(t).weekdayMismatch=!0)}}var ge=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,me=/Z|[+-]\d\d(?::?\d\d)?/,ye=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],be=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],we=/^\/?Date\((\-?\d+)/i;function xe(t){var e,n,i,o,r,s,a=t._i,l=ge.exec(a)||ve.exec(a);if(l){for(p(t).iso=!0,e=0,n=ye.length;e<n;e++)if(ye[e][1].exec(l[1])){o=ye[e][0],i=!1!==ye[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=be.length;e<n;e++)if(be[e][1].exec(l[3])){r=(l[2]||" ")+be[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!me.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=o+(r||"")+(s||""),Ce(t)}else t._isValid=!1}var _e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ee(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var ke={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Se(t){var e,n,i,o,r,s,a=_e.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(a){var l=(e=a[3],n=a[2],i=a[5],o=a[6],r=a[7],s=[Ee(a[4]),Rt.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(o,10)],r&&s.push(parseInt(r,10)),s);if(!function(t,e,n){return!t||qt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}(a[1],l,t))return;t._a=l,t._tzm=function(t,e,n){if(t)return ke[t];if(a[9])return 0;var i=parseInt(a[10],10),o=i%100;return(i-o)/100*60+o}(a[8]),t._d=Ht.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function Ce(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],p(t).empty=!0;var e,n,o,r,s,a=""+t._i,l=a.length,h=0;for(o=Y(t._f,t._locale).match(F)||[],e=0;e<o.length;e++)(n=(a.match(ut(r=o[e],t))||[])[0])&&((s=a.substr(0,a.indexOf(n))).length>0&&p(t).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),h+=n.length),V[r]?(n?p(t).empty=!1:p(t).unusedTokens.push(r),gt(r,n,t)):t._strict&&!n&&p(t).unusedTokens.push(r);p(t).charsLeftOver=l-h,a.length>0&&p(t).unusedInput.push(a),t._a[bt]<=12&&!0===p(t).bigHour&&t._a[bt]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[bt]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}(t._locale,t._a[bt],t._meridiem),fe(t),ce(t)}else Se(t);else xe(t)}function Te(t){var e=t._i,n=t._f;return t._locale=t._locale||de(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new b(ce(e)):(l(e)?t._d=e:o(n)?function(t){var e,n,i,o,r;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Ce(e),f(e)&&(r+=p(e).charsLeftOver,r+=10*p(e).unusedTokens.length,p(e).score=r,(null==i||r<i)&&(i=r,n=e));d(t,n||e)}(t):n?Ce(t):function(t){var e=t._i;s(e)?t._d=new Date(i.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=we.exec(t._i);null===e?(xe(t),!1===t._isValid&&(delete t._isValid,Se(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=h(e.slice(0),function(t){return parseInt(t,10)}),fe(t)):r(e)?function(t){if(!t._d){var e=R(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),fe(t)}}(t):a(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),f(t)||(t._d=null),t))}function Me(t,e,n,i,s){var a,l={};return!0!==n&&!1!==n||(i=n,n=void 0),(r(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||o(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=t,l._f=e,l._strict=i,(a=new b(ce(Te(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function De(t,e,n,i){return Me(t,e,n,i,!1)}i.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Oe=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Pe=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()});function Ie(t,e){var n,i;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return De();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}var Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ne(t){var e=R(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Tt.call(Ae,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Ae.length;++i)if(t[Ae[i]]){if(n)return!1;parseFloat(t[Ae[i]])!==_(t[Ae[i]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*h+6e4*l+1e3*a*60*60,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=de(),this._bubble()}function Re(t){return t instanceof Ne}function Le(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ze(t,e){W(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+B(~~(t/60),2)+e+B(~~t%60,2)})}ze("Z",":"),ze("ZZ",""),ht("Z",st),ht("ZZ",st),pt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Fe(st,t)});var Be=/([\+\-]|\d\d)/gi;function Fe(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Be)||["-",0,0],o=60*i[1]+_(i[2]);return 0===o?0:"+"===i[0]?o:-o}function je(t,e){var n,o;return e._isUTC?(n=e.clone(),o=(w(t)||l(t)?t.valueOf():De(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),i.updateOffset(n,!1),n):De(t).local()}function He(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ve(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var We=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ue=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ye(t,e){var n,i,o,r,s,l,h=t,d=null;return Re(t)?h={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(h={},e?h[e]=t:h.milliseconds=t):(d=We.exec(t))?(n="-"===d[1]?-1:1,h={y:0,d:_(d[yt])*n,h:_(d[bt])*n,m:_(d[wt])*n,s:_(d[xt])*n,ms:_(Le(1e3*d[_t]))*n}):(d=Ue.exec(t))?h={y:Ge(d[2],n="-"===d[1]?-1:1),M:Ge(d[3],n),w:Ge(d[4],n),d:Ge(d[5],n),h:Ge(d[6],n),m:Ge(d[7],n),s:Ge(d[8],n)}:null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(r=De(h.from),s=De(h.to),o=r.isValid()&&s.isValid()?(s=je(s,r),r.isBefore(s)?l=qe(r,s):((l=qe(s,r)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(h={}).ms=o.milliseconds,h.M=o.months),i=new Ne(h),Re(t)&&u(t,"_locale")&&(i._locale=t._locale),i}function Ge(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function qe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Xe(t,e){return function(n,i){var o;return null===i||isNaN(+i)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),Ke(this,Ye(n="string"==typeof n?+n:n,i),t),this}}function Ke(t,e,n,o){var r=e._milliseconds,s=Le(e._days),a=Le(e._months);t.isValid()&&(o=null==o||o,a&&Lt(t,Ot(t,"Month")+a*n),s&&Pt(t,"Date",Ot(t,"Date")+s*n),r&&t._d.setTime(t._d.valueOf()+r*n),o&&i.updateOffset(t,s||a))}Ye.fn=Ne.prototype,Ye.invalid=function(){return Ye(NaN)};var Ze=Xe(1,"add"),Qe=Xe(-1,"subtract");function Je(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function $e(t){var e;return void 0===t?this._locale._abbr:(null!=(e=de(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tn=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function en(){return this._locale}function nn(t,e){W(0,[t,t.length],0,e)}function on(t,e,n,i,o){var r;return null==t?Ut(this,i,o).year:(e>(r=Yt(t,i,o))&&(e=r),(function(t,e,n,i,o){var r=Wt(t,e,n,i,o),s=Ht(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}).call(this,t,e,n,i,o))}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),nn("gggg","weekYear"),nn("ggggg","weekYear"),nn("GGGG","isoWeekYear"),nn("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),ht("G",ot),ht("g",ot),ht("GG",Q,q),ht("gg",Q,q),ht("GGGG",et,K),ht("gggg",et,K),ht("GGGGG",nt,Z),ht("ggggg",nt,Z),ft(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=_(t)}),ft(["gg","GG"],function(t,e,n,o){e[o]=i.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),A("quarter","Q"),z("quarter",7),ht("Q",G),pt("Q",function(t,e){e[mt]=3*(_(t)-1)}),W("D",["DD",2],"Do","date"),A("date","D"),z("date",9),ht("D",Q),ht("DD",Q,q),ht("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),pt(["D","DD"],yt),pt("Do",function(t,e){e[yt]=_(t.match(Q)[0])});var rn=Dt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),z("dayOfYear",4),ht("DDD",tt),ht("DDDD",X),pt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=_(t)}),W("m",["mm",2],0,"minute"),A("minute","m"),z("minute",14),ht("m",Q),ht("mm",Q,q),pt(["m","mm"],wt);var sn=Dt("Minutes",!1);W("s",["ss",2],0,"second"),A("second","s"),z("second",15),ht("s",Q),ht("ss",Q,q),pt(["s","ss"],xt);var an,ln=Dt("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),z("millisecond",16),ht("S",tt,G),ht("SS",tt,q),ht("SSS",tt,X),an="SSSS";an.length<=9;an+="S")ht(an,it);function hn(t,e){e[_t]=_(1e3*("0."+t))}for(an="S";an.length<=9;an+="S")pt(an,hn);var un=Dt("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var dn=b.prototype;function cn(t){return t}dn.add=Ze,dn.calendar=function(t,e){var n=t||De(),o=je(n,this).startOf("day"),r=i.calendarFormat(this,o)||"sameElse",s=e&&(D(e[r])?e[r].call(this,n):e[r]);return this.format(s||this.localeData().calendar(r,this,De(n)))},dn.clone=function(){return new b(this)},dn.diff=function(t,e,n){var i,o,r;if(!this.isValid())return NaN;if(!(i=je(t,this)).isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),e=N(e)){case"year":r=Je(this,i)/12;break;case"month":r=Je(this,i);break;case"quarter":r=Je(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-o)/864e5;break;case"week":r=(this-i-o)/6048e5;break;default:r=this-i}return n?r:x(r)},dn.endOf=function(t){return void 0===(t=N(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},dn.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=U(this,t);return this.localeData().postformat(e)},dn.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||De(t).isValid())?Ye({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},dn.fromNow=function(t){return this.from(De(),t)},dn.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||De(t).isValid())?Ye({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},dn.toNow=function(t){return this.to(De(),t)},dn.get=function(t){return D(this[t=N(t)])?this[t]():this},dn.invalidAt=function(){return p(this).overflow},dn.isAfter=function(t,e){var n=w(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(s(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},dn.isBefore=function(t,e){var n=w(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(s(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},dn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},dn.isSame=function(t,e){var n,i=w(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=N(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},dn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},dn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},dn.isValid=function(){return f(this)},dn.lang=tn,dn.locale=$e,dn.localeData=en,dn.max=Pe,dn.min=Oe,dn.parsingFlags=function(){return d({},p(this))},dn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:L[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=R(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(D(this[t=N(t)]))return this[t](e);return this},dn.startOf=function(t){switch(t=N(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},dn.subtract=Qe,dn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},dn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},dn.toDate=function(){return new Date(this.valueOf())},dn.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?U(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(Date.prototype.toISOString)?this.toDate().toISOString():U(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},dn.toJSON=function(){return this.isValid()?this.toISOString():null},dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},dn.unix=function(){return Math.floor(this.valueOf()/1e3)},dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},dn.year=Mt,dn.isLeapYear=function(){return Ct(this.year())},dn.weekYear=function(t){return on.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},dn.isoWeekYear=function(t){return on.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},dn.quarter=dn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},dn.month=zt,dn.daysInMonth=function(){return It(this.year(),this.month())},dn.week=dn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},dn.isoWeek=dn.isoWeeks=function(t){var e=Ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},dn.weeksInYear=function(){var t=this.localeData()._week;return Yt(this.year(),t.dow,t.doy)},dn.isoWeeksInYear=function(){return Yt(this.year(),1,4)},dn.date=rn,dn.day=dn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},dn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},dn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},dn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},dn.hour=dn.hours=ie,dn.minute=dn.minutes=sn,dn.second=dn.seconds=ln,dn.millisecond=dn.milliseconds=un,dn.utcOffset=function(t,e,n){var o,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Fe(st,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(o=He(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==t&&(!e||this._changeInProgress?Ke(this,Ye(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:He(this)},dn.utc=function(t){return this.utcOffset(0,t)},dn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(He(this),"m")),this},dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Fe(rt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},dn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)},dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},dn.isUtc=Ve,dn.isUTC=Ve,dn.zoneAbbr=function(){return this._isUTC?"UTC":""},dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},dn.dates=S("dates accessor is deprecated. Use date instead.",rn),dn.months=S("months accessor is deprecated. Use month instead",zt),dn.years=S("years accessor is deprecated. Use year instead",Mt),dn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),dn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),(t=Te(t))._a){var e=t._isUTC?c(t._a):De(t._a);this._isDSTShifted=this.isValid()&&E(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var pn=P.prototype;function fn(t,e,n,i){var o=de(),r=c().set(i,e);return o[n](r,t)}function gn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return fn(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=fn(t,i,n,"month");return o}function vn(t,e,n,i){"boolean"==typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var o,r=de(),s=t?r._week.dow:0;if(null!=n)return fn(e,(n+s)%7,i,"day");var l=[];for(o=0;o<7;o++)l[o]=fn(e,(o+s)%7,i,"day");return l}pn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return D(i)?i.call(e,n):i},pn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},pn.invalidDate=function(){return this._invalidDate},pn.ordinal=function(t){return this._ordinal.replace("%d",t)},pn.preparse=cn,pn.postformat=cn,pn.relativeTime=function(t,e,n,i){var o=this._relativeTime[n];return D(o)?o(t,e,n,i):o.replace(/%d/i,t)},pn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return D(n)?n(e):n.replace(/%s/i,e)},pn.set=function(t){var e,n;for(n in t)D(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pn.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||At).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},pn.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[At.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pn.monthsParse=function(t,e,n){var i,o,r;if(this._monthsParseExact)return(function(t,e,n){var i,o,r,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=Tt.call(this._shortMonthsParse,s))?o:null:-1!==(o=Tt.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=Tt.call(this._shortMonthsParse,s))?o:-1!==(o=Tt.call(this._longMonthsParse,s))?o:null:-1!==(o=Tt.call(this._longMonthsParse,s))?o:-1!==(o=Tt.call(this._shortMonthsParse,s))?o:null}).call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},pn.monthsRegex=function(t){return this._monthsParseExact?(u(this,"_monthsRegex")||jt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Ft),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},pn.monthsShortRegex=function(t){return this._monthsParseExact?(u(this,"_monthsRegex")||jt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Bt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},pn.week=function(t){return Ut(t,this._week.dow,this._week.doy).week},pn.firstDayOfYear=function(){return this._week.doy},pn.firstDayOfWeek=function(){return this._week.dow},pn.weekdays=function(t,e){return t?o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},pn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},pn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},pn.weekdaysParse=function(t,e,n){var i,o,r;if(this._weekdaysParseExact)return(function(t,e,n){var i,o,r,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=Tt.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=Tt.call(this._weekdaysParse,s))?o:-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:-1!==(o=Tt.call(this._weekdaysParse,s))?o:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:-1!==(o=Tt.call(this._weekdaysParse,s))?o:-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:null}).call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},pn.weekdaysRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Jt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Kt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},pn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Jt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Zt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Jt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},pn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},he("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=S("moment.lang is deprecated. Use moment.locale instead.",he),i.langData=S("moment.langData is deprecated. Use moment.localeData instead.",de);var mn=Math.abs;function yn(t,e,n,i){var o=Ye(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function bn(t){return t<0?Math.floor(t):Math.ceil(t)}function wn(t){return 4800*t/146097}function xn(t){return 146097*t/4800}function _n(t){return function(){return this.as(t)}}var En=_n("ms"),kn=_n("s"),Sn=_n("m"),Cn=_n("h"),Tn=_n("d"),Mn=_n("w"),Dn=_n("M"),On=_n("y");function Pn(t){return function(){return this.isValid()?this._data[t]:NaN}}var In=Pn("milliseconds"),An=Pn("seconds"),Nn=Pn("minutes"),Rn=Pn("hours"),Ln=Pn("days"),zn=Pn("months"),Bn=Pn("years"),Fn=Math.round,jn={ss:44,s:45,m:45,h:22,d:26,M:11},Hn=Math.abs;function Vn(t){return(t>0)-(t<0)||+t}function Wn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Hn(this._milliseconds)/1e3,i=Hn(this._days),o=Hn(this._months);t=x(n/60),e=x(t/60),n%=60,t%=60;var r=x(o/12),s=o%=12,a=i,l=e,h=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var c=d<0?"-":"",p=Vn(this._months)!==Vn(d)?"-":"",f=Vn(this._days)!==Vn(d)?"-":"",g=Vn(this._milliseconds)!==Vn(d)?"-":"";return c+"P"+(r?p+r+"Y":"")+(s?p+s+"M":"")+(a?f+a+"D":"")+(l||h||u?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(u?g+u+"S":"")}var Un=Ne.prototype;return Un.isValid=function(){return this._isValid},Un.abs=function(){var t=this._data;return this._milliseconds=mn(this._milliseconds),this._days=mn(this._days),this._months=mn(this._months),t.milliseconds=mn(t.milliseconds),t.seconds=mn(t.seconds),t.minutes=mn(t.minutes),t.hours=mn(t.hours),t.months=mn(t.months),t.years=mn(t.years),this},Un.add=function(t,e){return yn(this,t,e,1)},Un.subtract=function(t,e){return yn(this,t,e,-1)},Un.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=N(t))||"year"===t)return n=this._months+wn(e=this._days+i/864e5),"month"===t?n:n/12;switch(e=this._days+Math.round(xn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Un.asMilliseconds=En,Un.asSeconds=kn,Un.asMinutes=Sn,Un.asHours=Cn,Un.asDays=Tn,Un.asWeeks=Mn,Un.asMonths=Dn,Un.asYears=On,Un.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},Un._bubble=function(){var t,e,n,i,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*bn(xn(a)+s),s=0,a=0),l.milliseconds=r%1e3,t=x(r/1e3),l.seconds=t%60,e=x(t/60),l.minutes=e%60,n=x(e/60),l.hours=n%24,s+=x(n/24),a+=o=x(wn(s)),s-=bn(xn(o)),i=x(a/12),a%=12,l.days=s,l.months=a,l.years=i,this},Un.clone=function(){return Ye(this)},Un.get=function(t){return t=N(t),this.isValid()?this[t+"s"]():NaN},Un.milliseconds=In,Un.seconds=An,Un.minutes=Nn,Un.hours=Rn,Un.days=Ln,Un.weeks=function(){return x(this.days()/7)},Un.months=zn,Un.years=Bn,Un.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var i=Ye(t).abs(),o=Fn(i.as("s")),r=Fn(i.as("m")),s=Fn(i.as("h")),a=Fn(i.as("d")),l=Fn(i.as("M")),h=Fn(i.as("y")),u=o<=jn.ss&&["s",o]||o<jn.s&&["ss",o]||r<=1&&["m"]||r<jn.m&&["mm",r]||s<=1&&["h"]||s<jn.h&&["hh",s]||a<=1&&["d"]||a<jn.d&&["dd",a]||l<=1&&["M"]||l<jn.M&&["MM",l]||h<=1&&["y"]||["yy",h];return u[2]=e,u[3]=+t>0,u[4]=n,(function(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}).apply(null,u)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Un.toISOString=Wn,Un.toString=Wn,Un.toJSON=Wn,Un.locale=$e,Un.localeData=en,Un.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wn),Un.lang=tn,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ht("x",ot),ht("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),pt("x",function(t,e,n){n._d=new Date(_(t))}),i.version="2.19.1",e=De,i.fn=dn,i.min=function(){return Ie("isBefore",[].slice.call(arguments,0))},i.max=function(){return Ie("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=c,i.unix=function(t){return De(1e3*t)},i.months=function(t,e){return gn(t,e,"months")},i.isDate=l,i.locale=he,i.invalid=g,i.duration=Ye,i.isMoment=w,i.weekdays=function(t,e,n){return vn(t,e,n,"weekdays")},i.parseZone=function(){return De.apply(null,arguments).parseZone()},i.localeData=de,i.isDuration=Re,i.monthsShort=function(t,e){return gn(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return vn(t,e,n,"weekdaysMin")},i.defineLocale=ue,i.updateLocale=function(t,e){if(null!=e){var n,i=oe;null!=re[t]&&(i=re[t]._config),(n=new P(e=O(i,e))).parentLocale=re[t],re[t]=n,he(t)}else null!=re[t]&&(null!=re[t].parentLocale?re[t]=re[t].parentLocale:null!=re[t]&&delete re[t]);return re[t]},i.locales=function(){return C(re)},i.weekdaysShort=function(t,e,n){return vn(t,e,n,"weekdaysShort")},i.normalizeUnits=N,i.relativeTimeRounding=function(t){return void 0===t?Fn:"function"==typeof t&&(Fn=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==jn[t]&&(void 0===e?jn[t]:(jn[t]=e,"s"===t&&(jn.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=dn,i}()}).call(e,n(155)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=156},function(t,e,n){(function(e){var n,i="undefined"!=typeof window?window:void 0!==e?e:null;if(i&&i.crypto&&crypto.getRandomValues){var o=new Uint8Array(16);n=function(){return crypto.getRandomValues(o),o}}if(!n){var r=new Array(16);n=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}for(var s=[],a={},l=0;l<256;l++)s[l]=(l+256).toString(16).substr(1),a[s[l]]=l;function h(t,e){var n=e||0;return s[t[n++]]+s[t[n++]]+s[t[n++]]+s[t[n++]]+"-"+s[t[n++]]+s[t[n++]]+"-"+s[t[n++]]+s[t[n++]]+"-"+s[t[n++]]+s[t[n++]]+"-"+s[t[n++]]+s[t[n++]]+s[t[n++]]+s[t[n++]]+s[t[n++]]+s[t[n++]]}var u=n(),d=[1|u[0],u[1],u[2],u[3],u[4],u[5]],c=16383&(u[6]<<8|u[7]),p=0,f=0;function g(t,e,i){var o=e&&i||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||n)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;s++)e[o+s]=r[s];return e||h(r)}var v=g;v.v1=function(t,e,n){var i=e&&n||0,o=e||[],r=void 0!==(t=t||{}).clockseq?t.clockseq:c,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),a=void 0!==t.nsecs?t.nsecs:f+1,l=s-p+(a-f)/1e4;if(l<0&&void 0===t.clockseq&&(r=r+1&16383),(l<0||s>p)&&void 0===t.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=s,f=a,c=r;var u=(1e4*(268435455&(s+=122192928e5))+a)%4294967296;o[i++]=u>>>24&255,o[i++]=u>>>16&255,o[i++]=u>>>8&255,o[i++]=255&u;var g=s/4294967296*1e4&268435455;o[i++]=g>>>8&255,o[i++]=255&g,o[i++]=g>>>24&15|16,o[i++]=g>>>16&255,o[i++]=r>>>8|128,o[i++]=255&r;for(var v=t.node||d,m=0;m<6;m++)o[i+m]=v[m];return e||h(o)},v.v4=g,v.parse=function(t,e,n){var i=e&&n||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[i+o++]=a[t])});o<16;)e[i+o++]=0;return e},v.unparse=h,t.exports=v}).call(e,n(158))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(i){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){e.util=n(2),e.DOMutil=n(14),e.DataSet=n(11),e.DataView=n(12),e.Queue=n(43),e.Graph3d=n(161),e.graph3d={Camera:n(95),Filter:n(96),Point2d:n(91),Point3d:n(34),Slider:n(92),StepNumber:n(93)},e.moment=n(9),e.Hammer=n(10),e.keycharm=n(35)},function(t,e,n){var i=n(7),o=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){var i,o=(i=n(90))&&i.__esModule?i:{default:i},r=n(44),s=n(2),a=n(34),l=n(91),h=n(92),u=n(93),d=n(94),c=n(15).default,p=n(15).printStyle,f=n(172).allOptions,g=n(173);function v(t,e,n){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new g,this.dataPoints=null,this.create(),d.setDefaults(v.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(n),this.setData(e)}function m(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function y(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}v.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:void 0,animationInterval:1e3,animationPreload:!1,animationAutoStart:void 0,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(v.STYLE=d.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:void 0,backgroundColor:void 0,xBarWidth:void 0,yBarWidth:void 0,valueMin:void 0,valueMax:void 0,xMin:void 0,xMax:void 0,xStep:void 0,yMin:void 0,yMax:void 0,yStep:void 0,zMin:void 0,zMax:void 0,zStep:void 0},r(v.prototype),v.prototype._setScale=function(){this.scale=new a(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,n=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,n)},v.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},v.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),n=this.camera.getCameraRotation(),i=t.x*this.scale.x,o=t.y*this.scale.y,r=t.z*this.scale.z,s=e.x,l=e.y,h=e.z,u=Math.sin(n.x),d=Math.cos(n.x),c=Math.sin(n.y),p=Math.cos(n.y),f=Math.sin(n.z),g=Math.cos(n.z);return new a(p*(f*(o-l)+g*(i-s))-c*(r-h),u*(p*(r-h)+c*(f*(o-l)+g*(i-s)))+d*(g*(o-l)-f*(i-s)),d*(p*(r-h)+c*(f*(o-l)+g*(i-s)))-u*(g*(o-l)-f*(i-s)))},v.prototype._convertTranslationToScreen=function(t){var e,n,i=this.eye.z,o=t.x,r=t.y,s=t.z;return this.showPerspective?(e=i/s*(o-this.eye.x),n=i/s*(r-this.eye.y)):(e=o*(-i/this.camera.getArmLength()),n=r*(-i/this.camera.getArmLength())),new l(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-n*this.frame.canvas.clientWidth)},v.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.trans=this._convertPointToTranslation(n.point),n.screen=this._convertTranslationToScreen(n.trans);var i=this._convertPointToTranslation(n.bottom);n.dist=this.showPerspective?i.length():-i.z}t.sort(function(t,e){return e.dist-t.dist})},v.prototype._initializeRanges=function(){var t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},v.prototype.getDataPoints=function(t){for(var e=[],n=0;n<t.length;n++){var i=new a;i.x=t[n][this.colX]||0,i.y=t[n][this.colY]||0,i.z=t[n][this.colZ]||0,i.data=t[n],void 0!==this.colValue&&(i.value=t[n][this.colValue]||0);var o={};o.point=i,o.bottom=new a(i.x,i.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},v.prototype._getDataPoints=function(t){var e,n,i,o,r=[];if(this.style===v.STYLE.GRID||this.style===v.STYLE.SURFACE){var s=this.dataGroup.getDistinctValues(this.colX,t),a=this.dataGroup.getDistinctValues(this.colY,t);r=this.getDataPoints(t);var l=[];for(i=0;i<r.length;i++){var h=s.indexOf((o=r[i]).point.x),u=a.indexOf(o.point.y);void 0===l[h]&&(l[h]=[]),l[h][u]=o}for(e=0;e<l.length;e++)for(n=0;n<l[e].length;n++)l[e][n]&&(l[e][n].pointRight=e<l.length-1?l[e+1][n]:void 0,l[e][n].pointTop=n<l[e].length-1?l[e][n+1]:void 0,l[e][n].pointCross=e<l.length-1&&n<l[e].length-1?l[e+1][n+1]:void 0)}else if(this._checkValueField(t),r=this.getDataPoints(t),this.style===v.STYLE.LINE)for(i=0;i<r.length;i++)i>0&&(r[i-1].pointNext=r[i]);return r},v.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this;s.addEventListener(this.frame.canvas,"mousedown",function(t){e._onMouseDown(t)}),s.addEventListener(this.frame.canvas,"touchstart",function(t){e._onTouchStart(t)}),s.addEventListener(this.frame.canvas,"mousewheel",function(t){e._onWheel(t)}),s.addEventListener(this.frame.canvas,"mousemove",function(t){e._onTooltip(t)}),s.addEventListener(this.frame.canvas,"click",function(t){e._onClick(t)}),this.containerElement.appendChild(this.frame)},v.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},v.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},v.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},v.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},v.prototype._resizeCenter=function(){this.currentXCenter="%"===this.xCenter.charAt(this.xCenter.length-1)?parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.xCenter),this.currentYCenter="%"===this.yCenter.charAt(this.yCenter.length-1)?parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.yCenter)},v.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},v.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},v.prototype.setData=function(t){null!=t&&(this._readData(t),this.redraw(),this.animationStart())},v.prototype.setOptions=function(t){void 0!==t&&(!0===c.validate(t,f)&&console.log("%cErrors have been found in the supplied options object.",p),this.animationStop(),d.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},v.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case v.STYLE.BAR:t=v.prototype._redrawBarGraphPoint;break;case v.STYLE.BARCOLOR:t=v.prototype._redrawBarColorGraphPoint;break;case v.STYLE.BARSIZE:t=v.prototype._redrawBarSizeGraphPoint;break;case v.STYLE.DOT:t=v.prototype._redrawDotGraphPoint;break;case v.STYLE.DOTLINE:t=v.prototype._redrawDotLineGraphPoint;break;case v.STYLE.DOTCOLOR:t=v.prototype._redrawDotColorGraphPoint;break;case v.STYLE.DOTSIZE:t=v.prototype._redrawDotSizeGraphPoint;break;case v.STYLE.SURFACE:t=v.prototype._redrawSurfaceGraphPoint;break;case v.STYLE.GRID:t=v.prototype._redrawGridGraphPoint;break;case v.STYLE.LINE:t=v.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},v.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},v.prototype._getContext=function(){var t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},v.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},v.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},v.prototype._getLegendWidth=function(){return this.style===v.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===v.STYLE.BARSIZE?this.xBarWidth:20},v.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==v.STYLE.LINE&&this.style!==v.STYLE.BARSIZE){var t=this.style===v.STYLE.BARSIZE||this.style===v.STYLE.DOTSIZE,e=this.style===v.STYLE.DOTSIZE||this.style===v.STYLE.DOTCOLOR||this.style===v.STYLE.BARCOLOR,n=Math.max(.25*this.frame.clientHeight,100),i=this.margin,o=this._getLegendWidth(),r=this.frame.clientWidth-this.margin,s=r-o,a=i+n,h=this._getContext();if(h.lineWidth=1,h.font="14px arial",!1===t){var d,c=n;for(d=0;d<c;d++){var p=this._hsv2rgb((d-0)/(c-0)*240,1,1);h.strokeStyle=p,h.beginPath(),h.moveTo(s,i+d),h.lineTo(r,i+d),h.stroke()}h.strokeStyle=this.axisColor,h.strokeRect(s,i,o,n)}else{var f;this.style===v.STYLE.DOTSIZE&&(f=o*(this.dotSizeMinFraction/this.dotSizeMaxFraction)),h.strokeStyle=this.axisColor,h.fillStyle=this.dataColor.fill,h.beginPath(),h.moveTo(s,i),h.lineTo(r,i),h.lineTo(s+f,a),h.lineTo(s,a),h.closePath(),h.fill(),h.stroke()}var g,m,y=e?this.valueRange.min:this.zRange.min,b=e?this.valueRange.max:this.zRange.max,w=new u(y,b,(b-y)/5,!0);for(w.start(!0);!w.end();)d=a-(w.getCurrent()-y)/(b-y)*n,g=new l(s-5,d),m=new l(s,d),this._line(h,g,m),h.textAlign="right",h.textBaseline="middle",h.fillStyle=this.axisColor,h.fillText(w.getCurrent(),s-10,d),w.next();h.textAlign="right",h.textBaseline="top",h.fillText(this.legendLabel,r,a+this.margin)}},v.prototype._redrawFilter=function(){var t=this.dataGroup.dataFilter,e=this.frame.filter;if(e.innerHTML="",t){var n=new h(e,{visible:this.showAnimationControls});e.slider=n,e.style.padding="10px",n.setValues(t.values),n.setPlayInterval(this.animationInterval);var i=this;n.setOnChangeCallback(function(){var t=i.dataGroup.dataFilter,e=n.getIndex();t.selectValue(e),i.dataPoints=t._getDataPoints(),i.redraw()})}else e.slider=void 0},v.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},v.prototype._redrawInfo=function(){var t=this.dataGroup.getInfo();if(void 0!==t){var e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top",e.fillText(t,this.margin,this.margin)}},v.prototype._line=function(t,e,n,i){void 0!==i&&(t.strokeStyle=i),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.stroke()},v.prototype.drawAxisLabelX=function(t,e,n,i,o){void 0===o&&(o=0);var r=this._convert3Dto2D(e);Math.cos(2*i)>0?(t.textAlign="center",t.textBaseline="top",r.y+=o):Math.sin(2*i)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)},v.prototype.drawAxisLabelY=function(t,e,n,i,o){void 0===o&&(o=0);var r=this._convert3Dto2D(e);Math.cos(2*i)<0?(t.textAlign="center",t.textBaseline="top",r.y+=o):Math.sin(2*i)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(n,r.x,r.y)},v.prototype.drawAxisLabelZ=function(t,e,n,i){void 0===i&&(i=0);var o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(n,o.x-i,o.y)},v.prototype._line3d=function(t,e,n,i){var o=this._convert3Dto2D(e),r=this._convert3Dto2D(n);this._line(t,o,r,i)},v.prototype._redrawAxis=function(){var t,e,n,i,o,r,s,h,d=this._getContext();d.font=24/this.camera.getArmLength()+"px arial";var c,p,f,g=.025/this.scale.x,v=.025/this.scale.y,m=5/this.camera.getArmLength(),y=this.camera.getArmRotation().horizontal,b=new l(Math.cos(y),Math.sin(y)),w=this.xRange,x=this.yRange,_=this.zRange;for(d.lineWidth=1,(n=new u(w.min,w.max,this.xStep,void 0===this.defaultXStep)).start(!0);!n.end();){var E=n.getCurrent();if(this.showGrid?(t=new a(E,x.min,_.min),e=new a(E,x.max,_.min),this._line3d(d,t,e,this.gridColor)):this.showXAxis&&(t=new a(E,x.min,_.min),e=new a(E,x.min+g,_.min),this._line3d(d,t,e,this.axisColor),t=new a(E,x.max,_.min),e=new a(E,x.max-g,_.min),this._line3d(d,t,e,this.axisColor)),this.showXAxis){c=new a(E,r=b.x>0?x.min:x.max,_.min);var k="  "+this.xValueLabel(E)+"  ";this.drawAxisLabelX(d,c,k,y,m)}n.next()}for(d.lineWidth=1,(n=new u(x.min,x.max,this.yStep,void 0===this.defaultYStep)).start(!0);!n.end();){var S=n.getCurrent();if(this.showGrid?(t=new a(w.min,S,_.min),e=new a(w.max,S,_.min),this._line3d(d,t,e,this.gridColor)):this.showYAxis&&(t=new a(w.min,S,_.min),e=new a(w.min+v,S,_.min),this._line3d(d,t,e,this.axisColor),t=new a(w.max,S,_.min),e=new a(w.max-v,S,_.min),this._line3d(d,t,e,this.axisColor)),this.showYAxis){c=new a(o=b.y>0?w.min:w.max,S,_.min);var C="  "+this.yValueLabel(S)+"  ";this.drawAxisLabelY(d,c,C,y,m)}n.next()}if(this.showZAxis){for(d.lineWidth=1,(n=new u(_.min,_.max,this.zStep,void 0===this.defaultZStep)).start(!0),o=b.x>0?w.min:w.max,r=b.y<0?x.min:x.max;!n.end();){var T=n.getCurrent(),M=new a(o,r,T),D=this._convert3Dto2D(M);e=new l(D.x-m,D.y),this._line(d,D,e,this.axisColor);var O=this.zValueLabel(T)+" ";this.drawAxisLabelZ(d,M,O,5),n.next()}d.lineWidth=1,t=new a(o,r,_.min),e=new a(o,r,_.max),this._line3d(d,t,e,this.axisColor)}this.showXAxis&&(d.lineWidth=1,p=new a(w.min,x.min,_.min),f=new a(w.max,x.min,_.min),this._line3d(d,p,f,this.axisColor),p=new a(w.min,x.max,_.min),f=new a(w.max,x.max,_.min),this._line3d(d,p,f,this.axisColor)),this.showYAxis&&(d.lineWidth=1,t=new a(w.min,x.min,_.min),e=new a(w.min,x.max,_.min),this._line3d(d,t,e,this.axisColor),t=new a(w.max,x.min,_.min),e=new a(w.max,x.max,_.min),this._line3d(d,t,e,this.axisColor));var P=this.xLabel;P.length>0&&this.showXAxis&&(h=.1/this.scale.y,i=new a(o=(w.max+3*w.min)/4,r=b.x>0?x.min-h:x.max+h,_.min),this.drawAxisLabelX(d,i,P,y));var I=this.yLabel;I.length>0&&this.showYAxis&&(s=.1/this.scale.x,i=new a(o=b.y>0?w.min-s:w.max+s,r=(x.max+3*x.min)/4,_.min),this.drawAxisLabelY(d,i,I,y));var A=this.zLabel;A.length>0&&this.showZAxis&&(i=new a(o=b.x>0?w.min:w.max,r=b.y<0?x.min:x.max,(_.max+3*_.min)/4),this.drawAxisLabelZ(d,i,A,30))},v.prototype._hsv2rgb=function(t,e,n){var i,o,r,s,a,l;switch(s=n*e,a=Math.floor(t/60),l=s*(1-Math.abs(t/60%2-1)),a){case 0:i=s,o=l,r=0;break;case 1:i=l,o=s,r=0;break;case 2:i=0,o=s,r=l;break;case 3:i=0,o=l,r=s;break;case 4:i=l,o=0,r=s;break;case 5:i=s,o=0,r=l;break;default:i=0,o=0,r=0}return"RGB("+parseInt(255*i)+","+parseInt(255*o)+","+parseInt(255*r)+")"},v.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},v.prototype._redrawBar=function(t,e,n,i,o,r){var s,l=this,h=e.point,u=this.zRange.min,d=[{point:new a(h.x-n,h.y-i,h.z)},{point:new a(h.x+n,h.y-i,h.z)},{point:new a(h.x+n,h.y+i,h.z)},{point:new a(h.x-n,h.y+i,h.z)}],c=[{point:new a(h.x-n,h.y-i,u)},{point:new a(h.x+n,h.y-i,u)},{point:new a(h.x+n,h.y+i,u)},{point:new a(h.x-n,h.y+i,u)}];d.forEach(function(t){t.screen=l._convert3Dto2D(t.point)}),c.forEach(function(t){t.screen=l._convert3Dto2D(t.point)});var p=[{corners:d,center:a.avg(c[0].point,c[2].point)},{corners:[d[0],d[1],c[1],c[0]],center:a.avg(c[1].point,c[0].point)},{corners:[d[1],d[2],c[2],c[1]],center:a.avg(c[2].point,c[1].point)},{corners:[d[2],d[3],c[3],c[2]],center:a.avg(c[3].point,c[2].point)},{corners:[d[3],d[0],c[0],c[3]],center:a.avg(c[0].point,c[3].point)}];e.surfaces=p;for(var f=0;f<p.length;f++){var g=this._convertPointToTranslation((s=p[f]).center);s.dist=this.showPerspective?g.length():-g.z}p.sort(function(t,e){return e.dist-t.dist||(t.corners===d?1:e.corners===d?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=r,t.fillStyle=o;for(var v=2;v<p.length;v++)this._polygon(t,(s=p[v]).corners)},v.prototype._polygon=function(t,e,n,i){if(!(e.length<2)){void 0!==n&&(t.fillStyle=n),void 0!==i&&(t.strokeStyle=i),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var o=1;o<e.length;++o){var r=e[o];t.lineTo(r.screen.x,r.screen.y)}t.closePath(),t.fill(),t.stroke()}},v.prototype._drawCircle=function(t,e,n,i,o){var r=this._calcRadius(e,o);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=i,t.fillStyle=n,t.beginPath(),t.arc(e.screen.x,e.screen.y,r,0,2*Math.PI,!0),t.fill(),t.stroke()},v.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(e,1,1),border:this._hsv2rgb(e,1,.8)}},v.prototype._getColorsColor=function(t){var e,n;if("string"==typeof t.point.value)e=t.point.value,n=t.point.value;else{var i=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(i,1,1),n=this._hsv2rgb(i,1,.8)}return{fill:e,border:n}},v.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},v.prototype._calcRadius=function(t,e){var n;return void 0===e&&(e=this._dotSize()),(n=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()))<0&&(n=0),n},v.prototype._redrawBarGraphPoint=function(t,e){var n=this.xBarWidth/2,i=this.yBarWidth/2,o=this._getColorsRegular(e);this._redrawBar(t,e,n,i,o.fill,o.border)},v.prototype._redrawBarColorGraphPoint=function(t,e){var n=this.xBarWidth/2,i=this.yBarWidth/2,o=this._getColorsColor(e);this._redrawBar(t,e,n,i,o.fill,o.border)},v.prototype._redrawBarSizeGraphPoint=function(t,e){var n=(e.point.value-this.valueRange.min)/this.valueRange.range(),i=this.xBarWidth/2*(.8*n+.2),o=this.yBarWidth/2*(.8*n+.2),r=this._getColorsSize();this._redrawBar(t,e,i,o,r.fill,r.border)},v.prototype._redrawDotGraphPoint=function(t,e){var n=this._getColorsRegular(e);this._drawCircle(t,e,n.fill,n.border)},v.prototype._redrawDotLineGraphPoint=function(t,e){var n=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,n,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},v.prototype._redrawDotColorGraphPoint=function(t,e){var n=this._getColorsColor(e);this._drawCircle(t,e,n.fill,n.border)},v.prototype._redrawDotSizeGraphPoint=function(t,e){var n=this._dotSize(),i=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=n*this.dotSizeMinFraction,r=o+(n*this.dotSizeMaxFraction-o)*i,s=this._getColorsSize();this._drawCircle(t,e,s.fill,s.border,r)},v.prototype._redrawSurfaceGraphPoint=function(t,e){var n=e.pointRight,i=e.pointTop,o=e.pointCross;if(void 0!==e&&void 0!==n&&void 0!==i&&void 0!==o){var r,s,l=!0;if(this.showGrayBottom||this.showShadow){var h=a.subtract(o.trans,e.trans),u=a.subtract(i.trans,n.trans),d=a.crossProduct(h,u),c=d.length();l=d.z>0}if(l){var p,f=240*(1-((e.point.z+n.point.z+i.point.z+o.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(p=Math.min(1+d.x/c/2,1),s=r=this._hsv2rgb(f,1,p)):(r=this._hsv2rgb(f,1,p=1),s=this.axisColor)}else r="gray",s=this.axisColor;t.lineWidth=this._getStrokeWidth(e),this._polygon(t,[e,n,o,i],r,s)}},v.prototype._drawGridLine=function(t,e,n){if(void 0!==e&&void 0!==n){var i=240*(1-((e.point.z+n.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(i,1,1),this._line(t,e.screen,n.screen)}},v.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},v.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},v.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++)this._pointDrawingMethod.call(this,e,this.dataPoints[t])},v.prototype._storeMousePosition=function(t){this.startMouseX=m(t),this.startMouseY=y(t),this._startCameraOffset=this.camera.getOffset()},v.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},s.addEventListener(document,"mousemove",e.onmousemove),s.addEventListener(document,"mouseup",e.onmouseup),s.preventDefault(t)}},v.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e=parseFloat(m(t))-this.startMouseX,n=parseFloat(y(t))-this.startMouseY;if(t&&!0===t.ctrlKey)this.camera.setOffset((this._startCameraOffset.x||0)-e/(.5*this.frame.clientWidth)*this.camera.armLength*.8,(this._startCameraOffset.y||0)+n/(.5*this.frame.clientHeight)*this.camera.armLength*.8),this._storeMousePosition(t);else{var i=this.startArmRotation.horizontal+e/200,o=this.startArmRotation.vertical+n/200,r=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(i))<r&&(i=Math.round(i/Math.PI)*Math.PI-.001),Math.abs(Math.cos(i))<r&&(i=(Math.round(i/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(o))<r&&(o=Math.round(o/Math.PI)*Math.PI),Math.abs(Math.cos(o))<r&&(o=(Math.round(o/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(i,o)}this.redraw();var a=this.getCameraPosition();this.emit("cameraPositionChange",a),s.preventDefault(t)},v.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,s.removeEventListener(document,"mousemove",this.onmousemove),s.removeEventListener(document,"mouseup",this.onmouseup),s.preventDefault(t)},v.prototype._onClick=function(t){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect(),n=m(t)-e.left,i=y(t)-e.top,o=this._dataPointFromXY(n,i);o&&this.onclick_callback(o.point.data)}s.preventDefault(t)}},v.prototype._onTooltip=function(t){var e=this.frame.getBoundingClientRect(),n=m(t)-e.left,i=y(t)-e.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){var o=this._dataPointFromXY(n,i);o!==this.tooltip.dataPoint&&(o?this._showTooltip(o):this._hideTooltip())}else{var r=this;this.tooltipTimeout=setTimeout(function(){r.tooltipTimeout=null;var t=r._dataPointFromXY(n,i);t&&r._showTooltip(t)},300)}},v.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},s.addEventListener(document,"touchmove",e.ontouchmove),s.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},v.prototype._onTouchMove=function(t){this._onMouseMove(t)},v.prototype._onTouchEnd=function(t){this.touchDown=!1,s.removeEventListener(document,"touchmove",this.ontouchmove),s.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},v.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var n=this.camera.getArmLength();this.camera.setArmLength(n*(1-e/10)),this.redraw(),this._hideTooltip()}var i=this.getCameraPosition();this.emit("cameraPositionChange",i),s.preventDefault(t)},v.prototype._insideTriangle=function(t,e){var n=e[0],i=e[1],o=e[2];function r(t){return t>0?1:t<0?-1:0}var s=r((i.x-n.x)*(t.y-n.y)-(i.y-n.y)*(t.x-n.x)),a=r((o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x)),l=r((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x));return!(0!=s&&0!=a&&s!=a||0!=a&&0!=l&&a!=l||0!=s&&0!=l&&s!=l)},v.prototype._dataPointFromXY=function(t,e){var n,i=null,o=null,r=null,s=new l(t,e);if(this.style===v.STYLE.BAR||this.style===v.STYLE.BARCOLOR||this.style===v.STYLE.BARSIZE)for(n=this.dataPoints.length-1;n>=0;n--){var a=(i=this.dataPoints[n]).surfaces;if(a)for(var h=a.length-1;h>=0;h--){var u=a[h].corners,d=[u[2].screen,u[3].screen,u[0].screen];if(this._insideTriangle(s,[u[0].screen,u[1].screen,u[2].screen])||this._insideTriangle(s,d))return i}}else for(n=0;n<this.dataPoints.length;n++){var c=(i=this.dataPoints[n]).screen;if(c){var p=Math.abs(t-c.x),f=Math.abs(e-c.y),g=Math.sqrt(p*p+f*f);(null===r||g<r)&&g<100&&(r=g,o=i)}}return o},v.prototype.hasBars=function(t){return t==v.STYLE.BAR||t==v.STYLE.BARCOLOR||t==v.STYLE.BARSIZE},v.prototype._showTooltip=function(t){var e,n,i;this.tooltip?(e=this.tooltip.dom.content,n=this.tooltip.dom.line,i=this.tooltip.dom.dot):(e=document.createElement("div"),(0,o.default)(e.style,{},this.tooltipStyle.content),e.style.position="absolute",n=document.createElement("div"),(0,o.default)(n.style,{},this.tooltipStyle.line),n.style.position="absolute",i=document.createElement("div"),(0,o.default)(i.style,{},this.tooltipStyle.dot),i.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:n,dot:i}}),this._hideTooltip(),this.tooltip.dataPoint=t,e.innerHTML="function"==typeof this.showTooltip?this.showTooltip(t.point):"<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(n),this.frame.appendChild(i);var r=e.offsetWidth,s=e.offsetHeight,a=n.offsetHeight,l=i.offsetWidth,h=i.offsetHeight,u=t.screen.x-r/2;u=Math.min(Math.max(u,10),this.frame.clientWidth-10-r),n.style.left=t.screen.x+"px",n.style.top=t.screen.y-a+"px",e.style.left=u+"px",e.style.top=t.screen.y-a-s+"px",i.style.left=t.screen.x-l/2+"px",i.style.top=t.screen.y-h/2+"px"},v.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},v.prototype.setCameraPosition=function(t){d.setCameraPosition(t,this),this.redraw()},v.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.exports=v},function(t,e,n){n(163),t.exports=n(7).Object.assign},function(t,e,n){var i=n(17);i(i.S+i.F,"Object",{assign:n(164)})},function(t,e,n){var i=n(33),o=n(63),r=n(42),s=n(41),a=n(78),l=Object.assign;t.exports=!l||n(28)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=s(t),l=arguments.length,h=1,u=o.f,d=r.f;l>h;)for(var c,p=a(arguments[h++]),f=u?i(p).concat(u(p)):i(p),g=f.length,v=0;g>v;)d.call(p,c=f[v++])&&(n[c]=p[c]);return n}:l},function(t,e,n){t.exports={default:n(166),__esModule:!0}},function(t,e,n){n(167),t.exports=n(7).Math.sign},function(t,e,n){var i=n(17);i(i.S,"Math",{sign:n(168)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){t.exports={default:n(170),__esModule:!0}},function(t,e,n){n(171);var i=n(7).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(17);i(i.S+i.F*!n(21),"Object",{defineProperty:n(20).f})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",r="number",s={fill:{string:i},stroke:{string:i},strokeWidth:{number:r},__type__:{string:i,object:"object",undefined:"undefined"}};e.allOptions={animationAutoStart:{boolean:o,undefined:"undefined"},animationInterval:{number:r},animationPreload:{boolean:o},axisColor:{string:i},backgroundColor:s,xBarWidth:{number:r,undefined:"undefined"},yBarWidth:{number:r,undefined:"undefined"},cameraPosition:{distance:{number:r},horizontal:{number:r},vertical:{number:r},__type__:{object:"object"}},xCenter:{string:i},yCenter:{string:i},dataColor:s,dotSizeMinFraction:{number:r},dotSizeMaxFraction:{number:r},dotSizeRatio:{number:r},filterLabel:{string:i},gridColor:{string:i},onclick:{function:"function"},keepAspectRatio:{boolean:o},xLabel:{string:i},yLabel:{string:i},zLabel:{string:i},legendLabel:{string:i},xMin:{number:r,undefined:"undefined"},yMin:{number:r,undefined:"undefined"},zMin:{number:r,undefined:"undefined"},xMax:{number:r,undefined:"undefined"},yMax:{number:r,undefined:"undefined"},zMax:{number:r,undefined:"undefined"},showAnimationControls:{boolean:o,undefined:"undefined"},showGrid:{boolean:o},showLegend:{boolean:o,undefined:"undefined"},showPerspective:{boolean:o},showShadow:{boolean:o},showXAxis:{boolean:o},showYAxis:{boolean:o},showZAxis:{boolean:o},xStep:{number:r,undefined:"undefined"},yStep:{number:r,undefined:"undefined"},zStep:{number:r,undefined:"undefined"},style:{number:r,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:o,function:"function"},tooltipStyle:{content:{color:{string:i},background:{string:i},border:{string:i},borderRadius:{string:i},boxShadow:{string:i},padding:{string:i},__type__:{object:"object"}},line:{borderLeft:{string:i},height:{string:i},width:{string:i},__type__:{object:"object"}},dot:{border:{string:i},borderRadius:{string:i},height:{string:i},width:{string:i},__type__:{object:"object"}},__type__:{object:"object"}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:r,undefined:"undefined"},valueMin:{number:r,undefined:"undefined"},verticalRatio:{number:r},height:{string:i},width:{string:i},__type__:{object:"object"}}},function(t,e,n){var i=n(11),o=n(12),r=n(174),s=n(96),a=n(94),l=n(34);function h(){this.dataTable=null}h.prototype.initializeData=function(t,e,n){if(void 0!==e){var r;if(Array.isArray(e)&&(e=new i(e)),!(e instanceof i||e instanceof o))throw new Error("Array, DataSet, or DataView expected");if(0!=(r=e.get()).length){this.style=n,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=e,this.dataTable=r;var a=this;this._onChange=function(){t.setData(a.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var l=t.hasBars(n);if(l&&(this.xBarWidth=void 0!==t.defaultXBarWidth?t.defaultXBarWidth:this.getSmallestDifference(r,this.colX)||1,this.yBarWidth=void 0!==t.defaultYBarWidth?t.defaultYBarWidth:this.getSmallestDifference(r,this.colY)||1),this._initializeRange(r,this.colX,t,l),this._initializeRange(r,this.colY,t,l),this._initializeRange(r,this.colZ,t,!1),r[0].hasOwnProperty("style")){this.colValue="style";var h=this.getColumnRange(r,this.colValue);this._setRangeDefaults(h,t.defaultValueMin,t.defaultValueMax),this.valueRange=h}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new s(this,"filter",t),this.dataFilter.setOnLoadCallback(function(){t.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},h.prototype._collectRangeSettings=function(t,e){if(-1==["x","y","z"].indexOf(t))throw new Error("Column '"+t+"' invalid");var n=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+n+"Min"],max:e["default"+n+"Max"],step:e["default"+n+"Step"],range_label:t+"Range",step_label:t+"Step"}},h.prototype._initializeRange=function(t,e,n,i){var o=this._collectRangeSettings(e,n),r=this.getColumnRange(t,e);i&&"z"!=e&&r.expand(o.barWidth/2),this._setRangeDefaults(r,o.min,o.max),this[o.range_label]=r,this[o.step_label]=void 0!==o.step?o.step:r.range()/5},h.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);for(var n=[],i=0;i<e.length;i++){var o=e[i][t]||0;-1===n.indexOf(o)&&n.push(o)}return n.sort(function(t,e){return t-e})},h.prototype.getSmallestDifference=function(t,e){for(var n=this.getDistinctValues(t,e),i=null,o=1;o<n.length;o++){var r=n[o]-n[o-1];(null==i||i>r)&&(i=r)}return i},h.prototype.getColumnRange=function(t,e){for(var n=new r,i=0;i<t.length;i++)n.adjust(t[i][e]);return n},h.prototype.getNumberOfRows=function(){return this.dataTable.length},h.prototype._setRangeDefaults=function(t,e,n){void 0!==e&&(t.min=e),void 0!==n&&(t.max=n),t.max<=t.min&&(t.max=t.min+1)},h.prototype.getDataTable=function(){return this.dataTable},h.prototype.getDataSet=function(){return this.dataSet},h.prototype.getDataPoints=function(t){for(var e=[],n=0;n<t.length;n++){var i=new l;i.x=t[n][this.colX]||0,i.y=t[n][this.colY]||0,i.z=t[n][this.colZ]||0,i.data=t[n],void 0!==this.colValue&&(i.value=t[n][this.colValue]||0);var o={};o.point=i,o.bottom=new l(i.x,i.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},h.prototype.initDataAsMatrix=function(t){var e,n,i,o,r=this.getDistinctValues(this.colX,t),s=this.getDistinctValues(this.colY,t),a=this.getDataPoints(t),l=[];for(i=0;i<a.length;i++){var h=r.indexOf((o=a[i]).point.x),u=s.indexOf(o.point.y);void 0===l[h]&&(l[h]=[]),l[h][u]=o}for(e=0;e<l.length;e++)for(n=0;n<l[e].length;n++)l[e][n]&&(l[e][n].pointRight=e<l.length-1?l[e+1][n]:void 0,l[e][n].pointTop=n<l[e].length-1?l[e][n+1]:void 0,l[e][n].pointCross=e<l.length-1&&n<l[e].length-1?l[e+1][n+1]:void 0);return a},h.prototype.getInfo=function(){var t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},h.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},h.prototype._getDataPoints=function(t){var e=[];if(this.style===a.STYLE.GRID||this.style===a.STYLE.SURFACE)e=this.initDataAsMatrix(t);else if(this._checkValueField(t),e=this.getDataPoints(t),this.style===a.STYLE.LINE)for(var n=0;n<e.length;n++)n>0&&(e[n-1].pointNext=e[n]);return e},h.prototype._checkValueField=function(t){if(this.style===a.STYLE.BARCOLOR||this.style===a.STYLE.BARSIZE||this.style===a.STYLE.DOTCOLOR||this.style===a.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},t.exports=h},function(t,e,n){function i(){this.min=void 0,this.max=void 0}i.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},i.prototype.combine=function(t){this.add(t.min),this.add(t.max)},i.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,n=this.max+t;if(e>n)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=n}},i.prototype.range=function(){return this.max-this.min},i.prototype.center=function(){return(this.min+this.max)/2},t.exports=i},function(t,e,n){var i,o;void 0===(o="function"==typeof(i=function(){var t=null;return function e(n,i){var o=i||{preventDefault:!1};if(n.Manager){var r=n,s=function(t,n){var i=Object.create(o);return n&&r.assign(i,n),e(new r(t,i),i)};return r.assign(s,r),s.Manager=function(t,n){var i=Object.create(o);return n&&r.assign(i,n),e(new r.Manager(t,i),i)},s}var a=Object.create(n),l=n.element;function h(t){return t.match(/[^ ]+/g)}function u(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var n=!1;e.stopPropagation=function(){n=!0};var i=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof i&&(e.srcEvent.stopPropagation=function(){i(),e.stopPropagation()}),e.firstTarget=t;for(var o=t;o&&!n;){var r=o.hammer;if(r)for(var s,a=0;a<r.length;a++)if(s=r[a]._handlers[e.type])for(var l=0;l<s.length&&!n;l++)s[l](e);o=o.parentNode}}return l.hammer||(l.hammer=[]),l.hammer.push(a),n.on("hammer.input",function(e){!0!==o.preventDefault&&o.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),a._handlers={},a.on=function(t,e){return h(t).forEach(function(t){var i=a._handlers[t];i||(a._handlers[t]=i=[],n.on(t,u)),i.push(e)}),a},a.off=function(t,e){return h(t).forEach(function(t){var i=a._handlers[t];i&&((i=e?i.filter(function(t){return t!==e}):[]).length>0?a._handlers[t]=i:(n.off(t,u),delete a._handlers[t]))}),a},a.emit=function(e,i){t=i.target,n.emit(e,i)},a.destroy=function(){var t=n.element.hammer,e=t.indexOf(a);-1!==e&&t.splice(e,1),t.length||delete n.element.hammer,a._handlers={},n.destroy()},a}})?i.apply(e,[]):i)||(t.exports=o)},function(t,e,n){var i;!function(o,r,s,a){var l,h=["","webkit","Moz","MS","ms","o"],u=r.createElement("div"),d="function",c=Math.round,p=Math.abs,f=Date.now;function g(t,e,n){return setTimeout(_(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function y(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=o.console&&(o.console.warn||o.console.log);return r&&r.call(o.console,i,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}:Object.assign;var b=y(function(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&t[i[o]]===a)&&(t[i[o]]=e[i[o]]),o++;return t},"extend","Use `assign`."),w=y(function(t,e){return b(t,e,!0)},"merge","Use `assign`.");function x(t,e,n){var i,o=e.prototype;(i=t.prototype=Object.create(o)).constructor=t,i._super=o,n&&l(i,n)}function _(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==d?t.apply(e&&e[0]||a,e):t}function k(t,e){return t===a?e:t}function S(t,e,n){m(D(e),function(e){t.addEventListener(e,n,!1)})}function C(t,e,n){m(D(e),function(e){t.removeEventListener(e,n,!1)})}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function M(t,e){return t.indexOf(e)>-1}function D(t){return t.trim().split(/\s+/g)}function O(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function I(t,e,n){for(var i=[],o=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];O(o,s)<0&&i.push(t[r]),o[r]=s,r++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function A(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),r=0;r<h.length;){if((i=(n=h[r])?n+o:e)in t)return i;r++}return a}var N=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var L="ontouchstart"in o,z=A(o,"PointerEvent")!==a,B=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=25,j=1,H=4,V=8,W=1,U=2,Y=4,G=8,q=16,X=U|Y,K=G|q,Z=X|K,Q=["x","y"],J=["clientX","clientY"];function $(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function tt(t,e,n){var i=n.pointers.length,o=n.changedPointers.length,r=e&j&&i-o==0,s=e&(H|V)&&i-o==0;n.isFirst=!!r,n.isFinal=!!s,r&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,o=i.length;n.firstInput||(n.firstInput=et(e)),o>1&&!n.firstMultiple?n.firstMultiple=et(e):1===o&&(n.firstMultiple=!1);var r=n.firstInput,s=n.firstMultiple,l=s?s.center:r.center,h=e.center=nt(i);e.timeStamp=f(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=st(l,h),e.distance=rt(l,h),function(t,e){var n=e.center,i=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==j&&r.eventType!==H||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-i.x),e.deltaY=o.y+(n.y-i.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var u,d,c=it(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,e.scale=s?(u=s.pointers,rt((d=i)[0],d[1],J)/rt(u[0],u[1],J)):1,e.rotation=s?function(t,e){return st(i[1],i[0],J)+st(t[1],t[0],J)}(s.pointers):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,o,r,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=V&&(l>F||s.velocity===a)){var h=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,d=it(l,h,u);i=d.x,o=d.y,n=p(d.x)>p(d.y)?d.x:d.y,r=ot(h,u),t.lastInterval=e}else n=s.velocity,i=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=r}(n,e);var g=t.element;T(e.srcEvent.target,g)&&(g=e.srcEvent.target),e.target=g}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function et(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:c(t.pointers[n].clientX),clientY:c(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:nt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function nt(t){var e=t.length;if(1===e)return{x:c(t[0].clientX),y:c(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:c(n/e),y:c(i/e)}}function it(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?W:p(t)>=p(e)?t<0?U:Y:e<0?G:q}function rt(t,e,n){n||(n=Q);var i=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(i*i+o*o)}function st(t,e,n){return n||(n=Q),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}$.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(R(this.element),this.evWin,this.domHandler)}};var at={mousedown:j,mousemove:2,mouseup:H},lt="mousedown",ht="mousemove mouseup";function ut(){this.evEl=lt,this.evWin=ht,this.pressed=!1,$.apply(this,arguments)}x(ut,$,{handler:function(t){var e=at[t.type];e&j&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=H),this.pressed&&(e&H&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:j,pointermove:2,pointerup:H,pointercancel:V,pointerout:V},ct={2:"touch",3:"pen",4:"mouse",5:"kinect"},pt="pointerdown",ft="pointermove pointerup pointercancel";function gt(){this.evEl=pt,this.evWin=ft,$.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(pt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),x(gt,$,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),o=dt[i],r=ct[t.pointerType]||t.pointerType,s="touch"==r,a=O(e,t.pointerId,"pointerId");o&j&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(H|V)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),n&&e.splice(a,1))}});var vt={touchstart:j,touchmove:2,touchend:H,touchcancel:V},mt="touchstart",yt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=mt,this.evWin=yt,this.started=!1,$.apply(this,arguments)}x(bt,$,{handler:function(t){var e=vt[t.type];if(e===j&&(this.started=!0),this.started){var n=(function(t,e){var n=P(t.touches),i=P(t.changedTouches);return e&(H|V)&&(n=I(n.concat(i),"identifier",!0)),[n,i]}).call(this,t,e);e&(H|V)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var wt={touchstart:j,touchmove:2,touchend:H,touchcancel:V},xt="touchstart touchmove touchend touchcancel";function _t(){this.evTarget=xt,this.targetIds={},$.apply(this,arguments)}x(_t,$,{handler:function(t){var e=wt[t.type],n=(function(t,e){var n=P(t.touches),i=this.targetIds;if(e&(2|j)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r,s=P(t.changedTouches),a=[],l=this.target;if(r=n.filter(function(t){return T(t.target,l)}),e===j)for(o=0;o<r.length;)i[r[o].identifier]=!0,o++;for(o=0;o<s.length;)i[s[o].identifier]&&a.push(s[o]),e&(H|V)&&delete i[s[o].identifier],o++;return a.length?[I(r.concat(a),"identifier",!0),a]:void 0}).call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Et=2500;function kt(){$.apply(this,arguments);var t=_(this.handler,this);this.touch=new _t(this.manager,t),this.mouse=new ut(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function St(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},Et)}}x(kt,$,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)(function(t,e){t&j?(this.primaryTouch=e.changedPointers[0].identifier,St.call(this,e)):t&(H|V)&&St.call(this,e)}).call(this,e,n);else if(i&&(function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],r=Math.abs(e-o.x),s=Math.abs(n-o.y);if(r<=25&&s<=25)return!0}return!1}).call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ct=A(u.style,"touchAction"),Tt=Ct!==a,Mt=function(){if(!Tt)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||o.CSS.supports("touch-action",n)}),t}();function Dt(t,e){this.manager=t,this.set(e)}Dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Tt&&this.manager.element.style&&Mt[t]&&(this.manager.element.style[Ct]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(M(t,"none"))return"none";var e=M(t,"pan-x"),n=M(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":M(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,o=M(i,"none")&&!Mt.none,r=M(i,"pan-y")&&!Mt["pan-y"],s=M(i,"pan-x")&&!Mt["pan-x"];if(o&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!r)return o||r&&n&X||s&&n&K?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ot=1,Pt=2,It=4,At=8,Nt=At,Rt=16;function Lt(t){this.options=l({},this.defaults,t||{}),this.id=N++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=Ot,this.simultaneous={},this.requireFail=[]}function zt(t){return t&Rt?"cancel":t&At?"end":t&It?"move":t&Pt?"start":""}function Bt(t){return t==q?"down":t==G?"up":t==U?"left":t==Y?"right":""}function Ft(t,e){var n=e.manager;return n?n.get(t):t}function jt(){Lt.apply(this,arguments)}function Ht(){jt.apply(this,arguments),this.pX=null,this.pY=null}function Vt(){jt.apply(this,arguments)}function Wt(){Lt.apply(this,arguments),this._timer=null,this._input=null}function Ut(){jt.apply(this,arguments)}function Yt(){jt.apply(this,arguments)}function Gt(){Lt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function qt(t,e){return(e=e||{}).recognizers=k(e.recognizers,qt.defaults.preset),new Xt(t,e)}function Xt(t,e){var n;this.options=l({},qt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(z?gt:B?_t:L?kt:ut))(n,tt),this.touchAction=new Dt(this,this.options.touchAction),Kt(this,!0),m(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Kt(t,e){var n,i=t.element;i.style&&(m(t.options.cssProps,function(o,r){n=A(i.style,r),e?(t.oldCssProps[n]=i.style[n],i.style[n]=o):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}Lt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ft(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)?this:(t=Ft(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O(e,t=Ft(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=Ft(t,this);var e=O(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<At&&i(e.options.event+zt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=At&&i(e.options.event+zt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Ot)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Nt|Rt|32)&&(this.state=Ot),this.state=this.process(e),this.state&(Pt|It|At|Rt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},x(jt,Lt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(Pt|It),o=this.attrTest(t);return i&&(n&V||!o)?e|Rt:i||o?n&H?e|At:e&Pt?e|It:Pt:32}}),x(Ht,jt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var t=this.options.direction,e=[];return t&X&&e.push("pan-y"),t&K&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&X?(o=0===r?W:r<0?U:Y,n=r!=this.pX,i=Math.abs(t.deltaX)):(o=0===s?W:s<0?G:q,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return jt.prototype.attrTest.call(this,t)&&(this.state&Pt||!(this.state&Pt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Bt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),x(Vt,jt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Pt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),x(Wt,Lt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(H|V)&&!o)this.reset();else if(t.eventType&j)this.reset(),this._timer=g(function(){this.state=Nt,this.tryEmit()},e.time,this);else if(t.eventType&H)return Nt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Nt&&(t&&t.eventType&H?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),x(Ut,jt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Pt)}}),x(Yt,jt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|K,pointers:1},getTouchAction:function(){return Ht.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(X|K)?e=t.overallVelocity:n&X?e=t.overallVelocityX:n&K&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&H},emit:function(t){var e=Bt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),x(Gt,Lt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&j&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=H)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||rt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&r?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Nt,this.tryEmit()},e.interval,this),Pt):Nt}return 32},failTimeout:function(){return this._timer=g(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Nt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),qt.VERSION="2.0.7",qt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ut,{enable:!1}],[Vt,{enable:!1},["rotate"]],[Yt,{direction:X}],[Ht,{direction:X},["swipe"]],[Gt],[Gt,{event:"doubletap",taps:2},["tap"]],[Wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Xt.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&Nt)&&(o=e.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&n.state&(Pt|It|At)&&(o=e.curRecognizer=n),r++}},get:function(t){if(t instanceof Lt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=O(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return m(D(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==a){var n=this.handlers;return m(D(t),function(t){e?n[t]&&n[t].splice(O(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=r.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&Kt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(qt,{INPUT_START:j,INPUT_MOVE:2,INPUT_END:H,INPUT_CANCEL:V,STATE_POSSIBLE:Ot,STATE_BEGAN:Pt,STATE_CHANGED:It,STATE_ENDED:At,STATE_RECOGNIZED:Nt,STATE_CANCELLED:Rt,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:U,DIRECTION_RIGHT:Y,DIRECTION_UP:G,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:K,DIRECTION_ALL:Z,Manager:Xt,Input:$,TouchAction:Dt,TouchInput:_t,MouseInput:ut,PointerEventInput:gt,TouchMouseInput:kt,SingleTouchInput:bt,Recognizer:Lt,AttrRecognizer:jt,Tap:Gt,Pan:Ht,Swipe:Yt,Pinch:Vt,Rotate:Ut,Press:Wt,on:S,off:C,each:m,merge:w,extend:b,assign:l,inherit:x,bindFn:_,prefixed:A}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=qt,(i=(function(){return qt}).call(e,n,e,t))===a||(t.exports=i)}(window,document)},function(t,e,n){e.util=n(2),e.DOMutil=n(14),e.DataSet=n(11),e.DataView=n(12),e.Queue=n(43),e.Timeline=n(178),e.Graph2d=n(180),e.timeline={Core:n(65),DateUtil:n(36),Range:n(64),stack:n(100),TimeStep:n(66),components:{items:{Item:n(38),BackgroundItem:n(103),BoxItem:n(101),PointItem:n(102),RangeItem:n(70)},BackgroundGroup:n(69),Component:n(16),CurrentTime:n(67),CustomTime:n(46),DataAxis:n(107),DataScale:n(108),GraphGroup:n(109),Group:n(68),ItemSet:n(99),Legend:n(112),LineGraph:n(106),TimeAxis:n(45)}},e.moment=n(9),e.Hammer=n(10),e.keycharm=n(35)},function(t,e,n){var i=n(9),o=n(2),r=n(11),s=n(12),a=n(64),l=n(65),h=n(45),u=n(67),d=n(46),c=n(99),p=n(15).printStyle,f=n(105).allOptions,g=n(105).configureOptions,v=n(71).default,m=n(15).default;function y(t,e,n,l){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(n)||n instanceof r||n instanceof s)&&n instanceof Object){var d=l;l=n,n=d}l&&l.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:i,width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),!l||l&&void 0===l.rtl){this.dom.root.style.visibility="hidden";for(var f,g=this.dom.root;!f&&g;)f=window.getComputedStyle(g,null).direction,g=g.parentElement;this.options.rtl=f&&"rtl"==f.toLowerCase()}else this.options.rtl=l.rtl;this.options.rollingMode=l&&l.rollingMode,this.options.onInitialDrawComplete=l&&l.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return p.timeAxis.step.scale},getStep:function(){return p.timeAxis.step.step},toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new a(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new u(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new c(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){p.emit("click",p.getEventProperties(t))},this.dom.root.ondblclick=function(t){p.emit("doubleClick",p.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))},this.dom.root.onmouseover=function(t){p.emit("mouseOver",p.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){p.emit("mouseDown",p.getEventProperties(t))},this.dom.root.onpointermove=function(t){p.emit("mouseMove",p.getEventProperties(t))},this.dom.root.onpointerup=function(t){p.emit("mouseUp",p.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){p.emit("mouseMove",p.getEventProperties(t))},this.dom.root.onmousedown=function(t){p.emit("mouseDown",p.getEventProperties(t))},this.dom.root.onmouseup=function(t){p.emit("mouseUp",p.getEventProperties(t))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!p.initialFitDone)if(p.initialFitDone=!0,null!=p.options.start||null!=p.options.end){if(null==p.options.start||null==p.options.end)var t=p.getItemRange();p.setWindow(null!=p.options.start?p.options.start:t.min,null!=p.options.end?p.options.end:t.max,{animation:!1})}else p.fit({animation:!1});!p.initialDrawDone&&p.initialRangeChangeDone&&(p.initialDrawDone=!0,p.dom.root.style.visibility="visible",p.options.onInitialDrawComplete&&setTimeout(function(){return p.options.onInitialDrawComplete()},0))}}),l&&this.setOptions(l),n&&this.setGroups(n),e&&this.setItems(e),this._redraw()}function b(t){return o.convert(t.data.start,"Date").valueOf()}function w(t){return o.convert(null!=t.data.end?t.data.end:t.data.start,"Date").valueOf()}function x(t,e){var n=t.props.leftContainer.height,i=t.props.left.height,o=e.parent,r=o.top,s=!0,a=t.timeAxis.options.orientation.axis,l=function(){return"bottom"==a?o.height-e.top-e.height:e.top},h=-1*t._getScrollTop(),u=r+l(),d=e.height;return u<h?r+n<=r+l()+d&&(r+=l()-t.itemSet.options.margin.item.vertical):u+d>h+n?r+=l()+d-n+t.itemSet.options.margin.item.vertical:s=!1,{shouldScroll:s,scrollOffset:r=Math.min(r,i-n),itemTop:u}}(y.prototype=new l)._createConfigurator=function(){return new v(this,this.dom.container,g)},y.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},y.prototype.setOptions=function(t){if(!0===m.validate(t,f)&&console.log("%cErrors have been found in the supplied options object.",p),l.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var e=this.itemsData;if(e){var n=this.getSelection();this.setItems(null),this.setItems(e),this.setSelection(n)}}},y.prototype.setItems=function(t){var e;e=t?t instanceof r||t instanceof s?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},y.prototype.setGroups=function(t){var e;if(t){var n=function(t){return!1!==t.visible};e=t instanceof r||t instanceof s?new s(t,{filter:n}):new r(t.filter(n))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},y.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},y.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},y.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},y.prototype.focus=function(t,e){if(this.itemsData&&null!=t){var n=Array.isArray(t)?t:[t],i=this.itemsData.getDataSet().get(n,{type:{start:"Date",end:"Date"}}),o=null,r=null;if(i.forEach(function(t){var e=t.start.valueOf(),n="end"in t?t.end.valueOf():t.start.valueOf();(null===o||e<o)&&(o=e),(null===r||n>r)&&(r=n)}),null!==o&&null!==r){var s=this,a=this.itemSet.items[n[0]],l=-1*this._getScrollTop(),h=null,u=function(){var t=x(s,a);t.shouldScroll&&t.itemTop!=h.itemTop&&(s._setScrollTop(-t.scrollOffset),s._redraw())},d=(o+r)/2,c=Math.max(this.range.end-this.range.start,1.1*(r-o)),p=!e||void 0===e.animation||e.animation;p||(h={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(d-c/2,d+c/2,{animation:p},function(){u(),setTimeout(u,100)},function(t,e,n){var i=x(s,a);if(h||(h=i),h.itemTop!=i.itemTop||h.shouldScroll){h.itemTop!=i.itemTop&&i.shouldScroll&&(h=i,l=-1*s._getScrollTop());var o=h.scrollOffset;s._setScrollTop(-(n?o:l+(o-l)*t)),e||s._redraw()}})}}},y.prototype.fit=function(t,e){var n,i=!t||void 0===t.animation||t.animation,o=this.itemsData&&this.itemsData.getDataSet();1===o.length&&void 0===o.get()[0].end?(n=this.getDataRange(),this.moveTo(n.min.valueOf(),{animation:i},e)):(n=this.getItemRange(),this.range.setRange(n.min,n.max,{animation:i},e))},y.prototype.getItemRange=function(){var t=this.getDataRange(),e=null!==t.min?t.min.valueOf():null,n=null!==t.max?t.max.valueOf():null,i=null,r=null;if(null!=e&&null!=n){var s=n-e;s<=0&&(s=10);var a=s/this.props.center.width,l={},h=0;if(o.forEach(this.itemSet.items,function(t,e){t.groupShowing&&(l[e]=t.redraw(!0),h=l[e].length)}),h>0)for(var u=0;u<h;u++)o.forEach(l,function(t){t[u]()});if(o.forEach(this.itemSet.items,(function(t){var o,s,l=b(t),h=w(t);this.options.rtl?(o=l-(t.getWidthRight()+10)*a,s=h+(t.getWidthLeft()+10)*a):(o=l-(t.getWidthLeft()+10)*a,s=h+(t.getWidthRight()+10)*a),o<e&&(e=o,i=t),s>n&&(n=s,r=t)}).bind(this)),i&&r){var d=i.getWidthLeft()+10,c=r.getWidthRight()+10,p=this.props.center.width-d-c;p>0&&(this.options.rtl?(e=b(i)-c*s/p,n=w(r)+d*s/p):(e=b(i)-d*s/p,n=w(r)+c*s/p))}}return{min:null!=e?new Date(e):null,max:null!=n?new Date(n):null}},y.prototype.getDataRange=function(){var t=null,e=null,n=this.itemsData&&this.itemsData.getDataSet();return n&&n.forEach(function(n){var i=o.convert(n.start,"Date").valueOf(),r=o.convert(null!=n.end?n.end:n.start,"Date").valueOf();(null===t||i<t)&&(t=i),(null===e||r>e)&&(e=r)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e,n=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY;e=this.options.rtl?o.getAbsoluteRight(this.dom.centerContainer)-n:n-o.getAbsoluteLeft(this.dom.centerContainer);var r=i-o.getAbsoluteTop(this.dom.centerContainer),s=this.itemSet.itemFromTarget(t),a=this.itemSet.groupFromTarget(t),l=d.customTimeFromTarget(t),h=this.itemSet.options.snap||null,u=this.body.util.getScale(),c=this.body.util.getStep(),p=this._toTime(e),f=h?h(p,u,c):p,g=o.getTarget(t),v=null;return null!=s?v="item":null!=l?v="custom-time":o.hasParent(g,this.timeAxis.dom.foreground)?v="axis":this.timeAxis2&&o.hasParent(g,this.timeAxis2.dom.foreground)?v="axis":o.hasParent(g,this.itemSet.dom.labelSet)?v="group-label":o.hasParent(g,this.currentTime.bar)?v="current-time":o.hasParent(g,this.dom.center)&&(v="background"),{event:t,item:s?s.id:null,group:a?a.groupId:null,what:v,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:e,y:r,time:p,snappedTime:f}},y.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=y},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(19)),o=s(n(0)),r=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=n(10),l=n(37),h=n(2),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,o.default)(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,r.default)(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var n=void 0,o=this._isColorString(t);if(void 0!==o&&(t=o),!0===h.isString(t)){if(!0===h.isValidRGB(t)){var r=t.substr(4).substr(0,t.length-5).split(",");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===h.isValidRGBA(t)){var s=t.substr(5).substr(0,t.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===h.isValidHex(t)){var a=h.hexToRGB(t);n={r:a.r,g:a.g,b:a.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var l=void 0!==t.a?t.a:"1.0";n={r:t.r,g:t.g,b:t.b,a:l}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,i.default)(t));this._setColor(n,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=h.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=h.extend({},t)),this.color=t;var n=h.RGBToHSV(t.r,t.g,t.b),i=2*Math.PI,o=this.r*n.s,r=this.centerCoordinates.x+o*Math.sin(i*n.h),s=this.centerCoordinates.y+o*Math.cos(i*n.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=h.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var n=h.HSVToRGB(e.h,e.s,e.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=h.RGBToHSV(t.r,t.g,t.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,o),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-e.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(i){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(i){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)},this.opacityRange.oninput=function(){n._setOpacity(this.value)},this.brightnessRange.onchange=function(){n._setBrightness(this.value)},this.brightnessRange.oninput=function(){n._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new a(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),l.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,n);var i=void 0,o=void 0,r=void 0,s=void 0;this.centerCoordinates={x:.5*e,y:.5*n},this.r=.49*e;var a=2*Math.PI/360,l=1/this.r,u=void 0;for(r=0;r<360;r++)for(s=0;s<this.r;s++)i=this.centerCoordinates.x+s*Math.sin(a*r),o=this.centerCoordinates.y+s*Math.cos(a*r),u=h.HSVToRGB(r*(1/360),s*l,1),t.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",t.fillRect(i-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,n)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),n=.5*this.colorPickerDiv.clientHeight,i=.5*this.colorPickerDiv.clientWidth,o=t.center.x-e.left-i,r=t.center.y-e.top-n,s=Math.atan2(o,r),a=.98*Math.min(Math.sqrt(o*o+r*r),i),l=Math.cos(s)*a+n,u=Math.sin(s)*a+i;this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=u-.5*this.colorPickerSelector.clientWidth+"px";var d=s/(2*Math.PI);d=d<0?d+1:d;var c=a/this.r,p=h.RGBToHSV(this.color.r,this.color.g,this.color.b);p.h=d,p.s=c;var f=h.HSVToRGB(p.h,p.s,p.v);f.a=this.color.a,this.color=f,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e.default=u},function(t,e,n){var i=n(9),o=n(2),r=n(11),s=n(12),a=n(64),l=n(65),h=n(45),u=n(67),d=n(46),c=n(106),p=n(15).printStyle,f=n(113).allOptions,g=n(113).configureOptions,v=n(71).default,m=n(15).default;function y(t,e,n,l){if(!(Array.isArray(n)||n instanceof r||n instanceof s)&&n instanceof Object){var d=l;l=n,n=d}l&&l.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:i,width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new a(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body),this.components.push(this.timeAxis),this.currentTime=new u(this.body),this.components.push(this.currentTime),this.linegraph=new c(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){p.emit("click",p.getEventProperties(t))}),this.on("doubletap",function(t){p.emit("doubleClick",p.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))},l&&this.setOptions(l),n&&this.setGroups(n),e&&this.setItems(e),this._redraw()}(y.prototype=new l).setOptions=function(t){!0===m.validate(t,f)&&console.log("%cErrors have been found in the supplied options object.",p),l.prototype.setOptions.call(this,t)},y.prototype.setItems=function(t){var e,n=null==this.itemsData;e=t?t instanceof r||t instanceof s?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),n&&(null!=this.options.start||null!=this.options.end?this.setWindow(null!=this.options.start?this.options.start:null,null!=this.options.end?this.options.end:null,{animation:!1}):this.fit({animation:!1}))},y.prototype.setGroups=function(t){var e;e=t?t instanceof r||t instanceof s?t:new r(t):null,this.groupsData=e,this.linegraph.setGroups(e)},y.prototype.getLegend=function(t,e,n){return void 0===e&&(e=15),void 0===n&&(n=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,n):"cannot find group:'"+t+"'"},y.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t])},y.prototype.getDataRange=function(){var t=null,e=null;for(var n in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(n)&&1==this.linegraph.groups[n].visible)for(var i=0;i<this.linegraph.groups[n].itemsData.length;i++){var r=o.convert(this.linegraph.groups[n].itemsData[i].x,"Date").valueOf();t=null==t?r:t>r?r:t,e=null==e?r:e<r?r:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e=t.center?t.center.y:t.clientY,n=(t.center?t.center.x:t.clientX)-o.getAbsoluteLeft(this.dom.centerContainer),i=e-o.getAbsoluteTop(this.dom.centerContainer),r=this._toTime(n),s=d.customTimeFromTarget(t),a=o.getTarget(t),l=null;o.hasParent(a,this.timeAxis.dom.foreground)?l="axis":this.timeAxis2&&o.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":o.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?l="data-axis":o.hasParent(a,this.linegraph.yAxisRight.dom.frame)?l="data-axis":o.hasParent(a,this.linegraph.legendLeft.dom.frame)?l="legend":o.hasParent(a,this.linegraph.legendRight.dom.frame)?l="legend":null!=s?l="custom-time":o.hasParent(a,this.currentTime.bar)?l="current-time":o.hasParent(a,this.dom.center)&&(l="background");var h=[],u=this.linegraph.yAxisLeft,c=this.linegraph.yAxisRight;return!u.hidden&&this.itemsData.length>0&&h.push(u.screenToValue(i)),!c.hidden&&this.itemsData.length>0&&h.push(c.screenToValue(i)),{event:t,what:l,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:n,y:i,time:r,value:h}},y.prototype._createConfigurator=function(){return new v(this,this.dom.container,g)},t.exports=y},function(t,e,n){e.util=n(2),e.DOMutil=n(14),e.DataSet=n(11),e.DataView=n(12),e.Queue=n(43),e.Network=n(182),e.network={Images:n(116),dotparser:n(114),gephiParser:n(115),allOptions:n(122)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,n){return e.network.gephiParser.parseGephi(t,n)},e.moment=n(9),e.Hammer=n(10),e.keycharm=n(35)},function(t,e,n){n(183);var i=n(44),o=n(2),r=n(114),s=n(115),a=n(97),l=n(184),h=n(116).default,u=n(186).default,d=n(187).default,c=n(214).default,p=n(220).default,f=n(227).default,g=n(229).default,v=n(230).default,m=n(231).default,y=n(232).default,b=n(234).default,w=n(235).default,x=n(237).default,_=n(71).default,E=n(15).default,k=n(15).printStyle,S=n(122),C=S.allOptions,T=S.configureOptions,M=n(238).default;function D(t,e,n){var i=this;if(!(this instanceof D))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:l,clickToUse:!1},o.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new h(function(){return i.body.emitter.emit("_requestRedraw")}),this.groups=new u,this.canvas=new v(this.body),this.selectionHandler=new b(this.body,this.canvas),this.interactionHandler=new y(this.body,this.canvas,this.selectionHandler),this.view=new m(this.body,this.canvas),this.renderer=new g(this.body,this.canvas),this.physics=new p(this.body),this.layoutEngine=new w(this.body),this.clustering=new f(this.body),this.manipulation=new x(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new d(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new c(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new M(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(e)}i(D.prototype),D.prototype.setOptions=function(t){var e=this;if(void 0!==t){if(!0===E.validate(t,C)&&console.log("%cErrors have been found in the supplied options object.",k),o.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new _(this,this.body.container,T,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};o.deepExtend(n.nodes,this.nodesHandler.options),o.deepExtend(n.edges,this.edgesHandler.options),o.deepExtend(n.layout,this.layoutEngine.options),o.deepExtend(n.interaction,this.selectionHandler.options),o.deepExtend(n.interaction,this.renderer.options),o.deepExtend(n.interaction,this.interactionHandler.options),o.deepExtend(n.manipulation,this.manipulation.options),o.deepExtend(n.physics,this.physics.options),o.deepExtend(n.global,this.canvas.options),o.deepExtend(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new a(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},D.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(n)&&(this.clustering._isClusteredNode(n)||!1!==t[n].options.hidden||this.body.nodeIndices.push(t[n].id));for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],r=t[o.fromId],s=t[o.toId],a=void 0!==r&&void 0!==s;!this.clustering._isClusteredEdge(i)&&!1===o.options.hidden&&a&&!1===r.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(o.id)}},D.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},D.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=r.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=s.parseGephi(t.gephi);this.setData(n)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},D.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];o.recursiveDOMDelete(this.body.container)},D.prototype._updateValueRange=function(t){var e,n=void 0,i=void 0,o=0;for(e in t)if(t.hasOwnProperty(e)){var r=t[e].getValue();void 0!==r&&(n=void 0===n?r:Math.min(r,n),i=void 0===i?r:Math.max(r,i),o+=r)}if(void 0!==n&&void 0!==i)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(n,i,o)},D.prototype.isActive=function(){return!this.activator||this.activator.active},D.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},D.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},D.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},D.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},D.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},D.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},D.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},D.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},D.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},D.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},D.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},D.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},D.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},D.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},D.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},D.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},D.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},D.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},D.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},D.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},D.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},D.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},D.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},D.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},D.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},D.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},D.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},D.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},D.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},D.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},D.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},D.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},D.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},D.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},D.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},D.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},D.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},D.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},D.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},D.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},D.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},D.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},D.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},D.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},D.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},D.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=D},function(t,e,n){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,n){this.beginPath(),this.arc(t,e,n,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,n){this.beginPath(),this.rect(t-n,e-n,2*n,2*n),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,n){this.beginPath(),e+=.275*(n*=1.15);var i=2*n,o=i/2,r=Math.sqrt(3)/6*i,s=Math.sqrt(i*i-o*o);this.moveTo(t,e-(s-r)),this.lineTo(t+o,e+r),this.lineTo(t-o,e+r),this.lineTo(t,e-(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,n){this.beginPath(),e-=.275*(n*=1.15);var i=2*n,o=i/2,r=Math.sqrt(3)/6*i,s=Math.sqrt(i*i-o*o);this.moveTo(t,e+(s-r)),this.lineTo(t+o,e-r),this.lineTo(t-o,e-r),this.lineTo(t,e+(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,n){this.beginPath(),e+=.1*(n*=.82);for(var i=0;i<10;i++){var o=i%2==0?1.3*n:.5*n;this.lineTo(t+o*Math.sin(2*i*Math.PI/10),e-o*Math.cos(2*i*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,n){this.beginPath(),this.lineTo(t,e+n),this.lineTo(t+n,e),this.lineTo(t,e-n),this.lineTo(t-n,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,i,o){var r=Math.PI/180;n-2*o<0&&(o=n/2),i-2*o<0&&(o=i/2),this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+n-o,e),this.arc(t+n-o,e+o,o,270*r,360*r,!1),this.lineTo(t+n,e+i-o),this.arc(t+n-o,e+i-o,o,0,90*r,!1),this.lineTo(t+o,e+i),this.arc(t+o,e+i-o,o,90*r,180*r,!1),this.lineTo(t,e+o),this.arc(t+o,e+o,o,180*r,270*r,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,n,i){var o=n/2*.5522848,r=i/2*.5522848,s=t+n,a=e+i,l=t+n/2,h=e+i/2;this.beginPath(),this.moveTo(t,h),this.bezierCurveTo(t,h-r,l-o,e,l,e),this.bezierCurveTo(l+o,e,s,h-r,s,h),this.bezierCurveTo(s,h+r,l+o,a,l,a),this.bezierCurveTo(l-o,a,t,h+r,t,h),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,n,i){var o=i*(1/3),r=n/2*.5522848,s=o/2*.5522848,a=t+n,l=e+o,h=t+n/2,u=e+o/2,d=e+(i-o/2),c=e+i;this.beginPath(),this.moveTo(a,u),this.bezierCurveTo(a,u+s,h+r,l,h,l),this.bezierCurveTo(h-r,l,t,u+s,t,u),this.bezierCurveTo(t,u-s,h-r,e,h,e),this.bezierCurveTo(h+r,e,a,u-s,a,u),this.lineTo(a,d),this.bezierCurveTo(a,d+s,h+r,c,h,c),this.bezierCurveTo(h-r,c,t,d+s,t,d),this.lineTo(t,u)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,n,i,o){this.beginPath(),this.moveTo(t,e);for(var r=o.length,s=n-t,a=i-e,l=a/s,h=Math.sqrt(s*s+a*a),u=0,d=!0,c=0,p=o[0];h>=.1;)(p=o[u++%r])>h&&(p=h),c=Math.sqrt(p*p/(1+l*l)),t+=c=s<0?-c:c,e+=l*c,!0===d?this.lineTo(t,e):this.moveTo(t,e),h-=p,d=!d},CanvasRenderingContext2D.prototype.hexagon=function(t,e,n){this.beginPath();var i=2*Math.PI/6;this.moveTo(t+n,e);for(var o=1;o<6;o++)this.lineTo(t+n*Math.cos(i*o),e+n*Math.sin(i*o));this.closePath()})},function(t,e,n){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"\xc1tras",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},e.ru_RU=e.ru,e.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},e.zh_CN=e.cn},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,i.default)(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,o.default)(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var n=Math.floor(e/2),i=Math.floor(e/4),o=Math.floor(e/8),r=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),l=Math.floor(t/8),h=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=n,this.coordinates=[[0,0,s,n],[s,0,a,i],[s,i,l,o],[5*l,i,h,r]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],o=this.coordinates[n];t.drawImage(this.canvas,i[0],i[1],i[2],i[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(t,e,n,i,o,r){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],n,i,o,r)}else t.drawImage(this.image,n,i,o,r)}}]),t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(2),a=function(){function t(){(0,i.default)(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}return(0,o.default)(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var n in t)t.hasOwnProperty(n)&&-1===e.indexOf(n)&&this.add(n,t[n])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.groups[t];if(void 0===n&&e)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,(n={}).color=this.groups[this.groupsArray[i]],this.groups[t]=n}else{var o=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(n={}).color=this.defaultGroups[o],this.groups[t]=n}return n}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(2),a=n(11),l=n(12),h=n(47).default,u=function(){function t(e,n,o,r){var a=this;if((0,i.default)(this,t),this.body=e,this.images=n,this.groups=o,this.layoutEngine=r,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){a.add(e.items)},update:function(t,e){a.update(e.items,e.data,e.oldData)},remove:function(t,e){a.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){return e===t?.5:Math.max(0,1/(e-t)*(i-t))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=s.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(t.nodesListeners,function(e,n){t.body.data.nodes&&t.body.data.nodes.off(n,e)}),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(h.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&(this.body.nodes[n].updateLabelModule(),this.body.nodes[n].needsRefresh());if(void 0!==t.size)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&this.body.nodes[i].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(t instanceof a||t instanceof l)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new a,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new a}if(n&&s.forEach(this.nodesListeners,function(t,e){n.off(e,t)}),this.body.nodes={},this.body.data.nodes){var i=this;s.forEach(this.nodesListeners,function(t,e){i.body.data.nodes.on(e,t)});var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,i=[],o=0;o<t.length;o++){var r=this.body.data.nodes.get(n=t[o]),s=this.create(r);i.push(s),this.body.nodes[n]=s}this.layoutEngine.positionInitially(i),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,n){for(var i=this.body.nodes,o=!1,r=0;r<t.length;r++){var s=t[r],a=i[s],l=e[r];void 0!==a?a.setOptions(l)&&(o=!0):(o=!0,a=this.create(l),i[s]=a)}o||void 0===n||(o=e.some(function(t,e){var i=n[e];return i&&i.level!==t.level})),this.body.emitter.emit(!0===o?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,n=0;n<t.length;n++)delete e[t[n]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.forEach(this.body.nodes,function(n,i){var o=t.body.data.nodes.get(i);void 0!==o&&(!0===e&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(o))})}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var n=0;n<t.length;n++)if(void 0!==this.body.nodes[t[n]]){var i=this.body.nodes[t[n]];e[t[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(void 0!==this.body.nodes[t]){var o=this.body.nodes[t];e[t]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];e[this.body.nodeIndices[r]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var n in e._data)if(e._data.hasOwnProperty(n)){var i=this.body.nodes[n];e._data[n].x==Math.round(i.x)&&e._data[n].y==Math.round(i.y)||t.push({id:i.id,x:Math.round(i.x),y:Math.round(i.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var n=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o={},r=0;r<i.edges.length;r++){var s=i.edges[r];"to"!==e&&s.toId==i.id?void 0===o[s.fromId]&&(n.push(s.fromId),o[s.fromId]=!0):"from"!==e&&s.fromId==i.id&&void 0===o[s.toId]&&(n.push(s.toId),o[s.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],i=0;i<n.edges.length;i++)e.push(n.edges[i].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,n){var i=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(n),setTimeout(function(){i.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e.default=u},function(t,e,n){t.exports={default:n(189),__esModule:!0}},function(t,e,n){n(49),n(60),t.exports=n(190)},function(t,e,n){var i=n(86),o=n(13)("iterator"),r=n(31);t.exports=n(7).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(i(e))}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(192).default,a=n(48).default,l=function(){function t(e,n,o,r){var a=this;(0,i.default)(this,t),this.ctx=e,this.parent=n,this.lines=new s(function(t,n){if(void 0===t)return 0;var i=a.parent.getFormattingValues(e,o,r,n),s=0;return""!==t&&(s=a.ctx.measureText(t).width),{width:s,values:i}})}return(0,o.default)(t,[{key:"process",value:function(t){if(!a.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var n=String(t).split("\n"),i=n.length;if(e.multi)for(var o=0;o<i;o++){var r=this.splitBlocks(n[o],e.multi);if(void 0!==r)if(0!==r.length){if(e.maxWdt>0)for(var s=0;s<r.length;s++)this.splitStringIntoLines(r[s].text,r[s].mod,!0);else for(var l=0;l<r.length;l++)this.lines.append(r[l].text,r[l].mod);this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var h=0;h<i;h++)this.splitStringIntoLines(n[h]);else for(var u=0;u<i;u++)this.lines.newLine(n[u]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=[],n={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":n.bold&&n.ital?"boldital":n.bold?"bold":n.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(n.spacing=!0),n.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};n.position<t.length;){var i=t.charAt(n.position);/[ \t]/.test(i)?n.mono?n.add(i):n.spacing=!0:/</.test(i)?n.mono||n.bold||!/<b>/.test(t.substr(n.position,3))?n.mono||n.ital||!/<i>/.test(t.substr(n.position,3))?!n.mono&&/<code>/.test(t.substr(n.position,6))?(n.emitBlock(),n.mono=!0,n.modStack.unshift("mono"),n.position+=5):!n.mono&&"bold"===n.mod()&&/<\/b>/.test(t.substr(n.position,4))?(n.emitBlock(),n.bold=!1,n.modStack.shift(),n.position+=3):!n.mono&&"ital"===n.mod()&&/<\/i>/.test(t.substr(n.position,4))?(n.emitBlock(),n.ital=!1,n.modStack.shift(),n.position+=3):"mono"===n.mod()&&/<\/code>/.test(t.substr(n.position,7))?(n.emitBlock(),n.mono=!1,n.modStack.shift(),n.position+=6):n.add(i):(n.emitBlock(),n.ital=!0,n.modStack.unshift("ital"),n.position+=2):(n.emitBlock(),n.bold=!0,n.modStack.unshift("bold"),n.position+=2):/&/.test(i)?/&lt;/.test(t.substr(n.position,4))?(n.add("<"),n.position+=3):/&amp;/.test(t.substr(n.position,5))?(n.add("&"),n.position+=4):n.add("&"):n.add(i),n.position++}return n.emitBlock(),e}},{key:"splitMarkdownBlocks",value:function(t){for(var e=[],n={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":n.bold&&n.ital?"boldital":n.bold?"bold":n.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(n.spacing=!0),n.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};n.position<t.length;){var i=t.charAt(n.position);/[ \t]/.test(i)?(n.mono?n.add(i):n.spacing=!0,n.beginable=!0):/\\/.test(i)?n.position<t.length+1&&(n.position++,i=t.charAt(n.position),/ \t/.test(i)?n.spacing=!0:(n.add(i),n.beginable=!1)):n.mono||n.bold||!n.beginable&&!n.spacing||!/\*/.test(i)?n.mono||n.ital||!n.beginable&&!n.spacing||!/\_/.test(i)?!n.mono&&(n.beginable||n.spacing)&&/`/.test(i)?(n.emitBlock(),n.mono=!0,n.modStack.unshift("mono")):!n.mono&&"bold"===n.mod()&&/\*/.test(i)?n.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(n.position+1))?(n.emitBlock(),n.bold=!1,n.modStack.shift()):n.add(i):!n.mono&&"ital"===n.mod()&&/\_/.test(i)?n.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(n.position+1))?(n.emitBlock(),n.ital=!1,n.modStack.shift()):n.add(i):n.mono&&"mono"===n.mod()&&/`/.test(i)?n.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(n.position+1))?(n.emitBlock(),n.mono=!1,n.modStack.shift()):n.add(i):(n.add(i),n.beginable=!1):(n.emitBlock(),n.ital=!0,n.modStack.unshift("ital")):(n.emitBlock(),n.bold=!0,n.modStack.unshift("bold")),n.position++}return n.emitBlock(),e}},{key:"splitBlocks",value:function(t,e){var n=this.decodeMarkupSystem(e);return"none"===n?[{text:t,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(t):"html"===n?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",n=0;n<t.length;){var i=e+(""===e?"":" ")+t[n];if(this.overMaxWidth(i))break;e=i,n++}return n}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(t.slice(0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");i.length>0;){var o=this.getLongestFit(i);if(0===o){var r=i[0],s=this.getLongestFitWord(r);this.lines.newLine(r.slice(0,s),e),i[0]=r.slice(s)}else{var a=o;" "===i[o-1]?o--:" "===i[a]&&a++;var l=i.slice(0,o).join("");o==i.length&&n?this.lines.append(l,e):this.lines.newLine(l,e),i=i.slice(a)}}}}]),t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(90)),o=s(n(0)),r=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){(0,o.default)(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,r.default)(t,[{key:"_add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var o=e;void 0!==e&&""!==e||(o=" ");var r=this.measureText(o,n),s=(0,i.default)({},r.values);s.text=e,s.width=r.width,s.mod=n,void 0!==e&&""!==e||(s.width=0),this.lines[t].blocks.push(s),this.lines[t].width+=s.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],n=0;if(void 0!==e.blocks)for(var i=0;i<e.blocks.length;i++){var o=e.blocks[i];n<o.height&&(n=o.height)}e.height=n}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,n=0;n<this.lines.length;n++){var i=this.lines[n];i.width>t&&(t=i.width),e+=i.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var n=this.lines[e];if(0!==n.blocks.length&&(e!==this.lines.length-1||0!==n.width)){var o={};(0,i.default)(o,n),o.blocks=[];for(var r=void 0,s=[],a=0;a<n.blocks.length;a++){var l=n.blocks[a];0!==l.width?s.push(l):void 0===r&&(r=l)}0===s.length&&void 0!==r&&s.push(r),o.blocks=s,t.push(o)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(23));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r));return a._setMargins(r),a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,r),t.roundRect(this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(t,r),this.updateBoundingBox(e,n,t,i,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,o)}},{key:"updateBoundingBox",value:function(t,e,n,i,o){this._updateBoundingBox(t,e,n,i,o),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+n}}]),e}();e.default=u},function(t,e,n){n(195),t.exports=n(7).Object.getPrototypeOf},function(t,e,n){var i=n(41),o=n(85);n(87)("getPrototypeOf",function(){return function(t){return o(i(t))}})},function(t,e,n){t.exports={default:n(197),__esModule:!0}},function(t,e,n){n(198),t.exports=n(7).Object.setPrototypeOf},function(t,e,n){var i=n(17);i(i.S,"Object",{setPrototypeOf:n(199).set})},function(t,e,n){var i=n(32),o=n(27),r=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(80)(Function.call,n(89).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:r}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(73));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r));return a._setMargins(r),a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n),o=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,r),this.updateBoundingBox(e,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,n,i,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(73));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r,a,l){(0,o.default)(this,e);var h=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r));return h.setImages(a,l),h}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(i){var o=2*this.options.size;return this.width=o,this.height=o,void(this.radius=.5*this.width)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,o,r){this.switchImages(i),this.resize(),this.left=e-this.width/2,this.top=n-this.height/2,this._drawRawCircle(t,e,n,r),t.save(),t.clip(),this._drawImageAtPosition(t,r),t.restore(),this._drawImageLabel(t,e,n,i,o),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(23));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r));return a._setMargins(r),a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t,e,n){if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n).width+this.margin.right+this.margin.left;this.width=i,this.height=i,this.radius=this.width/2}}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.left=e-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,r),t.database(e-this.width/2,n-this.height/2,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,n,t,i,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(24));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"diamond",4,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(24));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"circle",2,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(23));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,n)){var i=this.getDimensionsFromLabel(t,e,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.left=e-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(t,r),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,n,t,i,o),this.labelModule.draw(t,e,n,i,o)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var n=.5*this.width,i=.5*this.height,o=Math.sin(e)*n,r=Math.cos(e)*i;return n*i/Math.sqrt(o*o+r*r)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(23));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r));return a._setMargins(r),a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=n-this.height/2,this._icon(t,e,n,i,o,r),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,n,i,o,r){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(i?"bold ":"")+s+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,r),t.fillText(this.options.icon.code,e,n),this.disableShadow(t,r)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(73));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r,a,l){(0,o.default)(this,e);var h=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r));return h.setImages(a,l),h}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(i){var o=2*this.options.size;return this.width=o,void(this.height=o)}this.needsRefresh(e,n)&&this._resizeImage()}},{key:"draw",value:function(t,e,n,i,o,r){this.switchImages(i),this.resize(),this.left=e-this.width/2,this.top=n-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(t.lineWidth=Math.min(this.width,(i?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),t.beginPath(),t.strokeStyle=i?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.fillStyle=i?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,r),t.closePath()),this._drawImageAtPosition(t,r),this._drawImageLabel(t,e,n,i,o),this.updateBoundingBox(e,n)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(24));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"square",2,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(24));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"hexagon",4,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(24));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"star",4,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(23));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r));return a._setMargins(r),a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t,e,n){this.needsRefresh(e,n)&&(this.textSize=this.labelModule.getTextSize(t,e,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,n,i,o,r){this.resize(t,i,o),this.left=e-this.width/2,this.top=n-this.height/2,this.enableShadow(t,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,o),this.disableShadow(t,r),this.updateBoundingBox(e,n,t,i,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(24));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"triangle",3,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(24));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,n,i,o,r){this._drawShape(t,"triangleDown",3,e,n,i,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(2),a=n(11),l=n(12),h=n(74).default,u=function(){function t(e,n,o){var r=this;(0,i.default)(this,t),this.body=e,this.images=n,this.groups=o,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,n,i){return e===t?.5:Math.max(0,1/(e-t)*(i-t))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},s.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var i=!1;for(var o in t.body.edges)if(t.body.edges.hasOwnProperty(o)){var r=t.body.edges[o],s=t.body.data.edges._data[o];if(void 0!==s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(r.setOptions(void 0===e?{smooth:!1}:{smooth:{type:e}}),i=!0)}}!0===n&&!0===i&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(t.edgesListeners,function(e,n){t.body.data.edges&&t.body.data.edges.off(n,e)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){h.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&(e=this.body.edges[n].updateEdgeType()||e);if(void 0!==t.font)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&this.body.edges[i].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.edges;if(t instanceof a||t instanceof l)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new a,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new a}if(i&&s.forEach(this.edgesListeners,function(t,e){i.off(e,t)}),this.body.edges={},this.body.data.edges){s.forEach(this.edgesListeners,function(t,n){e.body.data.edges.on(n,t)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,i=this.body.data.edges,o=0;o<t.length;o++){var r=t[o],s=n[r];s&&s.disconnect();var a=i.get(r,{showInternalIds:!0});n[r]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,n=this.body.data.edges,i=!1,o=0;o<t.length;o++){var r=t[o],s=n.get(r),a=e[r];void 0!==a?(a.disconnect(),i=a.setOptions(s)||i,a.connect()):(this.body.edges[r]=this.create(s),i=!0)}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var n=this.body.edges;s.forEach(t,function(t){var e=n[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;s.forEach(this.body.edges,function(e,n){var i=t.body.data.edges._data[n];void 0!==i&&e.setOptions(i)})}},{key:"create",value:function(t){return new h(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,n=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in n)if(n.hasOwnProperty(t)){var i=n[t];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var n=this.body.edges[t];void 0!==n.fromId&&e.push(n.fromId),void 0!==n.toId&&e.push(n.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];s.forEach(this.body.edges,function(n,i){var o=t.body.nodes[n.toId],r=t.body.nodes[n.fromId];void 0!==o&&!0===o.isCluster||void 0!==r&&!0===r.isCluster||void 0!==o&&void 0!==r||e.push(i)}),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.edges,e=[];this.body.data.edges.forEach(function(n,i){void 0===t[i]&&e.push(i)}),this.add(e,!0)}}]),t}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(30)),o=u(n(3)),r=u(n(0)),s=u(n(1)),a=u(n(4)),l=u(n(5)),h=u(n(216));function u(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,n,i){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n,i))}return(0,l.default)(e,h.default),(0,s.default)(e,[{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n[0],n[1])}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,n=void 0,i=void 0,o=void 0,r=void 0,s=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(i=this.from.y,r=this.to.y,n=this.from.x-s*t,o=this.to.x+s*t):(i=this.from.y-s*e,r=this.to.y+s*e,n=this.from.x,o=this.to.x),[{x:n,y:i},{x:o,y:r}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,n,o,r,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),l=(0,i.default)(a,2),h=l[0],u=l[1];return this._getDistanceToBezierEdge(t,e,n,o,r,s,h,u)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=(0,i.default)(e,2),o=n[0],r=n[1],s=t,a=[];a[0]=Math.pow(1-s,3),a[1]=3*s*Math.pow(1-s,2),a[2]=3*Math.pow(s,2)*(1-s),a[3]=Math.pow(s,3);var l=a[0]*this.fromPoint.x+a[1]*o.x+a[2]*r.x+a[3]*this.toPoint.x,h=a[0]*this.fromPoint.y+a[1]*o.y+a[2]*r.y+a[3]*this.toPoint.y;return{x:l,y:h}}}]),e}();e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(75));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,n,i,o,r,s,a){var l=1e9,h=void 0,u=void 0,d=void 0,c=void 0,p=void 0,f=t,g=e,v=[0,0,0,0];for(u=1;u<10;u++)d=.1*u,v[0]=Math.pow(1-d,3),v[1]=3*d*Math.pow(1-d,2),v[2]=3*Math.pow(d,2)*(1-d),v[3]=Math.pow(d,3),c=v[0]*t+v[1]*s.x+v[2]*a.x+v[3]*n,p=v[0]*e+v[1]*s.y+v[2]*a.y+v[3]*i,u>0&&(l=(h=this._getDistanceToLine(f,g,c,p,o,r))<l?h:l),f=c,g=p;return l}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(30)),o=u(n(3)),r=u(n(0)),s=u(n(1)),a=u(n(4)),l=u(n(5)),h=u(n(75));function u(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,n,i){(0,r.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,n,i));return s._boundFunction=function(){s.positionBezierNode()},s.body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return(0,l.default)(e,h.default),(0,s.default)(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics?{physics:!1}:this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,n=t,o=void 0,r=void 0;if(this.from===this.to){var s=this._getCircleData(this.from),a=(0,i.default)(s,3),l=a[0],h=a[1],u=a[2],d=2*Math.PI*(1-n);o=l+u*Math.sin(d),r=h+u-u*(1-Math.cos(d))}else o=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*e.x+Math.pow(n,2)*this.toPoint.x,r=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*e.y+Math.pow(n,2)*this.toPoint.y;return{x:o,y:r}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,o,r){return this._getDistanceToBezierEdge(t,e,n,i,o,r,this.via)}}]),e}();e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(75));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_line",value:function(t,e,n){this._bezierCurve(t,e,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,n=this.options.smooth.roundness,i=this.options.smooth.type,o=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===i||"diagonalCross"===i){var s=void 0,a=void 0;s=a=o<=r?n*r:n*o,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a),t=this.from.x+s,e=this.from.y+a,"discrete"===i&&(o<=r?t=o<n*r?this.from.x:t:e=r<n*o?this.from.y:e)}else if("straightCross"===i){var l=(1-n)*o,h=(1-n)*r;o<=r?(l=0,this.from.y<this.to.y&&(h=-h)):(this.from.x<this.to.x&&(l=-l),h=0),t=this.to.x+l,e=this.to.y+h}else if("horizontal"===i){var u=(1-n)*o;this.from.x<this.to.x&&(u=-u),t=this.to.x+u,e=this.from.y}else if("vertical"===i){var d=(1-n)*r;this.from.y<this.to.y&&(d=-d),t=this.from.x,e=this.to.y+d}else if("curvedCW"===i){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var c=Math.sqrt(o*o+r*r),p=Math.PI,f=(Math.atan2(r,o)+(.5*n+.5)*p)%(2*p);t=this.from.x+(.5*n+.5)*c*Math.sin(f),e=this.from.y+(.5*n+.5)*c*Math.cos(f)}else if("curvedCCW"===i){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var g=Math.sqrt(o*o+r*r),v=Math.PI,m=(Math.atan2(r,o)+(.5*-n+.5)*v)%(2*v);t=this.from.x+(.5*n+.5)*g*Math.sin(m),e=this.from.y+(.5*n+.5)*g*Math.cos(m)}else{var y=void 0,b=void 0;y=b=o<=r?n*r:n*o,this.from.x>this.to.x&&(y=-y),this.from.y>=this.to.y&&(b=-b),t=this.from.x+y,e=this.from.y+b,o<=r?t=this.from.x<=this.to.x?this.to.x<t?this.to.x:t:this.to.x>t?this.to.x:t:e=this.from.y>=this.to.y?this.to.y>e?this.to.y:e:this.to.y<e?this.to.y:e}return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,n.via)}},{key:"_getDistanceToEdge",value:function(t,e,n,i,o,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,n,i,o,r,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=t,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*e.x+Math.pow(n,2)*this.toPoint.x,o=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*e.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:o}}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(118));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var n=this.to,i=this.from;t.id===this.from.id&&(n=this.from,i=this.to);var o=Math.atan2(n.y-i.y,n.x-i.x),r=n.x-i.x,s=n.y-i.y,a=Math.sqrt(r*r+s*s),l=(a-t.distanceToBorder(e,o))/a,h={};return h.x=(1-l)*i.x+l*n.x,h.y=(1-l)*i.y+l*n.y,h}},{key:"_getDistanceToEdge",value:function(t,e,n,i,o,r){return this._getDistanceToLine(t,e,n,i,o,r)}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=s(n(8)),o=s(n(0)),r=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=n(120).default,l=n(221).default,h=n(222).default,u=n(223).default,d=n(224).default,c=n(121).default,p=n(225).default,f=n(226).default,g=n(2),v=n(119).default,m=function(){function t(e){(0,o.default)(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},g.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,r.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,g.selectiveNotDeepExtend(["stabilization"],this.options,t),g.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new p(this.body,this.physicsBody,t=this.options.forceAtlas2Based),this.edgesSolver=new u(this.body,this.physicsBody,t),this.gravitySolver=new f(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(this.nodesSolver=new l(this.body,this.physicsBody,t=this.options.repulsion),this.edgesSolver=new u(this.body,this.physicsBody,t),this.gravitySolver=new c(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new h(this.body,this.physicsBody,t=this.options.hierarchicalRepulsion),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new c(this.body,this.physicsBody,t)):(this.nodesSolver=new a(this.body,this.physicsBody,t=this.options.barnesHut),this.edgesSolver=new u(this.body,this.physicsBody,t),this.gravitySolver=new c(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var n in t)t.hasOwnProperty(n)&&!0===t[n].options.physics&&this.physicsBody.physicsNodeIndices.push(t[n].id);for(var i in e)e.hasOwnProperty(i)&&!0===e[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[i].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var r=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=(0,i.default)(this.previousStates),e=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var r=t[o];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},n[r].x=this.previousStates[r].vx,n[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=this.body.nodes,n=this.referenceState;for(var i in this.referenceState)if(this.referenceState.hasOwnProperty(i)&&void 0!==e[i]&&(t=e[i].y-n[i].positions.y,Math.sqrt(Math.pow(e[i].x-n[i].positions.x,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,n=0,i=0;i<t.length;i++){var o=this._performStep(t[i]);e=Math.max(e,o),n+=o}this.adaptiveTimestepEnabled=n/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,n){t+=(e-this.modelOptions.damping*t)/n*this.timestep;var i=this.options.maxVelocity||1e9;return Math.abs(t)>i&&(t=t>0?i:-i),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],n=this.physicsBody.forces[t],i=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:i.x,vy:i.y},!1===e.options.fixed.x?(i.x=this.calculateComponentVelocity(i.x,n.x,e.options.mass),e.x+=i.x*this.timestep):(n.x=0,i.x=0),!1===e.options.fixed.y?(i.y=this.calculateComponentVelocity(i.y,n.y,e.options.mass),e.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var n=t[e].options.fixed;this.freezeCache[e]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},n=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&n();for(var i=0;e()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;n(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var n=this.physicsBody.physicsNodeIndices[e],i=this.body.nodes[n],o=this.physicsBody.forces[n],r=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),s=Math.min(Math.max(5,r),15),a=3*s,l=g.HSVToHex((180-180*Math.min(1,Math.max(0,.03*r)))/360,1,1),h={x:i.x+20*o.x,y:i.y+20*o.y};t.lineWidth=s,t.strokeStyle=l,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(h.x,h.y),t.stroke();var u=Math.atan2(o.y,o.x);t.fillStyle=l,v.draw(t,{type:"arrow",point:h,angle:u,length:a}),t.fill()}}}]),t}();e.default=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,n,o){(0,i.default)(this,t),this.body=e,this.physicsBody=n,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,o,r,s,a,l=this.body.nodes,h=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,d=this.options.nodeDistance,c=-2/3/d,p=0;p<h.length-1;p++){s=l[h[p]];for(var f=p+1;f<h.length;f++)t=(a=l[h[f]]).x-s.x,e=a.y-s.y,0===(n=Math.sqrt(t*t+e*e))&&(t=n=.1*Math.random()),n<2*d&&(r=n<.5*d?1:c*n+4/3,o=e*(r/=n),u[s.id].x-=i=t*r,u[s.id].y-=o,u[a.id].x+=i,u[a.id].y+=o)}}}]),t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,n,o){(0,i.default)(this,t),this.body=e,this.physicsBody=n,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,n,i,o,r,s,a,l,h,u=this.body.nodes,d=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,p=this.options.nodeDistance;for(l=0;l<d.length-1;l++)for(s=u[d[l]],h=l+1;h<d.length;h++)s.level===(a=u[d[h]]).level&&(t=a.x-s.x,e=a.y-s.y,r=(n=Math.sqrt(t*t+e*e))<p?-Math.pow(.05*n,2)+Math.pow(.05*p,2):0,0===n?n=.01:r/=n,o=e*r,c[s.id].x-=i=t*r,c[s.id].y-=o,c[a.id].x+=i,c[a.id].y+=o)}}]),t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,n,o){(0,i.default)(this,t),this.body=e,this.physicsBody=n,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,n=this.physicsBody.physicsEdgeIndices,i=this.body.edges,o=void 0,r=void 0,s=0;s<n.length;s++)!0===(e=i[n[s]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(r=e.from,this._calculateSpringForce(e.to,o=e.edgeType.via,.5*(t=void 0===e.options.length?this.options.springLength:e.options.length)),this._calculateSpringForce(o,r,.5*t)):this._calculateSpringForce(e.from,e.to,t=void 0===e.options.length?1.5*this.options.springLength:e.options.length))}},{key:"_calculateSpringForce",value:function(t,e,n){var i=t.x-e.x,o=t.y-e.y,r=Math.max(Math.sqrt(i*i+o*o),.01),s=this.options.springConstant*(n-r)/r,a=i*s,l=o*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,n,o){(0,i.default)(this,t),this.body=e,this.physicsBody=n,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,n,i,o,r,s,a,l,h,u=this.body.edges,d=this.physicsBody.physicsEdgeIndices,c=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,f=0;f<c.length;f++){var g=c[f];p[g].springFx=0,p[g].springFy=0}for(var v=0;v<d.length;v++)!0===(e=u[d[v]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.from.x-e.to.x,i=e.from.y-e.to.y,a=Math.sqrt(n*n+i*i),o=n*(s=this.options.springConstant*(t-(a=0===a?.01:a))/a),r=i*s,e.to.level!=e.from.level?(void 0!==p[e.toId]&&(p[e.toId].springFx-=o,p[e.toId].springFy-=r),void 0!==p[e.fromId]&&(p[e.fromId].springFx+=o,p[e.fromId].springFy+=r)):(void 0!==p[e.toId]&&(p[e.toId].x-=.5*o,p[e.toId].y-=.5*r),void 0!==p[e.fromId]&&(p[e.fromId].x+=.5*o,p[e.fromId].y+=.5*r)));s=1;for(var m=0;m<c.length;m++){var y=c[m];l=Math.min(s,Math.max(-s,p[y].springFx)),h=Math.min(s,Math.max(-s,p[y].springFy)),p[y].x+=l,p[y].y+=h}for(var b=0,w=0,x=0;x<c.length;x++){var _=c[x];b+=p[_].x,w+=p[_].y}for(var E=b/c.length,k=w/c.length,S=0;S<c.length;S++){var C=c[S];p[C].x-=E,p[C].y-=k}}}]),t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(120));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_calculateForces",value:function(t,e,n,i,o){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&i.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,t-i.shape.radius));var r=this.options.gravitationalConstant*o.mass*i.options.mass*(i.edges.length+1)/Math.pow(t,2),s=n*r;this.physicsBody.forces[i.id].x+=e*r,this.physicsBody.forces[i.id].y+=s}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=h(n(3)),o=h(n(0)),r=h(n(1)),s=h(n(4)),a=h(n(5)),l=h(n(121));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_calculateForces",value:function(t,e,n,i,o){if(t>0){var r=this.options.centralGravity*(o.edges.length+1)*o.options.mass;i[o.id].x=e*r,i[o.id].y=n*r}}}]),e}();e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(8)),o=a(n(6)),r=a(n(0)),s=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}var l=n(2),h=n(76).default,u=n(228).default,d=n(74).default,c=n(47).default,p=function(){function t(e){var n=this;(0,r.default)(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){n.clusteredNodes={},n.clusteredEdges={}})}return(0,s.default)(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":(0,o.default)(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var n=[],i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.edges.length>=t&&n.push(r.id)}for(var s=0;s<n.length;s++)this.clusterByConnection(n[s],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var i={},o={};l.forEach(this.body.nodes,function(n,r){var s=h.cloneOptions(n);!0===e.joinCondition(s)&&(i[r]=n,l.forEach(n.edges,function(e){void 0===t.clusteredEdges[e.id]&&(o[e.id]=e)}))}),this._cluster(i,o,e,n)}},{key:"clusterByEdgeCount",value:function(t,e){var n=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r=[],s={},a=void 0,l=void 0,u=void 0,d=function(o){var d={},c={},g=n.body.nodeIndices[o],v=n.body.nodes[g];if(void 0===s[g]){u=0,l=[];for(var m=0;m<v.edges.length;m++)void 0===n.clusteredEdges[(a=v.edges[m]).id]&&(a.toId!==a.fromId&&u++,l.push(a));if(u===t){p=function(t){if(null==e.joinCondition)return!0;var n=h.cloneOptions(t);return e.joinCondition(n)};for(var y=!0,b=0;b<l.length;b++){var w=n._getConnectedId(a=l[b],g);if(!p(v)){y=!1;break}c[a.id]=a,d[g]=v,d[w]=n.body.nodes[w],s[g]=!0}if((0,i.default)(d).length>0&&(0,i.default)(c).length>0&&!0===y)if(void 0!==(f=function(){for(var t=0;t<r.length;++t)for(var e in d)if(void 0!==r[t].nodes[e])return r[t]}())){for(var x in d)void 0===f.nodes[x]&&(f.nodes[x]=d[x]);for(var _ in c)void 0===f.edges[_]&&(f.edges[_]=c[_])}else r.push({nodes:d,edges:c})}}},c=0;c<this.body.nodeIndices.length;c++){var p,f;d(c)}for(c=0;c<r.length;c++)this._cluster(r[c].nodes,r[c].edges,e,!1);!0===o&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[t];void 0===(e=this._checkOptions(e,o)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);var r={},s={},a=o.id,l=h.cloneOptions(o);r[a]=o;for(var u=0;u<o.edges.length;u++){var d=o.edges[u];if(void 0===this.clusteredEdges[d.id]){var c=this._getConnectedId(d,a);if(void 0===this.clusteredNodes[c])if(c!==a)if(void 0===e.joinCondition)s[d.id]=d,r[c]=this.body.nodes[c];else{var p=h.cloneOptions(this.body.nodes[c]);!0===e.joinCondition(l,p)&&(s[d.id]=d,r[c]=this.body.nodes[c])}else s[d.id]=d}}var f=(0,i.default)(r).map(function(t){return r[t].id});for(g in r)if(r.hasOwnProperty(g))for(var g=r[g],v=0;v<g.edges.length;v++){var m=g.edges[v];f.indexOf(this._getConnectedId(m,g.id))>-1&&(s[m.id]=m)}this._cluster(r,s,e,n)}},{key:"_createClusterEdges",value:function(t,e,n,o){for(var r=void 0,s=void 0,a=void 0,l=void 0,h=void 0,u=void 0,d=(0,i.default)(t),c=[],p=0;p<d.length;p++){a=t[s=d[p]];for(var f=0;f<a.edges.length;f++)void 0===this.clusteredEdges[(r=a.edges[f]).id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==s?(l=n.id,u=h=r.fromId):(h=n.id,u=l=r.toId),void 0===t[u]&&c.push({edge:r,fromId:h,toId:l}))}for(var g=[],v=function(t){for(var e=0;e<g.length;e++){var n=g[e];if(t.fromId===n.fromId&&t.toId===n.toId||t.fromId===n.toId&&t.toId===n.fromId)return n}return null},m=0;m<c.length;m++){var y=c[m],b=y.edge,w=v(y);null===w?(w=this._createClusteredEdge(y.fromId,y.toId,b,o),g.push(w)):w.clusteringEdgeReplacingIds.push(b.id),this.body.edges[b.id].edgeReplacedById=w.id,this._backupEdgeOptions(b),b.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var s in t)t.hasOwnProperty(s)&&void 0!==this.clusteredNodes[s]&&r.push(s);for(var a=0;a<r.length;++a)delete t[r[a]];if(0!=(0,i.default)(t).length&&(1!=(0,i.default)(t).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var d=l.deepExtend({},n.clusterNodeProperties);if(void 0!==n.processProperties){var c=[];for(var p in t)if(t.hasOwnProperty(p)){var f=h.cloneOptions(t[p]);c.push(f)}var g=[];for(var v in e)if(e.hasOwnProperty(v)&&"clusterEdge:"!==v.substr(0,12)){var m=h.cloneOptions(e[v],"edge");g.push(m)}if(!(d=n.processProperties(d,c,g)))throw new Error("The processProperties function does not return properties!")}void 0===d.id&&(d.id="cluster:"+l.randomUUID());var y=d.id;void 0===d.label&&(d.label="cluster");var b=void 0;void 0===d.x&&(b=this._getClusterPosition(t),d.x=b.x),void 0===d.y&&(void 0===b&&(b=this._getClusterPosition(t)),d.y=b.y),d.id=y;var w=this.body.functions.createNode(d,u);w.containedNodes=t,w.containedEdges=e,w.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[d.id]=w,this._clusterEdges(t,e,d,n.clusterEdgeProperties),d.id=void 0,!0===o&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=(0,i.default)(t),n=t[e[0]].x,o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].y,a=void 0,l=1;l<e.length;l++)n=(a=t[e[l]]).x<n?a.x:n,o=a.x>o?a.x:o,r=a.y<r?a.y:r,s=a.y>s?a.y:s;return{x:.5*(n+o),y:.5*(r+s)}}},{key:"openCluster",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[t];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var o=this.findNode(t),r=o.indexOf(t)-1;if(r>=0){var s=o[r],a=this.body.nodes[s];return a._openChildCluster(t),delete this.body.nodes[t],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var h=i.containedNodes,u=i.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var d={},c={x:i.x,y:i.y};for(var p in h)if(h.hasOwnProperty(p)){var f=this.body.nodes[p];d[p]={x:f.x,y:f.y}}var g=e.releaseFunction(c,d);for(var v in h)if(h.hasOwnProperty(v)){var m=this.body.nodes[v];void 0!==g[v]&&(m.x=void 0===g[v].x?i.x:g[v].x,m.y=void 0===g[v].y?i.y:g[v].y)}}else l.forEach(h,function(t){!1===t.options.fixed.x&&(t.x=i.x),!1===t.options.fixed.y&&(t.y=i.y)});for(var y in h)if(h.hasOwnProperty(y)){var b=this.body.nodes[y];b.vx=i.vx,b.vy=i.vy,b.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var w=[],x=0;x<i.edges.length;x++)w.push(i.edges[x]);for(var _=0;_<w.length;_++){for(var E=w[_],k=this._getConnectedId(E,t),S=this.clusteredNodes[k],C=0;C<E.clusteringEdgeReplacingIds.length;C++){var T=E.clusteringEdgeReplacingIds[C],M=this.body.edges[T];if(void 0!==M)if(void 0!==S){var D=this.body.nodes[S.clusterId];D.containedEdges[M.id]=M,delete u[M.id];var O=M.fromId,P=M.toId;M.toId==k?P=S.clusterId:O=S.clusterId,this._createClusteredEdge(O,P,M,D.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(M)}E.remove()}for(var I in u)u.hasOwnProperty(I)&&this._restoreEdge(u[I]);delete this.body.nodes[t],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var n=this.body.nodes[t].containedNodes;for(var i in n)n.hasOwnProperty(i)&&e.push(this.body.nodes[i].id)}return e}},{key:"findNode",value:function(t){for(var e=[],n=0,i=void 0;void 0!==this.clusteredNodes[t]&&n<100;){if(void 0===(i=this.body.nodes[t]))return[];e.push(i.id),t=this.clusteredNodes[t].clusterId,n++}return void 0===(i=this.body.nodes[t])?[]:(e.push(i.id),e.reverse(),e)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(t),i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],n=0;void 0!==t&&void 0!==this.body.edges[t]&&n<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,n++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],n=[],i=[],o=0;e.length>0&&o<100;){var r=e.pop();if(void 0!==r){var s=this.body.edges[r];if(void 0!==s){o++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)i.push(r);else for(var l=0;l<a.length;++l){var h=a[l];-1===e.indexOf(a)&&-1===n.indexOf(a)&&e.push(h)}n.push(r)}}}return i}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:t.fromId}},{key:"_getHubSize",value:function(){for(var t=0,e=0,n=0,i=0,o=0;o<this.body.nodeIndices.length;o++){var r=this.body.nodes[this.body.nodeIndices[o]];r.edges.length>i&&(i=r.edges.length),t+=r.edges.length,e+=Math.pow(r.edges.length,2),n+=1}t/=n;var s=(e/=n)-Math.pow(t,2),a=Math.sqrt(s),l=Math.floor(t+2*a);return l>i&&(l=i),l}},{key:"_createClusteredEdge",value:function(t,e,n,i,o){var r=h.cloneOptions(n,"edge");l.deepExtend(r,i),r.from=t,r.to=e,r.id="clusterEdge:"+l.randomUUID(),void 0!==o&&l.deepExtend(r,o);var s=this.body.functions.createEdge(r);return s.clusteringEdgeReplacingIds=[n.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,n,i){if(e instanceof d){var o={};o[e.id]=e,e=o}if(t instanceof c){var r={};r[t.id]=t,t=r}if(null==n)throw new Error("_clusterEdges: parameter clusterNode required");for(var s in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(t,e,n,i),e)if(e.hasOwnProperty(s)&&void 0!==this.body.edges[s]){var a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(var l in t)t.hasOwnProperty(l)&&(this.clusteredNodes[l]={clusterId:n.id,node:this.body.nodes[l]},this.body.nodes[l].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var n=e.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(t,e){var n=[];return l.forEach(t,function(t){e(t)&&n.push(t)}),n}},{key:"_updateState",value:function(){var t=this,e=void 0,n=[],o=[],r=function(e){l.forEach(t.body.nodes,function(t){!0===t.isCluster&&e(t)})};for(e in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(e)&&void 0===this.body.nodes[e]&&n.push(e);r(function(t){for(var e=0;e<n.length;e++)delete t.containedNodes[n[e]]});for(var s=0;s<n.length;s++)delete this.clusteredNodes[n[s]];l.forEach(this.clusteredEdges,function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()||o.push(e)}),r(function(t){l.forEach(t.containedEdges,function(t,e){t.endPointsValid()||-1!==o.indexOf(e)||o.push(e)})}),l.forEach(this.body.edges,function(e,n){var i=!0,r=e.clusteringEdgeReplacingIds;if(void 0!==r){var s=0;l.forEach(r,function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()&&(s+=1)}),i=s>0}e.endPointsValid()&&i||o.push(n)}),r(function(e){l.forEach(o,function(n){delete e.containedEdges[n],l.forEach(e.edges,function(i,r){i.id!==n?i.clusteringEdgeReplacingIds=t._filter(i.clusteringEdgeReplacingIds,function(t){return-1===o.indexOf(t)}):e.edges[r]=null}),e.edges=t._filter(e.edges,function(t){return null!==t})})}),l.forEach(o,function(e){delete t.clusteredEdges[e]}),l.forEach(o,function(e){delete t.body.edges[e]});var a=(0,i.default)(this.body.edges);l.forEach(a,function(e){var n=t.body.edges[e],i=t._isClusteredNode(n.fromId)||t._isClusteredNode(n.toId);if(i!==t._isClusteredEdge(n.id)){if(!i)throw new Error("remove edge from clustering not implemented!");var o=t._getClusterNodeForNode(n.fromId);void 0!==o&&t._clusterEdges(t.body.nodes[n.fromId],n,o);var r=t._getClusterNodeForNode(n.toId);void 0!==r&&t._clusterEdges(t.body.nodes[n.toId],n,r)}});for(var h=!1,u=!0,d=function(){var e=[];r(function(t){var n=(0,i.default)(t.containedNodes).length,o=!0===t.options.allowSingleNodeCluster;(o&&n<1||!o&&n<2)&&e.push(t.id)});for(var n=0;n<e.length;++n)t.openCluster(e[n],{},!1);u=e.length>0,h=h||u};u;)d();h&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();e.default=p},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(3)),o=l(n(0)),r=l(n(1)),s=l(n(4)),a=l(n(5));function l(t){return t&&t.__esModule?t:{default:t}}var h=n(2),u=n(47).default,d=function(t){function e(t,n,r,a,l,h){(0,o.default)(this,e);var u=(0,s.default)(this,(e.__proto__||(0,i.default)(e)).call(this,t,n,r,a,l,h));return u.isCluster=!0,u.containedNodes={},u.containedEdges={},u}return(0,a.default)(e,u),(0,r.default)(e,[{key:"_openChildCluster",value:function(t){var e=this,n=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],h.forEach(n.edges,function(t){delete e.containedEdges[t.id]}),h.forEach(n.containedNodes,function(t,n){e.containedNodes[n]=t}),n.containedNodes={},h.forEach(n.containedEdges,function(t,n){e.containedEdges[n]=t}),n.containedEdges={},h.forEach(n.edges,function(t){h.forEach(e.edges,function(n){var i=n.clusteringEdgeReplacingIds.indexOf(t.id);-1!==i&&(h.forEach(t.clusteringEdgeReplacingIds,function(t){n.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=n.id}),n.clusteringEdgeReplacingIds.splice(i,1))})}),n.edges=[]}}]),e}();e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(2),a=function(){function t(e,n){var o;(0,i.default)(this,t),void 0!==window&&(o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===o?function(t){t()}:o,this.body=e,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},s.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&s.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var n=void 0,i=window;return!0===this.requiresTimeout?n=i.setTimeout(t,e):i.requestAnimationFrame&&(n=i.requestAnimationFrame(t)),n}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,n,i),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,n,i)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,n=void 0;for(var i in e)e.hasOwnProperty(i)&&((n=e[i]).resize(t),n.updateBoundingBox(t,n.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.nodes,i=this.body.nodeIndices,o=void 0,r=[],s=20,a=this.canvas.DOMtoCanvas({x:-s,y:-s}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+s,y:this.canvas.frame.canvas.clientHeight+s}),h={top:a.y,left:a.x,bottom:l.y,right:l.x},u=0;u<i.length;u++)(o=n[i[u]]).isSelected()?r.push(i[u]):!0===e?o.draw(t):!0===o.isBoundingBoxOverlappingWith(h)?o.draw(t):o.updateBoundingBox(t,o.selected);for(var d=0;d<r.length;d++)(o=n[r[d]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,n=this.body.edgeIndices,i=void 0,o=0;o<n.length;o++)!0===(i=e[n[o]]).connected&&i.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(10),a=n(37),l=n(2),h=function(){function t(e){(0,i.default)(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;void 0!==t&&l.selectiveDeepExtend(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),l.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),l.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=t&&1!=e?n=.5*this.cameraState.scale*(t+e):1!=t?n=this.cameraState.scale*t:1!=e&&(n=this.cameraState.scale*e),this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_ALL}),a.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new s(this.frame),a.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var n=!1,i=this.frame.canvas.width,o=this.frame.canvas.height,r=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(r),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,n=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(2),a=n(76).default,l=function(){function t(e,n){var o=this;(0,i.default)(this,t),this.body=e,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,o.default)(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,i=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var o=0;for(var r in this.body.nodes)if(this.body.nodes.hasOwnProperty(r)){var s=this.body.nodes[r];!0===s.predefinedPosition&&(o+=1)}if(o>.5*this.body.nodeIndices.length)return void this.fit(t,!1);n=a.getRange(this.body.nodes,t.nodes);var l=this.body.nodeIndices.length;i=12.662/(l+7.4147)+.0964822;var h=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);i*=h}else{this.body.emitter.emit("_resizeNodes"),n=a.getRange(this.body.nodes,t.nodes);var u=1.1*Math.abs(n.maxX-n.minX),d=1.1*Math.abs(n.maxY-n.minY),c=this.canvas.frame.canvas.clientWidth/u,p=this.canvas.frame.canvas.clientHeight/d;i=c<=p?c:p}i>1?i=1:0===i&&(i=1);var f=a.findCenter(n),g={position:f,scale:i,animation:t.animation};this.moveTo(g)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var n={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=n,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){void 0!==t?(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)):t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(e.x-t.position.x)*this.targetScale+t.offset.x,y:this.sourceTranslation.y+(e.y-t.position.y)*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=this.body.view.translation;this.body.view.translation={x:i.x+(n.x-t)*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+(n.y-e)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=s.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(2),a=n(233).default,l=n(104).default,h=function(){function t(e,n,o){(0,i.default)(this,t),this.body=e,this.canvas=n,this.selectionHandler=o,this.navigationHandler=new a(e,n),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},s.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){void 0!==t&&(s.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),s.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(s.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=s.parseColor(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-s.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-s.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.selectionHandler.getSelection(),o=!1;o=!0===n?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var r=this.selectionHandler.getSelection(),s=this._determineDifference(i,r),a=this._determineDifference(r,i);s.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,i),o=!0),s.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,i),o=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",e,t),o=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),o=!0),!0===o&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var n=function(t,e){for(var n=[],i=0;i<t.length;i++){var o=t[i];-1===e.indexOf(o)&&n.push(o)}return n};return{nodes:n(t.nodes,e.nodes),edges:n(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=s.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i],r={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(r)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,n);var o=n.x-this.drag.pointer.x,r=n.y-this.drag.pointer.y;i.forEach(function(t){var n=t.node;!1===t.xFixed&&(n.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+o)),!1===t.yFixed&&(n.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+r))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.view.translation={x:this.drag.translation.x+(n.x-this.drag.pointer.x),y:this.drag.translation.y+(n.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*t.scale,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var n=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var i=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,r=t/n,s=(1-r)*e.x+o.x*r,a=(1-r)*e.y+o.y*r;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=i){var l=this.canvas.canvasToDOM(i);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",n<t?{direction:"+",scale:this.body.view.scale,pointer:e}:{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var n=this.body.view.scale,i=e/10;e<0&&(i/=1-i),n*=1+i;var o=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(n,o)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,n=this.getPointer({x:t.clientX,y:t.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(n)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,n)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),n=this.canvas._YconvertDOMtoCanvas(t.y),i={left:e,top:n,right:e,bottom:n},o=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,s="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,h=this.body.nodes,u=void 0,d=[],c=0;c<a.length;c++)!0===(u=h[a[c]]).isOverlappingWith(i)&&void 0!==u.getTitle()&&d.push(a[c]);d.length>0&&(this.popupObj=h[d[d.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){for(var p=this.body.edgeIndices,f=this.body.edges,g=void 0,v=[],m=0;m<p.length;m++)!0===(g=f[p[m]]).isOverlappingWith(i)&&!0===g.connected&&void 0!==g.getTitle()&&v.push(p[m]);v.length>0&&(this.popupObj=f[v[v.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new l(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var i=this.selectionHandler.getNodeAt(t);n=void 0!==i&&i.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(10),a=n(37),l=n(35),h=function(){function t(e,n){var o=this;(0,i.default)(this,t),this.body=e,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){o.activated=!0,o.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){o.activated=!1,o.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==o.keycharm&&o.keycharm.destroy()}),this.options={}}return(0,o.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<e.length;i++){this.navigationDOM[e[i]]=document.createElement("div"),this.navigationDOM[e[i]].className="vis-button vis-"+e[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[i]]);var o=new s(this.navigationDOM[e[i]]);a.onTouch(o,"_fit"===n[i]?this._fit.bind(this):this.bindToRedraw.bind(this,n[i])),this.navigationHammers.push(o)}var r=new s(this.canvas.frame);a.onRelease(r,function(){t._stopMovement()}),this.navigationHammers.push(r),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,n=t/this.body.view.scale,i=(1-n)*this.canvas.canvasViewCenter.x+e.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+e.y*n;this.body.view.scale=t,this.body.view.translation={x:i,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,n=t/this.body.view.scale,i=(1-n)*this.canvas.canvasViewCenter.x+e.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+e.y*n;this.body.view.scale=t,this.body.view.translation={x:i,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=l(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}();e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(47).default,a=n(74).default,l=n(2),h=function(){function t(e,n){var o=this;(0,i.default)(this,t),this.body=e,this.canvas=n,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}return(0,o.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&l.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==n&&(e=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var n=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==n&&(e=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var n={};return n.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},n.event=t,n}},{key:"_generateClickEvent",value:function(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this._initBaseEvent(e,n);if(!0===o)r.nodes=[],r.edges=[];else{var s=this.getSelection();r.nodes=s.nodes,r.edges=s.edges}void 0!==i&&(r.previousSelection=i),"click"==t&&(r.items=this.getClickedItems(n)),this.body.emitter.emit(t,r)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof s&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],n=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodeIndices[i];n[o].isOverlappingWith(t)&&e.push(o)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(t),i=this._getAllNodesOverlappingWith(n);return i.length>0?!0===e?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var n=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var o=this.body.edgeIndices[i];n[o].isOverlappingWith(t)&&e.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(t),i=10,o=null,r=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],l=r[a];if(l.connected){var h=l.from.x,u=l.from.y,d=l.to.x,c=l.to.y,p=l.edgeType.getDistanceToEdge(h,u,d,c,n.x,n.y);p<i&&(o=a,i=p)}}return null!==o?!0===e?this.body.edges[o]:o:void 0}},{key:"_addToSelection",value:function(t){t instanceof s?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof s?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof s?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.select(),this._addToSelection(n)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.hover=!0,this._addToHover(n)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var n=t.edges[e];n.unselect(),this._removeFromSelection(n)}}},{key:"emitBlurEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e);!0===n.hover&&(n.hover=!1,n instanceof s?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(t,e,n){var i=this._initBaseEvent(t,e),o=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),o=!0,n instanceof s?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),o}},{key:"hoverObject",value:function(t,e){var n=this.getNodeAt(e);void 0===n&&(n=this.getEdgeAt(e));var i=!1;for(var o in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(o)&&(void 0===n||n instanceof s&&n.id!=o||n instanceof a)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],i=!0);for(var r in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(r)&&(!0===i?(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]):(void 0===n||n instanceof a&&n.id!=r||n instanceof s&&!n.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[r]),delete this.hoverObj.edges[r],i=!0));void 0!==n&&(i=i||this.emitHoverEvent(t,e,n),n instanceof s&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)),!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0,i=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(n=0;n<t.nodes.length;n++){var o=this.body.nodes[i=t.nodes[n]];if(!o)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(o,e.highlightEdges)}if(t.edges)for(n=0;n<t.edges.length;n++){var r=this.body.edges[i=t.edges[n]];if(!r)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(r)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),n=[],i=this.body.nodeIndices,o=this.body.nodes,r=i.length-1;r>=0;r--){var s=o[i[r]].getItemsOnPoint(e);n.push.apply(n,s)}for(var a=this.body.edgeIndices,l=this.body.edges,h=a.length-1;h>=0;h--){var u=l[a[h]].getItemsOnPoint(e);n.push.apply(n,u)}return n}}]),t}();e.default=h},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(30)),o=l(n(6)),r=l(n(8)),s=l(n(0)),a=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=n(2),u=n(76).default,d=n(236),c=d.HorizontalStrategy,p=d.VerticalStrategy,f=function(){function t(){(0,s.default)(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,a.default)(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,n={};return function t(i){if(void 0!==n[i])return n[i];var o=e.levels[i];if(e.childrenReference[i]){var r=e.childrenReference[i];if(r.length>0)for(var s=0;s<r.length;s++)o=Math.max(o,t(r[s]))}return n[i]=o,o}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(e=Math.min(this.levels[n],e));for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(this.levels[i]-=e)}},{key:"getTreeSize",value:function(t,e){var n=1e9,i=-1e9,o=1e9,r=-1e9;for(var s in this.trees)if(this.trees.hasOwnProperty(s)&&this.trees[s]===e){var a=t[s];n=Math.min(a.x,n),i=Math.max(a.x,i),o=Math.min(a.y,o),r=Math.max(a.y,r)}return{min_x:n,max_x:i,min_y:o,max_y:r}}},{key:"hasSameParent",value:function(t,e){var n=this.parentReference[t.id],i=this.parentReference[e.id];if(void 0===n||void 0===i)return!1;for(var o=0;o<n.length;o++)for(var r=0;r<i.length;r++)if(n[o]==i[r])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return(0,r.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var n=!1,i=this.distributionOrdering[e];for(var o in i)if(i[o]===t){n=!0;break}n||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),g=function(){function t(e){(0,s.default)(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,a.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var n=this.options.hierarchical,i=n.enabled;if(h.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),h.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===i)return this.body.emitter.emit("refresh"),h.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===(0,o.default)(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:n};else{var i=t.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection},t.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,n=0;n<t.length;n++){var i=t[n],o=2*Math.PI*this.seededRandom();void 0===i.x&&(i.x=e*Math.cos(o)),void 0===i.y&&(i.y=e*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,n=0;n<t.length;n++)!0===this.body.nodes[t[n]].predefinedPosition&&(e+=1);if(e<.5*t.length){var i=0,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>150){for(var r=t.length;t.length>150&&i<=10;){var s=t.length;if((i+=1)%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),s==t.length&&i%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var a=0;a<t.length;a++){var l=this.body.nodes[t[a]];!1===l.predefinedPosition&&(l.x+=70*(.5-this.seededRandom()),l.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=u.getRangeCore(this.body.nodes,this.body.nodeIndices),e=u.findCenter(t),n=0;n<this.body.nodeIndices.length;n++){var i=this.body.nodes[this.body.nodeIndices[n]];i.x-=e.x,i.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,n=!1,i=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new f,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(void 0!==(t=this.body.nodes[e]).options.level?(n=!0,this.hierarchical.levels[e]=t.options.level):i=!0);if(!0===i&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.hierarchical.ensureLevel(r);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,n={},o=function(e,n){var i=t.hierarchical.trees;for(var o in i)i.hasOwnProperty(o)&&i[o]===e&&t.direction.shift(o,n)},r=function e(n,i){if(!i[n.id]&&(i[n.id]=!0,t.hierarchical.childrenReference[n.id])){var o=t.hierarchical.childrenReference[n.id];if(o.length>0)for(var r=0;r<o.length;r++)e(t.body.nodes[o[r]],i)}},s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,o=1e9,r=1e9,s=1e9,a=-1e9;for(var l in e)if(e.hasOwnProperty(l)){var h=t.body.nodes[l],u=t.hierarchical.levels[h.id],d=t.direction.getPosition(h),c=t._getSpaceAroundNode(h,e),p=(0,i.default)(c,2),f=p[0],g=p[1];o=Math.min(f,o),r=Math.min(g,r),u<=n&&(s=Math.min(d,s),a=Math.max(d,a))}return[s,a,o,r]},a=function(e,n){var i=t.hierarchical.getMaxLevel(e.id),o=t.hierarchical.getMaxLevel(n.id);return Math.min(i,o)},l=function(e,n,i){for(var o=t.hierarchical,r=0;r<n.length;r++){var s=o.distributionOrdering[n[r]];if(s.length>1)for(var a=0;a<s.length-1;a++){var l=s[a],h=s[a+1];o.hasSameParent(l,h)&&o.inSameSubNetwork(l,h)&&e(l,h,i)}}},h=function(n,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=t.direction.getPosition(n),h=t.direction.getPosition(i),u=Math.abs(h-l),d=t.options.hierarchical.nodeSpacing;if(u>d){var c={},p={};r(n,c),r(i,p);var f=a(n,i),g=s(c,f),v=s(p,f),m=g[1],y=v[0],b=v[2],w=Math.abs(m-y);if(w>d){var x=m-y+d;x<-b+d&&(x=-b+d),x<0&&(t._shiftBlock(i.id,x),e=!0,!0===o&&t._centerParent(i))}}},u=function(o,a){for(var l=a.id,h=a.edges,u=t.hierarchical.levels[a.id],d=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,c={},p=[],f=0;f<h.length;f++){var g=h[f];if(g.toId!=g.fromId){var v=g.toId==l?g.from:g.to;c[h[f].id]=v,t.hierarchical.levels[v.id]<u&&p.push(g)}}var m=function(e,n){for(var i=0,o=0;o<n.length;o++)if(void 0!==c[n[o].id]){var r=t.direction.getPosition(c[n[o].id])-e;i+=r/Math.sqrt(r*r+d)}return i},y=function(e,n){for(var i=0,o=0;o<n.length;o++)if(void 0!==c[n[o].id]){var r=t.direction.getPosition(c[n[o].id])-e;i-=d*Math.pow(r*r+d,-1.5)}return i},b=function(e,n){for(var i=t.direction.getPosition(a),o={},r=0;r<e;r++){var s=m(i,n),l=y(i,n);if(void 0!==o[i-=Math.max(-40,Math.min(40,Math.round(s/l)))])break;o[i]=r}return i},w=b(o,p);!function(i){var o=t.direction.getPosition(a);if(void 0===n[a.id]){var l={};r(a,l),n[a.id]=l}var h=s(n[a.id]),u=h[2],d=i-o,c=0;d>0?c=Math.min(d,h[3]-t.options.hierarchical.nodeSpacing):d<0&&(c=-Math.min(-d,u-t.options.hierarchical.nodeSpacing)),0!=c&&(t._shiftBlock(a.id,c),e=!0)}(w),function(n){var o=t.direction.getPosition(a),r=t._getSpaceAroundNode(a),s=(0,i.default)(r,2),l=s[0],h=n-o,u=o;h>0?u=Math.min(o+(s[1]-t.options.hierarchical.nodeSpacing),n):h<0&&(u=Math.max(o-(l-t.options.hierarchical.nodeSpacing),n)),u!==o&&(t.direction.setPosition(a,u),e=!0)}(w=b(o,h))};!0===this.options.hierarchical.blockShifting&&(function(n){var i=t.hierarchical.getLevels();i=i.reverse();for(var o=0;o<5&&(e=!1,l(h,i,!0),!0===e);o++);}(),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(n){var i=t.hierarchical.getLevels();i=i.reverse();for(var o=0;o<20;o++){e=!1;for(var r=0;r<i.length;r++)for(var s=t.hierarchical.distributionOrdering[i[r]],a=0;a<s.length;a++)u(1e3,s[a]);if(!0!==e)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=e.reverse();for(var n=0;n<e.length;n++)for(var i=t.hierarchical.distributionOrdering[e[n]],o=0;o<i.length;o++)t._centerParent(i[o])}(),function(){for(var e=function(){for(var e=[],n=0;n<t.hierarchical.numTrees();n++)e.push(t.direction.getTreeSize(n));return e}(),n=0,i=0;i<e.length-1;i++)o(i+1,n+=e[i].max-e[i+1].min+t.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var n=!0;void 0===e&&(n=!1);var i=this.hierarchical.levels[t.id];if(void 0!==i){var o=this.hierarchical.distributionIndex[t.id],r=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[i],a=1e9,l=1e9;if(0!==o){var h=s[o-1];(!0===n&&void 0===e[h.id]||!1===n)&&(a=r-this.direction.getPosition(h))}if(o!=s.length-1){var u=s[o+1];if(!0===n&&void 0===e[u.id]||!1===n){var d=this.direction.getPosition(u);l=Math.min(l,d-r)}}return[a,l]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],n=0;n<e.length;n++){var o=e[n],r=this.body.nodes[o],s=this.hierarchical.childrenReference[o];if(void 0!==s){var a=this._getCenterPosition(s),l=this.direction.getPosition(r),h=this._getSpaceAroundNode(r),u=(0,i.default)(h,2),d=u[0],c=u[1],p=l-a;(p<0&&Math.abs(p)<c-this.options.hierarchical.nodeSpacing||p>0&&Math.abs(p)<d-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,a)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var n=(0,r.default)(t[e]);n=this._indexArrayToNodes(n),this.direction.sort(n);for(var i=0,o=0;o<n.length;o++){var s=n[o];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,l=a*i;i>0&&(l=this.direction.getPosition(n[o-1])+a),this.direction.setPosition(s,l,e),this._validatePositionAndContinue(s,e,l),i++}}}}},{key:"_placeBranchNodes",value:function(t,e){var n=this.hierarchical.childrenReference[t];if(void 0!==n){for(var i=[],o=0;o<n.length;o++)i.push(this.body.nodes[n[o]]);this.direction.sort(i);for(var r=0;r<i.length;r++){var s=i[r],a=this.hierarchical.levels[s.id];if(!(a>e&&void 0===this.positionedNodes[s.id]))return;var l,h=this.options.hierarchical.nodeSpacing;l=0===r?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(i[r-1])+h,this.direction.setPosition(s,l,a),this._validatePositionAndContinue(s,a,l)}var u=this._getCenterPosition(i);this.direction.setPosition(this.body.nodes[t],u,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(n-i<this.options.hierarchical.nodeSpacing){var o=i+this.options.hierarchical.nodeSpacing-n,r=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(r.withChild,o)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(this.body.nodes[t[n]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,n=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){var i=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(n=this.body.nodes[e],i),void 0===t[i]&&(t[i]={}),t[i][e]=n}return t}},{key:"_getActiveEdges",value:function(t){var e=this,n=[];return h.forEach(t.edges,function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&n.push(t)}),n}},{key:"_getHubSizes",value:function(){var t=this,e={};h.forEach(this.body.nodeIndices,function(n){var i=t._getActiveEdges(t.body.nodes[n]).length;e[i]=!0});var n=[];return h.forEach(e,function(t){n.push(Number(t))}),n.sort(function(t,e){return e-t}),n}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,n){t.hierarchical.levelDownstream(e,n)},n=this._getHubSizes(),i=function(i){var o=n[i];if(0===o)return"break";h.forEach(t.body.nodeIndices,function(n){o===t._getActiveEdges(t.body.nodes[n]).length&&t._crawlNetwork(e,n)})},o=0;o<n.length&&"break"!==i(o);++o);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork(function(e,n,i){var o=t.hierarchical.levels[e.id];void 0===o&&(o=t.hierarchical.levels[e.id]=1e5);var r=(u.cloneOptions(e,"node"),u.cloneOptions(n,"node"),void u.cloneOptions(i,"edge"));t.hierarchical.levels[n.id]=o+r}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t=this;this._crawlNetwork(function(e,n,i){var o=t.hierarchical.levels[e.id],r=t.hierarchical.levels[n.id];(function(e){return h.forEach(t.body.edges,function(t){if(t.toId===e.fromId&&t.fromId===e.toId)return!0}),!1})(i)&&void 0!==o&&void 0!==r||(void 0===o&&(o=t.hierarchical.levels[e.id]=1e4),t.hierarchical.levels[n.id]=i.toId==n.id?o+1:o-1)}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork(function(e,n){t.hierarchical.levels[n.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,n.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments[1],i={},o=function n(o,r){if(void 0===i[o.id]){t.hierarchical.setTreeIndex(o,r),i[o.id]=!0;for(var s=void 0,a=t._getActiveEdges(o),l=0;l<a.length;l++){var h=a[l];!0===h.connected&&o.id!=(s=h.toId==o.id?h.from:h.to).id&&(e(o,s,h),n(s,r))}}};if(void 0===n)for(var r=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];if(void 0===i[a]){var l=this.body.nodes[a];o(l,r),r+=1}}else{var h=this.body.nodes[n];if(void 0===h)return void console.error("Node not found:",n);o(h)}}},{key:"_shiftBlock",value:function(t,e){var n=this,i={};!function t(o){if(!i[o]){i[o]=!0,n.direction.shift(o,e);var r=n.hierarchical.childrenReference[o];if(void 0!==r)for(var s=0;s<r.length;s++)t(r[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var n=this,i={};return function t(e,i){var o=n.hierarchical.parentReference[i];if(void 0!==o)for(var r=0;r<o.length;r++){var s=o[r];e[s]=!0,t(e,s)}}(i,t),function t(e,i){var o=n.hierarchical.parentReference[i];if(void 0!==o)for(var r=0;r<o.length;r++){var s=o[r];if(void 0!==e[s])return{foundParent:s,withChild:i};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:i}}(i,e)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new p(this):new c(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,n=-1e9,i=0;i<t.length;i++){var o=this.direction.getPosition(void 0!==t[i].id?t[i]:this.body.nodes[t[i]]);e=Math.min(e,o),n=Math.max(n,o)}return.5*(e+n)}}]),t}();e.default=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalStrategy=e.HorizontalStrategy=void 0;var i=l(n(3)),o=l(n(4)),r=l(n(5)),s=l(n(0)),a=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,n),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),u=function(t){function e(t){(0,s.default)(this,e);var n=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this));return n.layout=t,n}return(0,r.default)(e,h),(0,a.default)(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.x||void 0===e.x?0:t.x-e.x})}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(),d=function(t){function e(t){(0,s.default)(this,e);var n=(0,o.default)(this,(e.__proto__||(0,i.default)(e)).call(this));return n.layout=t,n}return(0,r.default)(e,h),(0,a.default)(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(t,n),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.y||void 0===e.y?0:t.y-e.y})}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}();e.HorizontalStrategy=d,e.VerticalStrategy=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=l(n(8)),o=l(n(19)),r=l(n(6)),s=l(n(0)),a=l(n(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=n(2),u=n(10),d=n(37),c=function(){function t(e,n,i){var o=this;(0,s.default)(this,t),this.body=e,this.canvas=n,this.selectionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},h.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){o._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,a.default)(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,n){void 0!==e&&(this.options.locale=void 0!==e.locale?e.locale:n.locale,this.options.locales=void 0!==e.locales?e.locales:n.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,h.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),n=t+e,i=this.options.locales[this.options.locale],o=!1;!1!==this.options.addNode&&(this._createAddNodeButton(i),o=!0),!1!==this.options.addEdge&&(!0===o?this._createSeperator(1):o=!0,this._createAddEdgeButton(i)),1===t&&"function"==typeof this.options.editNode?(!0===o?this._createSeperator(2):o=!0,this._createEditNodeButton(i)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===o?this._createSeperator(3):o=!0,this._createEditEdgeButton(i)),0!==n&&(t>0&&!1!==this.options.deleteNode?(!0===o&&this._createSeperator(4),this._createDeleteButton(i)):0===t&&!1!==this.options.deleteEdge&&(!0===o&&this._createSeperator(4),this._createDeleteButton(i))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var n=h.deepExtend({},e.options,!1);if(n.x=e.x,n.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,r.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var e=this.body.edges[this.edgeBeingEditedId],n=this._getNewTargetNode(e.from.x,e.from.y),i=this._getNewTargetNode(e.to.x,e.to.y);this.temporaryIds.nodes.push(n.id),this.temporaryIds.nodes.push(i.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){var o=e.edgeType.findBorderPositions(t);!1===n.selected&&(n.x=o.from.x,n.y=o.from.y),!1===i.selected&&(i.x=o.to.x,i.y=o.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from,o.to)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),n=this.selectionHandler.getSelectedEdges(),i=void 0;if(e.length>0){for(var o=0;o<e.length;o++)if(!0===this.body.nodes[e[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else n.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){var r={nodes:e,edges:n};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(r,function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var n=h.deepExtend({},this.options.controlNodeStyle);n.id="targetNode"+h.randomUUID(),n.hidden=!1,n.physics=!1,n.x=t,n.y=e;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:t,right:t,top:e,bottom:e},i}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},h.recursiveDOMDelete(this.editModeDiv);var t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(h.recursiveDOMDelete(this.editModeDiv),h.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),h.recursiveDOMDelete(this.manipulationDiv),h.recursiveDOMDelete(this.editModeDiv),h.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=i,this.manipulationDOM[t+"Label"].innerHTML=n,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,o.default)((0,i.default)(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++)this.body.emitter.off(this.temporaryEventFunctions[t].event,this.temporaryEventFunctions[t].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var n=new u(t,{});d.onTouch(n,e),this.manipulationHammers.push(n)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var n=0;n<this.temporaryIds.nodes.length;n++){delete this.body.nodes[this.temporaryIds.nodes[n]];var i=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[n]);-1!==i&&this.body.nodeIndices.splice(i,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=h.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.selectionHandler._pointerToPositionObject(this.lastTouch),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=n.isOverlappingWith(e),s=i.isOverlappingWith(e);!0===r?(this.selectedControlNode=n,o.edgeType.from=n):!0===s&&(this.selectedControlNode=i,o.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),n=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.body.view.translation={x:this.lastTouch.translation.x+(e.x-this.lastTouch.x),y:this.lastTouch.translation.y+(e.y-this.lastTouch.y)},this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(n),r=void 0,s=o.length-1;s>=0;s--)if(o[s]!==this.selectedControlNode.id){r=this.body.nodes[o[s]];break}void 0!==r&&void 0!==this.selectedControlNode?!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(r.id,i.to.id):this._performEditEdge(i.from.id,r.id):(i.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=h.extend({},this.body.view.translation);var e=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==e)if(!0===e.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var n=this._getNewTargetNode(e.x,e.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);var i=this.body.functions.createEdge({id:"connectionEdge"+h.randomUUID(),from:e.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[i.id]=i,this.body.edgeIndices.push(i.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(i.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var n=this.body.nodes[this.temporaryIds.nodes[0]];n.x=this.canvas._XconvertDOMtoCanvas(e.x),n.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(e.x-this.lastTouch.x),y:this.lastTouch.translation.y+(e.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),n=this.selectionHandler._pointerToPositionObject(e),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(n),r=void 0,s=o.length-1;s>=0;s--)if(-1===this.temporaryIds.nodes.indexOf(o[s])){r=this.body.nodes[o[s]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(i,r.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){this.selectionHandler._generateClickEvent("dragStart",t,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,n={id:h.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,function(t){null!=t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var n=this,i={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,function(t){null!=t&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var n=this,i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},o=this.options.editEdge;if("object"===(void 0===o?"undefined":(0,r.default)(o))&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(i,function(t){null==t||"editEdge"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(t),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(30)),o=a(n(0)),r=a(n(1)),s=a(n(239));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,n,i){(0,o.default)(this,t),this.body=e,this.springLength=n,this.springConstant=i,this.distanceSolver=new s.default}return(0,r.default)(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var r=.01,s=1,a=0,l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),h=5,u=1e9,d=0,c=0,p=0,f=0,g=0;u>r&&a<l;){a+=1;var v=this._getHighestEnergyNode(n),m=(0,i.default)(v,4);for(d=m[0],c=m[2],p=m[3],f=u=m[1],g=0;f>s&&g<h;){g+=1,this._moveNode(d,c,p);var y=this._getEnergy(d),b=(0,i.default)(y,3);f=b[0],c=b[1],p=b[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,o=0,r=e[0],s=0,a=0,l=0;l<e.length;l++){var h=e[l];if(!1===n[h].predefinedPosition||!0===n[h].isCluster&&!0===t||!0===n[h].options.fixed.x||!0===n[h].options.fixed.y){var u=this._getEnergy(h),d=(0,i.default)(u,3),c=d[0];o<c&&(o=c,r=h,s=d[1],a=d[2])}}return[r,o,s,a]}},{key:"_getEnergy",value:function(t){var e=(0,i.default)(this.E_sums[t],2),n=e[0],o=e[1];return[Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),n,o]}},{key:"_moveNode",value:function(t,e,n){for(var i=this.body.nodeIndices,o=this.body.nodes,r=0,s=0,a=0,l=o[t].x,h=o[t].y,u=this.K_matrix[t],d=this.L_matrix[t],c=0;c<i.length;c++){var p=i[c];if(p!==t){var f=o[p].x,g=o[p].y,v=u[p],m=d[p],y=1/Math.pow(Math.pow(l-f,2)+Math.pow(h-g,2),1.5);r+=v*(1-m*Math.pow(h-g,2)*y),s+=v*(m*(l-f)*(h-g)*y),a+=v*(1-m*Math.pow(l-f,2)*y)}}var b=(e/r+n/s)/(s/r-a/s);o[t].x+=-(s*b+e)/r,o[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<e.length;i++){this.L_matrix[e[i]]={};for(var o=0;o<e.length;o++)this.L_matrix[e[i]][e[o]]=n*t[e[i]][e[o]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var i=0;i<e.length;i++){this.K_matrix[e[i]]={};for(var o=0;o<e.length;o++)this.K_matrix[e[i]][e[o]]=n*Math.pow(t[e[i]][e[o]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<t.length;n++)this.E_matrix[t[n]]=[];for(var i=0;i<t.length;i++){for(var o=t[i],r=e[o].x,s=e[o].y,a=0,l=0,h=i;h<t.length;h++){var u=t[h];if(u!==o){var d=e[u].x,c=e[u].y,p=1/Math.sqrt(Math.pow(r-d,2)+Math.pow(s-c,2));this.E_matrix[o][h]=[this.K_matrix[o][u]*(r-d-this.L_matrix[o][u]*(r-d)*p),this.K_matrix[o][u]*(s-c-this.L_matrix[o][u]*(s-c)*p)],this.E_matrix[u][i]=this.E_matrix[o][h],a+=this.E_matrix[o][h][0],l+=this.E_matrix[o][h][1]}}this.E_sums[o]=[a,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[t],o=this.K_matrix[t],r=this.L_matrix[t],s=n[t].x,a=n[t].y,l=0,h=0,u=0;u<e.length;u++){var d=e[u];if(d!==t){var c=i[u],p=c[0],f=c[1],g=n[d].x,v=n[d].y,m=1/Math.sqrt(Math.pow(s-g,2)+Math.pow(a-v,2)),y=o[d]*(s-g-r[d]*(s-g)*m),b=o[d]*(a-v-r[d]*(a-v)*m);i[u]=[y,b],l+=y,h+=b;var w=this.E_sums[d];w[0]+=y-p,w[1]+=b-f}}this.E_sums[t]=[l,h]}}]),t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),o=r(n(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,i.default)(this,t)}return(0,o.default)(t,[{key:"getDistances",value:function(t,e,n){for(var i={},o=t.edges,r=0;r<e.length;r++){var s={};i[e[r]]=s;for(var a=0;a<e.length;a++)s[e[a]]=r==a?0:1e9}for(var l=0;l<n.length;l++){var h=o[n[l]];!0===h.connected&&void 0!==i[h.fromId]&&void 0!==i[h.toId]&&(i[h.fromId][h.toId]=1,i[h.toId][h.fromId]=1)}for(var u=e.length,d=0;d<u;d++)for(var c=e[d],p=i[c],f=0;f<u-1;f++)for(var g=e[f],v=i[g],m=f+1;m<u;m++){var y=e[m],b=i[y],w=Math.min(v[y],v[c]+p[y]);v[y]=w,b[g]=w}return i}}]),t}();e.default=s}])},t.exports=i()},h63A:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r="undefined"==typeof window?null:window,s=r?r.navigator:null,a=t(""),l=t({}),h=t(function(){}),u="undefined"==typeof HTMLElement?"undefined":t(HTMLElement),d=function(t){return t&&t.instanceString&&p(t.instanceString)?t.instanceString():null},c=function(e){return null!=e&&t(e)==a},p=function(e){return null!=e&&t(e)===h},f=function(t){return Array.isArray?Array.isArray(t):null!=t&&t instanceof Array},g=function(e){return null!=e&&t(e)===l&&!f(e)&&e.constructor===Object},v=function(e){return null!=e&&t(e)===t(1)&&!isNaN(e)},m=function(t){return"undefined"===u?void 0:null!=t&&t instanceof HTMLElement},y=function(t){return b(t)||w(t)},b=function(t){return"collection"===d(t)&&t._private.single},w=function(t){return"collection"===d(t)&&!t._private.single},x=function(t){return"core"===d(t)},_=function(t){return"stylesheet"===d(t)},E=function(t){return null==t||!(""!==t&&!t.match(/^\s+$/))},k=function(e){return function(e){return null!=e&&t(e)===l}(e)&&p(e.then)},S=function(){return s&&s.userAgent.match(/msie|trident|edge/i)},C=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var n=function n(){var i,o=arguments,r=e.apply(this,o),s=n.cache;return(i=s[r])||(i=s[r]=t.apply(this,o)),i};return n.cache={},n},T=C(function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),M=C(function(t){return t.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),D=C(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),O=function(t){return E(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},P="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",I=function(t,e){return t<e?-1:t>e?1:0},A=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var i=e[n];if(null!=i)for(var o=Object.keys(i),r=0;r<o.length;r++){var s=o[r];t[s]=i[s]}}return t},N=function(t){return(f(t)?t:null)||function(t){return R[t.toLowerCase()]}(t)||function(t){var e,n,i;if((4===t.length||7===t.length)&&"#"===t[0])return 4===t.length?(e=parseInt(t[1]+t[1],16),n=parseInt(t[2]+t[2],16),i=parseInt(t[3]+t[3],16)):(e=parseInt(t[1]+t[2],16),n=parseInt(t[3]+t[4],16),i=parseInt(t[5]+t[6],16)),[e,n,i]}(t)||function(t){var e,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(n){e=[];for(var i=[],o=1;o<=3;o++){var r=n[o];if("%"===r[r.length-1]&&(i[o]=!0),r=parseFloat(r),i[o]&&(r=r/100*255),r<0||r>255)return;e.push(Math.floor(r))}if((i[1]||i[2]||i[3])&&!(i[1]&&i[2]&&i[3]))return;var s=n[4];if(void 0!==s){if((s=parseFloat(s))<0||s>1)return;e.push(s)}}return e}(t)||function(t){var e,n,i,o,r,s,a,l;function h(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var u=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(u){if((n=parseInt(u[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(i=parseFloat(u[2]))<0||i>100)return;if(i/=100,(o=parseFloat(u[3]))<0||o>100)return;if(o/=100,void 0!==(r=u[4])&&((r=parseFloat(r))<0||r>1))return;if(0===i)s=a=l=Math.round(255*o);else{var d=o<.5?o*(1+i):o+i-o*i,c=2*o-d;s=Math.round(255*h(c,d,n+1/3)),a=Math.round(255*h(c,d,n)),l=Math.round(255*h(c,d,n-1/3))}e=[s,a,l,r]}return e}(t)},R={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L=function(t){for(var e=t.map,n=t.keys,i=n.length,o=0;o<i;o++){var r=n[o];if(g(r))throw Error("Tried to set map with object key");o<n.length-1?(null==e[r]&&(e[r]={}),e=e[r]):e[r]=t.value}},z=function(t){for(var e=t.map,n=t.keys,i=n.length,o=0;o<i;o++){var r=n[o];if(g(r))throw Error("Tried to get map with object key");if(null==(e=e[r]))return e}return e},B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},F=NaN,j="[object Symbol]",H=/^\s+|\s+$/g,V=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,U=/^0o[0-7]+$/i,Y=parseInt,G="object"==typeof B&&B&&B.Object===Object&&B,q="object"==typeof self&&self&&self.Object===Object&&self,X=G||q||Function("return this")(),K=Object.prototype.toString,Z=Math.max,Q=Math.min,J=function(){return X.Date.now()};function $(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function tt(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&K.call(t)==j}(t))return F;if($(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=$(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(H,"");var n=W.test(t);return n||U.test(t)?Y(t.slice(2),n?2:8):V.test(t)?F:+t}var et=function(t,e,n){var i,o,r,s,a,l,h=0,u=!1,d=!1,c=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,r=o;return i=o=void 0,h=e,s=t.apply(r,n)}function f(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-h>=r}function g(){var t=J();if(f(t))return v(t);a=setTimeout(g,function(t){var n=e-(t-l);return d?Q(n,r-(t-h)):n}(t))}function v(t){return a=void 0,c&&i?p(t):(i=o=void 0,s)}function m(){var t=J(),n=f(t);if(i=arguments,o=this,l=t,n){if(void 0===a)return function(t){return h=t,a=setTimeout(g,e),u?p(t):s}(l);if(d)return a=setTimeout(g,e),p(l)}return void 0===a&&(a=setTimeout(g,e)),s}return e=tt(e)||0,$(n)&&(u=!!n.leading,r=(d="maxWait"in n)?Z(tt(n.maxWait)||0,e):r,c="trailing"in n?!!n.trailing:c),m.cancel=function(){void 0!==a&&clearTimeout(a),h=0,i=l=o=a=void 0},m.flush=function(){return void 0===a?s:v(J())},m},nt=r?r.performance:null,it=nt&&nt.now?function(){return nt.now()}:function(){return Date.now()},ot=function(){if(r){if(r.requestAnimationFrame)return function(t){r.requestAnimationFrame(t)};if(r.mozRequestAnimationFrame)return function(t){r.mozRequestAnimationFrame(t)};if(r.webkitRequestAnimationFrame)return function(t){r.webkitRequestAnimationFrame(t)};if(r.msRequestAnimationFrame)return function(t){r.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(it())},1e3/60)}}(),rt=function(t){return ot(t)},st=it,at=function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;!(e=t.next()).done;)n=33*n^e.value;return n>>>0},lt=function(t){return(33*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381)^t)>>>0},ht=function(t,e){var n={value:0,done:!1},i=0,o=t.length;return at({next:function(){return i<o?n.value=t[i++]:n.done=!0,n}},e)},ut=function(t,e){var n={value:0,done:!1},i=0,o=t.length;return at({next:function(){return i<o?n.value=t.charCodeAt(i++):n.done=!0,n}},e)},dt=function(){return ct(arguments)},ct=function(t){for(var e,n=0;n<t.length;n++){var i=t[n];e=0===n?ut(i):ut(i,e)}return e},pt=!0,ft=null!=console.warn,gt=null!=console.trace,vt=Number.MAX_SAFE_INTEGER||9007199254740991,mt=function(){return!0},yt=function(){return!1},bt=function(){return 0},wt=function(){},xt=function(t){throw new Error(t)},_t=function(t){if(void 0===t)return pt;pt=!!t},Et=function(t){_t()&&(ft?console.warn(t):(console.log(t),gt&&console.trace()))},kt=function(t){return null==t?t:f(t)?t.slice():g(t)?function(t){return A({},t)}(t):t},St=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},Ct={},Tt=function(){return Ct},Mt=function(t){var e=Object.keys(t);return function(n){for(var i={},o=0;o<e.length;o++){var r=e[o],s=null==n?void 0:n[r];i[r]=void 0===s?t[r]:s}return i}},Dt=function(t,e,n){for(var i=t.length;i>=0&&(t[i]!==e||(t.splice(i,1),n));i--);},Ot=function(t){t.splice(0,t.length)},Pt=function(t,e,n){return n&&(e=D(n,e)),t[e]},It=function(t,e,n,i){n&&(e=D(n,e)),t[e]=i},At="undefined"!=typeof Map?Map:function(){function t(){e(this,t),this._obj={}}return i(t,[{key:"set",value:function(t,e){return this._obj[t]=e,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return void 0!==this._obj[t]}},{key:"get",value:function(t){return this._obj[t]}}]),t}(),Nt=function(){function t(n){if(e(this,t),this._obj=Object.create(null),this.size=0,null!=n){var i;i=null!=n.instanceString&&n.instanceString()===this.instanceString()?n.toArray():n;for(var o=0;o<i.length;o++)this.add(i[o])}}return i(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var e=this._obj;1!==e[t]&&(e[t]=1,this.size++)}},{key:"delete",value:function(t){var e=this._obj;1===e[t]&&(e[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(e){return t.has(e)})}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}}]),t}(),Rt="undefined"!==("undefined"==typeof Set?"undefined":t(Set))?Set:Nt,Lt=function(t,e,n){if(n=!(void 0!==n&&!n),void 0!==t&&void 0!==e&&x(t)){var i=e.group;if(null==i&&(i=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===i||"edges"===i){this.length=1,this[0]=this;var o=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,pannable:void 0===e.pannable?"edges"===i:!!e.pannable,active:!1,classes:new Rt,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null}};if(null==o.position.x&&(o.position.x=0),null==o.position.y&&(o.position.y=0),e.renderedPosition){var r=e.renderedPosition,s=t.pan(),a=t.zoom();o.position={x:(r.x-s.x)/a,y:(r.y-s.y)/a}}var l=[];f(e.classes)?l=e.classes:c(e.classes)&&(l=e.classes.split(/\s+/));for(var h=0,u=l.length;h<u;h++){var d=l[h];d&&""!==d&&o.classes.add(d)}this.createEmitter();var p=e.style||e.css;p&&(Et("Setting a `style` bypass at element creation is deprecated"),this.style(p)),(void 0===n||n)&&this.restore()}else xt("An element must be of type `nodes` or `edges`; you specified `"+i+"`")}else xt("An element must have a core reference and parameters set")},zt=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,n,i){var o;g(e)&&!y(e)&&(e=(o=e).roots||o.root,n=o.visit,i=o.directed),i=2!==arguments.length||p(n)?i:n,n=p(n)?n:function(){};for(var r,s=this._private.cy,a=e=c(e)?this.filter(e):e,l=[],h=[],u={},d={},f={},v=0,m=this.byGroup(),b=m.nodes,w=m.edges,x=0;x<a.length;x++){var _=a[x],E=_.id();_.isNode()&&(l.unshift(_),t.bfs&&(f[E]=!0,h.push(_)),d[E]=0)}var k=function(){var e=t.bfs?l.shift():l.pop(),o=e.id();if(t.dfs){if(f[o])return"continue";f[o]=!0,h.push(e)}var s,a=d[o],c=u[o],p=null!=c?c.source():null,g=null!=c?c.target():null,m=null==c?void 0:e.same(p)?g[0]:p[0];if(!0===(s=n(e,c,m,v++,a)))return r=e,"break";if(!1===s)return"break";for(var y=e.connectedEdges().filter(function(t){return(!i||t.source().same(e))&&w.has(t)}),x=0;x<y.length;x++){var _=y[x],E=_.connectedNodes().filter(function(t){return!t.same(e)&&b.has(t)}),k=E.id();0===E.length||f[k]||(l.push(E=E[0]),t.bfs&&(f[k]=!0,h.push(E)),u[k]=_,d[k]=d[o]+1)}};t:for(;0!==l.length;)switch(k()){case"continue":continue;case"break":break t}for(var S=s.collection(),C=0;C<h.length;C++){var T=h[C],M=u[T.id()];null!=M&&S.merge(M),S.merge(T)}return{path:s.collection(S),found:s.collection(r)}}},Bt={breadthFirstSearch:zt({bfs:!0}),depthFirstSearch:zt({dfs:!0})};Bt.bfs=Bt.breadthFirstSearch,Bt.dfs=Bt.depthFirstSearch;var Ft=function(t,e){return function(t,e){(function(){var e,n,i,o,r,s,a,l,h,u,d,c,p,f,g;i=Math.floor,u=Math.min,n=function(t,e){return t<e?-1:t>e?1:0},h=function(t,e,o,r,s){var a;if(null==o&&(o=0),null==s&&(s=n),o<0)throw new Error("lo must be non-negative");for(null==r&&(r=t.length);o<r;)s(e,t[a=i((o+r)/2)])<0?r=a:o=a+1;return[].splice.apply(t,[o,o-o].concat(e)),e},s=function(t,e,i){return null==i&&(i=n),t.push(e),f(t,0,t.length-1,i)},r=function(t,e){var i,o;return null==e&&(e=n),i=t.pop(),t.length?(o=t[0],t[0]=i,g(t,0,e)):o=i,o},l=function(t,e,i){var o;return null==i&&(i=n),o=t[0],t[0]=e,g(t,0,i),o},a=function(t,e,i){var o;return null==i&&(i=n),t.length&&i(t[0],e)<0&&(e=(o=[t[0],e])[0],t[0]=o[1],g(t,0,i)),e},o=function(t,e){var o,r,s,a,l;for(null==e&&(e=n),a=[],o=0,r=(s=(function(){l=[];for(var e=0,n=i(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)l.push(e);return l}).apply(this).reverse()).length;o<r;o++)a.push(g(t,s[o],e));return a},p=function(t,e,i){var o;if(null==i&&(i=n),-1!==(o=t.indexOf(e)))return f(t,0,o,i),g(t,o,i)},d=function(t,e,i){var r,s,l,h;if(null==i&&(i=n),!(r=t.slice(0,e)).length)return r;for(o(r,i),s=0,l=(h=t.slice(e)).length;s<l;s++)a(r,h[s],i);return r.sort(i).reverse()},c=function(t,e,i){var s,a,l,d,c,p,f,g,v;if(null==i&&(i=n),10*e<=t.length){if(!(l=t.slice(0,e).sort(i)).length)return l;for(a=l[l.length-1],d=0,p=(f=t.slice(e)).length;d<p;d++)i(s=f[d],a)<0&&(h(l,s,0,null,i),l.pop(),a=l[l.length-1]);return l}for(o(t,i),v=[],c=0,g=u(e,t.length);0<=g?c<g:c>g;0<=g?++c:--c)v.push(r(t,i));return v},f=function(t,e,i,o){var r,s,a;for(null==o&&(o=n),r=t[i];i>e&&o(r,s=t[a=i-1>>1])<0;)t[i]=s,i=a;return t[i]=r},g=function(t,e,i){var o,r,s,a,l;for(null==i&&(i=n),r=t.length,l=e,s=t[e],o=2*e+1;o<r;)(a=o+1)<r&&!(i(t[o],t[a])<0)&&(o=a),t[e]=t[o],o=2*(e=o)+1;return t[e]=s,f(t,l,e,i)},e=function(){function t(t){this.cmp=null!=t?t:n,this.nodes=[]}return t.push=s,t.pop=r,t.replace=l,t.pushpop=a,t.heapify=o,t.updateItem=p,t.nlargest=d,t.nsmallest=c,t.prototype.push=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pop=function(){return r(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return o(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return p(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),t.exports=e}).call(B)}(e={exports:{}}),e.exports}(),jt=Mt({root:null,weight:function(t){return 1},directed:!1}),Ht={dijkstra:function(t){if(!g(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var n=jt(t),i=n.root,o=n.weight,r=n.directed,s=this,a=o,l=c(i)?this.filter(i)[0]:i[0],h={},u={},d={},p=this.byGroup(),f=p.nodes,v=p.edges;v.unmergeBy(function(t){return t.isLoop()});for(var m=function(t){return h[t.id()]},y=function(t,e){h[t.id()]=e,b.updateItem(t)},b=new Ft(function(t,e){return m(t)-m(e)}),w=0;w<f.length;w++){var x=f[w];h[x.id()]=x.same(l)?0:1/0,b.push(x)}for(var _=function(t,e){for(var n,i=(r?t.edgesTo(e):t.edgesWith(e)).intersect(v),o=1/0,s=0;s<i.length;s++){var l=i[s],h=a(l);(h<o||!n)&&(o=h,n=l)}return{edge:n,dist:o}};b.size()>0;){var E=b.pop(),k=m(E),S=E.id();if(d[S]=k,k!==1/0)for(var C=E.neighborhood().intersect(f),T=0;T<C.length;T++){var M=C[T],D=M.id(),O=_(E,M),P=k+O.dist;P<m(M)&&(y(M,P),u[D]={node:E,edge:O.edge})}}return{distanceTo:function(t){var e=c(t)?f.filter(t)[0]:t[0];return d[e.id()]},pathTo:function(t){var e=c(t)?f.filter(t)[0]:t[0],n=[],i=e,o=i.id();if(e.length>0)for(n.unshift(e);u[o];){var r=u[o];n.unshift(r.edge),n.unshift(r.node),o=(i=r.node).id()}return s.spawn(n)}}}},Vt={kruskal:function(t){t=t||function(t){return 1};for(var e=this.byGroup(),n=e.nodes,i=e.edges,o=n.length,r=new Array(o),s=n,a=function(t){for(var e=0;e<r.length;e++)if(r[e].has(t))return e},l=0;l<o;l++)r[l]=this.spawn(n[l]);for(var h=i.sort(function(e,n){return t(e)-t(n)}),u=0;u<h.length;u++){var d=h[u],c=d.source()[0],p=d.target()[0],f=a(c),g=a(p),v=r[f],m=r[g];f!==g&&(s.merge(d),v.merge(m),r.splice(g,1))}return s}},Wt=Mt({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),Ut={aStar:function(t){var e=this.cy(),n=Wt(t),i=n.root,o=n.goal,r=n.heuristic,s=n.directed,a=n.weight;i=e.collection(i)[0],o=e.collection(o)[0];var l,h,u=i.id(),d=o.id(),c={},p={},f={},g=new Ft(function(t,e){return p[t.id()]-p[e.id()]}),v=new Rt,m={},y={},b=function(t,e){g.push(t),v.add(e)};b(i,u),c[u]=0,p[u]=r(i);for(var w=0;g.size()>0;){if(h=(l=g.pop()).id(),v.delete(h),w++,h===d){for(var x=[],_=o,E=d,k=y[E];x.unshift(_),null!=k&&x.unshift(k),null!=(_=m[E]);)k=y[E=_.id()];return{found:!0,distance:c[h],path:this.spawn(x),steps:w}}f[h]=!0;for(var S=l._private.edges,C=0;C<S.length;C++){var T=S[C];if(this.hasElementWithId(T.id())&&(!s||T.data("source")===h)){var M=T.source(),D=T.target(),O=M.id()!==h?M:D,P=O.id();if(this.hasElementWithId(P)&&!f[P]){var I=c[h]+a(T);v.has(P)?I<c[P]&&(c[P]=I,p[P]=I+r(O),m[P]=l):(c[P]=I,p[P]=I+r(O),b(O,P),m[P]=l,y[P]=T)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},Yt=Mt({weight:function(t){return 1},directed:!1}),Gt={floydWarshall:function(t){for(var e=this.cy(),n=Yt(t),i=n.directed,o=n.weight,r=this.byGroup(),s=r.nodes,a=r.edges,l=s.length,h=l*l,u=function(t){return s.indexOf(t)},d=function(t){return s[t]},p=new Array(h),f=0;f<h;f++){var g=f%l;p[f]=(f-g)/l===g?0:1/0}for(var v=new Array(h),m=new Array(h),y=0;y<a.length;y++){var b=a[y],w=b.source()[0],x=b.target()[0];if(w!==x){var _=u(w),E=u(x),k=_*l+E,S=o(b);if(p[k]>S&&(p[k]=S,v[k]=E,m[k]=b),!i){var C=E*l+_;!i&&p[C]>S&&(p[C]=S,v[C]=_,m[C]=b)}}}for(var T=0;T<l;T++)for(var M=0;M<l;M++)for(var D=M*l+T,O=0;O<l;O++){var P=M*l+O,I=T*l+O;p[D]+p[I]<p[P]&&(p[P]=p[D]+p[I],v[P]=v[D])}var A=function(t){return u(function(t){return(c(t)?e.filter(t):t)[0]}(t))};return{distance:function(t,e){var n=A(t),i=A(e);return p[n*l+i]},path:function(t,n){var i=A(t),o=A(n),r=d(i);if(i===o)return r.collection();if(null==v[i*l+o])return e.collection();var s=e.collection();for(s.merge(r);i!==o;)s.merge(m[i*l+(i=v[i*l+o])]),s.merge(d(i));return s}}}},qt=Mt({weight:function(t){return 1},directed:!1,root:null}),Xt={bellmanFord:function(t){var e=this,n=qt(t),i=n.directed,o=n.root,r=n.weight,s=this,a=this.cy(),l=this.byGroup(),h=l.edges,u=l.nodes,d=u.length,p=new At,f=!1;o=a.collection(o)[0],h.unmergeBy(function(t){return t.isLoop()});for(var g=h.length,v=function(t){var e=p.get(t.id());return e||(e={},p.set(t.id(),e)),e},m=function(t){return(c(t)?a.$(t):t)[0]},y=0;y<d;y++){var b=u[y],w=v(b);w.dist=b.same(o)?0:1/0,w.pred=null,w.edge=null}for(var x=!1,_=function(t,e,n,i,o,r){var s=i.dist+r;s<o.dist&&!n.same(i.edge)&&(o.dist=s,o.pred=t,o.edge=n,x=!0)},E=1;E<d;E++){x=!1;for(var k=0;k<g;k++){var S=h[k],C=S.source(),T=S.target(),M=r(S),D=v(C),O=v(T);_(C,0,S,D,O,M),i||_(T,0,S,O,D,M)}if(!x)break}if(x)for(var P=0;P<g;P++){var I=h[P],A=I.source(),N=I.target(),R=r(I),L=v(A).dist,z=v(N).dist;if(L+R<z||!i&&z+R<L){Et("Graph contains a negative weight cycle for Bellman-Ford"),f=!0;break}}return{distanceTo:function(t){return v(m(t)).dist},pathTo:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=[],r=m(t);;){if(null==r)return e.spawn();var a=v(r),l=a.edge,h=a.pred;if(i.unshift(r[0]),r.same(n)&&i.length>0)break;null!=l&&i.unshift(l),r=h}return s.spawn(i)},hasNegativeWeightCycle:f,negativeWeightCycles:[]}}},Kt=Math.sqrt(2),Zt=function(t,e,n){0===n.length&&xt("Karger-Stein must be run on a connected (sub)graph");for(var i=n[t],o=e[i[1]],r=e[i[2]],s=n,a=s.length-1;a>=0;a--){var l=s[a],h=l[1],u=l[2];(e[h]===o&&e[u]===r||e[h]===r&&e[u]===o)&&s.splice(a,1)}for(var d=0;d<s.length;d++){var c=s[d];c[1]===r?(s[d]=c.slice(),s[d][1]=o):c[2]===r&&(s[d]=c.slice(),s[d][2]=o)}for(var p=0;p<e.length;p++)e[p]===r&&(e[p]=o);return s},Qt=function(t,e,n,i){for(;n>i;){var o=Math.floor(Math.random()*e.length);e=Zt(o,t,e),n--}return e},Jt={kargerStein:function(){var t=this.byGroup(),e=t.nodes,n=t.edges;n.unmergeBy(function(t){return t.isLoop()});var i=e.length,o=n.length,r=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),s=Math.floor(i/Kt);if(!(i<2)){for(var a=[],l=0;l<o;l++){var h=n[l];a.push([l,e.indexOf(h.source()),e.indexOf(h.target())])}for(var u=1/0,d=[],c=new Array(i),p=new Array(i),f=new Array(i),g=function(t,e){for(var n=0;n<i;n++)e[n]=t[n]},v=0;v<=r;v++){for(var m=0;m<i;m++)p[m]=m;var y=Qt(p,a.slice(),i,s),b=y.slice();g(p,f);var w=Qt(p,y,s,2),x=Qt(f,b,s,2);w.length<=x.length&&w.length<u?(u=w.length,d=w,g(p,c)):x.length<=w.length&&x.length<u&&(u=x.length,d=x,g(f,c))}for(var _=this.spawn(d.map(function(t){return n[t[0]]})),E=this.spawn(),k=this.spawn(),S=c[0],C=0;C<c.length;C++){var T=e[C];c[C]===S?E.merge(T):k.merge(T)}return{cut:_,partition1:E,partition2:k}}xt("At least 2 nodes are required for Karger-Stein algorithm")}},$t=function(t,e,n){return{x:t.x*e+n.x,y:t.y*e+n.y}},te=function(t,e,n){return{x:(t.x-n.x)/e,y:(t.y-n.y)/e}},ee=function(t){return{x:t[0],y:t[1]}},ne=function(t,e){return Math.atan2(e,t)-Math.PI/2},ie=Math.log2||function(t){return Math.log(t)/Math.log(2)},oe=function(t){return t>0?1:t<0?-1:0},re=function(t,e){return Math.sqrt(se(t,e))},se=function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},ae=function(t){for(var e=t.length,n=0,i=0;i<e;i++)n+=t[i];for(var o=0;o<e;o++)t[o]=t[o]/n;return t},le=function(t,e,n,i){return(1-i)*(1-i)*t+2*(1-i)*i*e+i*i*n},he=function(t,e,n,i){return{x:le(t.x,e.x,n.x,i),y:le(t.y,e.y,n.y,i)}},ue=function(t,e,n){return Math.max(t,Math.min(n,e))},de=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},ce=function(t,e){t.x1=Math.min(t.x1,e.x1),t.x2=Math.max(t.x2,e.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,e.y1),t.y2=Math.max(t.y2,e.y2),t.h=t.y2-t.y1},pe=function(t,e,n){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},fe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},ge=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},ve=function(t,e){t.x1+=e.x,t.x2+=e.x,t.y1+=e.y,t.y2+=e.y},me=function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},ye=function(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2},be=function(t,e){return ye(t,e.x,e.y)},we=function(t,e){return ye(t,e.x1,e.y1)&&ye(t,e.x2,e.y2)},xe=function(t,e,n,i,o,r,s){var a,l=Fe(o,r),h=o/2,u=r/2,d=i-u-s;if((a=Ae(t,e,n,i,n-h+l-s,d,n+h-l+s,d,!1)).length>0)return a;var c=n+h+s;if((a=Ae(t,e,n,i,c,i-u+l-s,c,i+u-l+s,!1)).length>0)return a;var p=i+u+s;if((a=Ae(t,e,n,i,n-h+l-s,p,n+h-l+s,p,!1)).length>0)return a;var f,g=n-h-s;if((a=Ae(t,e,n,i,g,i-u+l-s,g,i+u-l+s,!1)).length>0)return a;var v=n-h+l,m=i-u+l;if((f=Pe(t,e,n,i,v,m,l+s)).length>0&&f[0]<=v&&f[1]<=m)return[f[0],f[1]];var y=n+h-l,b=i-u+l;if((f=Pe(t,e,n,i,y,b,l+s)).length>0&&f[0]>=y&&f[1]<=b)return[f[0],f[1]];var w=n+h-l,x=i+u-l;if((f=Pe(t,e,n,i,w,x,l+s)).length>0&&f[0]>=w&&f[1]>=x)return[f[0],f[1]];var _=n-h+l,E=i+u-l;return(f=Pe(t,e,n,i,_,E,l+s)).length>0&&f[0]<=_&&f[1]>=E?[f[0],f[1]]:[]},_e=function(t,e,n,i,o,r,s){var a=s,l=Math.min(n,o),h=Math.max(n,o),u=Math.min(i,r),d=Math.max(i,r);return l-a<=t&&t<=h+a&&u-a<=e&&e<=d+a},Ee=function(t,e,n,i,o,r,s,a,l){var h=Math.min(n,s,o)-l,u=Math.max(n,s,o)+l,d=Math.min(i,a,r)-l,c=Math.max(i,a,r)+l;return!(t<h||t>u||e<d||e>c)},ke=function(t,e,n,i,o,r,s,a){var l=[];!function(t,e,n,i,o){var r,s,a,l,h,u,d,c;a=-27*(i/=t)+(e/=t)*(9*(n/=t)-e*e*2),r=(s=(3*n-e*e)/9)*s*s+(a/=54)*a,o[1]=0,d=e/3,r>0?(h=(h=a+Math.sqrt(r))<0?-Math.pow(-h,1/3):Math.pow(h,1/3),u=(u=a-Math.sqrt(r))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),o[0]=-d+h+u,o[4]=o[2]=-(d+=(h+u)/2),d=Math.sqrt(3)*(-u+h)/2,o[3]=d,o[5]=-d):(o[5]=o[3]=0,0===r?(c=a<0?-Math.pow(-a,1/3):Math.pow(a,1/3),o[0]=2*c-d,o[4]=o[2]=-(c+d)):(l=(s=-s)*s*s,l=Math.acos(a/Math.sqrt(l)),c=2*Math.sqrt(s),o[0]=-d+c*Math.cos(l/3),o[2]=-d+c*Math.cos((l+2*Math.PI)/3),o[4]=-d+c*Math.cos((l+4*Math.PI)/3)))}(1*n*n-4*n*o+2*n*s+4*o*o-4*o*s+s*s+i*i-4*i*r+2*i*a+4*r*r-4*r*a+a*a,9*n*o-3*n*n-3*n*s-6*o*o+3*o*s+9*i*r-3*i*i-3*i*a-6*r*r+3*r*a,3*n*n-6*n*o+n*s-n*t+2*o*o+2*o*t-s*t+3*i*i-6*i*r+i*a-i*e+2*r*r+2*r*e-a*e,1*n*o-n*n+n*t-o*t+i*r-i*i+i*e-r*e,l);for(var h=[],u=0;u<6;u+=2)Math.abs(l[u+1])<1e-7&&l[u]>=0&&l[u]<=1&&h.push(l[u]);h.push(1),h.push(0);for(var d,c,p,f=-1,g=0;g<h.length;g++)d=Math.pow(1-h[g],2)*n+2*(1-h[g])*h[g]*o+h[g]*h[g]*s,c=Math.pow(1-h[g],2)*i+2*(1-h[g])*h[g]*r+h[g]*h[g]*a,p=Math.pow(d-t,2)+Math.pow(c-e,2),f>=0?p<f&&(f=p):f=p;return f},Se=function(t,e,n,i,o,r){var s=[t-n,e-i],a=[o-n,r-i],l=a[0]*a[0]+a[1]*a[1],h=s[0]*s[0]+s[1]*s[1],u=s[0]*a[0]+s[1]*a[1],d=u*u/l;return u<0?h:d>l?(t-o)*(t-o)+(e-r)*(e-r):h-d},Ce=function(t,e,n){for(var i,o,r,s,a=0,l=0;l<n.length/2;l++)if(o=n[2*l+1],l+1<n.length/2?(r=n[2*(l+1)],s=n[2*(l+1)+1]):(r=n[2*(l+1-n.length/2)],s=n[2*(l+1-n.length/2)+1]),(i=n[2*l])==t&&r==t);else{if(!(i>=t&&t>=r||i<=t&&t<=r))continue;(t-i)/(r-i)*(s-o)+o>e&&a++}return a%2!=0},Te=function(t,e,n,i,o,r,s,a,l){var h,u=new Array(n.length);null!=a[0]?(h=Math.atan(a[1]/a[0]),a[0]<0?h+=Math.PI/2:h=-h-Math.PI/2):h=a;for(var d,c=Math.cos(-h),p=Math.sin(-h),f=0;f<u.length/2;f++)u[2*f]=r/2*(n[2*f]*c-n[2*f+1]*p),u[2*f+1]=s/2*(n[2*f+1]*c+n[2*f]*p),u[2*f]+=i,u[2*f+1]+=o;if(l>0){var g=De(u,-l);d=Me(g)}else d=u;return Ce(t,e,d)},Me=function(t){for(var e,n,i,o,r=new Array(t.length/2),s=0;s<t.length/4;s++){s<t.length/4-1?(e=t[4*(s+1)],n=t[4*(s+1)+1],i=t[4*(s+1)+2],o=t[4*(s+1)+3]):(e=t[0],n=t[1],i=t[2],o=t[3]);var a=Ae(t[4*s],t[4*s+1],t[4*s+2],t[4*s+3],e,n,i,o,!0);r[2*s]=a[0],r[2*s+1]=a[1]}return r},De=function(t,e){for(var n,i,o,r,s=new Array(2*t.length),a=0;a<t.length/2;a++){a<t.length/2-1?(o=t[2*(a+1)],r=t[2*(a+1)+1]):(o=t[0],r=t[1]);var l=r-(i=t[2*a+1]),h=-(o-(n=t[2*a])),u=Math.sqrt(l*l+h*h),d=l/u,c=h/u;s[4*a]=n+d*e,s[4*a+1]=i+c*e,s[4*a+2]=o+d*e,s[4*a+3]=r+c*e}return s},Oe=function(t,e,n,i,o,r,s){return t-=o,e-=r,(t/=n/2+s)*t+(e/=i/2+s)*e<=1},Pe=function(t,e,n,i,o,r,s){var a=[n-t,i-e],l=[t-o,e-r],h=a[0]*a[0]+a[1]*a[1],u=2*(l[0]*a[0]+l[1]*a[1]),d=u*u-4*h*(l[0]*l[0]+l[1]*l[1]-s*s);if(d<0)return[];var c=(-u+Math.sqrt(d))/(2*h),p=(-u-Math.sqrt(d))/(2*h),f=Math.min(c,p),g=Math.max(c,p),v=[];if(f>=0&&f<=1&&v.push(f),g>=0&&g<=1&&v.push(g),0===v.length)return[];var m=v[0]*a[0]+t,y=v[0]*a[1]+e;return v.length>1?v[0]==v[1]?[m,y]:[m,y,v[1]*a[0]+t,v[1]*a[1]+e]:[m,y]},Ie=function(t,e,n){return e<=t&&t<=n||n<=t&&t<=e?t:t<=e&&e<=n||n<=e&&e<=t?e:n},Ae=function(t,e,n,i,o,r,s,a,l){var h=t-o,u=n-t,d=s-o,c=e-r,p=i-e,f=a-r,g=d*c-f*h,v=u*c-p*h,m=f*u-d*p;if(0!==m){var y=g/m,b=v/m;return-.001<=y&&y<=1.001&&-.001<=b&&b<=1.001?[t+y*u,e+y*p]:l?[t+y*u,e+y*p]:[]}return 0===g||0===v?Ie(t,n,s)===s?[s,a]:Ie(t,n,o)===o?[o,r]:Ie(o,s,n)===n?[n,i]:[]:[]},Ne=function(t,e,n,i,o,r,s,a){var l,h,u,d,c=[],p=new Array(n.length),f=!0;if(null==r&&(f=!1),f){for(var g=0;g<p.length/2;g++)p[2*g]=n[2*g]*r+i,p[2*g+1]=n[2*g+1]*s+o;if(a>0){var v=De(p,-a);h=Me(v)}else h=p}else h=n;for(var m=0;m<h.length/2;m++)m<h.length/2-1?(u=h[2*(m+1)],d=h[2*(m+1)+1]):(u=h[0],d=h[1]),0!==(l=Ae(t,e,i,o,h[2*m],h[2*m+1],u,d)).length&&c.push(l[0],l[1]);return c},Re=function(t,e,n){var i=[t[0]-e[0],t[1]-e[1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),r=(o-n)/o;return r<0&&(r=1e-5),[e[0]+r*i[0],e[1]+r*i[1]]},Le=function(t,e){var n=Be(t,e);return ze(n)},ze=function(t){for(var e,n,i=t.length/2,o=1/0,r=1/0,s=-1/0,a=-1/0,l=0;l<i;l++)e=t[2*l],n=t[2*l+1],o=Math.min(o,e),s=Math.max(s,e),r=Math.min(r,n),a=Math.max(a,n);for(var h=2/(s-o),u=2/(a-r),d=0;d<i;d++)e=t[2*d]=t[2*d]*h,n=t[2*d+1]=t[2*d+1]*u,o=Math.min(o,e),s=Math.max(s,e),r=Math.min(r,n),a=Math.max(a,n);if(r<-1)for(var c=0;c<i;c++)n=t[2*c+1]=t[2*c+1]+(-1-r);return t},Be=function(t,e){var n=1/t*2*Math.PI,i=t%2==0?Math.PI/2+n/2:Math.PI/2;i+=e;for(var o,r=new Array(2*t),s=0;s<t;s++)o=s*n+i,r[2*s]=Math.cos(o),r[2*s+1]=Math.sin(-o);return r},Fe=function(t,e){return Math.min(t/4,e/4,8)},je=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},He=Mt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),Ve={pageRank:function(t){for(var e=He(t),n=e.dampingFactor,i=e.precision,o=e.iterations,r=e.weight,s=this._private.cy,a=this.byGroup(),l=a.nodes,h=a.edges,u=l.length,d=h.length,c=new Array(u*u),p=new Array(u),f=(1-n)/u,g=0;g<u;g++){for(var v=0;v<u;v++)c[g*u+v]=0;p[g]=0}for(var m=0;m<d;m++){var y=h[m],b=y.data("source"),w=y.data("target");if(b!==w){var x=l.indexOfId(b),_=l.indexOfId(w),E=r(y);c[_*u+x]+=E,p[x]+=E}}for(var k=1/u+f,S=0;S<u;S++)if(0===p[S])for(var C=0;C<u;C++)c[C*u+S]=k;else for(var T=0;T<u;T++){var M=T*u+S;c[M]=c[M]/p[S]+f}for(var D,O=new Array(u),P=new Array(u),I=0;I<u;I++)O[I]=1;for(var A=0;A<o;A++){for(var N=0;N<u;N++)P[N]=0;for(var R=0;R<u;R++)for(var L=0;L<u;L++)P[R]+=c[R*u+L]*O[L];ae(P),D=O,O=P,P=D;for(var z=0,B=0;B<u;B++){var F=D[B]-O[B];z+=F*F}if(z<i)break}return{rank:function(t){return t=s.collection(t)[0],O[l.indexOf(t)]}}}},We=Mt({root:null,weight:function(t){return 1},directed:!1,alpha:0}),Ue={degreeCentralityNormalized:function(t){t=We(t);var e=this.cy(),n=this.nodes(),i=n.length;if(t.directed){for(var o={},r={},s=0,a=0,l=0;l<i;l++){var h=n[l],u=h.id();t.root=h;var d=this.degreeCentrality(t);s<d.indegree&&(s=d.indegree),a<d.outdegree&&(a=d.outdegree),o[u]=d.indegree,r[u]=d.outdegree}return{indegree:function(t){return 0==s?0:(c(t)&&(t=e.filter(t)),o[t.id()]/s)},outdegree:function(t){return 0===a?0:(c(t)&&(t=e.filter(t)),r[t.id()]/a)}}}for(var p={},f=0,g=0;g<i;g++){var v=n[g];t.root=v;var m=this.degreeCentrality(t);f<m.degree&&(f=m.degree),p[v.id()]=m.degree}return{degree:function(t){return 0===f?0:(c(t)&&(t=e.filter(t)),p[t.id()]/f)}}},degreeCentrality:function(t){t=We(t);var e=this.cy(),n=this,i=t.root,o=t.weight,r=t.directed,s=t.alpha;if(i=e.collection(i)[0],r){for(var a=i.connectedEdges(),l=a.filter(function(t){return t.target().same(i)&&n.has(t)}),h=a.filter(function(t){return t.source().same(i)&&n.has(t)}),u=l.length,d=h.length,c=0,p=0,f=0;f<l.length;f++)c+=o(l[f]);for(var g=0;g<h.length;g++)p+=o(h[g]);return{indegree:Math.pow(u,1-s)*Math.pow(c,s),outdegree:Math.pow(d,1-s)*Math.pow(p,s)}}for(var v=i.connectedEdges().intersection(n),m=v.length,y=0,b=0;b<v.length;b++)y+=o(v[b]);return{degree:Math.pow(m,1-s)*Math.pow(y,s)}}};Ue.dc=Ue.degreeCentrality,Ue.dcn=Ue.degreeCentralityNormalised=Ue.degreeCentralityNormalized;var Ye=Mt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ge={closenessCentralityNormalized:function(t){for(var e=Ye(t),n=e.harmonic,i=e.weight,o=e.directed,r=this.cy(),s={},a=0,l=this.nodes(),h=this.floydWarshall({weight:i,directed:o}),u=0;u<l.length;u++){for(var d=0,p=l[u],f=0;f<l.length;f++)if(u!==f){var g=h.distance(p,l[f]);d+=n?1/g:g}n||(d=1/d),a<d&&(a=d),s[p.id()]=d}return{closeness:function(t){return 0==a?0:(t=c(t)?r.filter(t)[0].id():t.id(),s[t]/a)}}},closenessCentrality:function(t){var e=Ye(t),n=e.root,i=e.weight,o=e.directed,r=e.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:o}),a=0,l=this.nodes(),h=0;h<l.length;h++){var u=l[h];if(!u.same(n)){var d=s.distanceTo(u);a+=r?1/d:d}}return r?a:1/a}};Ge.cc=Ge.closenessCentrality,Ge.ccn=Ge.closenessCentralityNormalised=Ge.closenessCentralityNormalized;var qe=Mt({weight:null,directed:!1}),Xe={betweennessCentrality:function(t){for(var e=qe(t),n=e.directed,i=e.weight,o=null!=i,r=this.cy(),s=this.nodes(),a={},l={},h=0,u=function(t,e){l[t]=e,e>h&&(h=e)},d=function(t){return l[t]},c=0;c<s.length;c++){var p=s[c],f=p.id();a[f]=n?p.outgoers().nodes():p.openNeighborhood().nodes(),u(f,0)}for(var g=function(t){for(var e=s[t].id(),n=[],l={},h={},c={},p=new Ft(function(t,e){return c[t]-c[e]}),f=0;f<s.length;f++){var g=s[f].id();l[g]=[],h[g]=0,c[g]=1/0}for(h[e]=1,c[e]=0,p.push(e);!p.empty();){var v=p.pop();if(n.push(v),o)for(var m=0;m<a[v].length;m++){var y,b=a[v][m],w=r.getElementById(v);y=w.edgesTo(b).length>0?w.edgesTo(b)[0]:b.edgesTo(w)[0];var x=i(y);b=b.id(),c[b]>c[v]+x&&(c[b]=c[v]+x,p.nodes.indexOf(b)<0?p.push(b):p.updateItem(b),h[b]=0,l[b]=[]),c[b]==c[v]+x&&(h[b]=h[b]+h[v],l[b].push(v))}else for(var _=0;_<a[v].length;_++){var E=a[v][_].id();c[E]==1/0&&(p.push(E),c[E]=c[v]+1),c[E]==c[v]+1&&(h[E]=h[E]+h[v],l[E].push(v))}}for(var k={},S=0;S<s.length;S++)k[s[S].id()]=0;for(;n.length>0;)for(var C=n.pop(),T=0;T<l[C].length;T++){var M=l[C][T];k[M]=k[M]+h[M]/h[C]*(1+k[C]),C!=s[t].id()&&u(C,d(C)+k[C])}},v=0;v<s.length;v++)g(v);var m={betweenness:function(t){var e=r.collection(t).id();return d(e)},betweennessNormalized:function(t){if(0==h)return 0;var e=r.collection(t).id();return d(e)/h}};return m.betweennessNormalised=m.betweennessNormalized,m}};Xe.bc=Xe.betweennessCentrality;var Ke=Mt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Ze=function(t,e){for(var n=0,i=0;i<e.length;i++)n+=e[i](t);return n},Qe=function(t,e){for(var n,i=0;i<e;i++){n=0;for(var o=0;o<e;o++)n+=t[o*e+i];for(var r=0;r<e;r++)t[r*e+i]=t[r*e+i]/n}},Je=function(t,e,n){for(var i=new Array(n*n),o=0;o<n;o++){for(var r=0;r<n;r++)i[o*n+r]=0;for(var s=0;s<n;s++)for(var a=0;a<n;a++)i[o*n+a]+=t[o*n+s]*e[s*n+a]}return i},$e=function(t,e,n){for(var i=t.slice(0),o=1;o<n;o++)t=Je(t,i,e);return t},tn=function(t,e,n){for(var i=new Array(e*e),o=0;o<e*e;o++)i[o]=Math.pow(t[o],n);return Qe(i,e),i},en=function(t,e,n,i){for(var o=0;o<n;o++)if(Math.round(t[o]*Math.pow(10,i))/Math.pow(10,i)!=Math.round(e[o]*Math.pow(10,i))/Math.pow(10,i))return!1;return!0},nn=function(t,e){for(var n=0;n<t.length;n++)if(!e[n]||t[n].id()!==e[n].id())return!1;return!0},on=function(t){for(var e=this.nodes(),n=this.edges(),i=this.cy(),o=function(t){return Ke(t)}(t),r={},s=0;s<e.length;s++)r[e[s].id()]=s;for(var a,l=e.length,h=l*l,u=new Array(h),d=0;d<h;d++)u[d]=0;for(var c=0;c<n.length;c++){var p=n[c],f=r[p.source().id()],g=r[p.target().id()],v=Ze(p,o.attributes);u[f*l+g]+=v,u[g*l+f]+=v}!function(t,e,n){for(var i=0;i<e;i++)t[i*e+i]=n}(u,l,o.multFactor),Qe(u,l);for(var m=!0,y=0;m&&y<o.maxIterations;)m=!1,a=$e(u,l,o.expandFactor),u=tn(a,l,o.inflateFactor),en(u,a,h,4)||(m=!0),y++;return function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t.length;n++)e!=n&&nn(t[e],t[n])&&t.splice(n,1);return t}(function(t,e,n,i){for(var o=[],r=0;r<e;r++){for(var s=[],a=0;a<e;a++)Math.round(1e3*t[r*e+a])/1e3>0&&s.push(n[a]);0!==s.length&&o.push(i.collection(s))}return o}(u,l,e,i))},rn={markovClustering:on,mcl:on},sn=function(t){return t},an=function(t,e){return Math.abs(e-t)},ln=function(t,e,n){return t+an(e,n)},hn=function(t,e,n){return t+Math.pow(n-e,2)},un=function(t){return Math.sqrt(t)},dn=function(t,e,n){return Math.max(t,an(e,n))},cn=function(t,e,n,i,o){for(var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sn,s=i,a=0;a<t;a++)s=o(s,e(a),n(a));return r(s)},pn={euclidean:function(t,e,n){return t>=2?cn(t,e,n,0,hn,un):cn(t,e,n,0,ln)},squaredEuclidean:function(t,e,n){return cn(t,e,n,0,hn)},manhattan:function(t,e,n){return cn(t,e,n,0,ln)},max:function(t,e,n){return cn(t,e,n,-1/0,dn)}};function fn(t,e,n,i,o,r){var s;return s=p(t)?t:pn[t]||pn.euclidean,0===e&&p(t)?s(o,r):s(e,n,i,o,r)}pn["squared-euclidean"]=pn.squaredEuclidean,pn.squaredeuclidean=pn.squaredEuclidean;var gn=Mt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),vn=function(t){return gn(t)},mn=function(t,e,n,i,o){var r="kMedoids"!==o?function(t){return n[t]}:function(t){return i[t](n)};return fn(t,i.length,r,function(t){return i[t](e)},n,e)},yn=function(t,e,n){for(var i=n.length,o=new Array(i),r=new Array(i),s=new Array(e),a=null,l=0;l<i;l++)o[l]=t.min(n[l]).value,r[l]=t.max(n[l]).value;for(var h=0;h<e;h++){a=[];for(var u=0;u<i;u++)a[u]=Math.random()*(r[u]-o[u])+o[u];s[h]=a}return s},bn=function(t,e,n,i,o){for(var r=1/0,s=0,a=0;a<e.length;a++){var l=mn(n,t,e[a],i,o);l<r&&(r=l,s=a)}return s},wn=function(t,e,n){for(var i=[],o=null,r=0;r<e.length;r++)n[(o=e[r]).id()]===t&&i.push(o);return i},xn=function(t,e,n){for(var i=0;i<t.length;i++)for(var o=0;o<t[i].length;o++)if(Math.abs(t[i][o]-e[i][o])>n)return!1;return!0},_n=function(t,e,n){for(var i=0;i<n;i++)if(t===e[i])return!0;return!1},En=function(t,e){var n=new Array(e);if(t.length<50)for(var i=0;i<e;i++){for(var o=t[Math.floor(Math.random()*t.length)];_n(o,n,i);)o=t[Math.floor(Math.random()*t.length)];n[i]=o}else for(var r=0;r<e;r++)n[r]=t[Math.floor(Math.random()*t.length)];return n},kn=function(t,e,n){for(var i=0,o=0;o<e.length;o++)i+=mn("manhattan",e[o],t,n,"kMedoids");return i},Sn=function(t,e,n,i,o){for(var r,s,a=0;a<e.length;a++)for(var l=0;l<t.length;l++)i[a][l]=Math.pow(n[a][l],o.m);for(var h=0;h<t.length;h++)for(var u=0;u<o.attributes.length;u++){r=0,s=0;for(var d=0;d<e.length;d++)r+=i[d][h]*o.attributes[u](e[d]),s+=i[d][h];t[h][u]=r/s}},Cn=function(t,e,n,i,o){for(var r=0;r<t.length;r++)e[r]=t[r].slice();for(var s,a,l,h=2/(o.m-1),u=0;u<n.length;u++)for(var d=0;d<i.length;d++){s=0;for(var c=0;c<n.length;c++)a=mn(o.distance,i[d],n[u],o.attributes,"cmeans"),l=mn(o.distance,i[d],n[c],o.attributes,"cmeans"),s+=Math.pow(a/l,h);t[d][u]=1/s}},Tn=function(t){var e,n,i,o,r=this.cy(),s=this.nodes(),a=vn(t);i=new Array(s.length);for(var l=0;l<s.length;l++)i[l]=new Array(a.k);n=new Array(s.length);for(var h=0;h<s.length;h++)n[h]=new Array(a.k);for(var u=0;u<s.length;u++){for(var d=0,c=0;c<a.k;c++)n[u][c]=Math.random(),d+=n[u][c];for(var p=0;p<a.k;p++)n[u][p]=n[u][p]/d}e=new Array(a.k);for(var f=0;f<a.k;f++)e[f]=new Array(a.attributes.length);o=new Array(s.length);for(var g=0;g<s.length;g++)o[g]=new Array(a.k);for(var v=!0,m=0;v&&m<a.maxIterations;)v=!1,Sn(e,s,n,o,a),Cn(n,i,e,s,a),xn(n,i,a.sensitivityThreshold)||(v=!0),m++;return{clusters:function(t,e,n,i){for(var o,r,s=new Array(n.k),a=0;a<s.length;a++)s[a]=[];for(var l=0;l<e.length;l++){o=-1/0,r=-1;for(var h=0;h<e[0].length;h++)e[l][h]>o&&(o=e[l][h],r=h);s[r].push(t[l])}for(var u=0;u<s.length;u++)s[u]=i.collection(s[u]);return s}(s,n,a,r),degreeOfMembership:n}},Mn={kMeans:function(e){var n,i=this.cy(),o=this.nodes(),r=null,s=vn(e),a=new Array(s.k),l={};n=s.testMode?"number"==typeof s.testCentroids?yn(o,s.k,s.attributes):"object"===t(s.testCentroids)?s.testCentroids:yn(o,s.k,s.attributes):yn(o,s.k,s.attributes);for(var h,u=!0,d=0;u&&d<s.maxIterations;){for(var c=0;c<o.length;c++)l[(r=o[c]).id()]=bn(r,n,s.distance,s.attributes,"kMeans");u=!1;for(var p=0;p<s.k;p++){var f=wn(p,o,l);if(0!==f.length){for(var g=s.attributes.length,v=n[p],m=new Array(g),y=new Array(g),b=0;b<g;b++){y[b]=0;for(var w=0;w<f.length;w++)y[b]+=s.attributes[b](r=f[w]);m[b]=y[b]/f.length,h=s.sensitivityThreshold,Math.abs(v[b]-m[b])<=h||(u=!0)}n[p]=m,a[p]=i.collection(f)}}d++}return a},kMedoids:function(e){var n,i,o=this.cy(),r=this.nodes(),s=null,a=vn(e),l=new Array(a.k),h={},u=new Array(a.k);a.testMode?"number"==typeof a.testCentroids||(n="object"===t(a.testCentroids)?a.testCentroids:En(r,a.k)):n=En(r,a.k);for(var d=!0,c=0;d&&c<a.maxIterations;){for(var p=0;p<r.length;p++)h[(s=r[p]).id()]=bn(s,n,a.distance,a.attributes,"kMedoids");d=!1;for(var f=0;f<n.length;f++){var g=wn(f,r,h);if(0!==g.length){u[f]=kn(n[f],g,a.attributes);for(var v=0;v<g.length;v++)(i=kn(g[v],g,a.attributes))<u[f]&&(u[f]=i,n[f]=g[v],d=!0);l[f]=o.collection(g)}}c++}return l},fuzzyCMeans:Tn,fcm:Tn},Dn=Mt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),On={single:"min",complete:"max"},Pn=function(t,e,n,i,o){for(var r,s=0,a=1/0,l=o.attributes,h=function(t,e){return fn(o.distance,l.length,function(e){return l[e](t)},function(t){return l[t](e)},t,e)},u=0;u<t.length;u++){var d=t[u].key,c=n[d][i[d]];c<a&&(s=d,a=c)}if("threshold"===o.mode&&a>=o.threshold||"dendrogram"===o.mode&&1===t.length)return!1;var p,f=e[s],g=e[i[s]];p="dendrogram"===o.mode?{left:f,right:g,key:f.key}:{value:f.value.concat(g.value),key:f.key},t[f.index]=p,t.splice(g.index,1),e[f.key]=p;for(var v=0;v<t.length;v++){var m=t[v];f.key===m.key?r=1/0:"min"===o.linkage?(r=n[f.key][m.key],n[f.key][m.key]>n[g.key][m.key]&&(r=n[g.key][m.key])):"max"===o.linkage?(r=n[f.key][m.key],n[f.key][m.key]<n[g.key][m.key]&&(r=n[g.key][m.key])):r="mean"===o.linkage?(n[f.key][m.key]*f.size+n[g.key][m.key]*g.size)/(f.size+g.size):"dendrogram"===o.mode?h(m.value,f.value):h(m.value[0],f.value[0]),n[f.key][m.key]=n[m.key][f.key]=r}for(var y=0;y<t.length;y++){var b=t[y].key;if(i[b]===f.key||i[b]===g.key){for(var w=b,x=0;x<t.length;x++){var _=t[x].key;n[b][_]<n[b][w]&&(w=_)}i[b]=w}t[y].index=y}return f.key=g.key=f.index=g.index=null,!0},In=function t(e,n,i){e&&(e.value?n.push(e.value):(e.left&&t(e.left,n,i),e.right&&t(e.right,n,i)))},An=function(t){for(var e=this.cy(),n=this.nodes(),i=function(t){var e=Dn(t),n=On[e.linkage];return null!=n&&(e.linkage=n),e}(t),o=i.attributes,r=function(t,e){return fn(i.distance,o.length,function(e){return o[e](t)},function(t){return o[t](e)},t,e)},s=[],a=[],l=[],h=[],u=0;u<n.length;u++){var d={value:"dendrogram"===i.mode?n[u]:[n[u]],key:u,index:u};s[u]=d,h[u]=d,a[u]=[],l[u]=0}for(var c=0;c<s.length;c++)for(var p=0;p<=c;p++){var f;f="dendrogram"===i.mode?c===p?1/0:r(s[c].value,s[p].value):c===p?1/0:r(s[c].value[0],s[p].value[0]),a[c][p]=f,a[p][c]=f,f<a[c][l[c]]&&(l[c]=p)}for(var g,v=Pn(s,h,a,l,i);v;)v=Pn(s,h,a,l,i);return"dendrogram"===i.mode?(g=function t(e,n,i){if(!e)return[];var o=[],r=[],s=[];return 0===n?(e.left&&In(e.left,o,i),e.right&&In(e.right,r,i),s=o.concat(r),[i.collection(s)]):1===n?e.value?[i.collection(e.value)]:(e.left&&In(e.left,o,i),e.right&&In(e.right,r,i),[i.collection(o),i.collection(r)]):e.value?[i.collection(e.value)]:(e.left&&(o=t(e.left,n-1,i)),e.right&&(r=t(e.right,n-1,i)),o.concat(r))}(s[0],i.dendrogramDepth,e),i.addDendrogram&&function t(e,n){if(!e)return"";if(e.left&&e.right){var i=t(e.left,n),o=t(e.right,n),r=n.add({group:"nodes",data:{id:i+","+o}});return n.add({group:"edges",data:{source:i,target:r.id()}}),n.add({group:"edges",data:{source:o,target:r.id()}}),r.id()}return e.value?e.value.id():void 0}(s[0],e)):(g=new Array(s.length),s.forEach(function(t,n){t.key=t.index=null,g[n]=e.collection(t.value)})),g},Nn={hierarchicalClustering:An,hca:An},Rn=Mt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Ln=function(t,e,n,i){var o=function(t,e){return i[e](t)};return-fn(t,i.length,function(t){return o(e,t)},function(t){return o(n,t)},e,n)},zn=function(t,e,n){for(var i=[],o=0;o<t;o++){for(var r=-1,s=-1/0,a=0;a<n.length;a++){var l=n[a];e[o*t+l]>s&&(r=l,s=e[o*t+l])}r>0&&i.push(r)}for(var h=0;h<n.length;h++)i[n[h]]=n[h];return i},Bn=function(t){for(var e,n,i,o,r,s,a=this.cy(),l=this.nodes(),h=function(t){var e=t.damping,n=t.preference;.5<=e&&e<1||xt("Damping must range on [0.5, 1).  Got: ".concat(e));var i=["median","mean","min","max"];return i.some(function(t){return t===n})||v(n)||xt("Preference must be one of [".concat(i.map(function(t){return"'".concat(t,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Rn(t)}(t),u={},d=0;d<l.length;d++)u[l[d].id()]=d;n=(e=l.length)*e,i=new Array(n);for(var c=0;c<n;c++)i[c]=-1/0;for(var p=0;p<e;p++)for(var f=0;f<e;f++)p!==f&&(i[p*e+f]=Ln(h.distance,l[p],l[f],h.attributes));o=function(t,e){return"median"===e?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];i?t=t.slice(e,n):(n<t.length&&t.splice(n,t.length-n),e>0&&t.splice(0,e));for(var s=0,a=t.length-1;a>=0;a--){var l=t[a];r?isFinite(l)||(t[a]=-1/0,s++):t.splice(a,1)}o&&t.sort(function(t,e){return t-e});var h=t.length,u=Math.floor(h/2);return h%2!=0?t[u+1+s]:(t[u-1+s]+t[u+s])/2}(t):"mean"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=0,o=0,r=e;r<n;r++){var s=t[r];isFinite(s)&&(i+=s,o++)}return i/o}(t):"min"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=1/0,o=e;o<n;o++){var r=t[o];isFinite(r)&&(i=Math.min(r,i))}return i}(t):"max"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=-1/0,o=e;o<n;o++){var r=t[o];isFinite(r)&&(i=Math.max(r,i))}return i}(t):e}(i,h.preference);for(var g=0;g<e;g++)i[g*e+g]=o;r=new Array(n);for(var m=0;m<n;m++)r[m]=0;s=new Array(n);for(var y=0;y<n;y++)s[y]=0;for(var b=new Array(e),w=new Array(e),x=new Array(e),_=0;_<e;_++)b[_]=0,w[_]=0,x[_]=0;for(var E,k=new Array(e*h.minIterations),S=0;S<k.length;S++)k[S]=0;for(E=0;E<h.maxIterations;E++){for(var C=0;C<e;C++){for(var T=-1/0,M=-1/0,D=-1,O=0,P=0;P<e;P++)b[P]=r[C*e+P],(O=s[C*e+P]+i[C*e+P])>=T?(M=T,T=O,D=P):O>M&&(M=O);for(var I=0;I<e;I++)r[C*e+I]=(1-h.damping)*(i[C*e+I]-T)+h.damping*b[I];r[C*e+D]=(1-h.damping)*(i[C*e+D]-M)+h.damping*b[D]}for(var A=0;A<e;A++){for(var N=0,R=0;R<e;R++)b[R]=s[R*e+A],w[R]=Math.max(0,r[R*e+A]),N+=w[R];N-=w[A],w[A]=r[A*e+A],N+=w[A];for(var L=0;L<e;L++)s[L*e+A]=(1-h.damping)*Math.min(0,N-w[L])+h.damping*b[L];s[A*e+A]=(1-h.damping)*(N-w[A])+h.damping*b[A]}for(var z=0,B=0;B<e;B++){var F=s[B*e+B]+r[B*e+B]>0?1:0;k[E%h.minIterations*e+B]=F,z+=F}if(z>0&&(E>=h.minIterations-1||E==h.maxIterations-1)){for(var j=0,H=0;H<e;H++){x[H]=0;for(var V=0;V<h.minIterations;V++)x[H]+=k[V*e+H];0!==x[H]&&x[H]!==h.minIterations||j++}if(j===e)break}}for(var W=function(t,e,n){for(var i=[],o=0;o<t;o++)e[o*t+o]+n[o*t+o]>0&&i.push(o);return i}(e,r,s),U=function(t,e,n){for(var i=zn(t,e,n),o=0;o<n.length;o++){for(var r=[],s=0;s<i.length;s++)i[s]===n[o]&&r.push(s);for(var a=-1,l=-1/0,h=0;h<r.length;h++){for(var u=0,d=0;d<r.length;d++)u+=e[r[d]*t+r[h]];u>l&&(a=h,l=u)}n[o]=r[a]}return zn(t,e,n)}(e,i,W),Y={},G=0;G<W.length;G++)Y[W[G]]=[];for(var q=0;q<l.length;q++){var X=U[u[l[q].id()]];null!=X&&Y[X].push(l[q])}for(var K=new Array(W.length),Z=0;Z<W.length;Z++)K[Z]=a.collection(Y[W[Z]]);return K},Fn={};[Bt,Ht,Vt,Ut,Gt,Xt,Jt,Ve,Ue,Ge,Xe,rn,Mn,Nn,{affinityPropagation:Bn,ap:Bn}].forEach(function(t){A(Fn,t)});var jn=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};jn.prototype={fulfill:function(t){return Hn(this,1,"fulfillValue",t)},reject:function(t){return Hn(this,2,"rejectReason",t)},then:function(t,e){var n=new jn;return this.onFulfilled.push(Un(t,n,"fulfill")),this.onRejected.push(Un(e,n,"reject")),Vn(this),n.proxy}};var Hn=function(t,e,n,i){return 0===t.state&&(t.state=e,t[n]=i,Vn(t)),t},Vn=function(t){1===t.state?Wn(t,"onFulfilled",t.fulfillValue):2===t.state&&Wn(t,"onRejected",t.rejectReason)},Wn=function(t,e,n){if(0!==t[e].length){var i=t[e];t[e]=[];var o=function(){for(var t=0;t<i.length;t++)i[t](n)};"function"==typeof setImmediate?setImmediate(o):setTimeout(o,0)}},Un=function(t,e,n){return function(i){if("function"!=typeof t)e[n].call(e,i);else{var o;try{o=t(i)}catch(t){return void e.reject(t)}Yn(e,o)}}},Yn=function e(n,i){if(n!==i&&n.proxy!==i){var o;if("object"===t(i)&&null!==i||"function"==typeof i)try{o=i.then}catch(t){return void n.reject(t)}if("function"!=typeof o)n.fulfill(i);else{var r=!1;try{o.call(i,function(t){r||(r=!0,t===i?n.reject(new TypeError("circular thenable chain")):e(n,t))},function(t){r||(r=!0,n.reject(t))})}catch(t){r||n.reject(t)}}}else n.reject(new TypeError("cannot resolve promise with itself"))};jn.all=function(t){return new jn(function(e,n){for(var i=new Array(t.length),o=0,r=function(n,r){i[n]=r,++o===t.length&&e(i)},s=0;s<t.length;s++)!function(e){var i=t[e];null!=i&&null!=i.then?i.then(function(t){r(e,t)},function(t){n(t)}):r(e,i)}(s)})},jn.resolve=function(t){return new jn(function(e,n){e(t)})},jn.reject=function(t){return new jn(function(e,n){n(t)})};var Gn="undefined"!=typeof Promise?Promise:jn,qn=function(t,e,n){var i=x(t),o=!i,r=this._private=A({duration:1e3},e,n);if(r.target=t,r.style=r.style||r.css,r.started=!1,r.playing=!1,r.hooked=!1,r.applying=!1,r.progress=0,r.completes=[],r.frames=[],r.complete&&p(r.complete)&&r.completes.push(r.complete),o){var s=t.position();r.startPosition=r.startPosition||{x:s.x,y:s.y},r.startStyle=r.startStyle||t.cy().style().getAnimationStartStyle(t,r.style)}if(i){var a=t.pan();r.startPan={x:a.x,y:a.y},r.startZoom=t.zoom()}this.length=1,this[0]=this},Xn=qn.prototype;A(Xn,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),y(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,n=e.playing;return void 0===t?e.progress:(n&&this.pause(),e.progress=t,e.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(e,n){var i=t[e];null!=i&&(t[e]=t[n],t[n]=i)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var i=0;i<t.style.length;i++){var o=t.style[i],r=o.name,s=t.startStyle[r];t.startStyle[r]=o,t.style[i]=s}return e&&this.play(),this},promise:function(t){var e,n=this._private;switch(t){case"frame":e=n.frames;break;default:case"complete":case"completed":e=n.completes}return new Gn(function(t,n){e.push(function(){t()})})}}),Xn.complete=Xn.completed,Xn.run=Xn.play,Xn.running=Xn.playing;var Kn={};[{animated:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var e=t[0];return e?e._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var e=0;e<t.length;e++)t[e]._private.animation.queue=[];return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var n=void 0!==this.length,i=n?this:[this],o=this._private.cy||this,r=!n,s=!r;if(!o.styleEnabled())return this;var a=o.style();if(t=A({},t,e),0===Object.keys(t).length)return new qn(i[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(s&&(t.style=a.getPropsList(t.style||t.css),t.css=void 0),s&&null!=t.renderedPosition){var l=t.renderedPosition,h=o.pan(),u=o.zoom();t.position=te(l,u,h)}if(r&&null!=t.panBy){var d=t.panBy,c=o.pan();t.pan={x:c.x+d.x,y:c.y+d.y}}var p=t.center||t.centre;if(r&&null!=p){var f=o.getCenterPan(p.eles,t.zoom);null!=f&&(t.pan=f)}if(r&&null!=t.fit){var v=t.fit,m=o.getFitViewport(v.eles||v.boundingBox,v.padding);null!=m&&(t.pan=m.pan,t.zoom=m.zoom)}if(r&&g(t.zoom)){var y=o.getZoomedViewport(t.zoom);null!=y&&(y.zoomed&&(t.zoom=y.zoom),y.panned&&(t.pan=y.pan))}return new qn(i[0],t)}},animate:function(){return function(t,e){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=A({},t,e));for(var i=0;i<n.length;i++){var o=n[i],r=o.animated()&&(void 0===t.queue||t.queue);o.animation(t,r?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var n=void 0!==this.length?this:[this],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<n.length;o++){for(var r=n[o]._private,s=r.animation.current,a=0;a<s.length;a++)e&&(s[a]._private.duration=0);t&&(r.animation.queue=[]),e||(r.animation.current=[])}return i.notify("draw"),this}}},{data:function(t){return t=A({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}},t),function(e,n){var i=t,o=void 0!==this.length,r=o?this:[this],s=o?this[0]:this;if(c(e)){var a;if(i.allowGetting&&void 0===n)return s&&(i.beforeGet(s),a=s._private[i.field][e]),a;if(i.allowSetting&&void 0!==n&&!i.immutableKeys[e]){var l=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n);i.beforeSet(this,l);for(var h=0,u=r.length;h<u;h++){var d=r[h];i.canSet(d)&&(d._private[i.field][e]=n)}i.updateStyle&&this.updateStyle(),i.onSet(this),i.settingTriggersEvent&&this[i.triggerFnName](i.settingEvent)}}else if(i.allowSetting&&g(e)){var f,v,m=e,y=Object.keys(m);i.beforeSet(this,m);for(var b=0;b<y.length;b++)if(v=m[f=y[b]],!i.immutableKeys[f])for(var w=0;w<r.length;w++){var x=r[w];i.canSet(x)&&(x._private[i.field][f]=v)}i.updateStyle&&this.updateStyle(),i.onSet(this),i.settingTriggersEvent&&this[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&p(e))this.on(i.bindingEvent,e);else if(i.allowGetting&&void 0===e){var _;return s&&(i.beforeGet(s),_=s._private[i.field]),_}return this}},removeData:function(t){return t=A({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var n=t,i=void 0!==this.length?this:[this];if(c(e)){for(var o=e.split(/\s+/),r=o.length,s=0;s<r;s++){var a=o[s];if(!E(a)&&!n.immutableKeys[a])for(var l=0,h=i.length;l<h;l++)i[l]._private[n.field][a]=void 0}n.triggerEvent&&this[n.triggerFnName](n.event)}else if(void 0===e){for(var u=0,d=i.length;u<d;u++)for(var p=i[u]._private[n.field],f=Object.keys(p),g=0;g<f.length;g++){var v=f[g];!n.immutableKeys[v]&&(p[v]=void 0)}n.triggerEvent&&this[n.triggerFnName](n.event)}return this}}},{eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var n=this,i=Array.prototype.slice.call(arguments,0);return new Gn(function(t,e){var o=i.concat([function(e){n.off.apply(n,r),t(e)}]),r=o.concat([]);n.on.apply(n,o)})}}}].forEach(function(t){A(Kn,t)});var Zn={animate:Kn.animate(),animation:Kn.animation(),animated:Kn.animated(),clearQueue:Kn.clearQueue(),delay:Kn.delay(),delayAnimation:Kn.delayAnimation(),stop:Kn.stop()},Qn={classes:function(t){if(void 0===t){var e=[];return this[0]._private.classes.forEach(function(t){return e.push(t)}),e}f(t)||(t=(t||"").match(/\S+/g)||[]);for(var n=[],i=new Rt(t),o=0;o<this.length;o++){for(var r=this[o],s=r._private,a=s.classes,l=!1,h=0;h<t.length;h++)if(!a.has(t[h])){l=!0;break}l||(l=a.size!==t.length),l&&(s.classes=i,n.push(r))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),this},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){f(t)||(t=t.match(/\S+/g)||[]);for(var n=void 0===e,i=[],o=0,r=this.length;o<r;o++)for(var s=this[o],a=s._private.classes,l=!1,h=0;h<t.length;h++){var u=t[h],d=a.has(u),c=!1;e||n&&!d?(a.add(u),c=!0):(!e||n&&d)&&(a.delete(u),c=!0),!l&&c&&(i.push(s),l=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),this},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var n=this;if(null==e)e=250;else if(0===e)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},e),n}};Qn.className=Qn.classNames=Qn.classes;var Jn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:P,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Jn.variable="(?:[\\w-]|(?:\\\\"+Jn.metaChar+"))+",Jn.value=Jn.string+"|"+Jn.number,Jn.className=Jn.variable,Jn.id=Jn.variable,function(){var t,e,n;for(t=Jn.comparatorOp.split("|"),n=0;n<t.length;n++)Jn.comparatorOp+="|@"+(e=t[n]);for(t=Jn.comparatorOp.split("|"),n=0;n<t.length;n++)(e=t[n]).indexOf("!")>=0||"="!==e&&(Jn.comparatorOp+="|\\!"+e)}();var $n=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(t,e){return function(t,e){return-1*I(t,e)}(t.selector,e.selector)}),ti=function(){for(var t,e={},n=0;n<$n.length;n++)e[(t=$n[n]).selector]=t.matches;return e}(),ei="("+$n.map(function(t){return t.selector}).join("|")+")",ni=function(t){return t.replace(new RegExp("\\\\("+Jn.metaChar+")","g"),function(t,e){return e})},ii=function(t,e,n){t[t.length-1]=n},oi=[{name:"group",query:!0,regex:"("+Jn.group+")",populate:function(t,e,n){var i=o(n,1)[0];e.checks.push({type:0,value:"*"===i?i:i+"s"})}},{name:"state",query:!0,regex:ei,populate:function(t,e,n){var i=o(n,1)[0];e.checks.push({type:7,value:i})}},{name:"id",query:!0,regex:"\\#("+Jn.id+")",populate:function(t,e,n){var i=o(n,1)[0];e.checks.push({type:8,value:ni(i)})}},{name:"className",query:!0,regex:"\\.("+Jn.className+")",populate:function(t,e,n){var i=o(n,1)[0];e.checks.push({type:9,value:ni(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Jn.variable+")\\s*\\]",populate:function(t,e,n){var i=o(n,1)[0];e.checks.push({type:4,field:ni(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Jn.variable+")\\s*("+Jn.comparatorOp+")\\s*("+Jn.value+")\\s*\\]",populate:function(t,e,n){var i=o(n,3),r=i[0],s=i[1],a=i[2];a=null!=new RegExp("^"+Jn.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),e.checks.push({type:3,field:ni(r),operator:s,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Jn.boolOp+")\\s*("+Jn.variable+")\\s*\\]",populate:function(t,e,n){var i=o(n,2),r=i[0];e.checks.push({type:5,field:ni(i[1]),operator:r})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Jn.meta+")\\s*("+Jn.comparatorOp+")\\s*("+Jn.number+")\\s*\\]\\]",populate:function(t,e,n){var i=o(n,3),r=i[1],s=i[2];e.checks.push({type:6,field:ni(i[0]),operator:r,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Jn.separator,populate:function(t,e){var n=t.currentSubject,i=t.edgeCount,o=t.compoundCount,r=t[t.length-1];return null!=n&&(r.subject=n,t.currentSubject=null),r.edgeCount=i,r.compoundCount=o,t.edgeCount=0,t.compoundCount=0,t[t.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Jn.directedEdge,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:11,source:e,target:i}),ii(t,0,n),t.edgeCount++,i}var o={checks:[]},r={checks:[]};return o.checks.push({type:12,source:e,target:r}),ii(t,0,o),t.edgeCount++,r}},{name:"undirectedEdge",separator:!0,regex:Jn.undirectedEdge,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:10,nodes:[e,i]}),ii(t,0,n),t.edgeCount++,i}var o={checks:[]},r={checks:[]};return o.checks.push({type:14,node:e,neighbor:r}),ii(t,0,o),r}},{name:"child",separator:!0,regex:Jn.child,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:15,parent:t[t.length-1],child:i}),ii(t,0,n),t.compoundCount++,i}if(t.currentSubject===e){var o={checks:[]},r={checks:[]},s={checks:[]},a={checks:[]},l={checks:[]};return o.checks.push({type:19,left:t[t.length-1],right:r,subject:s}),s.checks=e.checks,e.checks=[{type:20}],l.checks.push({type:20}),r.checks.push({type:17,parent:l,child:a}),ii(t,0,o),t.currentSubject=s,t.compoundCount++,a}var h={checks:[]},u={checks:[]},d=[{type:17,parent:h,child:u}];return h.checks=e.checks,e.checks=d,t.compoundCount++,u}},{name:"descendant",separator:!0,regex:Jn.descendant,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:16,ancestor:t[t.length-1],descendant:i}),ii(t,0,n),t.compoundCount++,i}if(t.currentSubject===e){var o={checks:[]},r={checks:[]},s={checks:[]},a={checks:[]},l={checks:[]};return o.checks.push({type:19,left:t[t.length-1],right:r,subject:s}),s.checks=e.checks,e.checks=[{type:20}],l.checks.push({type:20}),r.checks.push({type:18,ancestor:l,descendant:a}),ii(t,0,o),t.currentSubject=s,t.compoundCount++,a}var h={checks:[]},u={checks:[]},d=[{type:18,ancestor:h,descendant:u}];return h.checks=e.checks,e.checks=d,t.compoundCount++,u}},{name:"subject",modifier:!0,regex:Jn.subject,populate:function(t,e){if(null!=t.currentSubject&&t.currentSubject!==e)return Et("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var n=t[t.length-1].checks[0],i=null==n?null:n.type;11===i?n.type=13:10===i&&(n.type=14,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];oi.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var ri=function(t){for(var e,n,i,o=0;o<oi.length;o++){var r=oi[o],s=r.name,a=t.match(r.regexObj);if(null!=a){n=a,e=r,i=s,t=t.substring(a[0].length);break}}return{expr:e,match:n,name:i,remaining:t}},si={parse:function(t){var e=this.inputText=t,n=this[0]={checks:[]};for(this.length=1,e=function(t){var e=t.match(/^\s+/);return e&&(t=t.substring(e[0].length)),t}(e);;){var i=ri(e);if(null==i.expr)return Et("The selector `"+t+"`is invalid"),!1;var o=i.match.slice(1),r=i.expr.populate(this,n,o);if(!1===r)return!1;if(null!=r&&(n=r),(e=i.remaining).match(/^\s*$/))break}var s=this[this.length-1];null!=this.currentSubject&&(s.subject=this.currentSubject),s.edgeCount=this.edgeCount,s.compoundCount=this.compoundCount;for(var a=0;a<this.length;a++){var l=this[a];if(l.compoundCount>0&&l.edgeCount>0)return Et("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return Et("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&Et("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var t=function(t){return null==t?"":t},e=function(e){return c(e)?'"'+e+'"':t(e)},n=function(t){return" "+t+" "},i=function(i,r){var s=i.value;switch(i.type){case 0:var a=t(s);return a.substring(0,a.length-1);case 3:return"["+i.field+n(t(i.operator))+e(s)+"]";case 5:var l=i.field;return"["+t(i.operator)+l+"]";case 4:return"["+i.field+"]";case 6:return"[["+i.field+n(t(i.operator))+e(s)+"]]";case 7:return s;case 8:return"#"+s;case 9:return"."+s;case 17:case 15:return o(i.parent,r)+n(">")+o(i.child,r);case 18:case 16:return o(i.ancestor,r)+" "+o(i.descendant,r);case 19:var h=o(i.left,r),u=o(i.subject,r),d=o(i.right,r);return h+(h.length>0?" ":"")+u+d;case 20:return""}},o=function(t,e){return t.checks.reduce(function(n,o,r){return n+(e===t&&0===r?"$":"")+i(o,e)},"")},r="",s=0;s<this.length;s++){var a=this[s];r+=o(a,a.subject),this.length>1&&s<this.length-1&&(r+=", ")}return this.toStringCache=r,r}},ai=function(t,e,n){var i,o,r,s=c(t),a=v(t),l=c(n),h=!1,u=!1,d=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),u=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),h=!0),(s||l||h)&&(o=s||a?""+t:"",r=""+n),h&&(t=o=o.toLowerCase(),n=r=r.toLowerCase()),e){case"*=":i=o.indexOf(r)>=0;break;case"$=":i=o.indexOf(r,o.length-r.length)>=0;break;case"^=":i=0===o.indexOf(r);break;case"=":i=t===n;break;case">":d=!0,i=t>n;break;case">=":d=!0,i=t>=n;break;case"<":d=!0,i=t<n;break;case"<=":d=!0,i=t<=n;break;default:i=!1}return!u||null==t&&d||(i=!i),i},li=function(t,e){return t.data(e)},hi=[],ui=function(t,e){return t.checks.every(function(t){return hi[t.type](t,e)})};hi[0]=function(t,e){var n=t.value;return"*"===n||n===e.group()},hi[7]=function(t,e){return function(t,e){return ti[t](e)}(t.value,e)},hi[8]=function(t,e){var n=t.value;return e.id()===n},hi[9]=function(t,e){return e.hasClass(t.value)},hi[6]=function(t,e){var n=t.field,i=t.operator,o=t.value;return ai(function(t,e){return t[n]()}(e),i,o)},hi[3]=function(t,e){var n=t.operator,i=t.value;return ai(li(e,t.field),n,i)},hi[5]=function(t,e){li(e,t.field)},hi[4]=function(t,e){return void 0!==li(e,t.field)},hi[10]=function(t,e){var n=t.nodes[0],i=t.nodes[1],o=e.source(),r=e.target();return ui(n,o)&&ui(i,r)||ui(i,o)&&ui(n,r)},hi[14]=function(t,e){return ui(t.node,e)&&e.neighborhood().some(function(e){return e.isNode()&&ui(t.neighbor,e)})},hi[11]=function(t,e){return ui(t.source,e.source())&&ui(t.target,e.target())},hi[12]=function(t,e){return ui(t.source,e)&&e.outgoers().some(function(e){return e.isNode()&&ui(t.target,e)})},hi[13]=function(t,e){return ui(t.target,e)&&e.incomers().some(function(e){return e.isNode()&&ui(t.source,e)})},hi[15]=function(t,e){return ui(t.child,e)&&ui(t.parent,e.parent())},hi[17]=function(t,e){return ui(t.parent,e)&&e.children().some(function(e){return ui(t.child,e)})},hi[16]=function(t,e){return ui(t.descendant,e)&&e.ancestors().some(function(e){return ui(t.ancestor,e)})},hi[18]=function(t,e){return ui(t.ancestor,e)&&e.descendants().some(function(e){return ui(t.descendant,e)})},hi[19]=function(t,e){return ui(t.subject,e)&&ui(t.left,e)&&ui(t.right,e)},hi[20]=function(){return!0},hi[1]=function(t,e){return t.value.has(e)},hi[2]=function(t,e){return(0,t.value)(e)};var di=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==t||c(t)&&t.match(/^\s*$/)||(y(t)?this.addQuery({checks:[{type:1,value:t.collection()}]}):p(t)?this.addQuery({checks:[{type:2,value:t}]}):c(t)?this.parse(t)||(this.invalid=!0):xt("A selector must be created from a string; found ",t))},ci=di.prototype;[si,{matches:function(t){for(var e=0;e<this.length;e++)if(ui(this[e],t))return!0;return!1},filter:function(t){var e=this;if(1===e.length&&1===e[0].checks.length&&8===e[0].checks[0].type)return t.getElementById(e[0].checks[0].value).collection();var n=function(t){for(var n=0;n<e.length;n++)if(ui(e[n],t))return!0;return!1};return null==e.text()&&(n=function(){return!0}),t.filter(n)}}].forEach(function(t){return A(ci,t)}),ci.text=function(){return this.inputText},ci.size=function(){return this.length},ci.eq=function(t){return this[t]},ci.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},ci.addQuery=function(t){this[this.length++]=t},ci.selector=ci.toString;var pi={allAre:function(t){var e=new di(t);return this.every(function(t){return e.matches(t)})},is:function(t){var e=new di(t);return this.some(function(t){return e.matches(t)})},some:function(t,e){for(var n=0;n<this.length;n++)if(e?t.apply(e,[this[n],n,this]):t(this[n],n,this))return!0;return!1},every:function(t,e){for(var n=0;n<this.length;n++)if(!(e?t.apply(e,[this[n],n,this]):t(this[n],n,this)))return!1;return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length;return e===t.length&&(1===e?this[0]===t[0]:this.every(function(e){return t.hasElementWithId(e.id())}))},anySame:function(t){return t=this.cy().collection(t),this.some(function(e){return t.hasElementWithId(e.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every(function(t){return e.hasElementWithId(t.id())})},contains:function(t){t=this.cy().collection(t);var e=this;return t.every(function(t){return e.hasElementWithId(t.id())})}};pi.allAreNeighbours=pi.allAreNeighbors,pi.has=pi.contains,pi.equal=pi.equals=pi.same;var fi,gi,vi=function(t,e){return function(n,i,o,r){var s,a=n;if(null==a?s="":y(a)&&1===a.length&&(s=a.id()),1===this.length&&s){var l=this[0]._private,h=l.traversalCache=l.traversalCache||{},u=h[e]=h[e]||[],d=ut(s);return u[d]||(u[d]=t.call(this,n,i,o,r))}return t.call(this,n,i,o,r)}},mi={parent:function(t){var e=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var o=this[i]._private.parent;o&&e.push(o)}return this.spawn(e,{unique:!0}).filter(t)},parents:function(t){for(var e=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++)e.push(n[i]);n=n.parent()}return this.spawn(e,{unique:!0}).filter(t)},commonAncestors:function(t){for(var e,n=0;n<this.length;n++){var i=this[n].parents();e=(e=e||i).intersect(i)}return e.filter(t)},orphans:function(t){return this.stdFilter(function(t){return t.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(t){return t.isChild()}).filter(t)},children:vi(function(t){for(var e=[],n=0;n<this.length;n++)for(var i=this[n]._private.children,o=0;o<i.length;o++)e.push(i[o]);return this.spawn(e,{unique:!0}).filter(t)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];return function t(n){for(var i=0;i<n.length;i++){var o=n[i];e.push(o),o.children().nonempty()&&t(o.children())}}(this.children()),this.spawn(e,{unique:!0}).filter(t)}};function yi(t,e,n,i){for(var o=[],r=new Rt,s=t.cy().hasCompoundNodes(),a=0;a<t.length;a++){var l=t[a];n?o.push(l):s&&i(o,r,l)}for(;o.length>0;){var h=o.shift();e(h),r.add(h.id()),s&&i(o,r,h)}return t}function bi(t,e,n){if(n.isParent())for(var i=n._private.children,o=0;o<i.length;o++){var r=i[o];e.has(r.id())||t.push(r)}}function wi(t,e,n){if(n.isChild()){var i=n._private.parent;e.has(i.id())||t.push(i)}}function xi(t,e,n){wi(t,e,n),bi(t,e,n)}mi.forEachDown=function(t){return yi(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],bi)},mi.forEachUp=function(t){return yi(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],wi)},mi.forEachUpAndDown=function(t){return yi(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],xi)},mi.ancestors=mi.parents,(fi=gi={data:Kn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Kn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Kn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Kn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Kn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Kn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=fi.data,fi.removeAttr=fi.removeData;var _i,Ei,ki=gi,Si={};function Ci(t){return function(e){if(void 0===e&&(e=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var n=0,i=this[0],o=i._private.edges,r=0;r<o.length;r++){var s=o[r];!e&&s.isLoop()||(n+=t(i,s))}return n}}}function Ti(t,e){return function(n){for(var i,o=this.nodes(),r=0;r<o.length;r++){var s=o[r][t](n);void 0===s||void 0!==i&&!e(s,i)||(i=s)}return i}}A(Si,{degree:Ci(function(t,e){return e.source().same(e.target())?2:1}),indegree:Ci(function(t,e){return e.target().same(t)?1:0}),outdegree:Ci(function(t,e){return e.source().same(t)?1:0})}),A(Si,{minDegree:Ti("degree",function(t,e){return t<e}),maxDegree:Ti("degree",function(t,e){return t>e}),minIndegree:Ti("indegree",function(t,e){return t<e}),maxIndegree:Ti("indegree",function(t,e){return t>e}),minOutdegree:Ti("outdegree",function(t,e){return t<e}),maxOutdegree:Ti("outdegree",function(t,e){return t>e})}),A(Si,{totalDegree:function(t){for(var e=0,n=this.nodes(),i=0;i<n.length;i++)e+=n[i].degree(t);return e}});var Mi=function(t,e,n){for(var i=0;i<t.length;i++){var o=t[i];if(!o.locked()){var r=o._private.position,s={x:null!=e.x?e.x-r.x:0,y:null!=e.y?e.y-r.y:0};!o.isParent()||0===s.x&&0===s.y||o.children().shift(s,n),o.shiftCachedBoundingBox(s)}}},Di={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){Mi(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};(_i=Ei={position:Kn.data(Di),silentPosition:Kn.data(A({},Di,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){Mi(t,e,!0)}})),positions:function(t,e){if(g(t))e?this.silentPosition(t):this.position(t);else if(p(t)){var n=t,i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var r,s=this[o];(r=n(s,o))&&(e?s.silentPosition(r):s.position(r))}i.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,n){var i;if(g(t)?(i={x:v(t.x)?t.x:0,y:v(t.y)?t.y:0},n=e):c(t)&&v(e)&&((i={x:0,y:0})[t]=e),null!=i){var o=this.cy();o.startBatch();for(var r=0;r<this.length;r++){var s=this[r],a=s.position(),l={x:a.x+i.x,y:a.y+i.y};n?s.silentPosition(l):s.position(l)}o.endBatch()}return this},silentShift:function(t,e){return g(t)?this.shift(t,!0):c(t)&&v(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var n=this[0],i=this.cy(),o=i.zoom(),r=i.pan(),s=g(t)?t:void 0,a=void 0!==s||void 0!==e&&c(t);if(n&&n.isNode()){if(!a){var l=n.position();return s=$t(l,o,r),void 0===t?s:s[t]}for(var h=0;h<this.length;h++){var u=this[h];void 0!==e?u.position(t,(e-r[t])/o):void 0!==s&&u.position(te(s,o,r))}}else if(!a)return;return this},relativePosition:function(t,e){var n=this[0],i=this.cy(),o=g(t)?t:void 0,r=void 0!==o||void 0!==e&&c(t),s=i.hasCompoundNodes();if(n&&n.isNode()){if(!r){var a=n.position(),l=s?n.parent():null,h=l&&l.length>0;h&&(l=l[0]);var u=h?l.position():{x:0,y:0};return o={x:a.x-u.x,y:a.y-u.y},void 0===t?o:o[t]}for(var d=0;d<this.length;d++){var p=this[d],f=s?p.parent():null,v=f&&f.length>0;v&&(f=f[0]);var m=v?f.position():{x:0,y:0};void 0!==e?p.position(t,e+m[t]):void 0!==o&&p.position({x:o.x+m.x,y:o.y+m.y})}}else if(!r)return;return this}}).modelPosition=_i.point=_i.position,_i.modelPositions=_i.points=_i.positions,_i.renderedPoint=_i.renderedPosition,_i.relativePoint=_i.relativePosition;var Oi,Pi,Ii=Ei;Oi=Pi={},Pi.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),i=n.zoom(),o=n.pan(),r=e.x1*i+o.x,s=e.x2*i+o.x,a=e.y1*i+o.y,l=e.y2*i+o.y;return{x1:r,x2:s,y1:a,y2:l,w:s-r,h:l-a}},Pi.dirtyCompoundBoundsCache=function(){var t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(t){if(t.isParent()){var e=t._private;e.compoundBoundsClean=!1,e.bbCache=null,t.emitAndNotify("bounds")}}),this):this},Pi.updateCompoundBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function n(t){if(t.isParent()){var e=t._private,n=t.children(),i="include"===t.pstyle("compound-sizing-wrt-labels").value,o={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},r=n.filter(function(t){return"element"===t.pstyle("display").value}).boundingBox({includeLabels:i,includeOverlays:!1,useCache:!1}),s=e.position;0!==r.w&&0!==r.h||((r={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue}).x1=s.x-r.w/2,r.x2=s.x+r.w/2,r.y1=s.y-r.h/2,r.y2=s.y+r.h/2);var a=o.width.left.value;"px"===o.width.left.units&&o.width.val>0&&(a=100*a/o.width.val);var l=o.width.right.value;"px"===o.width.right.units&&o.width.val>0&&(l=100*l/o.width.val);var h=o.height.top.value;"px"===o.height.top.units&&o.height.val>0&&(h=100*h/o.height.val);var u=o.height.bottom.value;"px"===o.height.bottom.units&&o.height.val>0&&(u=100*u/o.height.val);var d=m(o.width.val-r.w,a,l),c=d.biasDiff,p=d.biasComplementDiff,f=m(o.height.val-r.h,h,u),g=f.biasDiff,v=f.biasComplementDiff;e.autoPadding=function(t,e,n,i){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(i){case"width":return t>0?n.pfValue*t:0;case"height":return e>0?n.pfValue*e:0;case"average":return t>0&&e>0?n.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?n.pfValue*e:n.pfValue*t:0;case"max":return t>0&&e>0?t>e?n.pfValue*t:n.pfValue*e:0;default:return 0}}(r.w,r.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(r.w,o.width.val),s.x=(-c+r.x1+r.x2+p)/2,e.autoHeight=Math.max(r.h,o.height.val),s.y=(-g+r.y1+r.y2+v)/2}function m(t,e,n){var i=0,o=0,r=e+n;return t>0&&r>0&&(i=e/r*t,o=n/r*t),{biasDiff:i,biasComplementDiff:o}}}for(var i=0;i<this.length;i++){var o=this[i],r=o._private;r.compoundBoundsClean||(n(o),e.batching()||(r.compoundBoundsClean=!0))}return this};var Ai=function(t){return t===1/0||t===-1/0?0:t},Ni=function(t,e,n,i,o){i-e!=0&&o-n!=0&&null!=e&&null!=n&&null!=i&&null!=o&&(t.x1=e<t.x1?e:t.x1,t.x2=i>t.x2?i:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=o>t.y2?o:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Ri=function(t,e){return null==e?t:Ni(t,e.x1,e.y1,e.x2,e.y2)},Li=function(t,e,n){return Pt(t,e,n)},zi=function(t,e,n){if(!e.cy().headless()){var i,o,r=e._private,s=r.rstyle,a=s.arrowWidth/2;if("none"!==e.pstyle(n+"-arrow-shape").value){"source"===n?(i=s.srcX,o=s.srcY):"target"===n?(i=s.tgtX,o=s.tgtY):(i=s.midX,o=s.midY);var l=r.arrowBounds=r.arrowBounds||{},h=l[n]=l[n]||{};h.x1=i-a,h.y1=o-a,h.x2=i+a,h.y2=o+a,h.w=h.x2-h.x1,h.h=h.y2-h.y1,fe(h,1),Ni(t,h.x1,h.y1,h.x2,h.y2)}}},Bi=function(t,e,n){if(!e.cy().headless()){var i,o=e._private,r=o.rstyle;if(e.pstyle((i=n?n+"-":"")+"label").strValue){var s,a,l,h,u=e.pstyle("text-halign"),d=e.pstyle("text-valign"),c=Li(r,"labelWidth",n),p=Li(r,"labelHeight",n),f=Li(r,"labelX",n),g=Li(r,"labelY",n),v=e.pstyle(i+"text-margin-x").pfValue,m=e.pstyle(i+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle(i+"text-rotation"),w=e.pstyle("text-outline-width").pfValue,x=e.pstyle("text-border-width").pfValue/2,_=e.pstyle("text-background-padding").pfValue,E=p,k=c,S=k/2,C=E/2;if(y)s=f-S,a=f+S,l=g-C,h=g+C;else{switch(u.value){case"left":s=f-k,a=f;break;case"center":s=f-S,a=f+S;break;case"right":s=f,a=f+k}switch(d.value){case"top":l=g-E,h=g;break;case"center":l=g-C,h=g+C;break;case"bottom":l=g,h=g+E}}s+=v-Math.max(w,x)-_,a+=v+Math.max(w,x)+_,l+=m-Math.max(w,x)-_,h+=m+Math.max(w,x)+_;var T=n||"main",M=o.labelBounds,D=M[T]=M[T]||{};D.x1=s,D.y1=l,D.x2=a,D.y2=h,D.w=a-s,D.h=h-l,fe(D,1);var O=y&&"autorotate"===b.strValue;if(O||null!=b.pfValue&&0!==b.pfValue){var P=O?Li(o.rstyle,"labelAngle",n):b.pfValue,I=Math.cos(P),A=Math.sin(P),N=(s+a)/2,R=(l+h)/2;if(!y){switch(u.value){case"left":N=a;break;case"right":N=s}switch(d.value){case"top":R=h;break;case"bottom":R=l}}var L=function(t,e){return{x:(t-=N)*I-(e-=R)*A+N,y:t*A+e*I+R}},z=L(s,l),B=L(s,h),F=L(a,l),j=L(a,h);s=Math.min(z.x,B.x,F.x,j.x),a=Math.max(z.x,B.x,F.x,j.x),l=Math.min(z.y,B.y,F.y,j.y),h=Math.max(z.y,B.y,F.y,j.y)}Ni(t,s,l,a,h),Ni(o.labelBounds.all,s,l,a,h)}return t}},Fi=function(t){var e=0,n=function(t){return(t?1:0)<<e++},i=0;return i+=n(t.incudeNodes),i+=n(t.includeEdges),(i+=n(t.includeLabels))+n(t.includeOverlays)},ji=function(t){if(t.isEdge()){var e=t.source().position(),n=t.target().position(),i=function(t){return Math.round(t)};return ht([i(e.x),i(e.y),i(n.x),i(n.y)])}return 0},Hi=function(t,e){var n,i=t._private,o=(null==e?Wi:Fi(e))===Wi,r=ji(t),s=i.bbCachePosKey===r,a=!(e.useCache&&s)||null==i.bbCache;if(a?(s||t.recalculateRenderedStyle(),n=function(t,e){var n,i,o,r,s,a,l=t._private.cy,h=l.styleEnabled(),u=l.headless(),d=de(),c=t._private,p=h?t.pstyle("display").value:"element",f=t.isNode(),g=t.isEdge(),v="none"!==p,m=c.rstyle,y=f&&h?t.pstyle("bounds-expansion").pfValue:0;if(v){var b=0;h&&e.includeOverlays&&0!==t.pstyle("overlay-opacity").value&&(b=t.pstyle("overlay-padding").value);var w=0;if(h&&(w=t.pstyle("width").pfValue/2),f&&e.includeNodes){var x=t.position();s=x.x,a=x.y;var _=t.outerWidth()/2,E=t.outerHeight()/2;Ni(d,n=s-_,o=a-E,i=s+_,r=a+E)}else if(g&&e.includeEdges)if(h&&!u&&(n=Math.min(m.srcX,m.midX,m.tgtX),i=Math.max(m.srcX,m.midX,m.tgtX),o=Math.min(m.srcY,m.midY,m.tgtY),r=Math.max(m.srcY,m.midY,m.tgtY),Ni(d,n-=w,o-=w,i+=w,r+=w)),h&&!u&&"haystack"===t.pstyle("curve-style").strValue){var k=m.haystackPts||[];if((n=k[0].x)>(i=k[1].x)){var S=n;n=i,i=S}if((o=k[0].y)>(r=k[1].y)){var C=o;o=r,r=C}Ni(d,n-w,o-w,i+w,r+w)}else{for(var T=m.bezierPts||m.linePts||[],M=0;M<T.length;M++){var D=T[M];Ni(d,n=D.x-w,o=D.y-w,i=D.x+w,r=D.y+w)}if(0===T.length){var O=t.source().position(),P=t.target().position();if((n=O.x)>(i=P.x)){var I=n;n=i,i=I}if((o=O.y)>(r=P.y)){var A=o;o=r,r=A}Ni(d,n-=w,o-=w,i+=w,r+=w)}}if(h&&e.includeEdges&&g&&(zi(d,t,"mid-source"),zi(d,t,"mid-target"),zi(d,t,"source"),zi(d,t,"target")),h&&"yes"===t.pstyle("ghost").value){var N=t.pstyle("ghost-offset-x").pfValue,R=t.pstyle("ghost-offset-y").pfValue;Ni(d,d.x1+N,d.y1+R,d.x2+N,d.y2+R)}var L=c.bodyBounds=c.bodyBounds||{};ge(L,d),fe(L,y),fe(L,1),h&&Ni(d,(n=d.x1)-b,(o=d.y1)-b,(i=d.x2)+b,(r=d.y2)+b);var z=c.overlayBounds=c.overlayBounds||{};ge(z,d),fe(z,y),fe(z,1);var B=c.labelBounds=c.labelBounds||{};null!=B.all?function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0}(B.all):B.all=de(),h&&e.includeLabels&&(Bi(d,t,null),g&&(Bi(d,t,"source"),Bi(d,t,"target")))}return d.x1=Ai(d.x1),d.y1=Ai(d.y1),d.x2=Ai(d.x2),d.y2=Ai(d.y2),d.w=Ai(d.x2-d.x1),d.h=Ai(d.y2-d.y1),d.w>0&&d.h>0&&v&&(fe(d,y),fe(d,1)),d}(t,Vi),i.bbCache=n,i.bbCacheShift.x=i.bbCacheShift.y=0,i.bbCachePosKey=r):n=i.bbCache,!a&&(0!==i.bbCacheShift.x||0!==i.bbCacheShift.y)){var l=ve,h=i.bbCacheShift,u=function(t,e){null!=t&&l(t,e)};l(n,h);var d=i.overlayBounds,c=i.labelBounds,p=i.arrowBounds;u(i.bodyBounds,h),u(d,h),null!=p&&(u(p.source,h),u(p.target,h),u(p["mid-source"],h),u(p["mid-target"],h)),null!=c&&(u(c.main,h),u(c.all,h),u(c.source,h),u(c.target,h))}if(i.bbCacheShift.x=i.bbCacheShift.y=0,!o){var f=t.isNode();n=de(),(e.includeNodes&&f||e.includeEdges&&!f)&&Ri(n,e.includeOverlays?i.overlayBounds:i.bodyBounds),e.includeLabels&&Ri(n,i.labelBounds.all),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Vi={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},Wi=Fi(Vi),Ui=Mt(Vi);Pi.boundingBox=function(t){if(1===this.length&&null!=this[0]._private.bbCache&&(void 0===t||void 0===t.useCache||!0===t.useCache))return t=void 0===t?Vi:Ui(t),Hi(this[0],t);var e=de(),n=Ui(t=t||Vi);if(this.cy().styleEnabled())for(var i=0;i<this.length;i++){var o=this[i],r=o._private,s=ji(o);o.recalculateRenderedStyle(n.useCache&&r.bbCachePosKey===s)}this.updateCompoundBounds();for(var a=0;a<this.length;a++)Ri(e,Hi(this[a],n));return e.x1=Ai(e.x1),e.y1=Ai(e.y1),e.x2=Ai(e.x2),e.y2=Ai(e.y2),e.w=Ai(e.x2-e.x1),e.h=Ai(e.y2-e.y1),e},Pi.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCacheShift.x=e.bbCacheShift.y=0,e.bbCachePosKey=null}return this.emitAndNotify("bounds"),this},Pi.shiftCachedBoundingBox=function(t){for(var e=0;e<this.length;e++){var n=this[e]._private;null!=n.bbCache&&(n.bbCacheShift.x+=t.x,n.bbCacheShift.y+=t.y)}return this.emitAndNotify("bounds"),this},Pi.boundingBoxAt=function(t){var e=this.nodes(),n=this.cy(),i=n.hasCompoundNodes();if(i&&(e=e.filter(function(t){return!t.isParent()})),g(t)){var o=t;t=function(){return o}}n.startBatch(),e.forEach(function(e,n){return e._private.bbAtOldPos=t(e,n)}).silentPositions(t),i&&this.updateCompoundBounds(!0);var r=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}}(this.boundingBox({useCache:!1}));return e.silentPositions(function(t){return t._private.bbAtOldPos}),n.endBatch(),r},Oi.boundingbox=Oi.bb=Oi.boundingBox,Oi.renderedBoundingbox=Oi.renderedBoundingBox;var Yi,Gi,qi=Pi;Yi=Gi={};var Xi=function(t){t.uppercaseName=O(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=O(t.outerName),Yi[t.name]=function(){var e=this[0],n=e._private;if(e){if(!n.cy._private.styleEnabled)return 1;if(e.isParent())return e.updateCompoundBounds(),n[t.autoName]||0;var i=e.pstyle(t.name);switch(i.strValue){case"label":return e.recalculateRenderedStyle(),n.rstyle[t.labelName]||0;default:return i.pfValue}}},Yi["outer"+t.uppercaseName]=function(){var e=this[0];if(e)return e._private.cy._private.styleEnabled?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},Yi["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},Yi["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};Xi({name:"width"}),Xi({name:"height"}),Gi.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};var Ki=Gi,Zi={controlPoints:{get:function(t){return t.renderer().getControlPoints(t)},mult:!0},segmentPoints:{get:function(t){return t.renderer().getSegmentPoints(t)},mult:!0},sourceEndpoint:{get:function(t){return t.renderer().getSourceEndpoint(t)}},targetEndpoint:{get:function(t){return t.renderer().getTargetEndpoint(t)}},midpoint:{get:function(t){return t.renderer().getEdgeMidpoint(t)}}},Qi=Object.keys(Zi).reduce(function(t,e){var n=Zi[e],i=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)}(e);return t[e]=function(){return function(t,e){if(t.isEdge())return e(t)}(this,n.get)},t[i]=n.mult?function(){return function(t,e){if(t.isEdge()){var n=t.cy(),i=n.pan(),o=n.zoom();return e(t).map(function(t){return $t(t,o,i)})}}(this,n.get)}:function(){return function(t,e){if(t.isEdge()){var n=t.cy();return $t(e(t),n.zoom(),n.pan())}}(this,n.get)},t},{}),Ji=A({},Ii,qi,Ki,Qi),$i=function(t,e){this.recycle(t,e)};function to(){return!1}function eo(){return!0}$i.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=to,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?eo:to):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,i=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*i+o.x,y:n.y*i+o.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=eo;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=eo;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=eo,this.stopPropagation()},isDefaultPrevented:to,isPropagationStopped:to,isImmediatePropagationStopped:to};var no=/^([^.]+)(\.(?:[^.]+))?$/,io={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},oo=Object.keys(io),ro={};function so(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro,e=arguments.length>1?arguments[1]:void 0,n=0;n<oo.length;n++){var i=oo[n];this[i]=t[i]||io[i]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ao=so.prototype,lo=function(t,e,n,i,o,r,s){p(i)&&(o=i,i=null),s&&(r=null==r?s:A({},r,s));for(var a=f(n)?n:n.split(/\s+/),l=0;l<a.length;l++){var h=a[l];if(!E(h)){var u=h.match(no);if(u&&!1===e(t,h,u[1],u[2]?u[2]:null,i,o,r))break}}},ho=function(t,e){return t.addEventFields(t.context,e),new $i(e.type,e)};ao.on=ao.addListener=function(t,e,n,i,o){return lo(this,function(t,e,n,i,o,r,s){p(r)&&t.listeners.push({event:e,callback:r,type:n,namespace:i,qualifier:o,conf:s})},t,e,n,i,o),this},ao.one=function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},ao.removeListener=ao.off=function(t,e,n,i){var o=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var r=this.listeners,s=function(s){var a=r[s];lo(o,function(e,n,i,o,l,h){if((a.type===i||"*"===t)&&(!o&&".*"!==a.namespace||a.namespace===o)&&(!l||e.qualifierCompare(a.qualifier,l))&&(!h||a.callback===h))return r.splice(s,1),!1},t,e,n,i)},a=r.length-1;a>=0;a--)s(a);return this},ao.removeAllListeners=function(){return this.removeListener("*")},ao.emit=ao.trigger=function(t,e,n){var i=this.listeners,o=i.length;return this.emitting++,f(e)||(e=[e]),function(t,e,n){if("event"!==d(n))if(g(n))e(t,ho(t,n));else for(var i=f(n)?n:n.split(/\s+/),o=0;o<i.length;o++){var r=i[o];if(!E(r)){var s=r.match(no);s&&e(t,ho(t,{type:s[1],namespace:s[2]?s[2]:null,target:t.context}))}}else e(t,n)}(this,function(t,r){null!=n&&(o=(i=[{event:r.event,type:r.type,namespace:r.namespace,callback:n}]).length);for(var s=function(n){var o=i[n];if(o.type===r.type&&(!o.namespace||o.namespace===r.namespace||".*"===o.namespace)&&t.eventMatches(t.context,o,r)){var s=[r];null!=e&&function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])}(s,e),t.beforeEmit(t.context,o,r),o.conf&&o.conf.one&&(t.listeners=t.listeners.filter(function(t){return t!==o}));var a=t.callbackContext(t.context,o,r),l=o.callback.apply(a,s);t.afterEmit(t.context,o,r),!1===l&&(r.stopPropagation(),r.preventDefault())}},a=0;a<o;a++)s(a);t.bubble(t.context)&&!r.isPropagationStopped()&&t.parent(t.context).emit(r,e)},t),this.emitting--,this};var uo={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var i=e.qualifier;return null==i||t!==n.target&&b(n.target)&&i.matches(n.target)},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},co=function(t){return c(t)?new di(t):t},po={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],n=e._private;n.emitter||(n.emitter=new so(uo,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,n){for(var i=co(e),o=0;o<this.length;o++)this[o].emitter().on(t,i,n);return this},removeListener:function(t,e,n){for(var i=co(e),o=0;o<this.length;o++)this[o].emitter().removeListener(t,i,n);return this},removeAllListeners:function(){for(var t=0;t<this.length;t++)this[t].emitter().removeAllListeners();return this},one:function(t,e,n){for(var i=co(e),o=0;o<this.length;o++)this[o].emitter().one(t,i,n);return this},once:function(t,e,n){for(var i=co(e),o=0;o<this.length;o++)this[o].emitter().on(t,i,n,{once:!0,onceCollection:this})},emit:function(t,e){for(var n=0;n<this.length;n++)this[n].emitter().emit(t,e);return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify(t,this),this.emit(t,e),this}};Kn.eventAliasesOn(po);var fo={nodes:function(t){return this.filter(function(t){return t.isNode()}).filter(t)},edges:function(t){return this.filter(function(t){return t.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?t.merge(i):e.merge(i)}return{nodes:t,edges:e}},filter:function(t,e){if(void 0===t)return this;if(c(t)||y(t))return new di(t).filter(this);if(p(t)){for(var n=this.spawn(),i=0;i<this.length;i++){var o=this[i];(e?t.apply(e,[o,i,this]):t(o,i,this))&&n.merge(o)}return n}return this.spawn()},not:function(t){if(t){c(t)&&(t=this.filter(t));for(var e=[],n=t._private.map,i=0;i<this.length;i++){var o=this[i];n.has(o.id())||e.push(o)}return this.spawn(e)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if(c(t))return this.filter(t);for(var e=[],n=this.length<t.length,i=n?t._private.map:this._private.map,o=n?this:t,r=0;r<o.length;r++){var s=i.get(o[r]._private.data.id);s&&e.push(s.ele)}return this.spawn(e)},xor:function(t){var e=this._private.cy;c(t)&&(t=e.$(t));var n=[],i=t,o=function(t,e){for(var i=0;i<t.length;i++){var o=t[i];e.hasElementWithId(o._private.data.id)||n.push(o)}};return o(this,i),o(i,this),this.spawn(n)},diff:function(t){var e=this._private.cy;c(t)&&(t=e.$(t));var n=[],i=[],o=[],r=t,s=function(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];e.hasElementWithId(r._private.data.id)?o.push(r):n.push(r)}};return s(this,r,n),s(r,this,i),{left:this.spawn(n,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(o,{unique:!0})}},add:function(t){var e=this._private.cy;if(!t)return this;if(c(t)){var n=t;t=e.mutableElements().filter(n)}for(var i=[],o=0;o<this.length;o++)i.push(this[o]);for(var r=this._private.map,s=0;s<t.length;s++)!r.has(t[s].id())&&i.push(t[s]);return this.spawn(i)},merge:function(t){var e=this._private,n=e.cy;if(!t)return this;if(t&&c(t)){var i=t;t=n.mutableElements().filter(i)}for(var o=e.map,r=0;r<t.length;r++){var s=t[r],a=s._private.data.id;if(o.has(a)){var l=o.get(a).index;this[l]=s,o.set(a,{ele:s,index:l})}else{var h=this.length++;this[h]=s,o.set(a,{ele:s,index:h})}}return this},unmergeAt:function(t){var e=this[t].id(),n=this._private.map;if(this[t]=void 0,n.delete(e),this.length>1&&t!==this.length-1){var i=this.length-1,o=this[i],r=o._private.data.id;this[i]=void 0,this[t]=o,n.set(r,{ele:o,index:t})}return this.length--,this},unmergeOne:function(t){var e=(t=t[0])._private.data.id,n=this._private.map.get(e);return n?(this.unmergeAt(n.index),this):this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&c(t)){var n=t;t=e.mutableElements().filter(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--)t(this[e])&&this.unmergeAt(e);return this},map:function(t,e){for(var n=[],i=0;i<this.length;i++){var o=this[i],r=e?t.apply(e,[o,i,this]):t(o,i,this);n.push(r)}return n},reduce:function(t,e){for(var n=e,i=0;i<this.length;i++)n=t(n,this[i],i,this);return n},max:function(t,e){for(var n,i=-1/0,o=0;o<this.length;o++){var r=this[o],s=e?t.apply(e,[r,o,this]):t(r,o,this);s>i&&(i=s,n=r)}return{value:i,ele:n}},min:function(t,e){for(var n,i=1/0,o=0;o<this.length;o++){var r=this[o],s=e?t.apply(e,[r,o,this]):t(r,o,this);s<i&&(i=s,n=r)}return{value:i,ele:n}}},go=fo;go.u=go["|"]=go["+"]=go.union=go.or=go.add,go["\\"]=go["!"]=go["-"]=go.difference=go.relativeComplement=go.subtract=go.not,go.n=go["&"]=go["."]=go.and=go.intersection=go.intersect,go["^"]=go["(+)"]=go["(-)"]=go.symmetricDifference=go.symdiff=go.xor,go.fnFilter=go.filterFn=go.stdFilter=go.filter,go.complement=go.abscomp=go.absoluteComplement;var vo=function(t,e){var n=t.cy().hasCompoundNodes();function i(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?n?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?vt:0}var o=i(t)-i(e);if(0!==o)return o;function r(t){return"auto"===t.pstyle("z-index-compare").value&&t.isNode()?1:0}var s=r(t)-r(e);if(0!==s)return s;var a=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==a?a:t.poolIndex()-e.poolIndex()},mo={forEach:function(t,e){if(p(t))for(var n=this.length,i=0;i<n;i++){var o=this[i];if(!1===(e?t.apply(e,[o,i,this]):t(o,i,this)))break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var n=[],i=this.length;null==e&&(e=i),null==t&&(t=0),t<0&&(t=i+t),e<0&&(e=i+e);for(var o=t;o>=0&&o<e&&o<i;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!p(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(vo)},zDepth:function(){var t=this[0];if(t){var e=t._private;if("nodes"===e.group){var n=e.data.parent?t.parents().size():0;return t.isParent()?n:vt-1}var i=e.target,o=e.source.zDepth(),r=i.zDepth();return Math.max(o,r,0)}}};mo.each=mo.forEach;var yo=Mt({nodeDimensionsIncludeLabels:!1}),bo={layoutDimensions:function(t){if((t=yo(t)).nodeDimensionsIncludeLabels){var e=this.boundingBox();return{w:e.w,h:e.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(t,e,n){var i=this.nodes(),o=this.cy(),r=e.eles,s=function(t){return t.id()},a=C(n,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var l=e.spacingFactor&&1!==e.spacingFactor,h=function(){if(!l)return null;for(var t=de(),e=0;e<i.length;e++){var n=a(i[e],e);pe(t,n.x,n.y)}return t}(),u=C(function(t,n){var i=a(t,n);return l&&(i=function(t,e,n){var i=h.x1+h.w/2,o=h.y1+h.h/2;return{x:i+(n.x-i)*t,y:o+(n.y-o)*t}}(Math.abs(e.spacingFactor),0,i)),null!=e.transform&&(i=e.transform(t,i)),i},s);if(e.animate){for(var d=0;d<i.length;d++){var c=i[d],p=u(c,d);if(null==e.animateFilter||e.animateFilter(c,d)){var f=c.animation({position:p,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(f)}else c.position(p)}if(e.fit){var g=o.animation({fit:{boundingBox:r.boundingBoxAt(u),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(g)}else if(void 0!==e.zoom&&void 0!==e.pan){var v=o.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(v)}t.animations.forEach(function(t){return t.play()}),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),Gn.all(t.animations.map(function(t){return t.promise()})).then(function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})})}else i.positions(u),e.fit&&o.fit(e.eles,e.padding),null!=e.zoom&&o.zoom(e.zoom),e.pan&&o.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(A({},t,{eles:this}))}};function wo(t,e,n){var i,o=n._private,r=o.styleCache=o.styleCache||[];return null!=(i=r[t])?i:i=r[t]=e(n)}function xo(t,e){return t=ut(t),function(n){return wo(t,e,n)}}function _o(t,e){t=ut(t);var n=function(t){return e.call(t)};return function(){var e=this[0];if(e)return wo(t,n,e)}}bo.createLayout=bo.makeLayout=bo.layout;var Eo={recalculateRenderedStyle:function(t){var e=this.cy(),n=e.renderer(),i=e.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t,e=this.cy(),n=function(t){return t._private.styleCache=null};return e.hasCompoundNodes()?((t=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(t.connectedEdges()),t.forEach(n)):this.forEach(function(t){n(t),t.connectedEdges().forEach(n)}),this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching())return e._private.batchStyleEles.merge(this),this;var n=e.hasCompoundNodes(),i=e.style(),o=this;t=!(!t&&void 0!==t),n&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=i.apply(o);return t?r.emitAndNotify("style"):r.emit("style"),this},parsedStyle:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],i=n.cy();if(i.styleEnabled()&&n){var o=n._private.style[t];return null!=o?o:e?i.style().getDefaultProperty(t):null}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var n=e.pstyle(t);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=this[0];return n?e.style().getRenderedStyle(n,t):void 0},style:function(t,e){var n=this.cy();if(!n.styleEnabled())return this;var i=n.style();if(g(t))i.applyBypass(this,t,!1),this.emitAndNotify("style");else if(c(t)){if(void 0===e){var o=this[0];return o?i.getStylePropertyValue(o,t):void 0}i.applyBypass(this,t,e,!1),this.emitAndNotify("style")}else if(void 0===t){var r=this[0];return r?i.getRawStyle(r):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=e.style();if(void 0===t)for(var i=0;i<this.length;i++)n.removeAllBypasses(this[i],!1);else{t=t.split(/\s+/);for(var o=0;o<this.length;o++)n.removeBypasses(this[o],t,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),n=this[0];if(n){var i=n._private,o=n.pstyle("opacity").value;if(!e)return o;var r=i.data.parent?n.parents():null;if(r)for(var s=0;s<r.length;s++)o*=r[s].pstyle("opacity").value;return o}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function ko(t,e){var n=t._private.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++)if(!e(n[i]))return!1;return!0}function So(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,i=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var o=this[0],r=t.hasCompoundNodes();if(o){var s=o._private;if(!e(o))return!1;if(o.isNode())return!r||ko(o,i);var a=s.source,l=s.target;return n(a)&&(!r||ko(a,n))&&(a===l||n(l)&&(!r||ko(l,n)))}}}var Co=xo("eleTakesUpSpace",function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())});Eo.takesUpSpace=_o("takesUpSpace",So({ok:Co}));var To=xo("eleInteractive",function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&Co(t)}),Mo=xo("parentInteractive",function(t){return"visible"===t.pstyle("visibility").value&&Co(t)});Eo.interactive=_o("interactive",So({ok:To,parentOk:Mo,edgeOkViaNode:Co})),Eo.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var Do=xo("eleVisible",function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&Co(t)});Eo.visible=_o("visible",So({ok:Do,edgeOkViaNode:Co})),Eo.hidden=function(){var t=this[0];if(t)return!t.visible()},Eo.isBundledBezier=_o("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Eo.bypass=Eo.css=Eo.style,Eo.renderedCss=Eo.renderedStyle,Eo.removeBypass=Eo.removeCss=Eo.removeStyle,Eo.pstyle=Eo.parsedStyle;var Oo={};function Po(t){return function(){var e=arguments,n=[];if(2===e.length){var i=e[0],o=e[1];this.on(t.event,i,o)}else if(1===e.length&&p(e[0])){var r=e[0];this.on(t.event,r)}else if(0===e.length||1===e.length&&f(e[0])){for(var s=1===e.length?e[0]:null,a=0;a<this.length;a++){var l=this[a],h=!t.ableField||l._private[t.ableField],u=l._private[t.field]!=t.value;if(t.overrideAble){var d=t.overrideAble(l);if(void 0!==d&&(h=d,!d))return this}h&&(l._private[t.field]=t.value,u&&n.push(l))}var c=this.spawn(n);c.updateStyle(),c.emit(t.event),s&&c.emit(s)}return this}}function Io(t){Oo[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(void 0!==n)return n}return e._private[t.field]}},Oo[t.on]=Po({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Oo[t.off]=Po({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Io({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),Io({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&!t.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Io({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Io({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Oo.deselect=Oo.unselect,Oo.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},Io({field:"active",on:"activate",off:"unactivate"}),Io({field:"pannable",on:"panify",off:"unpanify"}),Oo.inactive=function(){var t=this[0];if(t)return!t._private.active};var Ao={},No=function(t){return function(e){for(var n=[],i=0;i<this.length;i++){var o=this[i];if(o.isNode()){for(var r=!1,s=o.connectedEdges(),a=0;a<s.length;a++){var l=s[a],h=l.source(),u=l.target();if(t.noIncomingEdges&&u===o&&h!==o||t.noOutgoingEdges&&h===o&&u!==o){r=!0;break}}r||n.push(o)}}return this.spawn(n,{unique:!0}).filter(e)}},Ro=function(t){return function(e){for(var n=[],i=0;i<this.length;i++){var o=this[i];if(o.isNode())for(var r=o.connectedEdges(),s=0;s<r.length;s++){var a=r[s],l=a.source(),h=a.target();t.outgoing&&l===o?(n.push(a),n.push(h)):t.incoming&&h===o&&(n.push(a),n.push(l))}}return this.spawn(n,{unique:!0}).filter(e)}},Lo=function(t){return function(e){for(var n=this,i=[],o={};;){var r=t.outgoing?n.outgoers():n.incomers();if(0===r.length)break;for(var s=!1,a=0;a<r.length;a++){var l=r[a],h=l.id();o[h]||(o[h]=!0,i.push(l),s=!0)}if(!s)break;n=r}return this.spawn(i,{unique:!0}).filter(e)}};function zo(t){return function(e){for(var n=[],i=0;i<this.length;i++){var o=this[i]._private[t.attr];o&&n.push(o)}return this.spawn(n,{unique:!0}).filter(e)}}function Bo(t){return function(e){var n=[],i=this._private.cy,o=t||{};c(e)&&(e=i.$(e));for(var r=0;r<e.length;r++)for(var s=e[r]._private.edges,a=0;a<s.length;a++){var l=s[a],h=l._private.data,u=this.hasElementWithId(h.source)&&e.hasElementWithId(h.target),d=e.hasElementWithId(h.source)&&this.hasElementWithId(h.target);if(u||d){if(o.thisIsSrc||o.thisIsTgt){if(o.thisIsSrc&&!u)continue;if(o.thisIsTgt&&!d)continue}n.push(l)}}return this.spawn(n,{unique:!0})}}function Fo(t){return t=A({},{codirected:!1},t),function(e){for(var n=[],i=this.edges(),o=t,r=0;r<i.length;r++)for(var s=i[r]._private,a=s.source,l=a._private.data.id,h=s.data.target,u=a._private.edges,d=0;d<u.length;d++){var c=u[d],p=c._private.data,f=p.target,g=p.source,v=f===h&&g===l;(o.codirected&&v||!o.codirected&&(v||l===f&&h===g))&&n.push(c)}return this.spawn(n,{unique:!0}).filter(e)}}Ao.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},A(Ao,{roots:No({noIncomingEdges:!0}),leaves:No({noOutgoingEdges:!0}),outgoers:vi(Ro({outgoing:!0}),"outgoers"),successors:Lo({outgoing:!0}),incomers:vi(Ro({incoming:!0}),"incomers"),predecessors:Lo({incoming:!0})}),A(Ao,{neighborhood:vi(function(t){for(var e=[],n=this.nodes(),i=0;i<n.length;i++)for(var o=n[i],r=o.connectedEdges(),s=0;s<r.length;s++){var a=r[s],l=a.source(),h=a.target(),u=o===l?h:l;u.length>0&&e.push(u[0]),e.push(a[0])}return this.spawn(e,{unique:!0}).filter(t)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),Ao.neighbourhood=Ao.neighborhood,Ao.closedNeighbourhood=Ao.closedNeighborhood,Ao.openNeighbourhood=Ao.openNeighborhood,A(Ao,{source:vi(function(t){var e,n=this[0];return n&&(e=n._private.source||n.cy().collection()),e&&t?e.filter(t):e},"source"),target:vi(function(t){var e,n=this[0];return n&&(e=n._private.target||n.cy().collection()),e&&t?e.filter(t):e},"target"),sources:zo({attr:"source"}),targets:zo({attr:"target"})}),A(Ao,{edgesWith:vi(Bo(),"edgesWith"),edgesTo:vi(Bo({thisIsSrc:!0}),"edgesTo")}),A(Ao,{connectedEdges:vi(function(t){for(var e=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode())for(var o=i._private.edges,r=0;r<o.length;r++)e.push(o[r])}return this.spawn(e,{unique:!0}).filter(t)},"connectedEdges"),connectedNodes:vi(function(t){for(var e=[],n=0;n<this.length;n++){var i=this[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,{unique:!0}).filter(t)},"connectedNodes"),parallelEdges:vi(Fo(),"parallelEdges"),codirectedEdges:vi(Fo({codirected:!0}),"codirectedEdges")}),A(Ao,{components:function(t){var e=this,n=e.cy(),i=n.collection(),o=null==t?e.nodes():t.nodes(),r=[];null!=t&&o.empty()&&(o=t.sources());var s=function(t,e){i.merge(t),o.unmerge(t),e.merge(t)};if(o.empty())return e.spawn();var a=function(){var t=n.collection();r.push(t);var i=o[0];s(i,t),e.bfs({directed:!1,roots:i,visit:function(e){return s(e,t)}}),t.forEach(function(e){e.connectedEdges().forEach(function(e){t.has(e.source())&&t.has(e.target())&&t.merge(e)})})};do{a()}while(o.length>0);return r},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}}),Ao.componentsOf=Ao.components;var jo=function(t,e,n){for(var i=null!=n?n:St();t.hasElementWithId(i);)i=St();return i},Ho=function(t,e,n){if(void 0!==t&&x(t)){var i=new At,o=!1;if(e){if(e.length>0&&g(e[0])&&!b(e[0])){o=!0;for(var r=[],s=new Rt,a=0,l=e.length;a<l;a++){var h=e[a];null==h.data&&(h.data={});var u=h.data;if(null==u.id)u.id=jo(t);else if(t.hasElementWithId(u.id)||s.has(u.id))continue;var d=new Lt(t,h,!1);r.push(d),s.add(u.id)}e=r}}else e=[];this.length=0;for(var c=0,p=e.length;c<p;c++){var f=e[c][0];if(null!=f){var v=f._private.data.id;(null==n||n.unique&&!i.has(v))&&(i.set(v,{index:this.length,ele:f}),this[this.length]=f,this.length++)}}this._private={cy:t,map:i},o&&this.restore()}else xt("A collection must have a reference to the core")},Vo=Lt.prototype=Ho.prototype;Vo.instanceString=function(){return"collection"},Vo.spawn=function(t,e,n){return x(t)||(n=e,e=t,t=this.cy()),new Ho(t,e,n)},Vo.spawnSelf=function(){return this.spawn(this)},Vo.cy=function(){return this._private.cy},Vo.renderer=function(){return this._private.cy.renderer()},Vo.element=function(){return this[0]},Vo.collection=function(){return w(this)?this:new Ho(this._private.cy,[this])},Vo.unique=function(){return new Ho(this._private.cy,this,{unique:!0})},Vo.hasElementWithId=function(t){return this._private.map.has(t=""+t)},Vo.getElementById=function(t){var e=this._private.cy,n=this._private.map.get(t=""+t);return n?n.ele:new Ho(e)},Vo.$id=Vo.getElementById,Vo.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Vo.indexOf=function(t){return this._private.map.get(t[0]._private.data.id).index},Vo.indexOfId=function(t){return this._private.map.get(t=""+t).index},Vo.json=function(t){var e=this.element(),n=this.cy();if(null==e&&t)return this;if(null!=e){var i=e._private;if(g(t)){if(n.startBatch(),t.data){e.data(t.data);var o=i.data;if(e.isEdge()){var r=!1,s={},a=t.data.source,l=t.data.target;null!=a&&a!=o.source&&(s.source=""+a,r=!0),null!=l&&l!=o.target&&(s.target=""+l,r=!0),r&&(e=e.move(s))}else{var h=t.data.parent;null==h&&null==o.parent||h==o.parent||(void 0===h&&(h=null),null!=h&&(h=""+h),e=e.move({parent:h}))}}t.position&&e.position(t.position);var u=function(n,o,r){var s=t[n];null!=s&&s!==i[n]&&(s?e[o]():e[r]())};return u("removed","remove","restore"),u("selected","select","unselect"),u("selectable","selectify","unselectify"),u("locked","lock","unlock"),u("grabbable","grabify","ungrabify"),u("pannable","panify","unpanify"),null!=t.classes&&e.classes(t.classes),n.endBatch(),this}if(void 0===t){var d={data:kt(i.data),position:kt(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,pannable:i.pannable,classes:null};d.classes="";var c=0;return i.classes.forEach(function(t){return d.classes+=0==c++?t:" "+t}),d}}},Vo.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e].json();t.push(n)}return t},Vo.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var i=this[n].json(),o=new Lt(t,i,!1);e.push(o)}return new Ho(t,e)},Vo.copy=Vo.clone,Vo.restore=function(){for(var t,e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.cy(),r=o._private,s=[],a=[],l=0,h=this.length;l<h;l++){var u=this[l];i&&!u.removed()||(u.isNode()?s.push(u):a.push(u))}t=s.concat(a);var d=function(){t.splice(e,1),e--};for(e=0;e<t.length;e++){var p=t[e],f=p._private,g=f.data;if(p.clearTraversalCache(),i||f.removed)if(void 0===g.id)g.id=jo(o);else if(v(g.id))g.id=""+g.id;else{if(E(g.id)||!c(g.id)){xt("Can not create element with invalid string ID `"+g.id+"`"),d();continue}if(o.hasElementWithId(g.id)){xt("Can not create second element with ID `"+g.id+"`"),d();continue}}var m=g.id;if(p.isNode()){var y=f.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(p.isEdge()){for(var b=p,w=["source","target"],x=w.length,_=!1,k=0;k<x;k++){var S=w[k],C=g[S];v(C)&&(C=g[S]=""+g[S]),null==C||""===C?(xt("Can not create edge `"+m+"` with unspecified "+S),_=!0):o.hasElementWithId(C)||(xt("Can not create edge `"+m+"` with nonexistant "+S+" `"+C+"`"),_=!0)}if(_){d();continue}var T=o.getElementById(g.source),M=o.getElementById(g.target);T.same(M)?T._private.edges.push(b):(T._private.edges.push(b),M._private.edges.push(b)),b._private.source=T,b._private.target=M}f.map=new At,f.map.set(m,{ele:p,index:0}),f.removed=!1,i&&o.addToPool(p)}for(var D=0;D<s.length;D++){var O=s[D],P=O._private.data;v(P.parent)&&(P.parent=""+P.parent);var I=P.parent;if(null!=I){var A=o.getElementById(I);if(A.empty())P.parent=void 0;else{for(var N=!1,R=A;!R.empty();){if(O.same(R)){N=!0,P.parent=void 0;break}R=R.parent()}N||(A[0]._private.children.push(O),O._private.parent=A[0],r.hasCompoundNodes=!0)}}}if(t.length>0){for(var L=new Ho(o,t),z=0;z<L.length;z++){var B=L[z];B.isNode()||(B.parallelEdges().clearTraversalCache(),B.source().clearTraversalCache(),B.target().clearTraversalCache())}(r.hasCompoundNodes?o.collection().merge(L).merge(L.connectedNodes()).merge(L.parent()):L).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?L.emitAndNotify("add"):i&&L.emit("add")}return this},Vo.removed=function(){var t=this[0];return t&&t._private.removed},Vo.inside=function(){var t=this[0];return t&&!t._private.removed},Vo.remove=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],i={},o=this._private.cy;function r(t){var o=i[t.id()];e&&t.removed()||o||(i[t.id()]=!0,t.isNode()?(n.push(t),function(t){for(var e=t._private.edges,n=0;n<e.length;n++)r(e[n])}(t),function(t){for(var e=t._private.children,n=0;n<e.length;n++)r(e[n])}(t)):n.unshift(t))}for(var s=0,a=this.length;s<a;s++)r(this[s]);function l(t,e){Dt(t._private.edges,e),t.clearTraversalCache()}function h(t){t.clearTraversalCache()}var u=[];function d(t,e){e=e[0];var n=(t=t[0])._private.children,i=t.id();Dt(n,e),e._private.parent=null,u.ids[i]||(u.ids[i]=!0,u.push(t))}u.ids={},this.dirtyCompoundBoundsCache(),e&&o.removeFromPool(n);for(var c=0;c<n.length;c++){var p=n[c];if(p.isEdge()){var f=p.source()[0],g=p.target()[0];l(f,p),l(g,p);for(var v=p.parallelEdges(),m=0;m<v.length;m++){var y=v[m];h(y),y.isBundledBezier()&&y.dirtyBoundingBoxCache()}}else{var b=p.parent();0!==b.length&&d(b,p)}e&&(p._private.removed=!0)}var w=o._private.elements;o._private.hasCompoundNodes=!1;for(var x=0;x<w.length;x++)if(w[x].isParent()){o._private.hasCompoundNodes=!0;break}var _=new Ho(this.cy(),n);_.size()>0&&(t?_.emitAndNotify("remove"):e&&_.emit("remove"));for(var E=0;E<u.length;E++){var k=u[E];e&&k.removed()||k.updateStyle()}return _},Vo.move=function(t){var e=this._private.cy,n=this,i=function(t){return null==t?t:""+t};if(void 0!==t.source||void 0!==t.target){var o=i(t.source),r=i(t.target),s=null!=o&&e.hasElementWithId(o),a=null!=r&&e.hasElementWithId(r);(s||a)&&(e.batch(function(){n.remove(!1,!1),n.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var e=n[t],i=e._private.data;e.isEdge()&&(s&&(i.source=o),a&&(i.target=r))}n.restore(!1,!1)}),n.emitAndNotify("move"))}else if(void 0!==t.parent){var l=i(t.parent);if(null===l||e.hasElementWithId(l)){var h=null===l?void 0:l;e.batch(function(){var t=n.remove(!1,!1);t.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var i=n[e],o=i._private.data;i.isNode()&&(o.parent=h)}t.restore(!1,!1)}),n.emitAndNotify("move")}}return this},[Fn,Zn,Qn,pi,mi,ki,Si,Ji,po,fo,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},mo,bo,Eo,Oo,Ao].forEach(function(t){A(Vo,t)});var Wo={add:function(t){var e,n=this;if(y(t)){var i=t;if(i._private.cy===n)e=i.restore();else{for(var o=[],r=0;r<i.length;r++)o.push(i[r].json());e=new Ho(n,o)}}else if(f(t))e=new Ho(n,t);else if(g(t)&&(f(t.nodes)||f(t.edges))){for(var s=t,a=[],l=["nodes","edges"],h=0,u=l.length;h<u;h++){var d=l[h],c=s[d];if(f(c))for(var p=0,v=c.length;p<v;p++){var m=A({group:d},c[p]);a.push(m)}}e=new Ho(n,a)}else e=new Lt(n,t).collection();return e},remove:function(t){return y(t)||c(t)&&(t=this.$(t)),t.remove()}},Uo=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,i){var o={x:e.x+i.dx*n,v:e.v+i.dv*n,tension:e.tension,friction:e.friction};return{dx:o.v,dv:t(o)}}function n(n,i){var o={dx:n.v,dv:t(n)},r=e(n,.5*i,o),s=e(n,.5*i,r),a=e(n,i,s),l=1/6*(o.dv+2*(r.dv+s.dv)+a.dv);return n.x=n.x+1/6*(o.dx+2*(r.dx+s.dx)+a.dx)*i,n.v=n.v+l*i,n}return function t(e,i,o){var r,s,a,l={x:-1,v:0,tension:null,friction:null},h=[0],u=0;for(e=parseFloat(e)||500,i=parseFloat(i)||20,o=o||null,l.tension=e,l.friction=i,s=(r=null!==o)?(u=t(e,i))/o*.016:.016;a=n(a||l,s),h.push(1+a.x),u+=16,Math.abs(a.x)>1e-4&&Math.abs(a.v)>1e-4;);return r?function(t){return h[t*(h.length-1)|0]}:u}}(),Yo=function(t,e,n,i){var o=function(t,e,n,i){var o=4,r=.001,s=1e-7,a=10,l=11,h=1/(l-1),u="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var d=0;d<4;++d)if("number"!=typeof arguments[d]||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var c=u?new Float32Array(l):new Array(l);function p(t,e){return 1-3*e+3*t}function f(t,e){return 3*e-6*t}function g(t){return 3*t}function v(t,e,n){return((p(e,n)*t+f(e,n))*t+g(e))*t}function m(t,e,n){return 3*p(e,n)*t*t+2*f(e,n)*t+g(e)}function y(e){for(var i=0,u=1,d=l-1;u!==d&&c[u]<=e;++u)i+=h;var p=i+(e-c[--u])/(c[u+1]-c[u])*h,f=m(p,t,n);return f>=r?function(e,i){for(var r=0;r<o;++r){var s=m(i,t,n);if(0===s)return i;i-=(v(i,t,n)-e)/s}return i}(e,p):0===f?p:function(e,i,o){var r,l,h=0;do{(r=v(l=i+(o-i)/2,t,n)-e)>0?o=l:i=l}while(Math.abs(r)>s&&++h<a);return l}(e,i,i+h)}var b=!1,w=function(o){return b||(b=!0,t===e&&n===i||function(){for(var e=0;e<l;++e)c[e]=v(e*h,t,n)}()),t===e&&n===i?o:0===o?0:1===o?1:v(y(o),e,i)};w.getControlPoints=function(){return[{x:t,y:e},{x:n,y:i}]};var x="generateBezier("+[t,e,n,i]+")";return w.toString=function(){return x},w}(t,e,n,i);return function(t,e,n){return t+(e-t)*o(n)}},Go={linear:function(t,e,n){return t+(e-t)*n},ease:Yo(.25,.1,.25,1),"ease-in":Yo(.42,0,1,1),"ease-out":Yo(0,0,.58,1),"ease-in-out":Yo(.42,0,.58,1),"ease-in-sine":Yo(.47,0,.745,.715),"ease-out-sine":Yo(.39,.575,.565,1),"ease-in-out-sine":Yo(.445,.05,.55,.95),"ease-in-quad":Yo(.55,.085,.68,.53),"ease-out-quad":Yo(.25,.46,.45,.94),"ease-in-out-quad":Yo(.455,.03,.515,.955),"ease-in-cubic":Yo(.55,.055,.675,.19),"ease-out-cubic":Yo(.215,.61,.355,1),"ease-in-out-cubic":Yo(.645,.045,.355,1),"ease-in-quart":Yo(.895,.03,.685,.22),"ease-out-quart":Yo(.165,.84,.44,1),"ease-in-out-quart":Yo(.77,0,.175,1),"ease-in-quint":Yo(.755,.05,.855,.06),"ease-out-quint":Yo(.23,1,.32,1),"ease-in-out-quint":Yo(.86,0,.07,1),"ease-in-expo":Yo(.95,.05,.795,.035),"ease-out-expo":Yo(.19,1,.22,1),"ease-in-out-expo":Yo(1,0,0,1),"ease-in-circ":Yo(.6,.04,.98,.335),"ease-out-circ":Yo(.075,.82,.165,1),"ease-in-out-circ":Yo(.785,.135,.15,.86),spring:function(t,e,n){if(0===n)return Go.linear;var i=Uo(t,e,n);return function(t,e,n){return t+(e-t)*i(n)}},"cubic-bezier":Yo};function qo(t,e,n,i,o){if(1===i)return n;var r=o(e,n,i);return null==t?r:((t.roundValue||t.color)&&(r=Math.round(r)),void 0!==t.min&&(r=Math.max(r,t.min)),void 0!==t.max&&(r=Math.min(r,t.max)),r)}function Xo(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}function Ko(t,e,n,i,o){var r=null!=o?o.type:null;n<0?n=0:n>1&&(n=1);var s=Xo(t,o),a=Xo(e,o);if(v(s)&&v(a))return qo(r,s,a,n,i);if(f(s)&&f(a)){for(var l=[],h=0;h<a.length;h++){var u=s[h],d=a[h];if(null!=u&&null!=d){var c=qo(r,u,d,n,i);l.push(c)}else l.push(d)}return l}}function Zo(t,e,n,i){var o=!i,r=t._private,s=e._private,a=s.easing,l=s.startTime,h=(i?t:t.cy()).style();if(!s.easingImpl)if(null==a)s.easingImpl=Go.linear;else{var u,d,p;u=c(a)?h.parse("transition-timing-function",a).value:a,c(u)?(d=u,p=[]):(d=u[1],p=u.slice(2).map(function(t){return+t})),p.length>0?("spring"===d&&p.push(s.duration),s.easingImpl=Go[d].apply(null,p)):s.easingImpl=Go[d]}var f,g=s.easingImpl;if(f=0===s.duration?1:(n-l)/s.duration,s.applying&&(f=s.progress),f<0?f=0:f>1&&(f=1),null==s.delay){var v=s.startPosition,m=s.position;if(m&&o&&!t.locked()){var y={};Qo(v.x,m.x)&&(y.x=Ko(v.x,m.x,f,g)),Qo(v.y,m.y)&&(y.y=Ko(v.y,m.y,f,g)),t.position(y)}var b=s.startPan,w=s.pan,x=r.pan,_=null!=w&&i;_&&(Qo(b.x,w.x)&&(x.x=Ko(b.x,w.x,f,g)),Qo(b.y,w.y)&&(x.y=Ko(b.y,w.y,f,g)),t.emit("pan"));var E=s.startZoom,k=s.zoom,S=null!=k&&i;S&&(Qo(E,k)&&(r.zoom=ue(r.minZoom,Ko(E,k,f,g),r.maxZoom)),t.emit("zoom")),(_||S)&&t.emit("viewport");var C=s.style;if(C&&C.length>0&&o){for(var T=0;T<C.length;T++){var M=C[T],D=M.name,O=s.startStyle[D],P=Ko(O,M,f,g,h.properties[O.name]);h.overrideBypass(t,D,P)}t.emit("style")}}return s.progress=f,f}function Qo(t,e){return!(null==t||null==e||!(v(t)&&v(e)||t&&e))}function Jo(t,e,n,i){var o=e._private;o.started=!0,o.startTime=n-o.progress*o.duration}function $o(t,e){var n=e._private.aniEles,i=[];function o(e,n){var o=e._private,r=o.animation.current,s=o.animation.queue,a=!1;if(!n&&"none"===e.pstyle("display").value){r=r.splice(0,r.length).concat(s.splice(0,s.length));for(var l=0;l<r.length;l++)r[l].stop()}if(0===r.length){var h=s.shift();h&&r.push(h)}for(var u=function(t){for(var e=t.length-1;e>=0;e--)(0,t[e])();t.splice(0,t.length)},d=r.length-1;d>=0;d--){var c=r[d],p=c._private;p.stopped?(r.splice(d,1),p.hooked=!1,p.playing=!1,p.started=!1,u(p.frames)):(p.playing||p.applying)&&(p.playing&&p.applying&&(p.applying=!1),p.started||Jo(0,c,t),Zo(e,c,t,n),p.applying&&(p.applying=!1),u(p.frames),null!=p.step&&p.step(t),c.completed()&&(r.splice(d,1),p.hooked=!1,p.playing=!1,p.started=!1,u(p.completes)),a=!0)}return n||0!==r.length||0!==s.length||i.push(e),a}for(var r=!1,s=0;s<n.length;s++){var a=o(n[s]);r=r||a}var l=o(e,!0);(r||l)&&(n.length>0?e.notify("draw",n):e.notify("draw")),n.unmerge(i),e.emit("step")}var tr={animate:Kn.animate(),animation:Kn.animation(),animated:Kn.animated(),clearQueue:Kn.clearQueue(),delay:Kn.delay(),delayAnimation:Kn.delayAnimation(),stop:Kn.stop(),addToAnimationPool:function(t){this.styleEnabled()&&this._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender(function(e,n){$o(n,t)},e.beforeRenderPriorities.animations):function e(){t._private.animationsRunning&&rt(function(n){$o(n,t),e()})}()}}},er={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var i=e.qualifier;return null==i||t!==n.target&&b(n.target)&&i.matches(n.target)},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t}},nr=function(t){return c(t)?new di(t):t},ir={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new so(er,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,n){return this.emitter().on(t,nr(e),n),this},removeListener:function(t,e,n){return this.emitter().removeListener(t,nr(e),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,e,n){return this.emitter().one(t,nr(e),n),this},once:function(t,e,n){return this.emitter().one(t,nr(e),n),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};Kn.eventAliasesOn(ir);var or={png:function(t){return this._private.renderer.png(t=t||{})},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};or.jpeg=or.jpg;var rr={layout:function(t){if(null!=t)if(null!=t.name){var e,n=t.name,i=this.extension("layout",n);if(null!=i)return e=c(t.eles)?this.$(t.eles):null!=t.eles?t.eles:this.$(),new i(A({},t,{cy:this,eles:e}));xt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else xt("A `name` must be specified to make a layout");else xt("Layout options must be specified to make a layout")}};rr.createLayout=rr.makeLayout=rr.layout;var sr={notify:function(t,e){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();null!=e&&i.merge(e)}else if(n.notificationsEnabled){var o=this.renderer();!this.destroyed()&&o&&o.notify(t,e)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(0===t.batchCount)return this;if(t.batchCount--,0===t.batchCount){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var i=t.batchNotifications[n];i.empty()?e.notify(n):e.notify(n,i)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch(function(){for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],r=t[o];e.getElementById(o).data(r)}})}},ar=Mt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),lr={renderTo:function(t,e,n,i){return this._private.renderer.renderTo(t,e,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this.extension("renderer",t.name);if(null!=e){void 0!==t.wheelSensitivity&&Et("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=ar(t);n.cy=this,this._private.renderer=new e(n),this.notify("init")}else xt("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){this.notify("destroy");var t=this.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach(function(t){var e=t._private;e.rscratch={},e.rstyle={},e.animation.current=[],e.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};lr.invalidateDimensions=lr.resize;var hr={collection:function(t,e){return c(t)?this.$(t):y(t)?t.collection():f(t)?new Ho(this,t,e):new Ho(this)},nodes:function(t){var e=this.$(function(t){return t.isNode()});return t?e.filter(t):e},edges:function(t){var e=this.$(function(t){return t.isEdge()});return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};hr.elements=hr.filter=hr.$;var ur={apply:function(t){var e=this._private,n=e.cy.collection();e.newStyle&&(e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0));for(var i=0;i<t.length;i++){var o=t[i],r=this.getContextMeta(o);if(!r.empty){var s=this.getContextStyle(r),a=this.applyContextStyle(r,s,o);e.newStyle||this.updateTransitions(o,a.diffProps),this.updateStyleHints(o)&&n.merge(o)}}return e.newStyle=!1,n},getPropertiesDiff:function(t,e){var n=this._private.propDiffs=this._private.propDiffs||{},i=t+"-"+e,o=n[i];if(o)return o;for(var r=[],s={},a=0;a<this.length;a++){var l=this[a],h="t"===e[a],u="t"===t[a]!==h,d=l.mappedProperties.length>0;if(u||h&&d){var c=void 0;u&&d?c=l.properties:u?c=l.properties:d&&(c=l.mappedProperties);for(var p=0;p<c.length;p++){for(var f=c[p],g=f.name,v=!1,m=a+1;m<this.length&&("t"!==e[m]||!(v=null!=this[m].properties[f.name]));m++);s[g]||v||(s[g]=!0,r.push(g))}}}return n[i]=r,r},getContextMeta:function(t){var e,n="",i=t._private.styleCxtKey||"";this._private.newStyle&&(i="");for(var o=0;o<this.length;o++){var r=this[o];n+=r.selector&&r.selector.matches(t)?"t":"f"}return e=this.getPropertiesDiff(i,n),t._private.styleCxtKey=n,{key:n,diffPropNames:e,empty:0===e.length}},getContextStyle:function(t){var e=t.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},o=0;o<this.length;o++){var r=this[o];if("t"===e[o])for(var s=0;s<r.properties.length;s++){var a=r.properties[s];i[a.name]=a}}return n[e]=i,i},applyContextStyle:function(t,e,n){for(var i=t.diffPropNames,o={},r=this.types,s=0;s<i.length;s++){var a=i[s],l=e[a],h=n.pstyle(a);if(!l){if(!h)continue;l=h.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(h!==l){if(l.mapped===r.fn&&null!=h&&null!=h.mapping&&h.mapping.value===l.value){var u=h.mapping;if((u.fnValue=l.value(n))===u.prevFnValue)continue}var d=o[a]={prev:h};this.applyParsedProperty(n,l),d.next=n.pstyle(a),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:o}},updateStyleHints:function(t){var e,n=t._private,i=this,o=i.propertyGroupKeys,r=function(t,e,n){return i.getPropertiesHash(t,e,n)},s=n.styleKey;if(t.removed())return!1;var a="nodes"===n.group,l=t._private.style;e=Object.keys(l);for(var h=0;h<o.length;h++)n.styleKeys[o[h]]=0;for(var u=function(t,e){return n.styleKeys[e]=lt(t,n.styleKeys[e])},d=function(t,e){for(var n=0;n<t.length;n++)u(t.charCodeAt(n),e)},c=function(t){return-128<t&&t<128&&Math.floor(t)!==t?-(1024*t|0):t},p=0;p<e.length;p++){var f=e[p],g=l[f];if(null!=g){var v=this.properties[f],m=v.type,y=v.groupKey,b=void 0;null!=v.hashOverride?b=v.hashOverride(t,g):null!=g.pfValue&&(b=g.pfValue);var w=null==v.enums?g.value:null,x=null!=b,_=g.units;if(m.number&&(x||null!=w)){var E=x?b:w;if(m.multiple)for(var k=0;k<E.length;k++)u(c(E[k]),y);else u(c(E),y);x||null==_||d(_,y)}else d(g.strValue,y)}}for(var S=0,C=0;C<o.length;C++)S=lt(n.styleKeys[o[C]],S);n.styleKey=S;var T=n.labelDimsKey=n.styleKeys.labelDimensions;if(n.labelKey=r(t,["label"],T),n.labelStyleKey=lt(n.styleKeys.commonLabel,n.labelKey),a||(n.sourceLabelKey=r(t,["source-label"],T),n.sourceLabelStyleKey=lt(n.styleKeys.commonLabel,n.sourceLabelKey),n.targetLabelKey=r(t,["target-label"],T),n.targetLabelStyleKey=lt(n.styleKeys.commonLabel,n.targetLabelKey)),a){var M=n.styleKeys,D=M.pie;n.nodeKey=ht([M.nodeBorder,M.backgroundImage,M.compound,D],M.nodeBody),n.hasPie=0!=D}return s!==n.styleKey},clearStyleHints:function(t){var e=t._private;e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},applyParsedProperty:function(t,e){var n,i=this,o=e,r=t._private.style,s=i.types,a=i.properties[o.name].type,l=o.bypass,h=r[o.name],u=h&&h.bypass,d=t._private,c=function(t){return null==t?null:null!=t.pfValue?t.pfValue:t.value},p=function(){var e=c(h),n=c(o);i.checkTriggers(t,o.name,e,n)};if("curve-style"===e.name&&t.isEdge()&&("bezier"!==e.value&&t.isLoop()||"haystack"===e.value&&(t.source().isParent()||t.target().isParent()))&&(o=e=this.parse(e.name,"bezier",l)),o.delete)return r[o.name]=void 0,p(),!0;if(o.deleteBypassed)return h?!!h.bypass&&(h.bypassed=void 0,p(),!0):(p(),!0);if(o.deleteBypass)return h?!!h.bypass&&(r[o.name]=h.bypassed,p(),!0):(p(),!0);var f=function(){Et("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case s.mapData:for(var g,m=o.field.split("."),y=d.data,b=0;b<m.length&&y;b++)y=y[m[b]];if(null==y)return f(),!1;if(!v(y))return Et("Do not use continuous mappers without specifying numeric data (i.e. `"+o.field+": "+y+"` for `"+t.id()+"` is non-numeric)"),!1;var w=o.fieldMax-o.fieldMin;if((g=0===w?0:(y-o.fieldMin)/w)<0?g=0:g>1&&(g=1),a.color){var x=o.valueMin[0],_=o.valueMin[1],E=o.valueMax[1],k=o.valueMin[2],S=o.valueMax[2],C=null==o.valueMin[3]?1:o.valueMin[3],T=null==o.valueMax[3]?1:o.valueMax[3],M=[Math.round(x+(o.valueMax[0]-x)*g),Math.round(_+(E-_)*g),Math.round(k+(S-k)*g),Math.round(C+(T-C)*g)];n={bypass:o.bypass,name:o.name,value:M,strValue:"rgb("+M[0]+", "+M[1]+", "+M[2]+")"}}else{if(!a.number)return!1;n=this.parse(o.name,o.valueMin+(o.valueMax-o.valueMin)*g,o.bypass,"mapping")}if(!n)return f(),!1;n.mapping=o,o=n;break;case s.data:for(var D=o.field.split("."),O=d.data,P=0;P<D.length&&O;P++)O=O[D[P]];if(null!=O&&(n=this.parse(o.name,O,o.bypass,"mapping")),!n)return f(),!1;n.mapping=o,o=n;break;case s.fn:var I=null!=o.fnValue?o.fnValue:(0,o.value)(t);if(o.prevFnValue=I,null==I)return Et("Custom function mappers may not return null (i.e. `"+o.name+"` for ele `"+t.id()+"` is null)"),!1;if(!(n=this.parse(o.name,I,o.bypass,"mapping")))return Et("Custom function mappers may not return invalid values for the property type (i.e. `"+o.name+"` for ele `"+t.id()+"` is invalid)"),!1;n.mapping=kt(o),o=n;break;case void 0:break;default:return!1}return l?(o.bypassed=u?h.bypassed:h,r[o.name]=o):u?h.bypassed=o:r[o.name]=o,p(),!0},cleanElements:function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),e)for(var o=i._private.style,r=Object.keys(o),s=0;s<r.length;s++){var a=r[s],l=o[a];null!=l&&(l.bypass?l.bypassed=null:o[a]=null)}else i._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(t,e){var n=this,i=t._private,o=t.pstyle("transition-property").value,r=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(o.length>0&&r>0){for(var a={},l=!1,h=0;h<o.length;h++){var u=o[h],d=t.pstyle(u),c=e[u];if(c){var p=c.prev,g=null!=c.next?c.next:d,m=!1,y=void 0;p&&(v(p.pfValue)&&v(g.pfValue)?y=p.pfValue+1e-6*(m=g.pfValue-p.pfValue):v(p.value)&&v(g.value)?y=p.value+1e-6*(m=g.value-p.value):f(p.value)&&f(g.value)&&(m=p.value[0]!==g.value[0]||p.value[1]!==g.value[1]||p.value[2]!==g.value[2],y=p.strValue),m&&(a[u]=g.strValue,this.applyBypass(t,u,y),l=!0))}}if(!l)return;i.transitioning=!0,new Gn(function(e){s>0?t.delayAnimation(s).play().promise().then(e):e()}).then(function(){return t.animation({style:a,duration:r,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(t,o),t.emitAndNotify("style"),i.transitioning=!1})}else i.transitioning&&(this.removeBypasses(t,o),t.emitAndNotify("style"),i.transitioning=!1)},checkTrigger:function(t,e,n,i,o,r){var s=this.properties[e],a=o(s);null!=a&&a(n,i)&&r(s)},checkZOrderTrigger:function(t,e,n,i){var o=this;this.checkTrigger(t,e,n,i,function(t){return t.triggersZOrder},function(){o._private.cy.notify("zorder",t)})},checkBoundsTrigger:function(t,e,n,i){this.checkTrigger(t,e,n,i,function(t){return t.triggersBounds},function(o){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),"bezier"!==t.pstyle("curve-style").value&&("curve-style"!==e||"bezier"!==n&&"bezier"!==i)||!o.triggersBoundsOfParallelBeziers||t.parallelEdges().forEach(function(t){t.isBundledBezier()&&t.dirtyBoundingBoxCache()})})},checkTriggers:function(t,e,n,i){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,n,i),this.checkBoundsTrigger(t,e,n,i)}},dr={applyBypass:function(t,e,n,i){var o=[];if("*"===e||"**"===e){if(void 0!==n)for(var r=0;r<this.properties.length;r++){var s=this.parse(this.properties[r].name,n,!0);s&&o.push(s)}}else if(c(e)){var a=this.parse(e,n,!0);a&&o.push(a)}else{if(!g(e))return!1;var l=e;i=n;for(var h=Object.keys(l),u=0;u<h.length;u++){var d=h[u],p=l[d];if(void 0===p&&(p=l[M(d)]),void 0!==p){var f=this.parse(d,p,!0);f&&o.push(f)}}}if(0===o.length)return!1;for(var v=!1,m=0;m<t.length;m++){for(var y=t[m],b={},w=void 0,x=0;x<o.length;x++){var _=o[x];if(i){var E=y.pstyle(_.name);w=b[_.name]={prev:E}}v=this.applyParsedProperty(y,_)||v,i&&(w.next=y.pstyle(_.name))}v&&this.updateStyleHints(y),i&&this.updateTransitions(y,b,!0)}return v},overrideBypass:function(t,e,n){e=T(e);for(var i=0;i<t.length;i++){var o=t[i],r=o._private.style[e],s=this.properties[e].type,a=s.color,l=s.mutiple,h=r?null!=r.pfValue?r.pfValue:r.value:null;r&&r.bypass?(r.value=n,null!=r.pfValue&&(r.pfValue=n),r.strValue=a?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(o)):this.applyBypass(o,e,n),this.checkTriggers(o,e,h,n)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,n){for(var i=0;i<t.length;i++){for(var o=t[i],r={},s=0;s<e.length;s++){var a=e[s],l=this.properties[a],h=o.pstyle(l.name);if(h&&h.bypass){var u=this.parse(a,"",!0),d=r[l.name]={prev:h};this.applyParsedProperty(o,u),d.next=o.pstyle(l.name)}}this.updateStyleHints(o),n&&this.updateTransitions(o,r,!0)}}},cr={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy.container();if(r&&e&&r.getComputedStyle)return r.getComputedStyle(e).getPropertyValue(t)}},pr={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){if(t=t[0]){for(var n={},i=0;i<this.properties.length;i++){var o=this.properties[i],r=this.getStylePropertyValue(t,o.name,e);null!=r&&(n[o.name]=r,n[M(o.name)]=r)}return n}},getIndexedStyle:function(t,e,n,i){var o=t.pstyle(e)[n][i];return null!=o?o:t.cy().style().getDefaultProperty(e)[n][0]},getStylePropertyValue:function(t,e,n){if(t=t[0]){var i=this.properties[e];i.alias&&(i=i.pointsTo);var o=i.type,r=t.pstyle(i.name);if(r){var s=r.value,a=r.units,l=r.strValue;if(n&&o.number&&null!=s&&v(s)){var h=t.cy().zoom(),u=function(t){return t*h},d=function(t,e){return u(t)+e},p=f(s);return(p?a.every(function(t){return null!=t}):null!=a)?p?s.map(function(t,e){return d(t,a[e])}).join(" "):d(s,a):p?s.map(function(t){return c(t)?t:""+u(t)}).join(" "):""+u(s)}if(null!=l)return l}return null}},getAnimationStartStyle:function(t,e){for(var n={},i=0;i<e.length;i++){var o=e[i].name,r=t.pstyle(o);void 0!==r&&(r=g(r)?this.parse(o,r.strValue):this.parse(o,r)),r&&(n[o]=r)}return n},getPropsList:function(t){var e=[],n=t,i=this.properties;if(n)for(var o=Object.keys(n),r=0;r<o.length;r++){var s=o[r],a=n[s],l=i[s]||i[T(s)],h=this.parse(l.name,a);h&&e.push(h)}return e},getNonDefaultPropertiesHash:function(t,e,n){var i,o,r,s,a,l=n;for(s=0;s<e.length;s++)if(null!=(i=t.pstyle(e[s],!1)))if(null!=i.pfValue)l=lt(r,l);else for(o=i.strValue,a=0;a<o.length;a++)r=o.charCodeAt(a),l=lt(r,l);return l}};pr.getPropertiesHash=pr.getNonDefaultPropertiesHash;var fr={appendFromJson:function(t){for(var e=0;e<t.length;e++){var n=t[e],i=n.selector,o=n.style||n.css,r=Object.keys(o);this.selector(i);for(var s=0;s<r.length;s++){var a=r[s];this.css(a,o[a])}}return this},fromJson:function(t){return this.resetToDefault(),this.appendFromJson(t),this},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],i=n.selector,o=n.properties,r={},s=0;s<o.length;s++){var a=o[s];r[a.name]=a.strValue}t.push({selector:i?i.toString():"core",style:r})}return t}},gr={appendFromString:function(t){var e,n,i,o=""+t;function r(){o=o.length>e.length?o.substr(e.length):""}function s(){n=n.length>i.length?n.substr(i.length):""}for(o=o.replace(/[\/][*](\s|.)+?[*][\/]/g,"");!o.match(/^\s*$/);){var a=o.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!a){Et("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+o);break}e=a[0];var l=a[1];if("core"!==l&&new di(l).invalid)Et("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),r();else{var h=a[2],u=!1;n=h;for(var d=[];!n.match(/^\s*$/);){var c=n.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!c){Et("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),u=!0;break}i=c[0];var p=c[1],f=c[2];this.properties[p]?this.parse(p,f)?(d.push({name:p,val:f}),s()):(Et("Skipping property: Invalid property definition in: "+i),s()):(Et("Skipping property: Invalid property name in: "+i),s())}if(u){r();break}this.selector(l);for(var g=0;g<d.length;g++){var v=d[g];this.css(v.name,v.val)}r()}}return this},fromString:function(t){return this.resetToDefault(),this.appendFromString(t),this}},vr={};!function(){var t=P,e=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(e){var n=t+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},i=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];vr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","concave-hexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:e("data")},layoutData:{mapping:!0,regex:e("layoutData")},scratch:{mapping:!0,regex:e("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:i,singleRegexMatchValue:!0},urls:{regexes:i,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return c(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]}};var o={zeroNonZero:function(t,e){return(null==t||null==e)&&t!==e||0==t&&0!=e||0!=t&&0==e},any:function(t,e){return t!=e}},r=vr.types,s=[{name:"label",type:r.text,triggersBounds:o.any},{name:"text-rotation",type:r.textRotation,triggersBounds:o.any},{name:"text-margin-x",type:r.bidirectionalSize,triggersBounds:o.any},{name:"text-margin-y",type:r.bidirectionalSize,triggersBounds:o.any}],a=[{name:"source-label",type:r.text,triggersBounds:o.any},{name:"source-text-rotation",type:r.textRotation,triggersBounds:o.any},{name:"source-text-margin-x",type:r.bidirectionalSize,triggersBounds:o.any},{name:"source-text-margin-y",type:r.bidirectionalSize,triggersBounds:o.any},{name:"source-text-offset",type:r.size,triggersBounds:o.any}],l=[{name:"target-label",type:r.text,triggersBounds:o.any},{name:"target-text-rotation",type:r.textRotation,triggersBounds:o.any},{name:"target-text-margin-x",type:r.bidirectionalSize,triggersBounds:o.any},{name:"target-text-margin-y",type:r.bidirectionalSize,triggersBounds:o.any},{name:"target-text-offset",type:r.size,triggersBounds:o.any}],h=[{name:"font-family",type:r.fontFamily,triggersBounds:o.any},{name:"font-style",type:r.fontStyle,triggersBounds:o.any},{name:"font-weight",type:r.fontWeight,triggersBounds:o.any},{name:"font-size",type:r.size,triggersBounds:o.any},{name:"text-transform",type:r.textTransform,triggersBounds:o.any},{name:"text-wrap",type:r.textWrap,triggersBounds:o.any},{name:"text-overflow-wrap",type:r.textOverflowWrap,triggersBounds:o.any},{name:"text-max-width",type:r.size,triggersBounds:o.any},{name:"text-outline-width",type:r.size,triggersBounds:o.any},{name:"line-height",type:r.positiveNumber,triggersBounds:o.any}],u=[{name:"text-valign",type:r.valign,triggersBounds:o.any},{name:"text-halign",type:r.halign,triggersBounds:o.any},{name:"color",type:r.color},{name:"text-outline-color",type:r.color},{name:"text-outline-opacity",type:r.zeroOneNumber},{name:"text-background-color",type:r.color},{name:"text-background-opacity",type:r.zeroOneNumber},{name:"text-background-padding",type:r.size,triggersBounds:o.any},{name:"text-border-opacity",type:r.zeroOneNumber},{name:"text-border-color",type:r.color},{name:"text-border-width",type:r.size,triggersBounds:o.any},{name:"text-border-style",type:r.borderStyle,triggersBounds:o.any},{name:"text-background-shape",type:r.textBackgroundShape,triggersBounds:o.any},{name:"text-justification",type:r.justification}],d=[{name:"events",type:r.bool},{name:"text-events",type:r.bool}],p=[{name:"display",type:r.display,triggersZOrder:o.any,triggersBounds:o.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:r.visibility,triggersZOrder:o.any},{name:"opacity",type:r.zeroOneNumber,triggersZOrder:o.zeroNonZero},{name:"text-opacity",type:r.zeroOneNumber},{name:"min-zoomed-font-size",type:r.size},{name:"z-compound-depth",type:r.zCompoundDepth,triggersZOrder:o.any},{name:"z-index-compare",type:r.zIndexCompare,triggersZOrder:o.any},{name:"z-index",type:r.nonNegativeInt,triggersZOrder:o.any}],f=[{name:"overlay-padding",type:r.size,triggersBounds:o.any},{name:"overlay-color",type:r.color},{name:"overlay-opacity",type:r.zeroOneNumber,triggersBounds:o.zeroNonZero}],g=[{name:"transition-property",type:r.propList},{name:"transition-duration",type:r.time},{name:"transition-delay",type:r.time},{name:"transition-timing-function",type:r.easing}],v=function(t,e){return"label"===e.value?-t.poolIndex():e.pfValue},m=[{name:"height",type:r.nodeSize,triggersBounds:o.any,hashOverride:v},{name:"width",type:r.nodeSize,triggersBounds:o.any,hashOverride:v},{name:"shape",type:r.nodeShape,triggersBounds:o.any},{name:"shape-polygon-points",type:r.polygonPointList,triggersBounds:o.any},{name:"background-color",type:r.color},{name:"background-fill",type:r.fill},{name:"background-opacity",type:r.zeroOneNumber},{name:"background-blacken",type:r.nOneOneNumber},{name:"background-gradient-stop-colors",type:r.colors},{name:"background-gradient-stop-positions",type:r.percentages},{name:"background-gradient-direction",type:r.gradientDirection},{name:"padding",type:r.sizeMaybePercent,triggersBounds:o.any},{name:"padding-relative-to",type:r.paddingRelativeTo,triggersBounds:o.any},{name:"bounds-expansion",type:r.size,triggersBounds:o.any}],y=[{name:"border-color",type:r.color},{name:"border-opacity",type:r.zeroOneNumber},{name:"border-width",type:r.size,triggersBounds:o.any},{name:"border-style",type:r.borderStyle}],b=[{name:"background-image",type:r.urls},{name:"background-image-crossorigin",type:r.bgCrossOrigin},{name:"background-image-opacity",type:r.zeroOneNumbers},{name:"background-position-x",type:r.bgPos},{name:"background-position-y",type:r.bgPos},{name:"background-width-relative-to",type:r.bgRelativeTo},{name:"background-height-relative-to",type:r.bgRelativeTo},{name:"background-repeat",type:r.bgRepeat},{name:"background-fit",type:r.bgFit},{name:"background-clip",type:r.bgClip},{name:"background-width",type:r.bgWH},{name:"background-height",type:r.bgWH},{name:"background-offset-x",type:r.bgPos},{name:"background-offset-y",type:r.bgPos}],w=[{name:"position",type:r.position,triggersBounds:o.any},{name:"compound-sizing-wrt-labels",type:r.compoundIncludeLabels,triggersBounds:o.any},{name:"min-width",type:r.size,triggersBounds:o.any},{name:"min-width-bias-left",type:r.sizeMaybePercent,triggersBounds:o.any},{name:"min-width-bias-right",type:r.sizeMaybePercent,triggersBounds:o.any},{name:"min-height",type:r.size,triggersBounds:o.any},{name:"min-height-bias-top",type:r.sizeMaybePercent,triggersBounds:o.any},{name:"min-height-bias-bottom",type:r.sizeMaybePercent,triggersBounds:o.any}],x=[{name:"line-style",type:r.lineStyle},{name:"line-color",type:r.color},{name:"line-fill",type:r.fill},{name:"line-cap",type:r.lineCap},{name:"line-dash-pattern",type:r.numbers},{name:"line-dash-offset",type:r.number},{name:"line-gradient-stop-colors",type:r.colors},{name:"line-gradient-stop-positions",type:r.percentages},{name:"curve-style",type:r.curveStyle,triggersBounds:o.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:r.zeroOneNumber,triggersBounds:o.any},{name:"source-endpoint",type:r.edgeEndpoint,triggersBounds:o.any},{name:"target-endpoint",type:r.edgeEndpoint,triggersBounds:o.any},{name:"control-point-step-size",type:r.size,triggersBounds:o.any},{name:"control-point-distances",type:r.bidirectionalSizes,triggersBounds:o.any},{name:"control-point-weights",type:r.numbers,triggersBounds:o.any},{name:"segment-distances",type:r.bidirectionalSizes,triggersBounds:o.any},{name:"segment-weights",type:r.numbers,triggersBounds:o.any},{name:"taxi-turn",type:r.sizeMaybePercent,triggersBounds:o.any},{name:"taxi-turn-min-distance",type:r.size,triggersBounds:o.any},{name:"taxi-direction",type:r.axisDirection,triggersBounds:o.any},{name:"edge-distances",type:r.edgeDistances,triggersBounds:o.any},{name:"arrow-scale",type:r.positiveNumber,triggersBounds:o.any},{name:"loop-direction",type:r.angle,triggersBounds:o.any},{name:"loop-sweep",type:r.angle,triggersBounds:o.any},{name:"source-distance-from-node",type:r.size,triggersBounds:o.any},{name:"target-distance-from-node",type:r.size,triggersBounds:o.any}],_=[{name:"ghost",type:r.bool,triggersBounds:o.any},{name:"ghost-offset-x",type:r.bidirectionalSize,triggersBounds:o.any},{name:"ghost-offset-y",type:r.bidirectionalSize,triggersBounds:o.any},{name:"ghost-opacity",type:r.zeroOneNumber}],E=[{name:"selection-box-color",type:r.color},{name:"selection-box-opacity",type:r.zeroOneNumber},{name:"selection-box-border-color",type:r.color},{name:"selection-box-border-width",type:r.size},{name:"active-bg-color",type:r.color},{name:"active-bg-opacity",type:r.zeroOneNumber},{name:"active-bg-size",type:r.size},{name:"outside-texture-bg-color",type:r.color},{name:"outside-texture-bg-opacity",type:r.zeroOneNumber}],k=[];vr.pieBackgroundN=16,k.push({name:"pie-size",type:r.sizeMaybePercent});for(var S=1;S<=vr.pieBackgroundN;S++)k.push({name:"pie-"+S+"-background-color",type:r.color}),k.push({name:"pie-"+S+"-background-size",type:r.percent}),k.push({name:"pie-"+S+"-background-opacity",type:r.zeroOneNumber});var C=[],T=vr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:r.arrowShape,triggersBounds:o.any},{name:"arrow-color",type:r.color},{name:"arrow-fill",type:r.arrowFill}].forEach(function(t){T.forEach(function(e){C.push({name:e+"-"+t.name,type:t.type,triggersBounds:t.triggersBounds})})},{});var M=vr.properties=[].concat(d,g,p,f,_,u,h,s,a,l,m,y,b,k,w,x,C,E),D=vr.propertyGroups={behavior:d,transition:g,visibility:p,overlay:f,ghost:_,commonLabel:u,labelDimensions:h,mainLabel:s,sourceLabel:a,targetLabel:l,nodeBody:m,nodeBorder:y,backgroundImage:b,pie:k,compound:w,edgeLine:x,edgeArrow:C,core:E},O=vr.propertyGroupNames={};(vr.propertyGroupKeys=Object.keys(D)).forEach(function(t){O[t]=D[t].map(function(t){return t.name}),D[t].forEach(function(e){return e.groupKey=t})});var I=vr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];vr.propertyNames=M.map(function(t){return t.name});for(var A=0;A<M.length;A++){var N=M[A];M[N.name]=N}for(var R=0;R<I.length;R++){var L=I[R],z={name:L.name,alias:!0,pointsTo:M[L.pointsTo]};M.push(z),M[L.name]=z}}(),vr.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},vr.getDefaultProperties=function(){var t=this._private;if(null!=t.defaultProperties)return t.defaultProperties;for(var e=A({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(t,e){for(var n=1;n<=vr.pieBackgroundN;n++)t[e.name.replace("{{i}}",n)]=e.value;return t},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(t,e){return vr.arrowPrefixes.forEach(function(n){t[n+"-"+e.name]=e.value}),t},{})),n={},i=0;i<this.properties.length;i++){var o=this.properties[i];if(!o.pointsTo){var r=o.name,s=this.parse(r,e[r]);n[r]=s}}return t.defaultProperties=n,t.defaultProperties},vr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var mr={parse:function(t,e,n,i){if(p(e))return this.parseImplWarn(t,e,n,i);var o,r=dt(t,""+e,n?"t":"f","mapping"===i||!0===i||!1===i||null==i?"dontcare":i),s=this.propCache=this.propCache||[];return(o=s[r])||(o=s[r]=this.parseImplWarn(t,e,n,i)),(n||"mapping"===i)&&(o=kt(o))&&(o.value=kt(o.value)),o},parseImplWarn:function(t,e,n,i){var o=this.parseImpl(t,e,n,i);return o||null==e||Et("The style property `".concat(t,": ").concat(e,"` is invalid")),o},parseImpl:function(t,e,n,i){t=T(t);var o=this.properties[t],r=e,s=this.types;if(!o)return null;if(void 0===e)return null;o.alias&&(t=(o=o.pointsTo).name);var a=c(e);a&&(e=e.trim());var l,h,u=o.type;if(!u)return null;if(n&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(p(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:n};if(!a||i||e.length<7||"a"!==e[1]);else{if(e.length>=7&&"d"===e[0]&&(l=new RegExp(s.data.regex).exec(e)))return!n&&{name:t,value:l,strValue:""+e,mapped:s.data,field:l[1],bypass:n};if(e.length>=10&&"m"===e[0]&&(h=new RegExp(s.mapData.regex).exec(e))){if(n)return!1;if(u.multiple)return!1;var d=s.mapData;if(!u.color&&!u.number)return!1;var g=this.parse(t,h[4]);if(!g||g.mapped)return!1;var m=this.parse(t,h[5]);if(!m||m.mapped)return!1;if(g.pfValue===m.pfValue||g.strValue===m.strValue)return Et("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(u.color){var y=g.value,b=m.value;if(!(y[0]!==b[0]||y[1]!==b[1]||y[2]!==b[2]||y[3]!==b[3]&&(null!=y[3]&&1!==y[3]||null!=b[3]&&1!==b[3])))return!1}return{name:t,value:h,strValue:""+e,mapped:d,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:g.value,valueMax:m.value,bypass:n}}}if(u.multiple&&"multiple"!==i){var w;if(w=a?e.split(/\s+/):f(e)?e:[e],u.evenMultiple&&w.length%2!=0)return null;for(var x=[],_=[],E=[],k="",S=!1,C=0;C<w.length;C++){var M=this.parse(t,w[C],n,"multiple");S=S||c(M.value),x.push(M.value),E.push(null!=M.pfValue?M.pfValue:M.value),_.push(M.units),k+=(C>0?" ":"")+M.strValue}return u.validate&&!u.validate(x,_)?null:u.singleEnum&&S?1===x.length&&c(x[0])?{name:t,value:x[0],strValue:x[0],bypass:n}:null:{name:t,value:x,pfValue:E,strValue:k,bypass:n,units:_}}var D,O=function(){for(var i=0;i<u.enums.length;i++)if(u.enums[i]===e)return{name:t,value:e,strValue:""+e,bypass:n};return null};if(u.number){var I,A="px";if(u.units&&(I=u.units),u.implicitUnits&&(A=u.implicitUnits),!u.unitless)if(a){var R="px|em"+(u.allowPercent?"|\\%":"");I&&(R=I);var L=e.match("^("+P+")("+R+")?$");L&&(e=L[1],I=L[2]||A)}else I&&!u.implicitUnits||(I=A);if(e=parseFloat(e),isNaN(e)&&void 0===u.enums)return null;if(isNaN(e)&&void 0!==u.enums)return e=r,O();if(u.integer&&(!v(D=e)||Math.floor(D)!==D))return null;if(void 0!==u.min&&(e<u.min||u.strictMin&&e===u.min)||void 0!==u.max&&(e>u.max||u.strictMax&&e===u.max))return null;var z={name:t,value:e,strValue:""+e+(I||""),units:I,bypass:n};return z.pfValue=u.unitless||"px"!==I&&"em"!==I?e:"px"!==I&&I?this.getEmSizeInPixels()*e:e,"ms"!==I&&"s"!==I||(z.pfValue="ms"===I?e:1e3*e),"deg"!==I&&"rad"!==I||(z.pfValue="rad"===I?e:Math.PI*e/180),"%"===I&&(z.pfValue=e/100),z}if(u.propList){var B=[],F=""+e;if("none"===F);else{for(var j=F.split(/\s*,\s*|\s+/),H=0;H<j.length;H++){var V=j[H].trim();this.properties[V]?B.push(V):Et("`"+V+"` is not a valid property name")}if(0===B.length)return null}return{name:t,value:B,strValue:0===B.length?"none":B.join(" "),bypass:n}}if(u.color){var W=N(e);return W?{name:t,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:n}:null}if(u.regex||u.regexes){if(u.enums){var U=O();if(U)return U}for(var Y=u.regexes?u.regexes:[u.regex],G=0;G<Y.length;G++){var q=new RegExp(Y[G]).exec(e);if(q)return{name:t,value:u.singleRegexMatchValue?q[1]:q,strValue:""+e,bypass:n}}return null}return u.string?{name:t,value:""+e,strValue:""+e,bypass:n}:u.enums?O():null}},yr=function t(e){if(!(this instanceof t))return new t(e);x(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):xt("A style must have a core reference")},br=yr.prototype;br.instanceString=function(){return"style"},br.clear=function(){for(var t=0;t<this.length;t++)this[t]=void 0;return this.length=0,this._private.newStyle=!0,this},br.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},br.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},br.selector=function(t){var e="core"===t?null:new di(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this},br.css=function(){var t=arguments;if(1===t.length)for(var e=t[0],n=0;n<this.properties.length;n++){var i=this.properties[n],o=e[i.name];void 0===o&&(o=e[M(i.name)]),void 0!==o&&this.cssRule(i.name,o)}else 2===t.length&&this.cssRule(t[0],t[1]);return this},br.style=br.css,br.cssRule=function(t,e){var n=this.parse(t,e);if(n){var i=this.length-1;this[i].properties.push(n),this[i].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[i].mappedProperties.push(n),!this[i].selector&&(this._private.coreStyle[n.name]=n)}return this},br.append=function(t){return _(t)?t.appendToStyle(this):f(t)?this.appendFromJson(t):c(t)&&this.appendFromString(t),this},yr.fromJson=function(t,e){var n=new yr(t);return n.fromJson(e),n},yr.fromString=function(t,e){return new yr(t).fromString(e)},[ur,dr,cr,pr,fr,gr,vr,mr].forEach(function(t){A(br,t)}),yr.types=br.types,yr.properties=br.properties,yr.propertyGroups=br.propertyGroups,yr.propertyGroupNames=br.propertyGroupNames,yr.propertyGroupKeys=br.propertyGroupKeys;var wr={style:function(t){return t&&this.setStyle(t).update(),this._private.style},setStyle:function(t){var e=this._private;return e.style=_(t)?t.generateStyle(this):f(t)?yr.fromJson(this,t):c(t)?yr.fromString(this,t):yr(this),e.style}},xr={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},selectionType:function(t){var e=this._private;return null==e.selectionType&&(e.selectionType="single"),void 0===t?e.selectionType:("additive"!==t&&"single"!==t||(e.selectionType=t),this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t,e,n,i,o,r=arguments,s=this._private.pan;switch(r.length){case 0:return s;case 1:if(c(r[0]))return s[t=r[0]];if(g(r[0])){if(!this._private.panningEnabled)return this;i=(n=r[0]).x,o=n.y,v(i)&&(s.x=i),v(o)&&(s.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=r[1],"x"!==(t=r[0])&&"y"!==t||!v(e)||(s[t]=e),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(t,e){var n,i,o,r,s,a=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(a.length){case 1:g(t)&&(r=(o=a[0]).x,s=o.y,v(r)&&(l.x+=r),v(s)&&(l.y+=s),this.emit("pan viewport"));break;case 2:i=e,"x"!==(n=t)&&"y"!==n||!v(i)||(l[n]+=i),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(t,e){var n=this.getFitViewport(t,e);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){var n,i;if((v(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(c(t)?t=this.$(t):g(i=t)&&v(i.x1)&&v(i.x2)&&v(i.y1)&&v(i.y2)?((n={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1):y(t)||(t=this.mutableElements()),!y(t)||!t.empty())){n=n||t.boundingBox();var o,r=this.width(),s=this.height();if(e=v(e)?e:0,!isNaN(r)&&!isNaN(s)&&r>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:o=(o=(o=Math.min((r-2*e)/n.w,(s-2*e)/n.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(r-o*(n.x1+n.x2))/2,y:(s-o*(n.y1+n.y2))/2}}}},zoomRange:function(t,e){var n=this._private;if(null==e){var i=t;t=i.min,e=i.max}return v(t)&&v(e)&&t<=e?(n.minZoom=t,n.maxZoom=e):v(t)&&void 0===e&&t<=n.maxZoom?n.minZoom=t:v(e)&&void 0===t&&e>=n.minZoom&&(n.maxZoom=e),this},minZoom:function(t){return void 0===t?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return void 0===t?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e,n,i=this._private,o=i.pan,r=i.zoom,s=!1;return i.zoomingEnabled||(s=!0),v(t)?n=t:g(t)&&(n=t.level,null!=t.position?e=$t(t.position,r,o):null!=t.renderedPosition&&(e=t.renderedPosition),null==e||i.panningEnabled||(s=!0)),n=(n=n>i.maxZoom?i.maxZoom:n)<i.minZoom?i.minZoom:n,!s&&v(n)&&n!==r&&(null==e||v(e.x)&&v(e.y))?null!=e?{zoomed:!0,panned:!0,zoom:n,pan:{x:-n/r*(e.x-o.x)+e.x,y:-n/r*(e.y-o.y)+e.y}}:{zoomed:!0,panned:!1,zoom:n,pan:o}:null},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),n=this._private;return null!=e&&e.zoomed?(n.zoom=e.zoom,e.panned&&(n.pan.x=e.pan.x,n.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(t){var e=this._private,n=!0,i=!0,o=[],r=!1,s=!1;if(!t)return this;if(v(t.zoom)||(n=!1),g(t.pan)||(i=!1),!n&&!i)return this;if(n){var a=t.zoom;a<e.minZoom||a>e.maxZoom||!e.zoomingEnabled?r=!0:(e.zoom=a,o.push("zoom"))}if(i&&(!r||!t.cancelOnFailedZoom)&&e.panningEnabled){var l=t.pan;v(l.x)&&(e.pan.x=l.x,s=!1),v(l.y)&&(e.pan.y=l.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(c(t)){var n=t;t=this.mutableElements().filter(n)}else y(t)||(t=this.mutableElements());if(0!==t.length){var i=t.boundingBox(),o=this.width(),r=this.height();return{x:(o-(e=void 0===e?this._private.zoom:e)*(i.x1+i.x2))/2,y:(r-e*(i.y1+i.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t,e,n=this._private,i=n.container;return n.sizeCache=n.sizeCache||(i?(t=r.getComputedStyle(i),{width:i.clientWidth-(e=function(e){return parseFloat(t.getPropertyValue(e))})("padding-left")-e("padding-right"),height:i.clientHeight-e("padding-top")-e("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-t.x)/e,x2:(n.x2-t.x)/e,y1:(n.y1-t.y)/e,y2:(n.y2-t.y)/e};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}};xr.centre=xr.center,xr.autolockNodes=xr.autolock,xr.autoungrabifyNodes=xr.autoungrabify;var _r={data:Kn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:Kn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:Kn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:Kn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})};_r.attr=_r.data,_r.removeAttr=_r.removeData;var Er=function(t){var e=this,n=(t=A({},t)).container;n&&!m(n)&&m(n[0])&&(n=n[0]);var i=n?n._cyreg:null;(i=i||{})&&i.cy&&(i.cy.destroy(),i={});var o=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=e;var s=void 0!==r&&void 0!==n&&!t.headless,a=t;a.layout=A({name:s?"grid":"null"},a.layout),a.renderer=A({name:s?"canvas":"null"},a.renderer);var l=function(t,e,n){return void 0!==e?e:void 0!==n?n:t},h=this._private={container:n,ready:!1,options:a,elements:new Ho(this),listeners:[],aniEles:new Ho(this),data:{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,a.zoomingEnabled),userZoomingEnabled:l(!0,a.userZoomingEnabled),panningEnabled:l(!0,a.panningEnabled),userPanningEnabled:l(!0,a.userPanningEnabled),boxSelectionEnabled:l(!0,a.boxSelectionEnabled),autolock:l(!1,a.autolock,a.autolockNodes),autoungrabify:l(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:l(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?s:a.styleEnabled,zoom:v(a.zoom)?a.zoom:1,pan:{x:g(a.pan)&&v(a.pan.x)?a.pan.x:0,y:g(a.pan)&&v(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom}),h.styleEnabled&&e.setStyle([]);var u=A({},a,a.renderer);e.initRenderer(u),function(t,e){if(t.some(k))return Gn.all(t).then(e);e(t)}([a.style,a.elements],function(t){var n=t[0],r=t[1];h.styleEnabled&&e.style().append(n),function(t,n,i){e.notifications(!1);var o=e.mutableElements();o.length>0&&o.remove(),null!=t&&(g(t)||f(t))&&e.add(t),e.one("layoutready",function(t){e.notifications(!0),e.emit(t),e.one("load",n),e.emitAndNotify("load")}).one("layoutstop",function(){e.one("done",i),e.emit("done")});var r=A({},e._private.options.layout);r.eles=e.elements(),e.layout(r).run()}(r,function(){e.startAnimationLoop(),h.ready=!0,p(a.ready)&&e.on("ready",a.ready);for(var t=0;t<o.length;t++)e.on("ready",o[t]);i&&(i.readies=[]),e.emit("ready")},a.done)})},kr=Er.prototype;A(kr,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t){if(null!=t){var e=this,n=e._private,i=n.options;return!m(t)&&m(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),n.container=t,n.styleEnabled=!0,e.invalidateSize(),e.initRenderer(A({},i,i.renderer,{name:"null"===i.renderer.name?"canvas":i.renderer.name})),e.startAnimationLoop(),e.style(i.style),e.emit("mount"),e}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return kt(this._private.options)},json:function(t){var e=this,n=e._private,i=e.mutableElements();if(g(t)){if(e.startBatch(),t.elements){var o={},r=function(t,n){for(var i=[],r=[],s=0;s<t.length;s++){var a=t[s],l=""+a.data.id,h=e.getElementById(l);o[l]=!0,0!==h.length?r.push({ele:h,json:a}):n?(a.group=n,i.push(a)):i.push(a)}e.add(i);for(var u=0;u<r.length;u++){var d=r[u];d.ele.json(d.json)}};if(f(t.elements))r(t.elements);else for(var s=["nodes","edges"],a=0;a<s.length;a++){var l=s[a],h=t.elements[l];f(h)&&r(h,l)}var u=e.collection();i.filter(function(t){return!o[t.id()]}).forEach(function(t){t.isParent()?u.merge(t):t.remove()}),u.forEach(function(t){return t.children().move({parent:null})}),u.forEach(function(t){return function(t){return e.getElementById(t.id())}(t).remove()})}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==n.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===n.pan.x&&t.pan.y===n.pan.y||e.pan(t.pan)),t.data&&e.data(t.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],c=0;c<d.length;c++){var p=d[c];null!=t[p]&&e[p](t[p])}return e.endBatch(),this}var v={};t?v.elements=this.elements().map(function(t){return t.json()}):(v.elements={},i.forEach(function(t){var e=t.group();v.elements[e]||(v.elements[e]=[]),v.elements[e].push(t.json())})),this._private.styleEnabled&&(v.style=e.style().json()),v.data=kt(e.data());var m=n.options;return v.zoomingEnabled=n.zoomingEnabled,v.userZoomingEnabled=n.userZoomingEnabled,v.zoom=n.zoom,v.minZoom=n.minZoom,v.maxZoom=n.maxZoom,v.panningEnabled=n.panningEnabled,v.userPanningEnabled=n.userPanningEnabled,v.pan=kt(n.pan),v.boxSelectionEnabled=n.boxSelectionEnabled,v.renderer=kt(m.renderer),v.hideEdgesOnViewport=m.hideEdgesOnViewport,v.textureOnViewport=m.textureOnViewport,v.wheelSensitivity=m.wheelSensitivity,v.motionBlur=m.motionBlur,v}}),kr.$id=kr.getElementById,[Wo,tr,ir,or,rr,sr,lr,hr,wr,xr,_r].forEach(function(t){A(kr,t)});var Sr={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},Cr=function(t){return t.scratch("breadthfirst")},Tr=function(t,e){return t.scratch("breadthfirst",e)};function Mr(t){this.options=A({},Sr,t)}Mr.prototype.run=function(){var t,e=this.options,n=e,i=e.cy,o=n.eles,r=o.nodes().filter(function(t){return!t.isParent()}),s=o,a=n.directed,l=n.maximal||n.maximalAdjustments>0,h=de(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(y(n.roots))t=n.roots;else if(f(n.roots)){for(var u=[],d=0;d<n.roots.length;d++){var p=i.getElementById(n.roots[d]);u.push(p)}t=i.collection(u)}else if(c(n.roots))t=i.$(n.roots);else if(a)t=r.roots();else{var g=o.components();t=i.collection();for(var v=function(e){var n=g[e],i=n.maxDegree(!1),o=n.filter(function(t){return t.degree(!1)===i});t=t.add(o)},m=0;m<g.length;m++)v(m)}var b=[],w={},x=function(t,e){null==b[e]&&(b[e]=[]);var n=b[e].length;b[e].push(t),Tr(t,{index:n,depth:e})};s.bfs({roots:t,directed:n.directed,visit:function(t,e,n,i,o){var r=t[0],s=r.id();x(r,o),w[s]=!0}});for(var _=[],E=0;E<r.length;E++){var k=r[E];w[k.id()]||_.push(k)}var S=function(t){for(var e=b[t],n=0;n<e.length;n++){var i=e[n];null!=i?Tr(i,{depth:t,index:n}):(e.splice(n,1),n--)}},C=function(){for(var t=0;t<b.length;t++)S(t)},T=function(t,e){for(var n=Cr(t),i=t.incomers().filter(function(t){return t.isNode()&&o.has(t)}),r=-1,s=t.id(),a=0;a<i.length;a++){var l=Cr(i[a]);r=Math.max(r,l.depth)}return n.depth<=r&&(e[s]?null:(function(t,e){var n=Cr(t);b[n.depth][n.index]=null,x(t,e)}(t,r+1),e[s]=!0,!0))};if(a&&l){var M=[],D={},O=function(t){return M.push(t)};for(r.forEach(function(t){return M.push(t)});M.length>0;){var P=M.shift(),A=T(P,D);if(A)P.outgoers().filter(function(t){return t.isNode()&&o.has(t)}).forEach(O);else if(null===A){Et("Detected double maximal shift for node `"+P.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}C();var N=0;if(n.avoidOverlap)for(var R=0;R<r.length;R++){var L=r[R].layoutDimensions(n);N=Math.max(N,L.w,L.h)}for(var z={},B=function(t){if(z[t.id()])return z[t.id()];for(var e=Cr(t).depth,n=t.neighborhood(),i=0,o=0,s=0;s<n.length;s++){var a=n[s];if(!a.isEdge()&&!a.isParent()&&r.has(a)){var l=Cr(a),h=l.index,u=l.depth;null!=h&&null!=u&&u<e&&(i+=h/(b[u].length-1),o++)}}return i/=o=Math.max(1,o),0===o&&(i=0),z[t.id()]=i,i},F=function(t,e){var n=B(t)-B(e);return 0===n?I(t.id(),e.id()):n},j=0;j<b.length;j++)b[j].sort(F),S(j);for(var H=[],V=0;V<_.length;V++)H.push(_[V]);b.unshift(H),C();for(var W=0,U=0;U<b.length;U++)W=Math.max(b[U].length,W);var Y=h.x1+h.w/2,G=h.x1+h.h/2,q=b.reduce(function(t,e){return Math.max(t,e.length)},0);return r.layoutPositions(this,n,function(t){var e=Cr(t),i=e.depth,o=e.index,r=b[i].length,s=Math.max(h.w/((n.grid?q:r)+1),N),a=Math.max(h.h/(b.length+1),N),l=Math.min(h.w/2/b.length,h.h/2/b.length);if(l=Math.max(l,N),n.circle){var u=l*i+l-(b.length>0&&b[0].length<=3?l/2:0),d=2*Math.PI/b[i].length*o;return 0===i&&1===b[0].length&&(u=1),{x:Y+u*Math.cos(d),y:G+u*Math.sin(d)}}return{x:Y+(o+1-(r+1)/2)*s,y:(i+1)*a}}),this};var Dr={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Or(t){this.options=A({},Dr,t)}Or.prototype.run=function(){var t=this.options,e=t,n=t.cy,i=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,o=e.eles.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var r,s=de(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),a=s.x1+s.w/2,l=s.y1+s.h/2,h=(void 0===e.sweep?2*Math.PI-2*Math.PI/o.length:e.sweep)/Math.max(1,o.length-1),u=0,d=0;d<o.length;d++){var c=o[d].layoutDimensions(e);u=Math.max(u,c.w,c.h)}if(r=v(e.radius)?e.radius:o.length<=1?0:Math.min(s.h,s.w)/2-u,o.length>1&&e.avoidOverlap){u*=1.75;var p=Math.cos(h)-Math.cos(0),f=Math.sin(h)-Math.sin(0),g=Math.sqrt(u*u/(p*p+f*f));r=Math.max(g,r)}return o.layoutPositions(this,e,function(t,n){var o=e.startAngle+n*h*(i?1:-1),s=r*Math.cos(o),u=r*Math.sin(o);return{x:a+s,y:l+u}}),this};var Pr,Ir={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Ar(t){this.options=A({},Ir,t)}Ar.prototype.run=function(){for(var t=this.options,e=t,n=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,i=t.cy,o=e.eles.nodes().not(":parent"),r=de(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),s=r.x1+r.w/2,a=r.y1+r.h/2,l=[],h=0,u=0;u<o.length;u++){var d,c=o[u];d=e.concentric(c),l.push({value:d,node:c}),c._private.scratch.concentric=d}o.updateStyle();for(var p=0;p<o.length;p++){var f=o[p].layoutDimensions(e);h=Math.max(h,f.w,f.h)}l.sort(function(t,e){return e.value-t.value});for(var g=e.levelWidth(o),v=[[]],m=v[0],y=0;y<l.length;y++){var b=l[y];m.length>0&&Math.abs(m[0].value-b.value)>=g&&v.push(m=[]),m.push(b)}var w=h+e.minNodeSpacing;if(!e.avoidOverlap){var x=v.length>0&&v[0].length>1,_=(Math.min(r.w,r.h)/2-w)/(v.length+x?1:0);w=Math.min(w,_)}for(var E=0,k=0;k<v.length;k++){var S=v[k],C=void 0===e.sweep?2*Math.PI-2*Math.PI/S.length:e.sweep,T=S.dTheta=C/Math.max(1,S.length-1);if(S.length>1&&e.avoidOverlap){var M=Math.cos(T)-Math.cos(0),D=Math.sin(T)-Math.sin(0),O=Math.sqrt(w*w/(M*M+D*D));E=Math.max(O,E)}S.r=E,E+=w}if(e.equidistant){for(var P=0,I=0,A=0;A<v.length;A++)P=Math.max(P,v[A].r-I);I=0;for(var N=0;N<v.length;N++){var R=v[N];0===N&&(I=R.r),R.r=I,I+=P}}for(var L={},z=0;z<v.length;z++)for(var B=v[z],F=B.dTheta,j=B.r,H=0;H<B.length;H++){var V=B[H],W=e.startAngle+(n?1:-1)*F*H,U={x:s+j*Math.cos(W),y:a+j*Math.sin(W)};L[V.node.id()]=U}return o.layoutPositions(this,e,function(t){var e=t.id();return L[e]}),this};var Nr={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Rr(t){this.options=A({},Nr,t),this.options.layout=this}Rr.prototype.run=function(){var t=this.options,e=t.cy,n=this;n.stopped=!1,!0!==t.animate&&!1!==t.animate||n.emit({type:"layoutstart",layout:n}),Pr=!0===t.debug;var i=Lr(e,n,t);Pr&&(void 0)(i),t.randomize&&Fr(i,e);var o=st(),r=function(){Hr(i,e,t),!0===t.fit&&e.fit(t.padding)},s=function(e){return!(n.stopped||e>=t.numIter||(Vr(i,t,e),i.temperature=i.temperature*t.coolingFactor,i.temperature<t.minTemp))},a=function(){if(!0===t.animate||!1===t.animate)r(),n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n});else{var e=t.eles.nodes(),o=jr(i,t,e);e.layoutPositions(n,t,o)}},l=0,h=!0;if(!0===t.animate)!function e(){for(var n=0;h&&n<t.refresh;)h=s(l),l++,n++;h?(st()-o>=t.animationThreshold&&r(),rt(e)):(ts(i,t),a())}();else{for(;h;)h=s(l),l++;ts(i,t),a()}return this},Rr.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Rr.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Lr=function(t,e,n){for(var i=n.eles.edges(),o=n.eles.nodes(),r={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:de(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},s=n.eles.components(),a={},l=0;l<s.length;l++)for(var h=s[l],u=0;u<h.length;u++)a[h[u].id()]=l;for(l=0;l<r.nodeSize;l++){var d=(m=o[l]).layoutDimensions(n);(P={}).isLocked=m.locked(),P.id=m.data("id"),P.parentId=m.data("parent"),P.cmptId=a[m.id()],P.children=[],P.positionX=m.position("x"),P.positionY=m.position("y"),P.offsetX=0,P.offsetY=0,P.height=d.w,P.width=d.h,P.maxX=P.positionX+P.width/2,P.minX=P.positionX-P.width/2,P.maxY=P.positionY+P.height/2,P.minY=P.positionY-P.height/2,P.padLeft=parseFloat(m.style("padding")),P.padRight=parseFloat(m.style("padding")),P.padTop=parseFloat(m.style("padding")),P.padBottom=parseFloat(m.style("padding")),P.nodeRepulsion=p(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,r.layoutNodes.push(P),r.idToIndex[P.id]=l}var c=[],f=0,g=-1,v=[];for(l=0;l<r.nodeSize;l++){var m,y=(m=r.layoutNodes[l]).parentId;null!=y?r.layoutNodes[r.idToIndex[y]].children.push(m.id):(c[++g]=m.id,v.push(m.id))}for(r.graphSet.push(v);f<=g;){var b=c[f++],w=r.layoutNodes[r.idToIndex[b]].children;if(w.length>0)for(r.graphSet.push(w),l=0;l<w.length;l++)c[++g]=w[l]}for(l=0;l<r.graphSet.length;l++){var x=r.graphSet[l];for(u=0;u<x.length;u++)r.indexToGraph[r.idToIndex[x[u]]]=l}for(l=0;l<r.edgeSize;l++){var _=i[l],E={};E.id=_.data("id"),E.sourceId=_.data("source"),E.targetId=_.data("target");var k=p(n.idealEdgeLength)?n.idealEdgeLength(_):n.idealEdgeLength,S=p(n.edgeElasticity)?n.edgeElasticity(_):n.edgeElasticity,C=r.idToIndex[E.sourceId],T=r.idToIndex[E.targetId];if(r.indexToGraph[C]!=r.indexToGraph[T]){for(var M=zr(E.sourceId,E.targetId,r),D=r.graphSet[M],O=0,P=r.layoutNodes[C];-1===D.indexOf(P.id);)P=r.layoutNodes[r.idToIndex[P.parentId]],O++;for(P=r.layoutNodes[T];-1===D.indexOf(P.id);)P=r.layoutNodes[r.idToIndex[P.parentId]],O++;k*=O*n.nestingFactor}E.idealLength=k,E.elasticity=S,r.layoutEdges.push(E)}return r},zr=function(t,e,n){var i=Br(t,e,0,n);return 2>i.count?0:i.graph},Br=function t(e,n,i,o){var r=o.graphSet[i];if(-1<r.indexOf(e)&&-1<r.indexOf(n))return{count:2,graph:i};for(var s=0,a=0;a<r.length;a++){var l=o.layoutNodes[o.idToIndex[r[a]]].children;if(0!==l.length){var h=t(e,n,o.indexToGraph[o.idToIndex[l[0]]],o);if(0!==h.count){if(1!==h.count)return h;if(2==++s)break}}}return{count:s,graph:i}},Fr=function(t,e){for(var n=t.clientWidth,i=t.clientHeight,o=0;o<t.nodeSize;o++){var r=t.layoutNodes[o];0!==r.children.length||r.isLocked||(r.positionX=Math.random()*n,r.positionY=Math.random()*i)}},jr=function(t,e,n){var i=t.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(n.forEach(function(e){var n=t.layoutNodes[t.idToIndex[e.data("id")]];o.x1=Math.min(o.x1,n.positionX),o.x2=Math.max(o.x2,n.positionX),o.y1=Math.min(o.y1,n.positionY),o.y2=Math.max(o.y2,n.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(n,r){var s=t.layoutNodes[t.idToIndex[n.data("id")]];return e.boundingBox?{x:i.x1+(s.positionX-o.x1)/o.w*i.w,y:i.y1+(s.positionY-o.y1)/o.h*i.h}:{x:s.positionX,y:s.positionY}}},Hr=function(t,e,n){var i=n.layout,o=n.eles.nodes(),r=jr(t,n,o);o.positions(r),!0!==t.ready&&(t.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Vr=function(t,e,n){Wr(t,e),Xr(t,e),Kr(t,e),Zr(t,e),Qr(t,e)},Wr=function(t,e){for(var n=0;n<t.graphSet.length;n++)for(var i=t.graphSet[n],o=i.length,r=0;r<o;r++)for(var s=t.layoutNodes[t.idToIndex[i[r]]],a=r+1;a<o;a++)Yr(s,t.layoutNodes[t.idToIndex[i[a]]],t,e)},Ur=function(t){return-t+2*t*Math.random()},Yr=function(t,e,n,i){if(t.cmptId===e.cmptId||n.isCompound){var o=e.positionX-t.positionX,r=e.positionY-t.positionY;0===o&&0===r&&(o=Ur(1),r=Ur(1));var s=Gr(t,e,o,r);if(s>0)var a=(h=i.nodeOverlap*s)*o/(g=Math.sqrt(o*o+r*r)),l=h*r/g;else{var h,u=qr(t,o,r),d=qr(e,-1*o,-1*r),c=d.x-u.x,p=d.y-u.y,f=c*c+p*p,g=Math.sqrt(f);a=(h=(t.nodeRepulsion+e.nodeRepulsion)/f)*c/g,l=h*p/g}t.isLocked||(t.offsetX-=a,t.offsetY-=l),e.isLocked||(e.offsetX+=a,e.offsetY+=l)}},Gr=function(t,e,n,i){if(n>0)var o=t.maxX-e.minX;else o=e.maxX-t.minX;if(i>0)var r=t.maxY-e.minY;else r=e.maxY-t.minY;return o>=0&&r>=0?Math.sqrt(o*o+r*r):0},qr=function(t,e,n){var i=t.positionX,o=t.positionY,r=t.height||1,s=t.width||1,a=n/e,l=r/s,h={};return 0===e&&0<n?(h.x=i,h.y=o+r/2,h):0===e&&0>n?(h.x=i,h.y=o+r/2,h):0<e&&-1*l<=a&&a<=l?(h.x=i+s/2,h.y=o+s*n/2/e,h):0>e&&-1*l<=a&&a<=l?(h.x=i-s/2,h.y=o-s*n/2/e,h):0<n&&(a<=-1*l||a>=l)?(h.x=i+r*e/2/n,h.y=o+r/2,h):0>n&&(a<=-1*l||a>=l)?(h.x=i-r*e/2/n,h.y=o-r/2,h):h},Xr=function(t,e){for(var n=0;n<t.edgeSize;n++){var i=t.layoutEdges[n],o=t.layoutNodes[t.idToIndex[i.sourceId]],r=t.layoutNodes[t.idToIndex[i.targetId]],s=r.positionX-o.positionX,a=r.positionY-o.positionY;if(0!==s||0!==a){var l=qr(o,s,a),h=qr(r,-1*s,-1*a),u=h.x-l.x,d=h.y-l.y,c=Math.sqrt(u*u+d*d),p=Math.pow(i.idealLength-c,2)/i.elasticity;if(0!==c)var f=p*u/c,g=p*d/c;else f=0,g=0;o.isLocked||(o.offsetX+=f,o.offsetY+=g),r.isLocked||(r.offsetX-=f,r.offsetY-=g)}}},Kr=function(t,e){for(var n=0;n<t.graphSet.length;n++){var i=t.graphSet[n],o=i.length;if(0===n)var r=t.clientHeight/2,s=t.clientWidth/2;else{var a=t.layoutNodes[t.idToIndex[t.layoutNodes[t.idToIndex[i[0]]].parentId]];r=a.positionX,s=a.positionY}for(var l=0;l<o;l++){var h=t.layoutNodes[t.idToIndex[i[l]]];if(!h.isLocked){var u=r-h.positionX,d=s-h.positionY,c=Math.sqrt(u*u+d*d);if(c>1){var p=e.gravity*d/c;h.offsetX+=e.gravity*u/c,h.offsetY+=p}}}}},Zr=function(t,e){var n=[],i=0,o=-1;for(n.push.apply(n,t.graphSet[0]),o+=t.graphSet[0].length;i<=o;){var r=n[i++],s=t.layoutNodes[t.idToIndex[r]],a=s.children;if(0<a.length&&!s.isLocked){for(var l=s.offsetX,h=s.offsetY,u=0;u<a.length;u++){var d=t.layoutNodes[t.idToIndex[a[u]]];d.offsetX+=l,d.offsetY+=h,n[++o]=a[u]}s.offsetX=0,s.offsetY=0}}},Qr=function(t,e){for(var n=0;n<t.nodeSize;n++)0<(o=t.layoutNodes[n]).children.length&&(o.maxX=void 0,o.minX=void 0,o.maxY=void 0,o.minY=void 0);for(n=0;n<t.nodeSize;n++)if(!(0<(o=t.layoutNodes[n]).children.length||o.isLocked)){var i=Jr(o.offsetX,o.offsetY,t.temperature);o.positionX+=i.x,o.positionY+=i.y,o.offsetX=0,o.offsetY=0,o.minX=o.positionX-o.width,o.maxX=o.positionX+o.width,o.minY=o.positionY-o.height,o.maxY=o.positionY+o.height,$r(o,t)}for(n=0;n<t.nodeSize;n++){var o;0<(o=t.layoutNodes[n]).children.length&&!o.isLocked&&(o.positionX=(o.maxX+o.minX)/2,o.positionY=(o.maxY+o.minY)/2,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY)}},Jr=function(t,e,n){var i=Math.sqrt(t*t+e*e);if(i>n)var o={x:n*t/i,y:n*e/i};else o={x:t,y:e};return o},$r=function t(e,n){var i=e.parentId;if(null!=i){var o=n.layoutNodes[n.idToIndex[i]],r=!1;return(null==o.maxX||e.maxX+o.padRight>o.maxX)&&(o.maxX=e.maxX+o.padRight,r=!0),(null==o.minX||e.minX-o.padLeft<o.minX)&&(o.minX=e.minX-o.padLeft,r=!0),(null==o.maxY||e.maxY+o.padBottom>o.maxY)&&(o.maxY=e.maxY+o.padBottom,r=!0),(null==o.minY||e.minY-o.padTop<o.minY)&&(o.minY=e.minY-o.padTop,r=!0),r?t(o,n):void 0}},ts=function(t,e){for(var n=t.layoutNodes,i=[],o=0;o<n.length;o++){var r=n[o],s=r.cmptId;(i[s]=i[s]||[]).push(r)}var a=0;for(o=0;o<i.length;o++)if(g=i[o]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var l=0;l<g.length;l++){var h=g[l];g.x1=Math.min(g.x1,h.positionX-h.width/2),g.x2=Math.max(g.x2,h.positionX+h.width/2),g.y1=Math.min(g.y1,h.positionY-h.height/2),g.y2=Math.max(g.y2,h.positionY+h.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,a+=g.w*g.h}i.sort(function(t,e){return e.w*e.h-t.w*t.h});var u=0,d=0,c=0,p=0,f=Math.sqrt(a)*t.clientWidth/t.clientHeight;for(o=0;o<i.length;o++){var g;if(g=i[o]){for(l=0;l<g.length;l++)(h=g[l]).isLocked||(h.positionX+=u-g.x1,h.positionY+=d-g.y1);u+=g.w+e.componentSpacing,c+=g.w+e.componentSpacing,p=Math.max(p,g.h),c>f&&(d+=p+e.componentSpacing,u=0,c=0,p=0)}}},es={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ns(t){this.options=A({},es,t)}ns.prototype.run=function(){var t=this.options,e=t,n=t.cy,i=e.eles.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=de(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)i.layoutPositions(this,e,function(t){return{x:o.x1,y:o.y1}});else{var r=i.size(),s=Math.sqrt(r*o.h/o.w),a=Math.round(s),l=Math.round(o.w/o.h*s),h=function(t){if(null==t)return Math.min(a,l);Math.min(a,l)==a?a=t:l=t},u=function(t){if(null==t)return Math.max(a,l);Math.max(a,l)==a?a=t:l=t},d=e.rows,c=null!=e.cols?e.cols:e.columns;if(null!=d&&null!=c)a=d,l=c;else if(null!=d&&null==c)a=d,l=Math.ceil(r/a);else if(null==d&&null!=c)l=c,a=Math.ceil(r/l);else if(l*a>r){var p=h(),f=u();(p-1)*f>=r?h(p-1):(f-1)*p>=r&&u(f-1)}else for(;l*a<r;){var g=h(),v=u();(v+1)*g>=r?u(v+1):h(g+1)}var m=o.w/l,y=o.h/a;if(e.condense&&(m=0,y=0),e.avoidOverlap)for(var b=0;b<i.length;b++){var w=i[b],x=w._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var _=w.layoutDimensions(e),E=e.avoidOverlapPadding,k=_.h+E;m=Math.max(m,_.w+E),y=Math.max(y,k)}for(var S={},C=function(t,e){return!!S["c-"+t+"-"+e]},T=function(t,e){S["c-"+t+"-"+e]=!0},M=0,D=0,O=function(){++D>=l&&(D=0,M++)},P={},I=0;I<i.length;I++){var A=i[I],N=e.position(A);if(N&&(void 0!==N.row||void 0!==N.col)){var R={row:N.row,col:N.col};if(void 0===R.col)for(R.col=0;C(R.row,R.col);)R.col++;else if(void 0===R.row)for(R.row=0;C(R.row,R.col);)R.row++;P[A.id()]=R,T(R.row,R.col)}}i.layoutPositions(this,e,function(t,e){var n,i;if(t.locked()||t.isParent())return!1;var r=P[t.id()];if(r)n=r.col*m+m/2+o.x1,i=r.row*y+y/2+o.y1;else{for(;C(M,D);)O();n=D*m+m/2+o.x1,i=M*y+y/2+o.y1,T(M,D),O()}return{x:n,y:i}})}return this};var is={ready:function(){},stop:function(){}};function os(t){this.options=A({},is,t)}os.prototype.run=function(){var t=this.options,e=t.eles;return this.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),this.one("layoutready",t.ready),this.emit("layoutready"),this.one("layoutstop",t.stop),this.emit("layoutstop"),this},os.prototype.stop=function(){return this};var rs={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ss(t){this.options=A({},rs,t)}ss.prototype.run=function(){var t=this.options,e=t.eles.nodes(),n=p(t.positions);return e.layoutPositions(this,t,function(e,i){var o=function(e){if(null==t.positions)return function(t){return{x:t.x,y:t.y}}(e.position());if(n)return t.positions(e);var i=t.positions[e._private.data.id];return null==i?null:i}(e);return!e.locked()&&null!=o&&o}),this};var as={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ls(t){this.options=A({},as,t)}ls.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles.nodes().not(":parent"),i=de(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return n.layoutPositions(this,t,function(t,e){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}}),this};var hs=[{name:"breadthfirst",impl:Mr},{name:"circle",impl:Or},{name:"concentric",impl:Ar},{name:"cose",impl:Rr},{name:"grid",impl:ns},{name:"null",impl:os},{name:"preset",impl:ss},{name:"random",impl:ls}];function us(t){this.options=t,this.notifications=0}var ds=function(){};us.prototype={recalculateRenderedStyle:ds,notify:function(){this.notifications++},init:ds,isHeadless:function(){return!0}};var cs={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,n=function(t,e,n,i,o,r,s){return o.x-n/2-s<=t&&t<=o.x+n/2+s&&o.y-n/2-s<=e&&e<=o.y+n/2+s},i=function(t,e,n,i,o){var r=t*Math.cos(i)-e*Math.sin(i),s=(t*Math.sin(i)+e*Math.cos(i))*n;return{x:r*n+o.x,y:s+o.y}},o=function(t,e,n,o){for(var r=[],s=0;s<t.length;s+=2)r.push(i(t[s],t[s+1],e,n,o));return r},r=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];e.push(i.x,i.y)}return e},s=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},a=function(i,a){c(a)&&(a=t[a]),t[i]=A({name:i,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,n,i,s,a){var l=r(o(this.points,n+2*a,i,s));return Ce(t,e,l)},roughCollide:n,draw:function(t,n,i,r){var s=o(this.points,n,i,r);e.arrowShapeImpl("polygon")(t,s)},spacing:function(t){return 0},gap:s},a)};a("none",{collide:yt,roughCollide:yt,draw:wt,spacing:bt,gap:bt}),a("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),a("arrow","triangle"),a("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(t,n,r,s,a){var l=o(this.points,n,r,s),h=this.controlPoint,u=i(h[0],h[1],n,r,s);e.arrowShapeImpl(this.name)(t,l,u)},gap:function(t){return.8*s(t)}}),a("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,n,i,s,a,l){var h=r(o(this.points,n+2*l,i,s)),u=r(o(this.pointsTee,n+2*l,i,s));return Ce(t,e,h)||Ce(t,e,u)},draw:function(t,n,i,r,s){var a=o(this.points,n,i,r),l=o(this.pointsTee,n,i,r);e.arrowShapeImpl(this.name)(t,a,l)}}),a("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var n=this.baseCrossLinePts.slice(),i=e/t;return n[3]=n[3]-i,n[5]=n[5]-i,n},collide:function(t,e,n,i,s,a,l){var h=r(o(this.points,n+2*l,i,s)),u=r(o(this.crossLinePts(n,a),n+2*l,i,s));return Ce(t,e,h)||Ce(t,e,u)},draw:function(t,n,i,r,s){var a=o(this.points,n,i,r),l=o(this.crossLinePts(n,s),n,i,r);e.arrowShapeImpl(this.name)(t,a,l)}}),a("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*s(t)}}),a("circle",{radius:.15,collide:function(t,e,n,i,o,r,s){var a=o;return Math.pow(a.x-t,2)+Math.pow(a.y-e,2)<=Math.pow((n+2*s)*this.radius,2)},draw:function(t,n,i,o,r){e.arrowShapeImpl(this.name)(t,o.x,o.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),a("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),a("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),a("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}}),a("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(t){return.95*t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}},ps={projectIntoViewport:function(t,e){var n=this.cy,i=this.findContainerClientCoords(),o=i[0],r=i[1],s=i[4],a=n.pan(),l=n.zoom();return[((t-o)/s-a.x)/l,((e-r)/s-a.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=r.getComputedStyle(t),i=function(t){return parseFloat(n.getPropertyValue(t))},o=i("padding-left"),s=i("padding-right"),a=i("padding-top"),l=i("padding-bottom"),h=i("border-left-width"),u=i("border-right-width"),d=i("border-top-width"),c=(i("border-bottom-width"),t.clientWidth);return this.containerBB=[e.left+o+h,e.top+a+d,c-(o+s),t.clientHeight-(a+l),e.width/(c+(h+u))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,n,i){return this.findNearestElements(t,e,n,i)[0]},findNearestElements:function(t,e,n,i){var o,r,s=this,a=this,l=a.getCachedZSortedEles(),h=[],u=a.cy.zoom(),d=a.cy.hasCompoundNodes(),c=(i?24:8)/u,p=(i?8:2)/u,f=(i?8:2)/u,g=1/0;function v(t,e){if(t.isNode()){if(r)return;r=t,h.push(t)}if(t.isEdge()&&(null==e||e<g))if(o){if(o.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&o.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var n=0;n<h.length;n++)if(h[n].isEdge()){h[n]=t,o=t,g=null!=e?e:g;break}}else h.push(t),o=t,g=null!=e?e:g}function m(n){var i=n.outerWidth()+2*p,o=n.outerHeight()+2*p,r=i/2,l=o/2,h=n.position();if(h.x-r<=t&&t<=h.x+r&&h.y-l<=e&&e<=h.y+l&&a.nodeShapes[s.getNodeShape(n)].checkPoint(t,e,0,i,o,h.x,h.y))return v(n,0),!0}function y(n){var i,o=n._private,r=o.rscratch,l=n.pstyle("width").pfValue,u=n.pstyle("arrow-scale").value,p=l/2+c,f=p*p,g=2*p,y=o.source,b=o.target;if("segments"===r.edgeType||"straight"===r.edgeType||"haystack"===r.edgeType){for(var w=r.allpts,x=0;x+3<w.length;x+=2)if(_e(t,e,w[x],w[x+1],w[x+2],w[x+3],g)&&f>(i=Se(t,e,w[x],w[x+1],w[x+2],w[x+3])))return v(n,i),!0}else if("bezier"===r.edgeType||"multibezier"===r.edgeType||"self"===r.edgeType||"compound"===r.edgeType)for(w=r.allpts,x=0;x+5<r.allpts.length;x+=4)if(Ee(t,e,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5],g)&&f>(i=ke(t,e,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5])))return v(n,i),!0;y=y||o.source,b=b||o.target;var _=s.getArrowWidth(l,u),E=[{name:"source",x:r.arrowStartX,y:r.arrowStartY,angle:r.srcArrowAngle},{name:"target",x:r.arrowEndX,y:r.arrowEndY,angle:r.tgtArrowAngle},{name:"mid-source",x:r.midX,y:r.midY,angle:r.midsrcArrowAngle},{name:"mid-target",x:r.midX,y:r.midY,angle:r.midtgtArrowAngle}];for(x=0;x<E.length;x++){var k=E[x],S=a.arrowShapes[n.pstyle(k.name+"-arrow-shape").value],C=n.pstyle("width").pfValue;if(S.roughCollide(t,e,_,k.angle,{x:k.x,y:k.y},C,c)&&S.collide(t,e,_,k.angle,{x:k.x,y:k.y},C,c))return v(n),!0}d&&h.length>0&&(m(y),m(b))}function b(t,e,n){return Pt(t,e,n)}function w(n,i){var o=n._private,r=f,s=o.labelBounds[i||"main"],a=n.pstyle((i?i+"-":"")+"label").value;if("yes"===n.pstyle("text-events").strValue&&a){var l=o.rstyle,h=b(l,"labelX",i),u=b(l,"labelY",i),d=b(o.rscratch,"labelAngle",i),c=s.x1-r,p=s.x2+r,g=s.y1-r,m=s.y2+r;if(d){var y=Math.cos(d),w=Math.sin(d),x=function(t,e){return{x:(t-=h)*y-(e-=u)*w+h,y:t*w+e*y+u}},_=x(c,g),E=x(c,m),k=x(p,g),S=x(p,m);if(Ce(t,e,[_.x,_.y,k.x,k.y,S.x,S.y,E.x,E.y]))return v(n),!0}else if(ye(s,t,e))return v(n),!0}}n&&(l=l.interactive);for(var x=l.length-1;x>=0;x--){var _=l[x];_.isNode()?m(_)||w(_):y(_)||w(_)||w(_,"source")||w(_,"target")}return h},getAllInBox:function(t,e,n,i){for(var o=this.getCachedZSortedEles().interactive,r=[],s=Math.min(t,n),a=Math.max(t,n),l=Math.min(e,i),h=Math.max(e,i),u=de({x1:t=s,y1:e=l,x2:n=a,y2:i=h}),d=0;d<o.length;d++){var c=o[d];if(c.isNode()){var p=c,f=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});me(u,f)&&!we(f,u)&&r.push(p)}else{var g=c,v=g._private,m=v.rscratch;if(null!=m.startX&&null!=m.startY&&!ye(u,m.startX,m.startY))continue;if(null!=m.endX&&null!=m.endY&&!ye(u,m.endX,m.endY))continue;if("bezier"===m.edgeType||"multibezier"===m.edgeType||"self"===m.edgeType||"compound"===m.edgeType||"segments"===m.edgeType||"haystack"===m.edgeType){for(var y=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,b=!0,w=0;w<y.length;w++)if(!be(u,y[w])){b=!1;break}b&&r.push(g)}else"haystack"!==m.edgeType&&"straight"!==m.edgeType||r.push(g)}}return r}},fs={calculateArrowAngles:function(t){var e,n,i,o,r,s,a=t._private.rscratch,l="haystack"===a.edgeType,h="bezier"===a.edgeType,u="multibezier"===a.edgeType,d="segments"===a.edgeType,c="compound"===a.edgeType,p="self"===a.edgeType;l?(i=a.haystackPts[0],o=a.haystackPts[1],r=a.haystackPts[2],s=a.haystackPts[3]):(i=a.arrowStartX,o=a.arrowStartY,r=a.arrowEndX,s=a.arrowEndY),f=a.midX,g=a.midY,d?(e=i-a.segpts[0],n=o-a.segpts[1]):u||c||p||h?(e=i-le((E=a.allpts)[0],E[2],E[4],.1),n=o-le(E[1],E[3],E[5],.1)):(e=i-f,n=o-g),a.srcArrowAngle=ne(e,n);var f=a.midX,g=a.midY;if(l&&(f=(i+r)/2,g=(o+s)/2),e=r-i,n=s-o,d)if((E=a.allpts).length/2%2==0){var v=(m=E.length/2)-2;e=E[m]-E[v],n=E[m+1]-E[v+1]}else{v=(m=E.length/2-1)-2;var m,y=m+2;e=E[m]-E[v],n=E[m+1]-E[v+1]}else if(u||c||p){var b,w,x,_,E=a.allpts;if(a.ctrlpts.length/2%2==0){var k=2+(S=2+(C=E.length/2-1));b=le(E[C],E[S],E[k],0),w=le(E[C+1],E[S+1],E[k+1],0),x=le(E[C],E[S],E[k],1e-4),_=le(E[C+1],E[S+1],E[k+1],1e-4)}else{var S,C;k=2+(S=E.length/2-1),b=le(E[C=S-2],E[S],E[k],.4999),w=le(E[C+1],E[S+1],E[k+1],.4999),x=le(E[C],E[S],E[k],.5),_=le(E[C+1],E[S+1],E[k+1],.5)}e=x-b,n=_-w}if(a.midtgtArrowAngle=ne(e,n),a.midDispX=e,a.midDispY=n,e*=-1,n*=-1,d&&((E=a.allpts).length/2%2==0||(e=-(E[y=2+(m=E.length/2-1)]-E[m]),n=-(E[y+1]-E[m+1]))),a.midsrcArrowAngle=ne(e,n),d)e=r-a.segpts[a.segpts.length-2],n=s-a.segpts[a.segpts.length-1];else if(u||c||p||h){var T=(E=a.allpts).length;e=r-le(E[T-6],E[T-4],E[T-2],.9),n=s-le(E[T-5],E[T-3],E[T-1],.9)}else e=r-f,n=s-g;a.tgtArrowAngle=ne(e,n)}};fs.getArrowWidth=fs.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},i=n[t+", "+e];return i||(i=Math.max(Math.pow(13.37*t,.9),29)*e,n[t+", "+e]=i,i)};var gs={};function vs(t){var e=[];if(null!=t){for(var n=0;n<t.length;n+=2)e.push({x:t[n],y:t[n+1]});return e}}gs.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=n._private,o=i.rscratch;if(!o.haystack){var r=2*Math.random()*Math.PI;o.source={x:Math.cos(r),y:Math.sin(r)},r=2*Math.random()*Math.PI,o.target={x:Math.cos(r),y:Math.sin(r)}}var s=i.source,a=i.target,l=s.position(),h=a.position(),u=s.width(),d=a.width(),c=s.height(),p=a.height(),f=n.pstyle("haystack-radius").value/2;o.haystackPts=o.allpts=[o.source.x*u*f+l.x,o.source.y*c*f+l.y,o.target.x*d*f+h.x,o.target.y*p*f+h.y],o.midX=(o.allpts[0]+o.allpts[2])/2,o.midY=(o.allpts[1]+o.allpts[3])/2,o.edgeType="haystack",o.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},gs.findSegmentsPoints=function(t,e){var n=t._private.rscratch,i=e.posPts,o=e.intersectionPts,r=e.vectorNormInverse,s=t.pstyle("edge-distances").value,a=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),h=Math.min(a.pfValue.length,l.pfValue.length);n.edgeType="segments",n.segpts=[];for(var u=0;u<h;u++){var d=a.pfValue[u],c=l.pfValue[u],p=1-d,f="node-position"===s?i:o,g={x:f.x1*p+f.x2*d,y:f.y1*p+f.y2*d};n.segpts.push(g.x+r.x*c,g.y+r.y*c)}},gs.findLoopPoints=function(t,e,n,i){var o=t._private.rscratch,r=e.dirCounts,s=e.srcPos,a=t.pstyle("control-point-distances"),l=a?a.pfValue[0]:void 0,h=t.pstyle("loop-direction").pfValue,u=t.pstyle("loop-sweep").pfValue,d=t.pstyle("control-point-step-size").pfValue;o.edgeType="self";var c=n,p=d;i&&(c=0,p=l);var f=h-Math.PI/2,g=f-u/2,v=f+u/2,m=String(h+"_"+u);c=void 0===r[m]?r[m]=0:++r[m],o.ctrlpts=[s.x+1.4*Math.cos(g)*p*(c/3+1),s.y+1.4*Math.sin(g)*p*(c/3+1),s.x+1.4*Math.cos(v)*p*(c/3+1),s.y+1.4*Math.sin(v)*p*(c/3+1)]},gs.findCompoundLoopPoints=function(t,e,n,i){var o=t._private.rscratch;o.edgeType="compound";var r=e.srcPos,s=e.tgtPos,a=e.srcW,l=e.srcH,h=e.tgtW,u=e.tgtH,d=t.pstyle("control-point-step-size").pfValue,c=t.pstyle("control-point-distances"),p=n,f=d;i&&(p=0,f=c?c.pfValue[0]:void 0);var g={x:r.x-a/2,y:r.y-l/2},v={x:s.x-h/2,y:s.y-u/2},m={x:Math.min(g.x,v.x),y:Math.min(g.y,v.y)},y=Math.max(.5,Math.log(.01*a)),b=Math.max(.5,Math.log(.01*h));o.ctrlpts=[m.x,m.y-(1+Math.pow(50,1.12)/100)*f*(p/3+1)*y,m.x-(1+Math.pow(50,1.12)/100)*f*(p/3+1)*b,m.y]},gs.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},gs.findBezierPoints=function(t,e,n,i,o){var r=t._private.rscratch,s=e.vectorNormInverse,a=e.posPts,l=e.intersectionPts,h=t.pstyle("edge-distances").value,u=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),c=t.pstyle("control-point-weights"),p=d&&c?Math.min(d.value.length,c.value.length):1,f=d?d.pfValue[0]:void 0,g=c.value[0],v=i;r.edgeType=v?"multibezier":"bezier",r.ctrlpts=[];for(var m=0;m<p;m++){var y,b=(.5-e.eles.length/2+n)*u*(o?-1:1),w=oe(b);v&&(f=d?d.pfValue[m]:u,g=c.value[m]);var x=void 0!==(y=i?f:void 0!==f?w*f:void 0)?y:b,_=1-g,E="node-position"===h?a:l,k={x:E.x1*_+E.x2*g,y:E.y1*_+E.y2*g};r.ctrlpts.push(k.x+s.x*x,k.y+s.y*x)}},gs.findTaxiPoints=function(t,e){var n=t._private.rscratch;n.edgeType="segments";var i=e.posPts,o=e.srcW,r=e.srcH,s=e.tgtW,a=e.tgtH,l="node-position"!==t.pstyle("edge-distances").value,h=t.pstyle("taxi-direction").value,u=h,d=t.pstyle("taxi-turn"),c=d.pfValue,p=t.pstyle("taxi-turn-min-distance").pfValue,f="%"===d.units,g=l?(r+a)/2:0,v=i.x2-i.x1,m=i.y2-i.y1,y=function(t,e){return t>0?Math.max(t-e,0):Math.min(t+e,0)},b=y(v,l?(o+s)/2:0),w=y(m,g),x=!1;"auto"===h?h=Math.abs(b)>Math.abs(w)?"horizontal":"vertical":"upward"===h||"downward"===h?(h="vertical",x=!0):"leftward"!==h&&"rightward"!==h||(h="horizontal",x=!0);var _="vertical"===h,E=_?w:b,k=_?m:v,S=oe(k),C=!1;x&&f||!("downward"===u&&k<0||"upward"===u&&k>0||"leftward"===u&&k>0||"rightward"===u&&k<0)||(E=(S*=-1)*Math.abs(E),C=!0);var T=f?c*E:c*S,M=function(t){return Math.abs(t)<p||Math.abs(t)>=Math.abs(E)},D=M(T),O=M(E-T);if(!D&&!O||C)if(_){var P=i.y1+T+(l?r/2*S:0);n.segpts=[i.x1,P,i.x2,P]}else{var I=i.x1+T+(l?o/2*S:0);n.segpts=[I,i.y1,I,i.y2]}else if(_){var A=Math.abs(k)<=r/2,N=Math.abs(v)<=s/2;if(A){var R=(i.x1+i.x2)/2;n.segpts=[R,i.y1,R,i.y2]}else if(N){var L=(i.y1+i.y2)/2;n.segpts=[i.x1,L,i.x2,L]}else n.segpts=[i.x1,i.y2]}else{var z=Math.abs(k)<=o/2,B=Math.abs(m)<=a/2;if(z){var F=(i.y1+i.y2)/2;n.segpts=[i.x1,F,i.x2,F]}else if(B){var j=(i.x1+i.x2)/2;n.segpts=[j,i.y1,j,i.y2]}else n.segpts=[i.x2,i.y1]}},gs.tryToCorrectInvalidPoints=function(t,e){var n=t._private.rscratch;if("bezier"===n.edgeType){var i=e.srcPos,o=e.tgtPos,r=e.srcW,s=e.srcH,a=e.tgtW,l=e.tgtH,h=e.srcShape,u=e.tgtShape,d=!v(n.startX)||!v(n.startY),c=!v(n.arrowStartX)||!v(n.arrowStartY),p=!v(n.endX)||!v(n.endY),f=!v(n.arrowEndX)||!v(n.arrowEndY),g=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,m=re({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),y=m<g,b=re({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),w=b<g,x=!1;if(d||c||y){x=!0;var _={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},E=Math.sqrt(_.x*_.x+_.y*_.y),k={x:_.x/E,y:_.y/E},S=Math.max(r,s),C={x:n.ctrlpts[0]+2*k.x*S,y:n.ctrlpts[1]+2*k.y*S},T=h.intersectLine(i.x,i.y,r,s,C.x,C.y,0);y?(n.ctrlpts[0]=n.ctrlpts[0]+k.x*(g-m),n.ctrlpts[1]=n.ctrlpts[1]+k.y*(g-m)):(n.ctrlpts[0]=T[0]+k.x*g,n.ctrlpts[1]=T[1]+k.y*g)}if(p||f||w){x=!0;var M={x:n.ctrlpts[0]-o.x,y:n.ctrlpts[1]-o.y},D=Math.sqrt(M.x*M.x+M.y*M.y),O={x:M.x/D,y:M.y/D},P=Math.max(r,s),I={x:n.ctrlpts[0]+2*O.x*P,y:n.ctrlpts[1]+2*O.y*P},A=u.intersectLine(o.x,o.y,a,l,I.x,I.y,0);w?(n.ctrlpts[0]=n.ctrlpts[0]+O.x*(g-b),n.ctrlpts[1]=n.ctrlpts[1]+O.y*(g-b)):(n.ctrlpts[0]=A[0]+O.x*g,n.ctrlpts[1]=A[1]+O.y*g)}x&&this.findEndpoints(t)}},gs.storeAllpts=function(t){var e=t._private.rscratch;if("multibezier"===e.edgeType||"bezier"===e.edgeType||"self"===e.edgeType||"compound"===e.edgeType){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var n=0;n+1<e.ctrlpts.length;n+=2)e.allpts.push(e.ctrlpts[n],e.ctrlpts[n+1]),n+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[n]+e.ctrlpts[n+2])/2,(e.ctrlpts[n+1]+e.ctrlpts[n+3])/2);var i;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2==0?(e.midX=e.allpts[i=e.allpts.length/2-1],e.midY=e.allpts[i+1]):(e.midX=le(e.allpts[i=e.allpts.length/2-3],e.allpts[i+2],e.allpts[i+4],.5),e.midY=le(e.allpts[i+1],e.allpts[i+3],e.allpts[i+5],.5))}else if("straight"===e.edgeType)e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if("segments"===e.edgeType)if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4==0){var o=e.segpts.length/2,r=o-2;e.midX=(e.segpts[r]+e.segpts[o])/2,e.midY=(e.segpts[r+1]+e.segpts[o+1])/2}else{var s=e.segpts.length/2-1;e.midX=e.segpts[s],e.midY=e.segpts[s+1]}},gs.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||v(e.startX)&&v(e.startY)&&v(e.endX)&&v(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Et("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},gs.findEdgeControlPoints=function(t){var e=this;if(t&&0!==t.length){for(var n=this,i=n.cy.hasCompoundNodes(),o={map:new At,get:function(t){var e=this.map.get(t[0]);return null!=e?e.get(t[1]):null},set:function(t,e){var n=this.map.get(t[0]);null==n&&(n=new At,this.map.set(t[0],n)),n.set(t[1],e)}},r=[],s=[],a=0;a<t.length;a++){var l=t[a],h=l._private,u=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==u){var d="unbundled-bezier"===u||"segments"===u||"straight"===u||"taxi"===u,c="unbundled-bezier"===u||"bezier"===u,p=h.target,f=[h.source.poolIndex(),p.poolIndex()].sort(),g=o.get(f);null==g&&(o.set(f,g={eles:[]}),r.push(f)),g.eles.push(l),d&&(g.hasUnbundled=!0),c&&(g.hasBezier=!0)}else s.push(l)}for(var m=function(t){var s=o.get(r[t]),a=void 0;if(!s.hasUnbundled){var l=s.eles[0].parallelEdges().filter(function(t){return t.isBundledBezier()});Ot(s.eles),l.forEach(function(t){return s.eles.push(t)}),s.eles.sort(function(t,e){return t.poolIndex()-e.poolIndex()})}var h=s.eles[0],u=h.source(),d=h.target();if(u.poolIndex()>d.poolIndex()){var c=u;u=d,d=c}var p=s.srcPos=u.position(),f=s.tgtPos=d.position(),g=s.srcW=u.outerWidth(),m=s.srcH=u.outerHeight(),y=s.tgtW=d.outerWidth(),b=s.tgtH=d.outerHeight(),w=s.srcShape=n.nodeShapes[e.getNodeShape(u)],x=s.tgtShape=n.nodeShapes[e.getNodeShape(d)];s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<s.eles.length;_++){var E=s.eles[_],k=E[0]._private.rscratch,S=E.pstyle("curve-style").value,C="unbundled-bezier"===S||"segments"===S||"taxi"===S,T=!u.same(E.source());if(!s.calculatedIntersection&&u!==d&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var M=w.intersectLine(p.x,p.y,g,m,f.x,f.y,0),D=s.srcIntn=M,O=x.intersectLine(f.x,f.y,y,b,p.x,p.y,0),P=s.tgtIntn=O,I=s.intersectionPts={x1:M[0],x2:O[0],y1:M[1],y2:O[1]},A=s.posPts={x1:p.x,x2:f.x,y1:p.y,y2:f.y},N=O[1]-M[1],R=O[0]-M[0],L=Math.sqrt(R*R+N*N),z=s.vector={x:R,y:N},B=s.vectorNorm={x:z.x/L,y:z.y/L},F={x:-B.y,y:B.x};s.nodesOverlap=!v(L)||x.checkPoint(M[0],M[1],0,y,b,f.x,f.y)||w.checkPoint(O[0],O[1],0,g,m,p.x,p.y),s.vectorNormInverse=F,a={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:f,tgtPos:p,srcW:y,srcH:b,tgtW:g,tgtH:m,srcIntn:P,tgtIntn:D,srcShape:x,tgtShape:w,posPts:{x1:A.x2,y1:A.y2,x2:A.x1,y2:A.y1},intersectionPts:{x1:I.x2,y1:I.y2,x2:I.x1,y2:I.y1},vector:{x:-z.x,y:-z.y},vectorNorm:{x:-B.x,y:-B.y},vectorNormInverse:{x:-F.x,y:-F.y}}}var j=T?a:s;k.nodesOverlap=j.nodesOverlap,k.srcIntn=j.srcIntn,k.tgtIntn=j.tgtIntn,i&&(u.isParent()||u.isChild()||d.isParent()||d.isChild())&&(u.parents().anySame(d)||d.parents().anySame(u)||u.same(d))?e.findCompoundLoopPoints(E,j,_,C):u===d?e.findLoopPoints(E,j,_,C):"segments"===S?e.findSegmentsPoints(E,j):"taxi"===S?e.findTaxiPoints(E,j):"straight"===S||!C&&s.eles.length%2==1&&_===Math.floor(s.eles.length/2)?e.findStraightEdgePoints(E):e.findBezierPoints(E,j,_,C,T),e.findEndpoints(E),e.tryToCorrectInvalidPoints(E,j),e.checkForInvalidEdgeWarning(E),e.storeAllpts(E),e.storeEdgeProjections(E),e.calculateArrowAngles(E),e.recalculateEdgeLabelProjections(E),e.calculateLabelAngles(E)}},y=0;y<r.length;y++)m(y);this.findHaystackPoints(s)}},gs.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return this.recalculateRenderedStyle(t),vs(e.segpts)},gs.getControlPoints=function(t){var e=t[0]._private.rscratch,n=e.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(t),vs(e.ctrlpts)},gs.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ms={manualEndptToPx:function(t,e){var n=t.position(),i=t.outerWidth(),o=t.outerHeight();if(2===e.value.length){var r=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(r[0]=r[0]*i),"%"===e.units[1]&&(r[1]=r[1]*o),r[0]+=n.x,r[1]+=n.y,r}var s=e.pfValue[0];s=-Math.PI/2+s;var a=2*Math.max(i,o),l=[n.x+Math.cos(s)*a,n.y+Math.sin(s)*a];return this.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,o,l[0],l[1],0)},findEndpoints:function(t){var e,n,i,o,r,s=this,a=t.source()[0],l=t.target()[0],h=a.position(),u=l.position(),d=t.pstyle("target-arrow-shape").value,c=t.pstyle("source-arrow-shape").value,p=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,g=t.pstyle("curve-style").value,m=t._private.rscratch,y=m.edgeType,b="self"===y||"compound"===y,w="bezier"===y||"multibezier"===y||b,x="bezier"!==y,_="straight"===y||"segments"===y,E="segments"===y,k=w||x||_,S=b||"taxi"===g,C=t.pstyle("source-endpoint"),T=S?"outside-to-node":C.value,M=t.pstyle("target-endpoint"),D=S?"outside-to-node":M.value;if(m.srcManEndpt=C,m.tgtManEndpt=M,w){var O=[m.ctrlpts[0],m.ctrlpts[1]];n=x?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:O,i=O}else if(_){var P=E?m.segpts.slice(0,2):[u.x,u.y];n=E?m.segpts.slice(m.segpts.length-2):[h.x,h.y],i=P}if("inside-to-node"===D)e=[u.x,u.y];else if(M.units)e=this.manualEndptToPx(l,M);else if("outside-to-line"===D)e=m.tgtIntn;else if("outside-to-node"===D||"outside-to-node-or-label"===D?o=n:"outside-to-line"!==D&&"outside-to-line-or-label"!==D||(o=[h.x,h.y]),e=s.nodeShapes[this.getNodeShape(l)].intersectLine(u.x,u.y,l.outerWidth(),l.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===D||"outside-to-line-or-label"===D){var I=l._private.rscratch,A=I.labelWidth,N=I.labelHeight,R=I.labelX,L=I.labelY,z=l.pstyle("text-valign").value;"top"===z?L-=N/2:"bottom"===z&&(L+=N/2);var B=l.pstyle("text-halign").value;"left"===B?R-=A/2:"right"===B&&(R+=A/2);var F=s.nodeShapes.rectangle.intersectLine(R,L,A,N,o[0],o[1],0),j=h,H=se(j,ee(e));se(j,ee(F))<H&&(e=F)}var V=Re(e,n,s.arrowShapes[d].spacing(t)+p),W=Re(e,n,s.arrowShapes[d].gap(t)+p);if(m.endX=W[0],m.endY=W[1],m.arrowEndX=V[0],m.arrowEndY=V[1],"inside-to-node"===T)e=[h.x,h.y];else if(C.units)e=this.manualEndptToPx(a,C);else if("outside-to-line"===T)e=m.srcIntn;else if("outside-to-node"===T||"outside-to-node-or-label"===T?r=i:"outside-to-line"!==T&&"outside-to-line-or-label"!==T||(r=[u.x,u.y]),e=s.nodeShapes[this.getNodeShape(a)].intersectLine(h.x,h.y,a.outerWidth(),a.outerHeight(),r[0],r[1],0),"outside-to-node-or-label"===T||"outside-to-line-or-label"===T){var U=a._private.rscratch,Y=U.labelWidth,G=U.labelHeight,q=U.labelX,X=U.labelY,K=a.pstyle("text-valign").value;"top"===K?X-=G/2:"bottom"===K&&(X+=G/2);var Z=a.pstyle("text-halign").value;"left"===Z?q-=Y/2:"right"===Z&&(q+=Y/2);var Q=s.nodeShapes.rectangle.intersectLine(q,X,Y,G,r[0],r[1],0),J=u,$=se(J,ee(e));se(J,ee(Q))<$&&(e=Q)}var tt=Re(e,i,s.arrowShapes[c].spacing(t)+f),et=Re(e,i,s.arrowShapes[c].gap(t)+f);m.startX=et[0],m.startY=et[1],m.arrowStartX=tt[0],m.arrowStartY=tt[1],k&&(m.badLine=!(v(m.startX)&&v(m.startY)&&v(m.endX)&&v(m.endY)))},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}}},ys={};function bs(t,e,n){for(var i=function(t,e,n,i){return le(t,e,n,i)},o=e._private.rstyle.bezierPts,r=0;r<t.bezierProjPcts.length;r++){var s=t.bezierProjPcts[r];o.push({x:i(n[0],n[2],n[4],s),y:i(n[1],n[3],n[5],s)})}}ys.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,i=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===i||"bezier"===i||"self"===i||"compound"===i){e.rstyle.bezierPts=[];for(var o=0;o+5<n.allpts.length;o+=4)bs(this,t,n.allpts.slice(o,o+6))}else if("segments"===i){var r=e.rstyle.linePts=[];for(o=0;o+1<n.allpts.length;o+=2)r.push({x:n.allpts[o],y:n.allpts[o+1]})}else if("haystack"===i){var s=n.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},ys.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var ws={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!E(e)){var n,i,o=t._private,r=t.width(),s=t.height(),a=t.padding(),l=t.position(),h=t.pstyle("text-halign").strValue,u=t.pstyle("text-valign").strValue,d=o.rscratch,c=o.rstyle;switch(h){case"left":n=l.x-r/2-a;break;case"right":n=l.x+r/2+a;break;default:n=l.x}switch(u){case"top":i=l.y-s/2-a;break;case"bottom":i=l.y+s/2+a;break;default:i=l.y}d.labelX=n,d.labelY=i,c.labelX=n,c.labelY=i,this.applyLabelDimensions(t)}}},xs=function(t,e){var n=Math.atan(e/t);return 0===t&&n<0&&(n*=-1),n},_s=function(t,e){return xs(e.x-t.x,e.y-t.y)};ws.recalculateEdgeLabelProjections=function(t){var e,n=t._private,i=n.rscratch,o=this,r={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(r.mid||r.source||r.target){var s=function(t,e,i){It(n.rscratch,t,e,i),It(n.rstyle,t,e,i)};s("labelX",null,(e={x:i.midX,y:i.midY}).x),s("labelY",null,e.y);var a=xs(i.midDispX,i.midDispY);s("labelAutoAngle",null,a);var l=function(a){var l,h="source"===a;if(r[a]){var u=t.pstyle(a+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var d,c=function t(){if(t.cache)return t.cache;for(var e=[],r=0;r+5<i.allpts.length;r+=4)e.push({p0:{x:i.allpts[r],y:i.allpts[r+1]},p1:{x:i.allpts[r+2],y:i.allpts[r+3]},p2:{x:i.allpts[r+4],y:i.allpts[r+5]},startDist:0,length:0,segments:[]});var s=n.rstyle.bezierPts,a=o.bezierProjPcts.length;function l(t,e,n,i,o){var r=re(e,n),s=t.segments[t.segments.length-1];t.segments.push({p0:e,p1:n,t0:i,t1:o,startDist:s?s.startDist+s.length:0,length:r}),t.length+=r}for(var h=0;h<e.length;h++){var u=e[h],d=e[h-1];d&&(u.startDist=d.startDist+d.length),l(u,u.p0,s[h*a],0,o.bezierProjPcts[0]);for(var c=0;c<a-1;c++)l(u,s[h*a+c],s[h*a+c+1],o.bezierProjPcts[c],o.bezierProjPcts[c+1]);l(u,s[h*a+a-1],u.p2,o.bezierProjPcts[a-1],1)}return t.cache=e}(),p=0,f=0,g=0;g<c.length;g++){for(var v=c[h?g:c.length-1-g],m=0;m<v.segments.length;m++){var y=v.segments[h?m:v.segments.length-1-m];if(p=f,(f+=y.length)>=u||g===c.length-1&&m===v.segments.length-1){d={cp:v,segment:y};break}}if(d)break}var b=d.cp,w=d.segment,x=(u-p)/w.length,_=w.t1-w.t0,E=h?w.t0+_*x:w.t1-_*x;E=ue(0,E,1),e=he(b.p0,b.p1,b.p2,E),l=function(t,e,n,i){var o=ue(0,i-.001,1),r=ue(0,i+.001,1),s=he(t,e,n,o),a=he(t,e,n,r);return _s(s,a)}(b.p0,b.p1,b.p2,E);break;case"straight":case"segments":case"haystack":for(var k,S,C,T,M=0,D=i.allpts.length,O=0;O+3<D&&(h?(C={x:i.allpts[O],y:i.allpts[O+1]},T={x:i.allpts[O+2],y:i.allpts[O+3]}):(C={x:i.allpts[D-2-O],y:i.allpts[D-1-O]},T={x:i.allpts[D-4-O],y:i.allpts[D-3-O]}),S=M,!((M+=k=re(C,T))>=u));O+=2);var P=(u-S)/k;P=ue(0,P,1),e=function(t,e,n,i){var o=T.x-t.x,r=T.y-t.y,s=re(t,T);return n=null==n?0:n,{x:t.x+o/s*(i=null!=i?i:n*s),y:t.y+r/s*i}}(C,0,P),l=_s(C,T)}s("labelX",a,e.x),s("labelY",a,e.y),s("labelAutoAngle",a,l)}};l("source"),l("target"),this.applyLabelDimensions(t)}},ws.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},ws.applyPrefixedLabelDimensions=function(t,e){var n=t._private,i=this.getLabelText(t,e),o=this.calculateLabelDimensions(t,i),r=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,a=Pt(n.rscratch,"labelWrapCachedLines",e)||[],l="wrap"!==s?1:Math.max(a.length,1),h=o.height/l,u=h*r,d=o.width,c=o.height+(l-1)*(r-1)*h;It(n.rstyle,"labelWidth",e,d),It(n.rscratch,"labelWidth",e,d),It(n.rstyle,"labelHeight",e,c),It(n.rscratch,"labelHeight",e,c),It(n.rscratch,"labelLineHeight",e,u)},ws.getLabelText=function(t,e){var n=t._private,i=t.pstyle((e?e+"-":"")+"label").strValue,o=t.pstyle("text-transform").value,r=function(t,i){return i?(It(n.rscratch,t,e,i),i):Pt(n.rscratch,t,e)};if(!i)return"";"none"==o||("uppercase"==o?i=i.toUpperCase():"lowercase"==o&&(i=i.toLowerCase()));var s=t.pstyle("text-wrap").value;if("wrap"===s){var a=r("labelKey");if(null!=a&&r("labelWrapKey")===a)return r("labelWrapCachedText");for(var l=i.split("\n"),h=t.pstyle("text-max-width").pfValue,u="anywhere"===t.pstyle("text-overflow-wrap").value,d=[],c=/[\s\u200b]+/,p=u?"":" ",f=0;f<l.length;f++){var g=l[f],v=this.calculateLabelDimensions(t,g).width;if(u){var m=g.split("").join("\u200b");g=m}if(v>h){for(var y=g.split(c),b="",w=0;w<y.length;w++){var x=y[w];this.calculateLabelDimensions(t,0===b.length?x:b+p+x).width<=h?b+=x+p:(d.push(b),b=x+p)}b.match(/^[\s\u200b]+$/)||d.push(b)}else d.push(g)}r("labelWrapCachedLines",d),i=r("labelWrapCachedText",d.join("\n")),r("labelWrapKey",a)}else if("ellipsis"===s){for(var _=t.pstyle("text-max-width").pfValue,E="",k=!1,S=0;S<i.length&&!(this.calculateLabelDimensions(t,E+i[S]+"\u2026").width>_);S++)E+=i[S],S===i.length-1&&(k=!0);return k||(E+="\u2026"),E}return i},ws.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,n=t.pstyle("text-halign").strValue;if("auto"!==e)return e;if(!t.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},ws.calculateLabelDimensions=function(t,e){var n=ut(e,t._private.labelDimsKey),i=this.labelDimCache||(this.labelDimCache=[]),o=i[n];if(null!=o)return o;var r=t.pstyle("font-style").strValue,s=1*t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,h=this.labelCalcDiv;h||(h=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(h));var u=h.style;return u.fontFamily=a,u.fontStyle=r,u.fontSize=s,u.fontWeight=l,u.position="absolute",u.left="-9999px",u.top="-9999px",u.zIndex="-1",u.visibility="hidden",u.pointerEvents="none",u.padding="0",u.lineHeight="1",u.whiteSpace="wrap"===t.pstyle("text-wrap").value?"pre":"normal",h.textContent=e,i[n]={width:Math.ceil(h.clientWidth/1),height:Math.ceil(h.clientHeight/1)}},ws.calculateLabelAngle=function(t,e){var n=t._private.rscratch,i=t.isEdge(),o=t.pstyle((e?e+"-":"")+"text-rotation"),r=o.strValue;return"none"===r?0:i&&"autorotate"===r?n.labelAutoAngle:"autorotate"===r?0:o.pfValue},ws.calculateLabelAngles=function(t){var e=this,n=t.isEdge(),i=t._private.rscratch;i.labelAngle=e.calculateLabelAngle(t),n&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Es={},ks=!1;Es.getNodeShape=function(t){var e=t.pstyle("shape").value;if("cutrectangle"===e&&(t.width()<28||t.height()<28))return ks||(Et("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),ks=!0),"rectangle";if(t.isParent())return"rectangle"===e||"roundrectangle"===e||"cutrectangle"===e||"barrel"===e?e:"rectangle";if("polygon"===e){var n=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return e};var Ss={};[ps,fs,gs,ms,ys,ws,Es,{registerCalculationListeners:function(){var t=this.cy,e=t.collection(),n=this,i=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.merge(t),n)for(var i=0;i<t.length;i++){var o=t[i]._private.rstyle;o.clean=!1,o.cleanConnected=!1}};n.binder(t).on("bounds.* dirty.*",function(t){i(t.target)}).on("style.* background.*",function(t){i(t.target,!1)});var o=function(o){if(o){for(var r=n.onUpdateEleCalcsFns,s=0;s<e.length;s++){var a=e[s],l=a._private.rstyle;a.isNode()&&!l.cleanConnected&&(i(a.connectedEdges()),l.cleanConnected=!0)}if(r)for(s=0;s<r.length;s++)(0,r[s])(o,e);n.recalculateRenderedStyle(e),e=t.collection()}};n.flushRenderedStyleQueue=function(){o(!0)},n.beforeRender(o,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var n=[],i=[];if(!this.destroyed){void 0===e&&(e=!0);for(var o=0;o<t.length;o++){var r=(l=(a=t[o])._private).rstyle;e&&r.clean||a.removed()||"none"!==a.pstyle("display").value&&("nodes"===l.group?i.push(a):n.push(a),r.clean=!0)}for(o=0;o<i.length;o++){r=(l=(a=i[o])._private).rstyle;var s=a.position();this.recalculateNodeLabelProjection(a),r.nodeX=s.x,r.nodeY=s.y,r.nodeW=a.pstyle("width").pfValue,r.nodeH=a.pstyle("height").pfValue}for(this.recalculateEdgeProjections(n),o=0;o<n.length;o++){r=(l=(a=n[o])._private).rstyle;var a,l,h=l.rscratch;r.srcX=h.arrowStartX,r.srcY=h.arrowStartY,r.tgtX=h.arrowEndX,r.tgtY=h.arrowEndY,r.midX=h.midX,r.midY=h.midY,r.labelAngle=h.labelAngle,r.sourceLabelAngle=h.sourceLabelAngle,r.targetLabelAngle=h.targetLabelAngle}}}},{updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var i=(o=t[n])._private.rscratch;o.grabbed()&&!o.isParent()?e.push(o):i.inDragLayer?t.drag.push(o):t.nondrag.push(o)}for(n=0;n<e.length;n++){var o=e[n];t.drag.push(o)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(vo),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}}].forEach(function(t){A(Ss,t)});var Cs={getCachedImage:function(t,e,n){var i=this.imageCache=this.imageCache||{},o=i[t];if(o)return o.image.complete||o.image.addEventListener("load",n),o.image;var r=(o=i[t]=i[t]||{}).image=new Image;return r.addEventListener("load",n),r.addEventListener("error",function(){r.error=!0}),"data:"===t.substring(0,"data:".length).toLowerCase()||(r.crossOrigin=e),r.src=t,r}},Ts={registerBinding:function(t,e,n,i){var o=Array.prototype.slice.apply(arguments,[1]),r=this.binder(t);return r.on.apply(r,o)},binder:function(t){var e=this,n=t===window||t===document||t===document.body||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement;if(null==e.supportsPassiveEvents){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,o)}catch(t){}e.supportsPassiveEvents=i}var r=function(i,o,r){var s=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(s[2]={capture:null!=r&&r,passive:!1,once:!1}),e.bindings.push({target:t,args:s}),(t.addEventListener||t.on).apply(t,s),this};return{on:r,addEventListener:r,addListener:r,bind:r}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()},load:function(){var t=this,e=function(t){return t.selected()},n=function(e,n,i,o){null==e&&(e=t.cy);for(var r=0;r<n.length;r++)e.emit({originalEvent:i,type:n[r],position:o})},i=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},o=function(e,n){var i=!0;if(t.cy.hasCompoundNodes()&&e&&e.pannable()){for(var o=0;n&&o<n.length;o++)if((e=n[o]).isNode()&&e.isParent()){i=!1;break}}else i=!0;return i},r=function(t){t[0]._private.rscratch.inDragLayer=!0},s=function(t){t[0]._private.rscratch.isGrabTarget=!0},a=function(t,e){var n=e.addToList;n.has(t)||(n.merge(t),function(t){t[0]._private.grabbed=!0}(t))},l=function(e,n){n=n||{};var i=e.cy().hasCompoundNodes();n.inDragLayer&&(e.forEach(r),e.neighborhood().stdFilter(function(t){return!i||t.isEdge()}).forEach(r)),n.addToList&&e.forEach(function(t){a(t,n)}),function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var n=t.descendants();e.inDragLayer&&(n.forEach(r),n.connectedEdges().forEach(r)),e.addToList&&e.addToList.unmerge(n)}}(e,n),d(e,{inDragLayer:n.inDragLayer}),t.updateCachedGrabbedEles()},h=l,u=function(e){e&&(t.getCachedZSortedEles().forEach(function(t){!function(t){t[0]._private.grabbed=!1}(t),function(t){t[0]._private.rscratch.inDragLayer=!1}(t),function(t){t[0]._private.rscratch.isGrabTarget=!1}(t)}),t.updateCachedGrabbedEles())},d=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var n=t.ancestors().orphans();if(!n.same(t)){var i=n.descendants().spawnSelf().merge(n).unmerge(t).unmerge(t.descendants()),o=i.connectedEdges();e.inDragLayer&&(o.forEach(r),i.forEach(r)),e.addToList&&i.forEach(function(t){a(t,e)})}}},c=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},p="undefined"!=typeof MutationObserver;p?(t.removeObserver=new MutationObserver(function(e){for(var n=0;n<e.length;n++){var i=e[n].removedNodes;if(i)for(var o=0;o<i.length;o++)if(i[o]===t.container){t.destroy();break}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(e){t.destroy()});var f=et(function(){t.cy.resize()},100);p&&(t.styleObserver=new MutationObserver(f),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",f);var g=function(){t.invalidateContainerClientCoordsCache()};!function(t,e){for(;null!=t;)e(t),t=t.parentNode}(t.container,function(e){t.registerBinding(e,"transitionend",g),t.registerBinding(e,"animationend",g),t.registerBinding(e,"scroll",g)}),t.registerBinding(t.container,"contextmenu",function(t){t.preventDefault()});var m,y,b,w,x,_,E,k,S,C,T,M,D,O=function(e){for(var n=t.findContainerClientCoords(),i=n[0],o=n[1],r=n[2],s=n[3],a=e.touches?e.touches:[e],l=!1,h=0;h<a.length;h++){var u=a[h];if(i<=u.clientX&&u.clientX<=i+r&&o<=u.clientY&&u.clientY<=o+s){l=!0;break}}if(!l)return!1;for(var d=t.container,c=e.target.parentNode,p=!1;c;){if(c===d){p=!0;break}c=c.parentNode}return!!p};t.registerBinding(t.container,"mousedown",function(e){if(O(e)){e.preventDefault(),c(),t.hoverData.capture=!0,t.hoverData.which=e.which;var i=t.cy,o=[e.clientX,e.clientY],r=t.projectIntoViewport(o[0],o[1]),a=t.selection,u=t.findNearestElements(r[0],r[1],!0,!1),d=u[0],p=t.dragData.possibleDragElements;if(t.hoverData.mdownPos=r,t.hoverData.mdownGPos=o,3==e.which){t.hoverData.cxtStarted=!0;var f={originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}};d?(d.activate(),d.emit(f),t.hoverData.down=d):i.emit(f),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==e.which){if(d&&d.activate(),null!=d&&t.nodeIsGrabbable(d)){var g=function(t){return{originalEvent:e,type:t,position:{x:r[0],y:r[1]}}};if(s(d),d.selected()){p=t.dragData.possibleDragElements=i.collection();var v=i.$(function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)});l(v,{addToList:p}),d.emit(g("grabon")),v.forEach(function(t){t.emit(g("grab"))})}else p=t.dragData.possibleDragElements=i.collection(),h(d,{addToList:p}),d.emit(g("grabon")).emit(g("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=d,t.hoverData.downs=u,t.hoverData.downTime=(new Date).getTime(),n(d,["mousedown","tapstart","vmousedown"],e,{x:r[0],y:r[1]}),null==d?(a[4]=1,t.data.bgActivePosistion={x:r[0],y:r[1]},t.redrawHint("select",!0),t.redraw()):d.pannable()&&(a[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var n=t.hoverData.down;n?n.emit({originalEvent:e,type:"taphold",position:{x:r[0],y:r[1]}}):i.emit({originalEvent:e,type:"taphold",position:{x:r[0],y:r[1]}})}},t.tapholdDuration)}a[0]=a[2]=r[0],a[1]=a[3]=r[1]}},!1),t.registerBinding(window,"mousemove",function(e){if(t.hoverData.capture||O(e)){var r=!1,s=t.cy,a=s.zoom(),h=[e.clientX,e.clientY],d=t.projectIntoViewport(h[0],h[1]),c=t.hoverData.mdownPos,p=t.hoverData.mdownGPos,f=t.selection,g=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(g=t.findNearestElement(d[0],d[1],!0,!1));var m,y=t.hoverData.last,b=t.hoverData.down,w=[d[0]-f[2],d[1]-f[3]],x=t.dragData.possibleDragElements;if(p){var _=h[0]-p[0],E=h[1]-p[1];t.hoverData.isOverThresholdDrag=m=_*_+E*E>=t.desktopTapThreshold2}var k=i(e);m&&(t.hoverData.tapholdCancelled=!0),r=!0,n(g,["mousemove","vmousemove","tapdrag"],e,{x:d[0],y:d[1]});var S=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||s.emit({originalEvent:e,type:"boxstart",position:{x:d[0],y:d[1]}}),f[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(m){var C={originalEvent:e,type:"cxtdrag",position:{x:d[0],y:d[1]}};b?b.emit(C):s.emit(C),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&g===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:d[0],y:d[1]}}),t.hoverData.cxtOver=g,g&&g.emit({originalEvent:e,type:"cxtdragover",position:{x:d[0],y:d[1]}}))}}else if(t.hoverData.dragging){if(r=!0,s.panningEnabled()&&s.userPanningEnabled()){var T;if(t.hoverData.justStartedPan){var M=t.hoverData.mdownPos;T={x:(d[0]-M[0])*a,y:(d[1]-M[1])*a},t.hoverData.justStartedPan=!1}else T={x:w[0]*a,y:w[1]*a};s.panBy(T),t.hoverData.dragged=!0}d=t.projectIntoViewport(e.clientX,e.clientY)}else if(1!=f[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||g==y||(y&&n(y,["mouseout","tapdragout"],e,{x:d[0],y:d[1]}),g&&n(g,["mouseover","tapdragover"],e,{x:d[0],y:d[1]}),t.hoverData.last=g),b)if(m){if(s.boxSelectionEnabled()&&k)b&&b.grabbed()&&(u(x),b.emit("freeon"),x.emit("free"),t.dragData.didDrag&&(b.emit("dragfreeon"),x.emit("dragfree"))),S();else if(b&&b.grabbed()&&t.nodeIsDraggable(b)){var D=!t.dragData.didDrag;D&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var P=s.collection();t.hoverData.draggingEles||l(x,{inDragLayer:!0});var I={x:0,y:0};if(v(w[0])&&v(w[1])&&(I.x+=w[0],I.y+=w[1],D)){var A=t.hoverData.dragDelta;A&&v(A[0])&&v(A[1])&&(I.x+=A[0],I.y+=A[1])}for(var N=0;N<x.length;N++){var R=x[N];t.nodeIsDraggable(R)&&R.grabbed()&&P.merge(R)}t.hoverData.draggingEles=!0,P.silentShift(I).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else!function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(w[0]),e.push(w[1])):(e[0]+=w[0],e[1]+=w[1])}();r=!0}else m&&(t.hoverData.dragging||!s.boxSelectionEnabled()||!k&&s.panningEnabled()&&s.userPanningEnabled()?!t.hoverData.selecting&&s.panningEnabled()&&s.userPanningEnabled()&&o(b,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,f[4]=0,t.data.bgActivePosistion=ee(c),t.redrawHint("select",!0),t.redraw()):S(),b&&b.pannable()&&b.active()&&b.unactivate());return f[2]=d[0],f[3]=d[1],r?(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):void 0}},!1),t.registerBinding(window,"mouseup",function(o){if(t.hoverData.capture){t.hoverData.capture=!1;var r=t.cy,s=t.projectIntoViewport(o.clientX,o.clientY),a=t.selection,l=t.findNearestElement(s[0],s[1],!0,!1),h=t.dragData.possibleDragElements,d=t.hoverData.down,c=i(o);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,d&&d.unactivate(),3===t.hoverData.which){var p={originalEvent:o,type:"cxttapend",position:{x:s[0],y:s[1]}};if(d?d.emit(p):r.emit(p),!t.hoverData.cxtDragged){var f={originalEvent:o,type:"cxttap",position:{x:s[0],y:s[1]}};d?d.emit(f):r.emit(f)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],o,{x:s[0],y:s[1]}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||n(d,["click","tap","vclick"],o,{x:s[0],y:s[1]}),null!=d||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||i(o)||(r.$(e).unselect(["tapunselect"]),h.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=h=r.collection()),l!=d||t.dragData.didDrag||t.hoverData.selecting||null!=l&&l._private.selectable&&(t.hoverData.dragging||("additive"===r.selectionType()||c?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):c||(r.$(e).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var g=r.collection(t.getAllInBox(a[0],a[1],a[2],a[3]));t.redrawHint("select",!0),g.length>0&&t.redrawHint("eles",!0),r.emit({type:"boxend",originalEvent:o,position:{x:s[0],y:s[1]}});var v=function(t){return t.selectable()&&!t.selected()};"additive"===r.selectionType()?g.emit("box").stdFilter(v).select().emit("boxselect"):(c||r.$(e).unmerge(g).unselect(),g.emit("box").stdFilter(v).select().emit("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!a[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var m=d&&d.grabbed();u(h),m&&(d.emit("freeon"),h.emit("free"),t.dragData.didDrag&&(d.emit("dragfreeon"),h.emit("dragfree")))}}a[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1),t.registerBinding(t.container,"wheel",function(e){if(!t.scrollingPage){var n,i=t.cy,o=t.projectIntoViewport(e.clientX,e.clientY),r=[o[0]*i.zoom()+i.pan().x,o[1]*i.zoom()+i.pan().y];t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||0!==t.selection[4]?e.preventDefault():i.panningEnabled()&&i.userPanningEnabled()&&i.zoomingEnabled()&&i.userZoomingEnabled()&&(e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150),n=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,n*=t.wheelSensitivity,1===e.deltaMode&&(n*=33),i.zoom({level:i.zoom()*Math.pow(10,n),renderedPosition:{x:r[0],y:r[1]}}))}},!0),t.registerBinding(window,"scroll",function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"mouseout",function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),t.registerBinding(t.container,"mouseover",function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var P,I,A,N,R=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},L=function(t,e,n,i){return(n-t)*(n-t)+(i-e)*(i-e)};if(t.registerBinding(t.container,"touchstart",P=function(e){if(O(e)){c(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var i=t.cy,o=t.touchData.now,r=t.touchData.earlier;if(e.touches[0]){var a=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);o[0]=a[0],o[1]=a[1]}if(e.touches[1]&&(a=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),o[2]=a[0],o[3]=a[1]),e.touches[2]&&(a=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),o[4]=a[0],o[5]=a[1]),e.touches[1]){u(t.dragData.touchDragEles);var d=t.findContainerClientCoords();T=d[2],M=d[3],y=e.touches[0].clientY-(C=d[1]),b=e.touches[1].clientX-(S=d[0]),w=e.touches[1].clientY-C,D=0<=(m=e.touches[0].clientX-S)&&m<=T&&0<=b&&b<=T&&0<=y&&y<=M&&0<=w&&w<=M;var p=i.pan(),f=i.zoom();if(x=R(m,y,b,w),_=L(m,y,b,w),k=[((E=[(m+b)/2,(y+w)/2])[0]-p.x)/f,(E[1]-p.y)/f],_<4e4&&!e.touches[2]){var g=t.findNearestElement(o[0],o[1],!0,!0),v=t.findNearestElement(o[2],o[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}}),t.touchData.start=g):v&&v.isNode()?(v.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}}),t.touchData.start=v):i.emit({originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(e.touches[2]);else if(e.touches[1]);else if(e.touches[0]){var P=t.findNearestElements(o[0],o[1],!0,!0),I=P[0];if(null!=I&&(I.activate(),t.touchData.start=I,t.touchData.starts=P,t.nodeIsGrabbable(I))){var A=t.dragData.touchDragEles=i.collection(),N=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),I.selected()?(N=i.$(function(e){return e.selected()&&t.nodeIsGrabbable(e)}),l(N,{addToList:A})):h(I,{addToList:A}),s(I);var z=function(t){return{originalEvent:e,type:t,position:{x:o[0],y:o[1]}}};I.emit(z("grabon")),N?N.forEach(function(t){t.emit(z("grab"))}):I.emit(z("grab"))}n(I,["touchstart","tapstart","vmousedown"],e,{x:o[0],y:o[1]}),null==I&&(t.data.bgActivePosistion={x:a[0],y:a[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){!1!==t.touchData.singleTouchMoved||t.pinching||t.touchData.selecting||n(t.touchData.start,["taphold"],e,{x:o[0],y:o[1]})},t.tapholdDuration)}if(e.touches.length>=1){for(var B=t.touchData.startPosition=[],F=0;F<o.length;F++)B[F]=r[F]=o[F];var j=e.touches[0];t.touchData.startGPosition=[j.clientX,j.clientY]}}},!1),t.registerBinding(window,"touchmove",I=function(e){var i=t.touchData.capture;if(i||O(e)){var r=t.selection,s=t.cy,a=t.touchData.now,h=t.touchData.earlier,d=s.zoom();if(e.touches[0]){var c=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);a[0]=c[0],a[1]=c[1]}e.touches[1]&&(c=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),a[2]=c[0],a[3]=c[1]),e.touches[2]&&(c=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),a[4]=c[0],a[5]=c[1]);var p,f=t.touchData.startGPosition;if(i&&e.touches[0]&&f){for(var g=[],E=0;E<a.length;E++)g[E]=a[E]-h[E];var T=e.touches[0].clientX-f[0],M=e.touches[0].clientY-f[1];p=T*T+M*M>=t.touchTapThreshold2}if(i&&t.touchData.cxt){e.preventDefault();var P=e.touches[0].clientX-S,I=e.touches[0].clientY-C,A=e.touches[1].clientX-S,N=e.touches[1].clientY-C,z=L(P,I,A,N);if(z/_>=2.25||z>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var B={originalEvent:e,type:"cxttapend",position:{x:a[0],y:a[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(B),t.touchData.start=null):s.emit(B)}}if(i&&t.touchData.cxt){B={originalEvent:e,type:"cxtdrag",position:{x:a[0],y:a[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(B):s.emit(B),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var F=t.findNearestElement(a[0],a[1],!0,!0);t.touchData.cxtOver&&F===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:a[0],y:a[1]}}),t.touchData.cxtOver=F,F&&F.emit({originalEvent:e,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}else if(i&&e.touches[2]&&s.boxSelectionEnabled())e.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||s.emit({originalEvent:e,type:"boxstart",position:{x:a[0],y:a[1]}}),t.touchData.selecting=!0,t.redrawHint("select",!0),r&&0!==r.length&&void 0!==r[0]?(r[2]=(a[0]+a[2]+a[4])/3,r[3]=(a[1]+a[3]+a[5])/3):(r[0]=(a[0]+a[2]+a[4])/3,r[1]=(a[1]+a[3]+a[5])/3,r[2]=(a[0]+a[2]+a[4])/3+1,r[3]=(a[1]+a[3]+a[5])/3+1),r[4]=1,t.touchData.selecting=!0,t.redraw();else if(i&&e.touches[1]&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){if(e.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),$=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var j=0;j<$.length;j++){var H=$[j]._private;H.grabbed=!1,H.rscratch.inDragLayer=!1}}var V=t.touchData.start,W=R(P=e.touches[0].clientX-S,I=e.touches[0].clientY-C,A=e.touches[1].clientX-S,N=e.touches[1].clientY-C),U=W/x;if(D){var Y=(P-m+(A-b))/2,G=(I-y+(N-w))/2,q=s.zoom(),X=q*U,K=s.pan(),Z=k[0]*q+K.x,Q=k[1]*q+K.y,J={x:-X/q*(Z-K.x-Y)+Z,y:-X/q*(Q-K.y-G)+Q};if(V&&V.active()){var $=t.dragData.touchDragEles;u($),t.redrawHint("drag",!0),t.redrawHint("eles",!0),V.unactivate().emit("freeon"),$.emit("free"),t.dragData.didDrag&&(V.emit("dragfreeon"),$.emit("dragfree"))}s.viewport({zoom:X,pan:J,cancelOnFailedZoom:!0}),x=W,m=P,y=I,b=A,w=N,t.pinching=!0}e.touches[0]&&(c=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),a[0]=c[0],a[1]=c[1]),e.touches[1]&&(c=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),a[2]=c[0],a[3]=c[1]),e.touches[2]&&(c=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),a[4]=c[0],a[5]=c[1])}else if(e.touches[0]){var tt=t.touchData.start,et=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(F=t.findNearestElement(a[0],a[1],!0,!0)),i&&null!=tt&&e.preventDefault(),i&&null!=tt&&t.nodeIsDraggable(tt))if(p){$=t.dragData.touchDragEles;var nt=!t.dragData.didDrag;nt&&l($,{inDragLayer:!0}),t.dragData.didDrag=!0;var it={x:0,y:0};v(g[0])&&v(g[1])&&(it.x+=g[0],it.y+=g[1],nt&&(t.redrawHint("eles",!0),(ot=t.touchData.dragDelta)&&v(ot[0])&&v(ot[1])&&(it.x+=ot[0],it.y+=ot[1]))),t.hoverData.draggingEles=!0,$.silentShift(it).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==h[0]&&t.touchData.startPosition[1]==h[1]&&t.redrawHint("eles",!0),t.redraw()}else{var ot;0===(ot=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(ot.push(g[0]),ot.push(g[1])):(ot[0]+=g[0],ot[1]+=g[1])}if(n(tt||F,["touchmove","tapdrag","vmousemove"],e,{x:a[0],y:a[1]}),tt&&tt.grabbed()||F==et||(et&&et.emit({originalEvent:e,type:"tapdragout",position:{x:a[0],y:a[1]}}),F&&F.emit({originalEvent:e,type:"tapdragover",position:{x:a[0],y:a[1]}})),t.touchData.last=F,i)for(j=0;j<a.length;j++)a[j]&&t.touchData.startPosition[j]&&p&&(t.touchData.singleTouchMoved=!0);i&&(null==tt||tt.pannable())&&s.panningEnabled()&&s.userPanningEnabled()&&(o(tt,t.touchData.starts)&&(e.preventDefault(),t.swipePanning?s.panBy({x:g[0]*d,y:g[1]*d}):p&&(t.swipePanning=!0,s.panBy({x:T*d,y:M*d}),tt&&(tt.unactivate(),t.data.bgActivePosistion||(t.data.bgActivePosistion=ee(t.touchData.startPosition)),t.redrawHint("select",!0),t.touchData.start=null))),c=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),a[0]=c[0],a[1]=c[1])}for(E=0;E<a.length;E++)h[E]=a[E];i&&e.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",A=function(e){var n=t.touchData.start;t.touchData.capture=!1,n&&n.unactivate()}),t.registerBinding(window,"touchend",N=function(i){var o=t.touchData.start;if(t.touchData.capture){0===i.touches.length&&(t.touchData.capture=!1),i.preventDefault();var r=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var s,a=t.cy,l=a.zoom(),h=t.touchData.now,d=t.touchData.earlier;if(i.touches[0]){var c=t.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);h[0]=c[0],h[1]=c[1]}if(i.touches[1]&&(c=t.projectIntoViewport(i.touches[1].clientX,i.touches[1].clientY),h[2]=c[0],h[3]=c[1]),i.touches[2]&&(c=t.projectIntoViewport(i.touches[2].clientX,i.touches[2].clientY),h[4]=c[0],h[5]=c[1]),o&&o.unactivate(),t.touchData.cxt){if(s={originalEvent:i,type:"cxttapend",position:{x:h[0],y:h[1]}},o?o.emit(s):a.emit(s),!t.touchData.cxtDragged){var p={originalEvent:i,type:"cxttap",position:{x:h[0],y:h[1]}};o?o.emit(p):a.emit(p)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!i.touches[2]&&a.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var f=a.collection(t.getAllInBox(r[0],r[1],r[2],r[3]));r[0]=void 0,r[1]=void 0,r[2]=void 0,r[3]=void 0,r[4]=0,t.redrawHint("select",!0),a.emit({type:"boxend",originalEvent:i,position:{x:h[0],y:h[1]}}),f.emit("box").stdFilter(function(t){return t.selectable()&&!t.selected()}).select().emit("boxselect"),f.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=o&&o.unactivate(),i.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(i.touches[1]);else if(i.touches[0]);else if(!i.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var g=t.dragData.touchDragEles;if(null!=o){var v=o._private.grabbed;u(g),t.redrawHint("drag",!0),t.redrawHint("eles",!0),v&&(o.emit("freeon"),g.emit("free"),t.dragData.didDrag&&(o.emit("dragfreeon"),g.emit("dragfree"))),n(o,["touchend","tapend","vmouseup","tapdragout"],i,{x:h[0],y:h[1]}),o.unactivate(),t.touchData.start=null}else{var m=t.findNearestElement(h[0],h[1],!0,!0);n(m,["touchend","tapend","vmouseup","tapdragout"],i,{x:h[0],y:h[1]})}var y=t.touchData.startPosition[0]-h[0],b=t.touchData.startPosition[1]-h[1],w=(y*y+b*b)*l*l;t.touchData.singleTouchMoved||(o||a.$(":selected").unselect(["tapunselect"]),n(o,["tap","vclick"],i,{x:h[0],y:h[1]})),null!=o&&!t.dragData.didDrag&&o._private.selectable&&w<t.touchTapThreshold2&&!t.pinching&&("single"===a.selectionType()?(a.$(e).unmerge(o).unselect(["tapunselect"]),o.select(["tapselect"])):o.selected()?o.unselect(["tapunselect"]):o.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var x=0;x<h.length;x++)d[x]=h[x];t.dragData.didDrag=!1,0===i.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null),i.touches.length<2&&(t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"==typeof TouchEvent){var z=[],B=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},F=function(t){for(var e=0;e<z.length;e++)if(z[e].event.pointerId===t.pointerId)return void z.splice(e,1)},j=function(t){t.touches=z.map(function(t){return t.touch})},H=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",function(t){H(t)||(t.preventDefault(),function(t){z.push(function(t){return{event:t,touch:B(t)}}(t))}(t),j(t),P(t))}),t.registerBinding(t.container,"pointerup",function(t){H(t)||(F(t),j(t),N(t))}),t.registerBinding(t.container,"pointercancel",function(t){H(t)||(F(t),j(t),A())}),t.registerBinding(t.container,"pointermove",function(t){H(t)||(t.preventDefault(),function(t){var e=z.filter(function(e){return e.event.pointerId===t.pointerId})[0];e.event=t,e.touch=B(t)}(t),j(t),I(t))})}}},Ms={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,n,i,o){this.renderer.nodeShapeImpl("polygon",t,e,n,i,o,this.points)},intersectLine:function(t,e,n,i,o,r,s){return Ne(o,r,this.points,t,e,n/2,i/2,s)},checkPoint:function(t,e,n,i,o,r,s){return Te(t,e,this.points,r,s,i,o,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,n,i,o){this.renderer.nodeShapeImpl(this.name,t,e,n,i,o)},intersectLine:function(t,e,n,i,o,r,s){return function(t,e,n,i,o,r){var s=n-t,a=i-e;s/=o,a/=r;var l=Math.sqrt(s*s+a*a),h=l-1;if(h<0)return[];var u=h/l;return[(n-t)*u+t,(i-e)*u+e]}(o,r,t,e,n/2+s,i/2+s)},checkPoint:function(t,e,n,i,o,r,s){return Oe(t,e,i,o,r,s,n)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Le(4,0),draw:function(t,e,n,i,o){this.renderer.nodeShapeImpl(this.name,t,e,n,i,o)},intersectLine:function(t,e,n,i,o,r,s){return xe(o,r,t,e,n,i,s)},checkPoint:function(t,e,n,i,o,r,s){var a=Fe(i,o),l=2*a;return!!(Te(t,e,this.points,r,s,i,o-l,[0,-1],n)||Te(t,e,this.points,r,s,i-l,o,[0,-1],n)||Oe(t,e,l,l,r-i/2+a,s-o/2+a,n)||Oe(t,e,l,l,r+i/2-a,s-o/2+a,n)||Oe(t,e,l,l,r+i/2-a,s+o/2-a,n)||Oe(t,e,l,l,r-i/2+a,s+o/2-a,n))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Le(4,0),draw:function(t,e,n,i,o){this.renderer.nodeShapeImpl(this.name,t,e,n,i,o)},generateCutTrianglePts:function(t,e,n,i){var o=this.cornerLength,r=e/2,s=t/2,a=n-s,l=n+s,h=i-r,u=i+r;return{topLeft:[a,h+o,a+o,h,a+o,h+o],topRight:[l-o,h,l,h+o,l-o,h+o],bottomRight:[l,u-o,l-o,u,l-o,u-o],bottomLeft:[a+o,u,a,u-o,a+o,u-o]}},intersectLine:function(t,e,n,i,o,r,s){var a=this.generateCutTrianglePts(n+2*s,i+2*s,t,e),l=[].concat.apply([],[a.topLeft.splice(0,4),a.topRight.splice(0,4),a.bottomRight.splice(0,4),a.bottomLeft.splice(0,4)]);return Ne(o,r,l,t,e)},checkPoint:function(t,e,n,i,o,r,s){if(Te(t,e,this.points,r,s,i,o-2*this.cornerLength,[0,-1],n))return!0;if(Te(t,e,this.points,r,s,i-2*this.cornerLength,o,[0,-1],n))return!0;var a=this.generateCutTrianglePts(i,o,r,s);return Ce(t,e,a.topLeft)||Ce(t,e,a.topRight)||Ce(t,e,a.bottomRight)||Ce(t,e,a.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Le(4,0),draw:function(t,e,n,i,o){this.renderer.nodeShapeImpl(this.name,t,e,n,i,o)},intersectLine:function(t,e,n,i,o,r,s){var a=this.generateBarrelBezierPts(n+2*s,i+2*s,t,e),l=function(t){var e=he({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.15),n=he({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.5),i=he({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.85);return[t[0],t[1],e.x,e.y,n.x,n.y,i.x,i.y,t[4],t[5]]},h=[].concat(l(a.topLeft),l(a.topRight),l(a.bottomRight),l(a.bottomLeft));return Ne(o,r,h,t,e)},generateBarrelBezierPts:function(t,e,n,i){var o=e/2,r=t/2,s=n-r,a=n+r,l=i-o,h=i+o,u=je(t,e),d=u.heightOffset,c=u.widthOffset,p=u.ctrlPtOffsetPct*t,f={topLeft:[s,l+d,s+p,l,s+c,l],topRight:[a-c,l,a-p,l,a,l+d],bottomRight:[a,h-d,a-p,h,a-c,h],bottomLeft:[s+c,h,s+p,h,s,h-d]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(t,e,n,i,o,r,s){var a=je(i,o),l=a.widthOffset;if(Te(t,e,this.points,r,s,i,o-2*a.heightOffset,[0,-1],n))return!0;if(Te(t,e,this.points,r,s,i-2*l,o,[0,-1],n))return!0;for(var h=this.generateBarrelBezierPts(i,o,r,s),u=function(t,e,n){var i=n[4],o=n[2],r=n[0],s=n[5],a=n[1],l=Math.min(i,r),h=Math.max(i,r),u=Math.min(s,a),d=Math.max(s,a);if(l<=t&&t<=h&&u<=e&&e<=d){var c=[i-2*o+r,2*(o-i),i],p=function(t,e,n,i){var o=e*e-4*t*(n-=i);if(o<0)return[];var r=Math.sqrt(o),s=2*t;return[(-e+r)/s,(-e-r)/s]}(c[0],c[1],c[2],t).filter(function(t){return 0<=t&&t<=1});if(p.length>0)return p[0]}return null},d=Object.keys(h),c=0;c<d.length;c++){var p=h[d[c]],f=u(t,e,p);if(null!=f){var g=le(p[5],p[3],p[1],f);if(p.isTop&&g<=e)return!0;if(p.isBottom&&e<=g)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Le(4,0),draw:function(t,e,n,i,o){this.renderer.nodeShapeImpl(this.name,t,e,n,i,o)},intersectLine:function(t,e,n,i,o,r,s){var a=e-(i/2+s),l=Ae(o,r,t,e,t-(n/2+s),a,t+(n/2+s),a,!1);return l.length>0?l:xe(o,r,t,e,n,i,s)},checkPoint:function(t,e,n,i,o,r,s){var a=Fe(i,o),l=2*a;if(Te(t,e,this.points,r,s,i,o-l,[0,-1],n))return!0;if(Te(t,e,this.points,r,s,i-l,o,[0,-1],n))return!0;var h=i/2+2*n,u=o/2+2*n;return!!Ce(t,e,[r-h,s-u,r-h,s,r+h,s,r+h,s-u])||!!Oe(t,e,l,l,r+i/2-a,s+o/2-a,n)||!!Oe(t,e,l,l,r-i/2+a,s+o/2-a,n)}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Le(3,0)),this.generatePolygon("rectangle",Le(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",Le(5,0)),this.generatePolygon("hexagon",Le(6,0)),this.generatePolygon("heptagon",Le(7,0)),this.generatePolygon("octagon",Le(8,0));var n=new Array(20),i=Be(5,0),o=Be(5,Math.PI/5),r=.5*(3-Math.sqrt(5));r*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=r,o[2*s+1]*=r;for(s=0;s<5;s++)n[4*s]=i[2*s],n[4*s+1]=i[2*s+1],n[4*s+2]=o[2*s],n[4*s+3]=o[2*s+1];n=ze(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),t.makePolygon=function(t){var n,i="polygon-"+t.join("$");return(n=this[i])?n:e.generatePolygon(i,t)}}},Ds={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||Tt();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){null==e&&xt("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort(function(t,e){return e.priority-t.priority})}}},Os=function(t,e,n){for(var i=t.beforeRenderCallbacks,o=0;o<i.length;o++)i[o].fn(e,n)};Ds.startRenderLoop=function(){var t=this,e=t.cy;t.renderLoopStarted||(t.renderLoopStarted=!0,rt(function n(i){if(!t.destroyed){if(e.batching());else if(t.requestedFrame&&!t.skipFrame){Os(t,!0,i);var o=st();t.render(t.renderOptions);var r=t.lastDrawTime=st();void 0===t.averageRedrawTime&&(t.averageRedrawTime=r-o),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var s=r-o;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else Os(t,!1,i);t.skipFrame=!1,rt(n)}}))};var Ps=function(t){this.init(t)},Is=Ps.prototype;Is.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Is.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container();if(r){var i=r.document,o=i.head,s="__________cytoscape_container",a=null!=i.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!a){var l=i.createElement("style");l.id="__________cytoscape_stylesheet",l.innerHTML="."+s+" { position: relative; }",o.insertBefore(l,o.children[0])}"static"===r.getComputedStyle(n).getPropertyValue("position")&&Et("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.hideLabelsOnViewport=t.hideLabelsOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=v(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},Is.notify=function(t,e){var n=this;this.destroyed||("init"!==t?"destroy"!==t?(("add"===t||"remove"===t||"move"===t&&n.cy.hasCompoundNodes()||"load"===t||"zorder"===t||"mount"===t)&&n.invalidateCachedZSortedEles(),"viewport"===t&&n.redrawHint("select",!0),"load"!==t&&"resize"!==t&&"mount"!==t||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},Is.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(t){}},Is.isHeadless=function(){return!1},[cs,Ss,Cs,Ts,Ms,Ds].forEach(function(t){A(Is,t)});var As=function(t){return function(){var e=this,n=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var i=et(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},t.deqRedrawThreshold);n.beforeRender(function(o,r){var s=st(),a=n.averageRedrawTime,l=n.lastRedrawTime,h=[],u=n.cy.extent(),d=n.getPixelRatio();for(o||n.flushRenderedStyleQueue();;){var c=st(),p=c-s,f=c-r;if(l<1e3/60){if(f>=t.deqFastCost*(1e3/60-(o?a:0)))break}else if(o){if(p>=t.deqCost*l||p>=t.deqAvgCost*a)break}else if(f>=t.deqNoDrawCost*(1e3/60))break;var g=t.deq(e,d,u);if(!(g.length>0))break;for(var v=0;v<g.length;v++)h.push(g[v])}h.length>0&&(t.onDeqd(e,h),!o&&t.shouldRedraw(e,h,d,u)&&i())},(t.priority||wt)(e))}}},Ns=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt;e(this,t),this.idsByKey=new At,this.keyForId=new At,this.cachesByLvl=new At,this.lvls=[],this.getKey=n,this.doesEleInvalidateKey=i}return i(t,[{key:"getIdsFor",value:function(t){null==t&&xt("Can not get id list for null key");var e=this.idsByKey,n=this.idsByKey.get(t);return n||(n=new Rt,e.set(t,n)),n}},{key:"addIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).add(e)}},{key:"deleteIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).delete(e)}},{key:"getNumberOfIdsForKey",value:function(t){return null==t?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var e=t.id(),n=this.keyForId.get(e),i=this.getKey(t);this.deleteIdForKey(n,e),this.addIdForKey(i,e),this.keyForId.set(e,i)}},{key:"deleteKeyMappingFor",value:function(t){var e=t.id(),n=this.keyForId.get(e);this.deleteIdForKey(n,e),this.keyForId.delete(e)}},{key:"keyHasChangedFor",value:function(t){var e=t.id();return this.keyForId.get(e)!==this.getKey(t)}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var e=this.cachesByLvl,n=this.lvls,i=e.get(t);return i||(i=new At,e.set(t,i),n.push(t)),i}},{key:"getCache",value:function(t,e){return this.getCachesAt(e).get(t)}},{key:"get",value:function(t,e){var n=this.getKey(t),i=this.getCache(n,e);return null!=i&&this.updateKeyMappingFor(t),i}},{key:"getForCachedKey",value:function(t,e){var n=this.keyForId.get(t.id());return this.getCache(n,e)}},{key:"hasCache",value:function(t,e){return this.getCachesAt(e).has(t)}},{key:"has",value:function(t,e){var n=this.getKey(t);return this.hasCache(n,e)}},{key:"setCache",value:function(t,e,n){n.key=t,this.getCachesAt(e).set(t,n)}},{key:"set",value:function(t,e,n){var i=this.getKey(t);this.setCache(i,e,n),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,e){this.getCachesAt(e).delete(t)}},{key:"delete",value:function(t,e){var n=this.getKey(t);this.deleteCache(n,e)}},{key:"invalidateKey",value:function(t){var e=this;this.lvls.forEach(function(n){return e.deleteCache(t,n)})}},{key:"invalidate",value:function(t){var e=t.id(),n=this.keyForId.get(e);this.deleteKeyMappingFor(t);var i=this.doesEleInvalidateKey(t);return i&&this.invalidateKey(n),i||0===this.getNumberOfIdsForKey(n)}}]),t}(),Rs={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Ls=Mt({getKey:null,doesEleInvalidateKey:yt,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:mt,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),zs=function(t,e){this.renderer=t,this.onDequeues=[];var n=Ls(e);A(this,n),this.lookup=new Ns(n.getKey,n.doesEleInvalidateKey),this.setupDequeueing()},Bs=zs.prototype;Bs.reasons=Rs,Bs.getTextureQueue=function(t){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[t]=this.eleImgCaches[t]||[]},Bs.getRetiredTextureQueue=function(t){var e=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return e[t]=e[t]||[]},Bs.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new Ft(function(t,e){return e.reqs-t.reqs})},Bs.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Bs.getElement=function(t,e,n,i,o){var r=this,s=this.renderer,a=s.cy.zoom(),l=this.lookup;if(0===e.w||0===e.h||isNaN(e.w)||isNaN(e.h)||!t.visible())return null;if(!r.allowEdgeTxrCaching&&t.isEdge()||!r.allowParentTxrCaching&&t.isParent())return null;if(null==i&&(i=Math.ceil(ie(a*n))),i<-4)i=-4;else if(a>=7.99||i>3)return null;var h=Math.pow(2,i),u=e.h*h,d=e.w*h,c=s.eleTextBiggerThanMin(t,h);if(!this.isVisible(t,c))return null;var p,f=l.get(t,i);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(p=u<=25?25:u<=50?50:50*Math.ceil(u/50),u>1024||d>1024)return null;var g=r.getTextureQueue(p),v=g[g.length-2],m=function(){return r.recycleTexture(p,d)||r.addTexture(p,d)};v||(v=g[g.length-1]),v||(v=m()),v.width-v.usedWidth<d&&(v=m());for(var y,b=function(t){return t&&t.scaledLabelShown===c},w=o&&o===Rs.dequeue,x=o&&o===Rs.highQuality,_=o&&o===Rs.downscale,E=i+1;E<=3;E++){var k=l.get(t,E);if(k){y=k;break}}var S=y&&y.level===i+1?y:null,C=function(){v.context.drawImage(S.texture.canvas,S.x,0,S.width,S.height,v.usedWidth,0,d,u)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,d,p),b(S))C();else if(b(y)){if(!x)return r.queueElement(t,y.level-1),y;for(var T=y.level;T>i;T--)S=r.getElement(t,e,n,T,Rs.downscale);C()}else{var M;if(!w&&!x&&!_)for(var D=i-1;D>=-4;D--){var O=l.get(t,D);if(O){M=O;break}}if(b(M))return r.queueElement(t,i),M;v.context.translate(v.usedWidth,0),v.context.scale(h,h),this.drawElement(v.context,t,e,c,!1),v.context.scale(1/h,1/h),v.context.translate(-v.usedWidth,0)}return f={x:v.usedWidth,texture:v,level:i,scale:h,width:d,height:u,scaledLabelShown:c},v.usedWidth+=Math.ceil(d+8),v.eleCaches.push(f),l.set(t,i,f),r.checkTextureFullness(v),f},Bs.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Bs.invalidateElement=function(t){var e=this.lookup,n=[];if(e.isInvalid(t)){for(var i=-4;i<=3;i++){var o=e.getForCachedKey(t,i);o&&n.push(o)}if(e.invalidate(t))for(var r=0;r<n.length;r++){var s=n[r],a=s.texture;a.invalidatedWidth+=s.width,s.invalidated=!0,this.checkTextureUtility(a)}this.removeFromQueue(t)}},Bs.checkTextureUtility=function(t){t.invalidatedWidth>=.2*t.width&&this.retireTexture(t)},Bs.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?Dt(e,t):t.fullnessChecks++},Bs.retireTexture=function(t){var e=t.height,n=this.getTextureQueue(e),i=this.lookup;Dt(n,t),t.retired=!0;for(var o=t.eleCaches,r=0;r<o.length;r++){var s=o[r];i.deleteCache(s.key,s.level)}Ot(o),this.getRetiredTextureQueue(e).push(t)},Bs.addTexture=function(t,e){var n={};return this.getTextureQueue(t).push(n),n.eleCaches=[],n.height=t,n.width=Math.max(1024,e),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Bs.recycleTexture=function(t,e){for(var n=this.getTextureQueue(t),i=this.getRetiredTextureQueue(t),o=0;o<i.length;o++){var r=i[o];if(r.width>=e)return r.retired=!1,r.usedWidth=0,r.invalidatedWidth=0,r.fullnessChecks=0,Ot(r.eleCaches),r.context.setTransform(1,0,0,1,0,0),r.context.clearRect(0,0,r.width,r.height),Dt(i,r),n.push(r),r}},Bs.queueElement=function(t,e){var n=this.getElementQueue(),i=this.getElementKeyToQueue(),o=this.getKey(t),r=i[o];if(r)r.level=Math.max(r.level,e),r.eles.merge(t),r.reqs++,n.updateItem(r);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:o};n.push(s),i[o]=s}},Bs.dequeue=function(t){for(var e=this.getElementQueue(),n=this.getElementKeyToQueue(),i=[],o=this.lookup,r=0;r<1&&e.size()>0;r++){var s=e.pop(),a=s.key,l=s.eles[0],h=o.hasCache(l,s.level);if(n[a]=null,!h){i.push(s);var u=this.getBoundingBox(l);this.getElement(l,u,t,s.level,Rs.dequeue)}}return i},Bs.removeFromQueue=function(t){var e=this.getElementQueue(),n=this.getElementKeyToQueue(),i=this.getKey(t),o=n[i];null!=o&&(1===o.eles.length?(o.reqs=vt,e.updateItem(o),e.pop(),n[i]=null):o.eles.unmerge(t))},Bs.onDequeue=function(t){this.onDequeues.push(t)},Bs.offDequeue=function(t){Dt(this.onDequeues,t)},Bs.setupDequeueing=As({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e,n){return t.dequeue(e,n)},onDeqd:function(t,e){for(var n=0;n<t.onDequeues.length;n++)(0,t.onDequeues[n])(e)},shouldRedraw:function(t,e,n,i){for(var o=0;o<e.length;o++)for(var r=e[o].eles,s=0;s<r.length;s++){var a=r[s].boundingBox();if(me(a,i))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var Fs=function(t){var e=this,n=e.renderer=t,i=n.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=st()-500,e.skipping=!1,e.eleTxrDeqs=i.collection(),e.scheduleElementRefinement=et(function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)},50),n.beforeRender(function(t,n){e.skipping=n-e.lastInvalidationTime<=250},n.beforeRenderPriorities.lyrTxrSkip),e.layersQueue=new Ft(function(t,e){return e.reqs-t.reqs}),e.setupDequeueing()},js=Fs.prototype,Hs=0,Vs=Math.pow(2,53)-1;js.makeLayer=function(t,e){var n=Math.pow(2,e),i=Math.ceil(t.w*n),o=Math.ceil(t.h*n),r=this.renderer.makeOffscreenCanvas(i,o),s={id:Hs=++Hs%Vs,bb:t,level:e,width:i,height:o,canvas:r,context:r.getContext("2d"),eles:[],elesQueue:[],reqs:0},a=s.context,l=-s.bb.x1,h=-s.bb.y1;return a.scale(n,n),a.translate(l,h),s},js.getLayers=function(t,e,n){var i=this,o=i.renderer.cy.zoom(),r=i.firstGet;if(i.firstGet=!1,null==n)if((n=Math.ceil(ie(o*e)))<-4)n=-4;else if(o>=3.99||n>2)return null;i.validateLayersElesOrdering(n,t);var s,a,l=i.layersByLevel,h=Math.pow(2,n),u=l[n]=l[n]||[];if(i.levelIsComplete(n,t))return u;!function(){var e=function(e){if(i.validateLayersElesOrdering(e,t),i.levelIsComplete(e,t))return a=l[e],!0},o=function(t){if(!a)for(var i=n+t;-4<=i&&i<=2&&!e(i);i+=t);};o(1),o(-1);for(var r=u.length-1;r>=0;r--){var s=u[r];s.invalid&&Dt(u,s)}}();var d=function(e){var o=(e=e||{}).after;if(function(){if(!s){s=de();for(var e=0;e<t.length;e++)ce(s,t[e].boundingBox())}}(),s.w*h*(s.h*h)>16e6)return null;var r=i.makeLayer(s,n);if(null!=o){var a=u.indexOf(o)+1;u.splice(a,0,r)}else(void 0===e.insert||e.insert)&&u.unshift(r);return r};if(i.skipping&&!r)return null;for(var c=null,p=t.length/1,f=!r,g=0;g<t.length;g++){var v=t[g],m=v._private.rscratch,y=m.imgLayerCaches=m.imgLayerCaches||{},b=y[n];if(b)c=b;else{if((!c||c.eles.length>=p||!we(c.bb,v.boundingBox()))&&!(c=d({insert:!0,after:c})))return null;a||f?i.queueLayer(c,v):i.drawEleInLayer(c,v,n,e),c.eles.push(v),y[n]=c}}return a||(f?null:u)},js.getEleLevelForLayerLevel=function(t,e){return t},js.drawEleInLayer=function(t,e,n,i){var o=this.renderer,r=t.context,s=e.boundingBox();0!==s.w&&0!==s.h&&e.visible()&&(n=this.getEleLevelForLayerLevel(n,i),o.setImgSmoothing(r,!1),o.drawCachedElement(r,e,null,null,n,!0),o.setImgSmoothing(r,!0))},js.levelIsComplete=function(t,e){var n=this.layersByLevel[t];if(!n||0===n.length)return!1;for(var i=0,o=0;o<n.length;o++){var r=n[o];if(r.reqs>0)return!1;if(r.invalid)return!1;i+=r.eles.length}return i===e.length},js.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var i=0;i<n.length;i++){for(var o=n[i],r=-1,s=0;s<e.length;s++)if(o.eles[0]===e[s]){r=s;break}if(r<0)this.invalidateLayer(o);else{var a=r;for(s=0;s<o.eles.length;s++)if(o.eles[s]!==e[a+s]){this.invalidateLayer(o);break}}}},js.updateElementsInLayers=function(t,e){for(var n=b(t[0]),i=0;i<t.length;i++)for(var o=n?null:t[i],r=n?t[i]:t[i].ele,s=r._private.rscratch,a=s.imgLayerCaches=s.imgLayerCaches||{},l=-4;l<=2;l++){var h=a[l];h&&(o&&this.getEleLevelForLayerLevel(h.level)!==o.level||e(h,r,o))}},js.haveLayers=function(){for(var t=!1,e=-4;e<=2;e++){var n=this.layersByLevel[e];if(n&&n.length>0){t=!0;break}}return t},js.invalidateElements=function(t){var e=this;0!==t.length&&(e.lastInvalidationTime=st(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,function(t,n,i){e.invalidateLayer(t)}))},js.invalidateLayer=function(t){if(this.lastInvalidationTime=st(),!t.invalid){var e=t.level,n=t.eles;Dt(this.layersByLevel[e],t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<n.length;i++){var o=n[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}},js.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(t,n,i){var o=t.replacement;if(o||((o=t.replacement=e.makeLayer(t.bb,t.level)).replaces=t,o.eles=t.eles),!o.reqs)for(var r=0;r<o.eles.length;r++)e.queueLayer(o,o.eles[r])})},js.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},js.queueLayer=function(t,e){var n=this.layersQueue,i=t.elesQueue,o=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(o[e.id()])return;i.push(e),o[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},js.dequeue=function(t){for(var e=this.layersQueue,n=[],i=0;i<1&&0!==e.size();){var o=e.peek();if(o.replacement)e.pop();else if(o.replaces&&o!==o.replaces.replacement)e.pop();else if(o.invalid)e.pop();else{var r=o.elesQueue.shift();r&&(this.drawEleInLayer(o,r,o.level,t),i++),0===n.length&&n.push(!0),0===o.elesQueue.length&&(e.pop(),o.reqs=0,o.replaces&&this.applyLayerReplacement(o),this.requestRedraw())}}return n},js.applyLayerReplacement=function(t){var e=this.layersByLevel[t.level],n=t.replaces,i=e.indexOf(n);if(!(i<0||n.invalid)){e[i]=t;for(var o=0;o<t.eles.length;o++){var r=t.eles[o]._private,s=r.imgLayerCaches=r.imgLayerCaches||{};s&&(s[t.level]=t)}this.requestRedraw()}},js.requestRedraw=et(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100),js.setupDequeueing=As({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e){return t.dequeue(e)},onDeqd:wt,shouldRedraw:mt,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Ws,Us={};function Ys(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.lineTo(i.x,i.y)}}function Gs(t,e,n){for(var i,o=0;o<e.length;o++){var r=e[o];0===o&&(i=r),t.lineTo(r.x,r.y)}t.quadraticCurveTo(n.x,n.y,i.x,i.y)}function qs(t,e,n){t.beginPath&&t.beginPath();for(var i=e,o=0;o<i.length;o++){var r=i[o];t.lineTo(r.x,r.y)}var s=n,a=n[0];for(t.moveTo(a.x,a.y),o=1;o<s.length;o++)t.lineTo((r=s[o]).x,r.y);t.closePath&&t.closePath()}function Xs(t,e,n,i){t.arc(e,n,i,0,2*Math.PI,!1)}Us.arrowShapeImpl=function(t){return(Ws||(Ws={polygon:Ys,"triangle-backcurve":Gs,"triangle-tee":qs,"triangle-cross":qs,circle:Xs}))[t]};var Ks={drawElement:function(t,e,n,i,o,r){e.isNode()?this.drawNode(t,e,n,i,o,r):this.drawEdge(t,e,n,i,o,r)},drawElementOverlay:function(t,e){e.isNode()?this.drawNodeOverlay(t,e):this.drawEdgeOverlay(t,e)},drawCachedElementPortion:function(t,e,n,i,o,r,s,a){var l=this,h=n.getBoundingBox(e);if(0!==h.w&&0!==h.h){var u=n.getElement(e,h,i,o,r);if(null!=u){var d=a(l,e);if(0===d)return;var c,p,f,g,v,m,y=s(l,e),b=h.x1,w=h.y1,x=h.w,_=h.h;if(0!==y){var E=n.getRotationPoint(e);t.translate(f=E.x,g=E.y),t.rotate(y),(v=l.getImgSmoothing(t))||l.setImgSmoothing(t,!0);var k=n.getRotationOffset(e);c=k.x,p=k.y}else c=b,p=w;1!==d&&(t.globalAlpha=(m=t.globalAlpha)*d),t.drawImage(u.texture.canvas,u.x,0,u.width,u.height,c,p,x,_),1!==d&&(t.globalAlpha=m),0!==y&&(t.rotate(-y),t.translate(-f,-g),v||l.setImgSmoothing(t,!1))}else n.drawElement(t,e)}}},Zs=function(){return 0},Qs=function(t,e){return t.getTextAngle(e,null)},Js=function(t,e){return t.getTextAngle(e,"source")},$s=function(t,e){return t.getTextAngle(e,"target")},ta=function(t,e){return e.effectiveOpacity()},ea=function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()};Ks.drawCachedElement=function(t,e,n,i,o,r){var s=this,a=s.data,l=a.eleTxrCache,h=a.lblTxrCache,u=a.slbTxrCache,d=a.tlbTxrCache,c=e.boundingBox(),p=!0===r?l.reasons.highQuality:null;0!==c.w&&0!==c.h&&e.visible()&&(i&&!me(c,i)||(s.drawCachedElementPortion(t,e,l,n,o,p,Zs,ta),s.drawCachedElementPortion(t,e,h,n,o,p,Qs,ea),e.isEdge()&&(s.drawCachedElementPortion(t,e,u,n,o,p,Js,ea),s.drawCachedElementPortion(t,e,d,n,o,p,$s,ea)),s.drawElementOverlay(t,e)))},Ks.drawElements=function(t,e){for(var n=0;n<e.length;n++)this.drawElement(t,e[n])},Ks.drawCachedElements=function(t,e,n,i){for(var o=0;o<e.length;o++)this.drawCachedElement(t,e[o],n,i)},Ks.drawCachedNodes=function(t,e,n,i){for(var o=0;o<e.length;o++){var r=e[o];r.isNode()&&this.drawCachedElement(t,r,n,i)}},Ks.drawLayeredElements=function(t,e,n,i){var o=this.data.lyrTxrCache.getLayers(e,n);if(o)for(var r=0;r<o.length;r++){var s=o[r],a=s.bb;0!==a.w&&0!==a.h&&t.drawImage(s.canvas,a.x1,a.y1,a.w,a.h)}else this.drawCachedElements(t,e,n,i)};for(var na={drawEdge:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this,a=e._private.rscratch;if((!r||e.visible())&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var l;n&&t.translate(-(l=n).x1,-l.y1);var h=r?e.pstyle("opacity").value:1,u=e.pstyle("line-style").value,d=e.pstyle("width").pfValue,c=e.pstyle("line-cap").value,p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;t.lineWidth=d,t.lineCap=c,s.eleStrokeStyle(t,e,n),s.drawEdgePath(e,t,a.allpts,u),t.lineCap="butt"},f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;s.drawArrowheads(t,e,n)};if(t.lineJoin="round","yes"===e.pstyle("ghost").value){var g=e.pstyle("ghost-offset-x").pfValue,v=e.pstyle("ghost-offset-y").pfValue,m=e.pstyle("ghost-opacity").value,y=h*m;t.translate(g,v),p(y),f(y),t.translate(-g,-v)}p(),f(),o&&s.drawEdgeOverlay(t,e),s.drawElementText(t,e,null,i),n&&t.translate(l.x1,l.y1)}},drawEdgeOverlay:function(t,e){if(e.visible()){var n=e.pstyle("overlay-opacity").value;if(0!==n){var i=this,o=i.usePaths(),r=e._private.rscratch,s=2*e.pstyle("overlay-padding").pfValue,a=e.pstyle("overlay-color").value;t.lineWidth=s,t.lineCap="self"!==r.edgeType||o?"round":"butt",i.colorStrokeStyle(t,a[0],a[1],a[2],n),i.drawEdgePath(e,t,r.allpts,"solid")}}},drawEdgePath:function(t,e,n,i){var o,r=t._private.rscratch,s=e,a=!1,l=this.usePaths(),h=t.pstyle("line-dash-pattern").pfValue,u=t.pstyle("line-dash-offset").pfValue;if(l){var d=n.join("$");r.pathCacheKey&&r.pathCacheKey===d?(o=e=r.pathCache,a=!0):(o=e=new Path2D,r.pathCacheKey=d,r.pathCache=o)}if(s.setLineDash)switch(i){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(h),s.lineDashOffset=u;break;case"solid":s.setLineDash([])}if(!a&&!r.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),r.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var c=2;c+3<n.length;c+=4)e.quadraticCurveTo(n[c],n[c+1],n[c+2],n[c+3]);break;case"straight":case"segments":case"haystack":for(var p=2;p+1<n.length;p+=2)e.lineTo(n[p],n[p+1])}e=s,l?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])},drawArrowheads:function(t,e,n){var i=e._private.rscratch,o="haystack"===i.edgeType;o||this.drawArrowhead(t,e,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,n),o||this.drawArrowhead(t,e,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,n)},drawArrowhead:function(t,e,n,i,o,r,s){if(!(isNaN(i)||null==i||isNaN(o)||null==o||isNaN(r)||null==r)){var a=e.pstyle(n+"-arrow-shape").value;if("none"!==a){var l="hollow"===e.pstyle(n+"-arrow-fill").value?"both":"filled",h=e.pstyle(n+"-arrow-fill").value,u=e.pstyle("width").pfValue,d=e.pstyle("opacity").value;void 0===s&&(s=d);var c=t.globalCompositeOperation;1===s&&"hollow"!==h||(t.globalCompositeOperation="destination-out",this.colorFillStyle(t,255,255,255,1),this.colorStrokeStyle(t,255,255,255,1),this.drawArrowShape(e,t,l,u,a,i,o,r),t.globalCompositeOperation=c);var p=e.pstyle(n+"-arrow-color").value;this.colorFillStyle(t,p[0],p[1],p[2],s),this.colorStrokeStyle(t,p[0],p[1],p[2],s),this.drawArrowShape(e,t,h,u,a,i,o,r)}}},drawArrowShape:function(t,e,n,i,o,r,s,a){var l,h=this,u=this.usePaths()&&"triangle-cross"!==o,d=!1,c=e,p={x:r,y:s},f=t.pstyle("arrow-scale").value,g=this.getArrowWidth(i,f),v=h.arrowShapes[o];if(u){var m=h.arrowPathCache=h.arrowPathCache||[],y=ut(o),b=m[y];null!=b?(l=e=b,d=!0):(l=e=new Path2D,m[y]=l)}e.beginPath&&e.beginPath(),d||(u?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,g,a,p,i)),e.closePath&&e.closePath(),e=c,u&&(e.translate(r,s),e.rotate(a),e.scale(g,g)),"filled"!==n&&"both"!==n||(u?e.fill(l):e.fill()),"hollow"!==n&&"both"!==n||(e.lineWidth=(v.matchEdgeWidth?i:1)/(u?g:1),e.lineJoin="miter",u?e.stroke(l):e.stroke()),u&&(e.scale(1/g,1/g),e.rotate(-a),e.translate(-r,-s))}},ia={safeDrawImage:function(t,e,n,i,o,r,s,a,l,h){o<=0||r<=0||l<=0||h<=0||t.drawImage(e,n,i,o,r,s,a,l,h)},drawInscribedImage:function(t,e,n,i,o){var r=this,s=n.position(),a=s.x,l=s.y,h=n.cy().style(),u=h.getIndexedStyle.bind(h),d=u(n,"background-fit","value",i),c=u(n,"background-repeat","value",i),p=n.width(),f=n.height(),g=2*n.padding(),v=p+("inner"===u(n,"background-width-relative-to","value",i)?0:g),m=f+("inner"===u(n,"background-height-relative-to","value",i)?0:g),y=n._private.rscratch,b="node"===u(n,"background-clip","value",i),w=u(n,"background-image-opacity","value",i)*o,x=e.width||e.cachedW,_=e.height||e.cachedH;null!=x&&null!=_||(document.body.appendChild(e),x=e.cachedW=e.width||e.offsetWidth,_=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var E=x,k=_;if("auto"!==u(n,"background-width","value",i)&&(E="%"===u(n,"background-width","units",i)?u(n,"background-width","pfValue",i)*v:u(n,"background-width","pfValue",i)),"auto"!==u(n,"background-height","value",i)&&(k="%"===u(n,"background-height","units",i)?u(n,"background-height","pfValue",i)*m:u(n,"background-height","pfValue",i)),0!==E&&0!==k){if("contain"===d)E*=S=Math.min(v/E,m/k),k*=S;else if("cover"===d){var S;E*=S=Math.max(v/E,m/k),k*=S}var C=a-v/2,T=u(n,"background-position-x","units",i),M=u(n,"background-position-x","pfValue",i);C+="%"===T?(v-E)*M:M;var D=u(n,"background-offset-x","units",i),O=u(n,"background-offset-x","pfValue",i);C+="%"===D?(v-E)*O:O;var P=l-m/2,I=u(n,"background-position-y","units",i),A=u(n,"background-position-y","pfValue",i);P+="%"===I?(m-k)*A:A;var N=u(n,"background-offset-y","units",i),R=u(n,"background-offset-y","pfValue",i);P+="%"===N?(m-k)*R:R,y.pathCache&&(C-=a,P-=l,a=0,l=0);var L=t.globalAlpha;if(t.globalAlpha=w,"no-repeat"===c)b&&(t.save(),y.pathCache?t.clip(y.pathCache):(r.nodeShapes[r.getNodeShape(n)].draw(t,a,l,v,m),t.clip())),r.safeDrawImage(t,e,0,0,x,_,C,P,E,k),b&&t.restore();else{var z=t.createPattern(e,c);t.fillStyle=z,r.nodeShapes[r.getNodeShape(n)].draw(t,a,l,v,m),t.translate(C,P),t.fill(),t.translate(-C,-P)}t.globalAlpha=L}}},oa={eleTextBiggerThanMin:function(t,e){if(!e){var n=t.cy().zoom(),i=this.getPixelRatio(),o=Math.ceil(ie(n*i));e=Math.pow(2,o)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(t,e,n,i,o){var r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this;if(null==i){if(r&&!s.eleTextBiggerThanMin(e))return}else if(!1===i)return;if(e.isNode()){var a=e.pstyle("label");if(!a||!a.value)return;var l=s.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var h=e.pstyle("label"),u=e.pstyle("source-label"),d=e.pstyle("target-label");if(!(h&&h.value||u&&u.value||d&&d.value))return;t.textAlign="center",t.textBaseline="bottom"}var c,p=!n;n&&t.translate(-(c=n).x1,-c.y1),null==o?(s.drawText(t,e,null,p,r),e.isEdge()&&(s.drawText(t,e,"source",p,r),s.drawText(t,e,"target",p,r))):s.drawText(t,e,o,p,r),n&&t.translate(c.x1,c.y1)},getFontCache:function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((e=this.fontCaches[n]).context===t)return e;return this.fontCaches.push(e={context:t}),e},setupTextStyle:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue+"px",r=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,a=n?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*a,h=e.pstyle("color").value,u=e.pstyle("text-outline-color").value;t.font=i+" "+s+" "+o+" "+r,t.lineJoin="round",this.colorFillStyle(t,h[0],h[1],h[2],a),this.colorStrokeStyle(t,u[0],u[1],u[2],l)},getTextAngle:function(t,e){var n=t._private.rscratch,i=t.pstyle((e?e+"-":"")+"text-rotation"),o=Pt(n,"labelAngle",e);return"autorotate"===i.strValue?t.isEdge()?o:0:"none"===i.strValue?0:i.pfValue},drawText:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=e._private.rscratch,s=o?e.effectiveOpacity():1;if(!o||0!==s&&0!==e.pstyle("text-opacity").value){"main"===n&&(n=null);var a,l,h=Pt(r,"labelX",n),u=Pt(r,"labelY",n),d=this.getLabelText(e,n);if(null!=d&&""!==d&&!isNaN(h)&&!isNaN(u)){this.setupTextStyle(t,e,o);var c,p=n?n+"-":"",f=Pt(r,"labelWidth",n),g=Pt(r,"labelHeight",n),v=e.pstyle(p+"text-margin-x").pfValue,m=e.pstyle(p+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle("text-halign").value,w=e.pstyle("text-valign").value;switch(y&&(b="center",w="center"),h+=v,u+=m,0!==(c=i?this.getTextAngle(e,n):0)&&(t.translate(a=h,l=u),t.rotate(c),h=0,u=0),w){case"top":break;case"center":u+=g/2;break;case"bottom":u+=g}var x=e.pstyle("text-background-opacity").value,_=e.pstyle("text-border-opacity").value,E=e.pstyle("text-border-width").pfValue,k=e.pstyle("text-background-padding").pfValue;if(x>0||E>0&&_>0){var S=h-k;switch(b){case"left":S-=f;break;case"center":S-=f/2}var C=u-g-k,T=f+2*k,M=g+2*k;if(x>0){var D=t.fillStyle,O=e.pstyle("text-background-color").value;t.fillStyle="rgba("+O[0]+","+O[1]+","+O[2]+","+x*s+")","roundrectangle"==e.pstyle("text-background-shape").strValue?function(t,e,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;t.beginPath(),t.moveTo(e+r,n),t.lineTo(e+i-r,n),t.quadraticCurveTo(e+i,n,e+i,n+r),t.lineTo(e+i,n+o-r),t.quadraticCurveTo(e+i,n+o,e+i-r,n+o),t.lineTo(e+r,n+o),t.quadraticCurveTo(e,n+o,e,n+o-r),t.lineTo(e,n+r),t.quadraticCurveTo(e,n,e+r,n),t.closePath(),t.fill()}(t,S,C,T,M,2):t.fillRect(S,C,T,M),t.fillStyle=D}if(E>0&&_>0){var P=t.strokeStyle,I=t.lineWidth,A=e.pstyle("text-border-color").value,N=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+A[0]+","+A[1]+","+A[2]+","+_*s+")",t.lineWidth=E,t.setLineDash)switch(N){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=E/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(S,C,T,M),"double"===N){var R=E/2;t.strokeRect(S+R,C+R,T-2*R,M-2*R)}t.setLineDash&&t.setLineDash([]),t.lineWidth=I,t.strokeStyle=P}}var L=2*e.pstyle("text-outline-width").pfValue;if(L>0&&(t.lineWidth=L),"wrap"===e.pstyle("text-wrap").value){var z=Pt(r,"labelWrapCachedLines",n),B=Pt(r,"labelLineHeight",n),F=f/2,j=this.getLabelJustification(e);switch("auto"===j||("left"===b?"left"===j?h+=-f:"center"===j&&(h+=-F):"center"===b?"left"===j?h+=-F:"right"===j&&(h+=F):"right"===b&&("center"===j?h+=F:"right"===j&&(h+=f))),w){case"top":u-=(z.length-1)*B;break;case"center":case"bottom":u-=(z.length-1)*B}for(var H=0;H<z.length;H++)L>0&&t.strokeText(z[H],h,u),t.fillText(z[H],h,u),u+=B}else L>0&&t.strokeText(d,h,u),t.fillText(d,h,u);0!==c&&(t.rotate(-c),t.translate(-a,-l))}}}},ra={drawNode:function(t,e,n){var i,o,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,h=e._private,u=h.rscratch,d=e.position();if(v(d.x)&&v(d.y)&&(!a||e.visible())){var c,p,f=a?e.effectiveOpacity():1,g=l.usePaths(),m=!1,y=e.padding();i=e.width()+2*y,o=e.height()+2*y,n&&t.translate(-(p=n).x1,-p.y1);for(var b=e.pstyle("background-image").value,w=new Array(b.length),x=new Array(b.length),_=0,E=0;E<b.length;E++){var k=b[E];if(w[E]=null!=k&&"none"!==k){var S=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",E);_++,x[E]=l.getCachedImage(k,S,function(){h.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var C=e.pstyle("background-blacken").value,T=e.pstyle("border-width").pfValue,M=e.pstyle("background-opacity").value*f,D=e.pstyle("border-color").value,O=e.pstyle("border-style").value,P=e.pstyle("border-opacity").value*f;t.lineJoin="miter";var I=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;l.eleFillStyle(t,e,n)},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;l.colorStrokeStyle(t,D[0],D[1],D[2],e)},N=e.pstyle("shape").strValue,R=e.pstyle("shape-polygon-points").pfValue;if(g){t.translate(d.x,d.y);var L=l.nodePathCache=l.nodePathCache||[],z=dt("polygon"===N?N+","+R.join(","):N,""+o,""+i),B=L[z];null!=B?(m=!0,u.pathCache=c=B):(c=new Path2D,L[z]=u.pathCache=c)}var F=function(){if(!m){var n=d;g&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(c||t,n.x,n.y,i,o)}g?t.fill(c):t.fill()},j=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,i=h.backgrounding,o=0,r=0;r<x.length;r++)w[r]&&x[r].complete&&!x[r].error&&(o++,l.drawInscribedImage(t,x[r],e,r,n));h.backgrounding=!(o===_),i!==h.backgrounding&&e.updateStyle(!1)},H=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(e)&&(l.drawPie(t,e,r),n&&(g||l.nodeShapes[l.getNodeShape(e)].draw(t,d.x,d.y,i,o)))},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=(C>0?C:-C)*e,i=C>0?0:255;0!==C&&(l.colorFillStyle(t,i,i,i,n),g?t.fill(c):t.fill())},W=function(){if(T>0){if(t.lineWidth=T,t.lineCap="butt",t.setLineDash)switch(O){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(g?t.stroke(c):t.stroke(),"double"===O){t.lineWidth=T/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(c):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}};if("yes"===e.pstyle("ghost").value){var U=e.pstyle("ghost-offset-x").pfValue,Y=e.pstyle("ghost-offset-y").pfValue,G=e.pstyle("ghost-opacity").value,q=G*f;t.translate(U,Y),I(G*M),F(),j(q),H(0!==C||0!==T),V(q),A(G*P),W(),t.translate(-U,-Y)}I(),F(),j(),H(0!==C||0!==T),V(),A(),W(),g&&t.translate(-d.x,-d.y),l.drawElementText(t,e,null,r),s&&l.drawNodeOverlay(t,e,d,i,o),n&&t.translate(p.x1,p.y1)}},drawNodeOverlay:function(t,e,n,i,o){if(e.visible()){var r=e.pstyle("overlay-padding").pfValue,s=e.pstyle("overlay-opacity").value,a=e.pstyle("overlay-color").value;if(s>0){if(n=n||e.position(),null==i||null==o){var l=e.padding();i=e.width()+2*l,o=e.height()+2*l}this.colorFillStyle(t,a[0],a[1],a[2],s),this.nodeShapes.roundrectangle.draw(t,n.x,n.y,i+2*r,o+2*r),t.fill()}}},hasPie:function(t){return(t=t[0])._private.hasPie},drawPie:function(t,e,n,i){e=e[0],i=i||e.position();var o=e.cy().style(),r=e.pstyle("pie-size"),s=i.x,a=i.y,l=e.width(),h=e.height(),u=Math.min(l,h)/2,d=0;this.usePaths()&&(s=0,a=0),"%"===r.units?u*=r.pfValue:void 0!==r.pfValue&&(u=r.pfValue/2);for(var c=1;c<=o.pieBackgroundN;c++){var p=e.pstyle("pie-"+c+"-background-size").value,f=e.pstyle("pie-"+c+"-background-color").value,g=e.pstyle("pie-"+c+"-background-opacity").value*n,v=p/100;v+d>1&&(v=1-d);var m=1.5*Math.PI+2*Math.PI*d,y=m+2*Math.PI*v;0===p||d>=1||d+v>1||(t.beginPath(),t.moveTo(s,a),t.arc(s,a,u,m,y),t.closePath(),this.colorFillStyle(t,f[0],f[1],f[2],g),t.fill(),d+=v)}}},sa={getPixelRatio:function(){var t=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},paintCache:function(t){for(var e,n=this.paintCaches=this.paintCaches||[],i=!0,o=0;o<n.length;o++)if((e=n[o]).context===t){i=!1;break}return i&&n.push(e={context:t}),e},createGradientStyleFor:function(t,e,n,i,o){var r,s=this.usePaths(),a=n.pstyle(e+"-gradient-stop-colors").value,l=n.pstyle(e+"-gradient-stop-positions").pfValue;if("radial-gradient"===i)if(n.isEdge()){var h=n.sourceEndpoint(),u=n.targetEndpoint(),d=n.midpoint(),c=re(h,d),p=re(u,d);r=t.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(c,p))}else{var f=s?{x:0,y:0}:n.position(),g=n.width(),v=n.height();r=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,v))}else if(n.isEdge()){var m=n.sourceEndpoint(),y=n.targetEndpoint();r=t.createLinearGradient(m.x,m.y,y.x,y.y)}else{var b=s?{x:0,y:0}:n.position(),w=n.width()/2,x=n.height()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":r=t.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":r=t.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":r=t.createLinearGradient(b.x-w,b.y,b.x+w,b.y);break;case"to-right":r=t.createLinearGradient(b.x+w,b.y,b.x-w,b.y);break;case"to-bottom-right":case"to-right-bottom":r=t.createLinearGradient(b.x-w,b.y-x,b.x+w,b.y+x);break;case"to-top-right":case"to-right-top":r=t.createLinearGradient(b.x-w,b.y+x,b.x+w,b.y-x);break;case"to-bottom-left":case"to-left-bottom":r=t.createLinearGradient(b.x+w,b.y-x,b.x-w,b.y+x);break;case"to-top-left":case"to-left-top":r=t.createLinearGradient(b.x+w,b.y+x,b.x-w,b.y-x)}}if(!r)return null;for(var _=l.length===a.length,E=a.length,k=0;k<E;k++)r.addColorStop(_?l[k]:k/(E-1),"rgba("+a[k][0]+","+a[k][1]+","+a[k][2]+","+o+")");return r},gradientFillStyle:function(t,e,n,i){var o=this.createGradientStyleFor(t,"background",e,n,i);if(!o)return null;t.fillStyle=o},colorFillStyle:function(t,e,n,i,o){t.fillStyle="rgba("+e+","+n+","+i+","+o+")"},eleFillStyle:function(t,e,n){var i=e.pstyle("background-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientFillStyle(t,e,i,n);else{var o=e.pstyle("background-color").value;this.colorFillStyle(t,o[0],o[1],o[2],n)}},gradientStrokeStyle:function(t,e,n,i){var o=this.createGradientStyleFor(t,"line",e,n,i);if(!o)return null;t.strokeStyle=o},colorStrokeStyle:function(t,e,n,i,o){t.strokeStyle="rgba("+e+","+n+","+i+","+o+")"},eleStrokeStyle:function(t,e,n){var i=e.pstyle("line-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientStrokeStyle(t,e,i,n);else{var o=e.pstyle("line-color").value;this.colorStrokeStyle(t,o[0],o[1],o[2],n)}},matchCanvasSize:function(t){var e=this,n=e.data,i=e.findContainerClientCoords(),o=i[2],r=i[3],s=e.getPixelRatio();t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(s=e.motionBlurPxRatio);var a,l=o*s,h=r*s;if(l!==e.canvasWidth||h!==e.canvasHeight){e.fontCaches=null;var u=n.canvasContainer;u.style.width=o+"px",u.style.height=r+"px";for(var d=0;d<e.CANVAS_LAYERS;d++)(a=n.canvases[d]).width=l,a.height=h,a.style.width=o+"px",a.style.height=r+"px";for(d=0;d<e.BUFFER_COUNT;d++)(a=n.bufferCanvases[d]).width=l,a.height=h,a.style.width=o+"px",a.style.height=r+"px";e.textureMult=1,s<=1&&(a=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,a.width=l*e.textureMult,a.height=h*e.textureMult),e.canvasWidth=l,e.canvasHeight=h}},renderTo:function(t,e,n,i){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:i})},render:function(t){var e=(t=t||Tt()).forcedContext,n=t.drawAllLayers,i=t.drawOnlyNodeLayer,o=t.forcedZoom,r=t.forcedPan,s=this,a=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,l=s.cy,h=s.data,u=h.canvasNeedsRedraw,d=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),c=void 0!==t.motionBlur?t.motionBlur:s.motionBlur,p=s.motionBlurPxRatio,f=l.hasCompoundNodes(),g=s.hoverData.draggingEles,v=c=c&&!e&&s.motionBlurEnabled&&!(s.hoverData.selecting||s.touchData.selecting);e||(s.prevPxRatio!==a&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=a),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),c&&(null==s.mbFrames&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(v=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!d&&(u[s.NODE]=!0,u[s.SELECT_BOX]=!0);var m=l.style(),y=l.zoom(),b=void 0!==o?o:y,w=l.pan(),x={x:w.x,y:w.y},_={zoom:y,pan:{x:w.x,y:w.y}},E=s.prevViewport;void 0===E||_.zoom!==E.zoom||_.pan.x!==E.pan.x||_.pan.y!==E.pan.y||g&&!f||(s.motionBlurPxRatio=1),r&&(x=r),b*=a,x.x*=a,x.y*=a;var k=s.getCachedZSortedEles();function S(t,e,n,i,o){var r=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,s.motionBlurTransparency),t.fillRect(e,n,i,o),t.globalCompositeOperation=r}function C(t,i){var a,l,u,d;s.clearingMotionBlur||t!==h.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]&&t!==h.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]?(a=x,l=b,u=s.canvasWidth,d=s.canvasHeight):(a={x:w.x*p,y:w.y*p},l=y*p,u=s.canvasWidth*p,d=s.canvasHeight*p),t.setTransform(1,0,0,1,0,0),"motionBlur"===i?S(t,0,0,u,d):e||void 0!==i&&!i||t.clearRect(0,0,u,d),n||(t.translate(a.x,a.y),t.scale(l,l)),r&&t.translate(r.x,r.y),o&&t.scale(o,o)}if(d||(s.textureDrawLastFrame=!1),d){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=l.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var T=s.data.bufferContexts[s.TEXTURE_BUFFER];T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:T,drawOnlyNodeLayer:!0,forcedPxRatio:a*s.textureMult}),(_=s.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:s.canvasWidth,height:s.canvasHeight}).mpan={x:(0-_.pan.x)/_.zoom,y:(0-_.pan.y)/_.zoom}}u[s.DRAG]=!1,u[s.NODE]=!1;var M=h.contexts[s.NODE],D=s.textureCache.texture;_=s.textureCache.viewport,M.setTransform(1,0,0,1,0,0),c?S(M,0,0,_.width,_.height):M.clearRect(0,0,_.width,_.height);var O=m.core("outside-texture-bg-color").value,P=m.core("outside-texture-bg-opacity").value;s.colorFillStyle(M,O[0],O[1],O[2],P),M.fillRect(0,0,_.width,_.height),y=l.zoom(),C(M,!1),M.clearRect(_.mpan.x,_.mpan.y,_.width/_.zoom/a,_.height/_.zoom/a),M.drawImage(D,_.mpan.x,_.mpan.y,_.width/_.zoom/a,_.height/_.zoom/a)}else s.textureOnViewport&&!e&&(s.textureCache=null);var I=l.extent(),A=s.hideEdgesOnViewport&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles),N=[];if(N[s.NODE]=!u[s.NODE]&&c&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,N[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),N[s.DRAG]=!u[s.DRAG]&&c&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,N[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),u[s.NODE]||n||i||N[s.NODE]){var R=c&&!N[s.NODE]&&1!==p;C(M=e||(R?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:h.contexts[s.NODE]),c&&!R?"motionBlur":void 0),A?s.drawCachedNodes(M,k.nondrag,a,I):s.drawLayeredElements(M,k.nondrag,a,I),s.debug&&s.drawDebugPoints(M,k.nondrag),n||c||(u[s.NODE]=!1)}if(!i&&(u[s.DRAG]||n||N[s.DRAG])&&(R=c&&!N[s.DRAG]&&1!==p,C(M=e||(R?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:h.contexts[s.DRAG]),c&&!R?"motionBlur":void 0),A?s.drawCachedNodes(M,k.drag,a,I):s.drawCachedElements(M,k.drag,a,I),s.debug&&s.drawDebugPoints(M,k.drag),n||c||(u[s.DRAG]=!1)),s.showFps||!i&&u[s.SELECT_BOX]&&!n){if(C(M=e||h.contexts[s.SELECT_BOX]),1==s.selection[4]&&(s.hoverData.selecting||s.touchData.selecting)){y=s.cy.zoom();var L=m.core("selection-box-border-width").value/y;M.lineWidth=L,M.fillStyle="rgba("+m.core("selection-box-color").value[0]+","+m.core("selection-box-color").value[1]+","+m.core("selection-box-color").value[2]+","+m.core("selection-box-opacity").value+")",M.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),L>0&&(M.strokeStyle="rgba("+m.core("selection-box-border-color").value[0]+","+m.core("selection-box-border-color").value[1]+","+m.core("selection-box-border-color").value[2]+","+m.core("selection-box-opacity").value+")",M.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(h.bgActivePosistion&&!s.hoverData.selecting){y=s.cy.zoom();var z=h.bgActivePosistion;M.fillStyle="rgba("+m.core("active-bg-color").value[0]+","+m.core("active-bg-color").value[1]+","+m.core("active-bg-color").value[2]+","+m.core("active-bg-opacity").value+")",M.beginPath(),M.arc(z.x,z.y,m.core("active-bg-size").pfValue/y,0,2*Math.PI),M.fill()}var B=s.lastRedrawTime;if(s.showFps&&B){B=Math.round(B);var F=Math.round(1e3/B);M.setTransform(1,0,0,1,0,0),M.fillStyle="rgba(255, 0, 0, 0.75)",M.strokeStyle="rgba(255, 0, 0, 0.75)",M.lineWidth=1,M.fillText("1 frame = "+B+" ms = "+F+" fps",0,20),M.strokeRect(0,30,250,20),M.fillRect(0,30,250*Math.min(F/60,1),20)}n||(u[s.SELECT_BOX]=!1)}if(c&&1!==p){var j=h.contexts[s.DRAG],H=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],V=function(t,e,n){t.setTransform(1,0,0,1,0,0),n||!v?t.clearRect(0,0,s.canvasWidth,s.canvasHeight):S(t,0,0,s.canvasWidth,s.canvasHeight),t.drawImage(e,0,0,s.canvasWidth*p,s.canvasHeight*p,0,0,s.canvasWidth,s.canvasHeight)};(u[s.NODE]||N[s.NODE])&&(V(h.contexts[s.NODE],s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],N[s.NODE]),u[s.NODE]=!1),(u[s.DRAG]||N[s.DRAG])&&(V(j,H,N[s.DRAG]),u[s.DRAG]=!1)}s.prevViewport=_,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),c&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!d,s.mbFrames=0,u[s.NODE]=!0,u[s.DRAG]=!0,s.redraw()},100)),e||l.emit("render")}},aa={drawPolygonPath:function(t,e,n,i,o,r){var s=i/2,a=o/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*r[0],n+a*r[1]);for(var l=1;l<r.length/2;l++)t.lineTo(e+s*r[2*l],n+a*r[2*l+1]);t.closePath()},drawRoundRectanglePath:function(t,e,n,i,o){var r=i/2,s=o/2,a=Fe(i,o);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.arcTo(e+r,n-s,e+r,n,a),t.arcTo(e+r,n+s,e,n+s,a),t.arcTo(e-r,n+s,e-r,n,a),t.arcTo(e-r,n-s,e,n-s,a),t.lineTo(e,n-s),t.closePath()},drawBottomRoundRectanglePath:function(t,e,n,i,o){var r=i/2,s=o/2,a=Fe(i,o);t.beginPath&&t.beginPath(),t.moveTo(e,n-s),t.lineTo(e+r,n-s),t.lineTo(e+r,n),t.arcTo(e+r,n+s,e,n+s,a),t.arcTo(e-r,n+s,e-r,n,a),t.lineTo(e-r,n-s),t.lineTo(e,n-s),t.closePath()},drawCutRectanglePath:function(t,e,n,i,o){var r=i/2,s=o/2;t.beginPath&&t.beginPath(),t.moveTo(e-r+8,n-s),t.lineTo(e+r-8,n-s),t.lineTo(e+r,n-s+8),t.lineTo(e+r,n+s-8),t.lineTo(e+r-8,n+s),t.lineTo(e-r+8,n+s),t.lineTo(e-r,n+s-8),t.lineTo(e-r,n-s+8),t.closePath()},drawBarrelPath:function(t,e,n,i,o){var r=i/2,s=o/2,a=e-r,l=e+r,h=n-s,u=n+s,d=je(i,o),c=d.widthOffset,p=d.heightOffset,f=d.ctrlPtOffsetPct*c;t.beginPath&&t.beginPath(),t.moveTo(a,h+p),t.lineTo(a,u-p),t.quadraticCurveTo(a+f,u,a+c,u),t.lineTo(l-c,u),t.quadraticCurveTo(l-f,u,l,u-p),t.lineTo(l,h+p),t.quadraticCurveTo(l-f,h,l-c,h),t.lineTo(a+c,h),t.quadraticCurveTo(a+f,h,a,h+p),t.closePath()}},la=Math.sin(0),ha=Math.cos(0),ua={},da={},ca=Math.PI/40,pa=0*Math.PI;pa<2*Math.PI;pa+=ca)ua[pa]=Math.sin(pa),da[pa]=Math.cos(pa);aa.drawEllipsePath=function(t,e,n,i,o){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,i/2,o/2,0,0,2*Math.PI);else for(var r,s,a=i/2,l=o/2,h=0*Math.PI;h<2*Math.PI;h+=ca)r=e-a*ua[h]*la+a*da[h]*ha,s=n+l*da[h]*la+l*ua[h]*ha,0===h?t.moveTo(r,s):t.lineTo(r,s);t.closePath()};var fa={};function ga(t){var e=t.indexOf(",");return t.substr(e+1)}function va(t,e,n){var i=function(){return e.toDataURL(n,t.quality)};switch(t.output){case"blob-promise":return new Gn(function(i,o){try{e.toBlob(function(t){null!=t?i(t):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,t.quality)}catch(t){o(t)}});case"blob":return function(t,e){for(var n=atob(t),i=new ArrayBuffer(n.length),o=new Uint8Array(i),r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return new Blob([i],{type:e})}(ga(i()),n);case"base64":return ga(i());case"base64uri":default:return i()}}fa.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]},fa.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements().boundingBox(),i=this.findContainerClientCoords(),o=t.full?Math.ceil(n.w):i[2],r=t.full?Math.ceil(n.h):i[3],s=v(t.maxWidth)||v(t.maxHeight),a=this.getPixelRatio(),l=1;if(void 0!==t.scale)o*=t.scale,r*=t.scale,l=t.scale;else if(s){var h=1/0,u=1/0;v(t.maxWidth)&&(h=l*t.maxWidth/o),v(t.maxHeight)&&(u=l*t.maxHeight/r),o*=l=Math.min(h,u),r*=l}s||(o*=a,r*=a,l*=a);var d=document.createElement("canvas");d.width=o,d.height=r,d.style.width=o+"px",d.style.height=r+"px";var c=d.getContext("2d");if(o>0&&r>0){c.clearRect(0,0,o,r),c.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)c.translate(-n.x1*l,-n.y1*l),c.scale(l,l),this.drawElements(c,p),c.scale(1/l,1/l),c.translate(n.x1*l,n.y1*l);else{var f=e.pan(),g={x:f.x*l,y:f.y*l};l*=e.zoom(),c.translate(g.x,g.y),c.scale(l,l),this.drawElements(c,p),c.scale(1/l,1/l),c.translate(-g.x,-g.y)}t.bg&&(c.globalCompositeOperation="destination-over",c.fillStyle=t.bg,c.rect(0,0,o,r),c.fill())}return d},fa.png=function(t){return va(t,this.bufferCanvasImage(t),"image/png")},fa.jpg=function(t){return va(t,this.bufferCanvasImage(t),"image/jpeg")};var ma=ba,ya=ba.prototype;function ba(t){var e=this;e.data={canvases:new Array(ya.CANVAS_LAYERS),contexts:new Array(ya.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ya.CANVAS_LAYERS),bufferCanvases:new Array(ya.BUFFER_COUNT),bufferContexts:new Array(ya.CANVAS_LAYERS)},e.data.canvasContainer=document.createElement("div");var n=e.data.canvasContainer.style;e.data.canvasContainer.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",n.position="relative",n.zIndex="0",n.overflow="hidden";var i=t.cy.container();i.appendChild(e.data.canvasContainer),i.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};S()&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var r=0;r<ya.CANVAS_LAYERS;r++){var s=e.data.canvases[r]=document.createElement("canvas");e.data.contexts[r]=s.getContext("2d"),Object.keys(o).forEach(function(t){s.style[t]=o[t]}),s.style.position="absolute",s.setAttribute("data-id","layer"+r),s.style.zIndex=String(ya.CANVAS_LAYERS-r),e.data.canvasContainer.appendChild(s),e.data.canvasNeedsRedraw[r]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[ya.NODE].setAttribute("data-id","layer"+ya.NODE+"-node"),e.data.canvases[ya.SELECT_BOX].setAttribute("data-id","layer"+ya.SELECT_BOX+"-selectbox"),e.data.canvases[ya.DRAG].setAttribute("data-id","layer"+ya.DRAG+"-drag"),r=0;r<ya.BUFFER_COUNT;r++)e.data.bufferCanvases[r]=document.createElement("canvas"),e.data.bufferContexts[r]=e.data.bufferCanvases[r].getContext("2d"),e.data.bufferCanvases[r].style.position="absolute",e.data.bufferCanvases[r].setAttribute("data-id","buffer"+r),e.data.bufferCanvases[r].style.zIndex=String(-r-1),e.data.bufferCanvases[r].style.visibility="hidden";e.pathsEnabled=!0;var a=de(),l=function(t){return{x:-t.w/2,y:-t.h/2}},h=function(t){return t.boundingBox(),t[0]._private.bodyBounds},u=function(t){return t.boundingBox(),t[0]._private.labelBounds.main||a},d=function(t){return t.boundingBox(),t[0]._private.labelBounds.source||a},c=function(t){return t.boundingBox(),t[0]._private.labelBounds.target||a},p=function(t,e){return e},f=function(t,e){return{x:t.x+e.pstyle("text-margin-x").pfValue,y:t.y+e.pstyle("text-margin-y").pfValue}},g=function(t,e,n){var i=t[0]._private.rscratch;return{x:i[e],y:i[n]}},v=e.data.eleTxrCache=new zs(e,{getKey:function(t){return t[0]._private.nodeKey},doesEleInvalidateKey:function(t){var e=t[0]._private;return!(e.oldBackgroundTimestamp===e.backgroundTimestamp)},drawElement:function(t,n,i,o,r){return e.drawElement(t,n,i,!1,!1,r)},getBoundingBox:h,getRotationPoint:function(t){return{x:((e=h(t)).x1+e.x2)/2,y:(e.y1+e.y2)/2};var e},getRotationOffset:function(t){return l(h(t))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),m=e.data.lblTxrCache=new zs(e,{getKey:function(t){return t[0]._private.labelStyleKey},drawElement:function(t,n,i,o,r){return e.drawElementText(t,n,i,o,"main",r)},getBoundingBox:u,getRotationPoint:function(t){return f(g(t,"labelX","labelY"),t)},getRotationOffset:function(t){var e=u(t),n=l(u(t));if(t.isNode()){switch(t.pstyle("text-halign").value){case"left":n.x=-e.w;break;case"right":n.x=0}switch(t.pstyle("text-valign").value){case"top":n.y=-e.h;break;case"bottom":n.y=0}}return n},isVisible:p}),y=e.data.slbTxrCache=new zs(e,{getKey:function(t){return t[0]._private.sourceLabelStyleKey},drawElement:function(t,n,i,o,r){return e.drawElementText(t,n,i,o,"source",r)},getBoundingBox:d,getRotationPoint:function(t){return f(g(t,"sourceLabelX","sourceLabelY"),t)},getRotationOffset:function(t){return l(d(t))},isVisible:p}),b=e.data.tlbTxrCache=new zs(e,{getKey:function(t){return t[0]._private.targetLabelStyleKey},drawElement:function(t,n,i,o,r){return e.drawElementText(t,n,i,o,"target",r)},getBoundingBox:c,getRotationPoint:function(t){return f(g(t,"targetLabelX","targetLabelY"),t)},getRotationOffset:function(t){return l(c(t))},isVisible:p}),w=e.data.lyrTxrCache=new Fs(e);e.onUpdateEleCalcs(function(t,e){v.invalidateElements(e),m.invalidateElements(e),y.invalidateElements(e),b.invalidateElements(e),w.invalidateElements(e);for(var n=0;n<e.length;n++){var i=e[n]._private;i.oldBackgroundTimestamp=i.backgroundTimestamp}});var x=function(t){for(var e=0;e<t.length;e++)w.enqueueElementRefinement(t[e].ele)};v.onDequeue(x),m.onDequeue(x),y.onDequeue(x),b.onDequeue(x)}ya.CANVAS_LAYERS=3,ya.SELECT_BOX=0,ya.DRAG=1,ya.NODE=2,ya.BUFFER_COUNT=3,ya.TEXTURE_BUFFER=0,ya.MOTIONBLUR_BUFFER_NODE=1,ya.MOTIONBLUR_BUFFER_DRAG=2,ya.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[ya.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[ya.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[ya.SELECT_BOX]=e}};var wa="undefined"!=typeof Path2D;ya.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},ya.usePaths=function(){return wa&&this.pathsEnabled},ya.setImgSmoothing=function(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},ya.getImgSmoothing=function(t){return null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},ya.makeOffscreenCanvas=function(e,n){var i;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":t(OffscreenCanvas))?i=new OffscreenCanvas(e,n):((i=document.createElement("canvas")).width=e,i.height=n),i},[Us,Ks,na,ia,oa,ra,sa,aa,fa,{nodeShapeImpl:function(t,e,n,i,o,r,s){switch(t){case"ellipse":return this.drawEllipsePath(e,n,i,o,r);case"polygon":return this.drawPolygonPath(e,n,i,o,r,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,n,i,o,r);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,n,i,o,r);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,n,i,o,r);case"barrel":return this.drawBarrelPath(e,n,i,o,r)}}}].forEach(function(t){A(ya,t)});var xa=[{type:"layout",extensions:hs},{type:"renderer",extensions:[{name:"null",impl:us},{name:"base",impl:Ps},{name:"canvas",impl:ma}]}],_a={},Ea={};function ka(t,e,n){var i=n,o=function(n){xt("Can not register `"+e+"` for `"+t+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===t){if(Er.prototype[e])return o(e);Er.prototype[e]=n}else if("collection"===t){if(Ho.prototype[e])return o(e);Ho.prototype[e]=n}else if("layout"===t){for(var r=function(t){this.options=t,n.call(this,t),g(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},s=r.prototype=Object.create(n.prototype),a=[],l=0;l<a.length;l++){var h=a[l];s[h]=s[h]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var u=n.prototype.stop;s.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var n=0;n<e.length;n++)e[n].stop()}return u?u.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var d=function(t){return t._private.cy},c={addEventFields:function(t,e){e.layout=t,e.cy=d(t),e.target=t},bubble:function(){return!0},parent:function(t){return d(t)}};A(s,{createEmitter:function(){return this._private.emitter=new so(c,this),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),Kn.eventAliasesOn(s),i=r}else if("renderer"===t&&"null"!==e&&"base"!==e){var p=Sa("renderer","base"),f=p.prototype,v=n,m=n.prototype,y=function(){p.apply(this,arguments),v.apply(this,arguments)},b=y.prototype;for(var w in f){var x=f[w];if(null!=m[w])return o(w);b[w]=x}for(var _ in m)b[_]=m[_];f.clientFunctions.forEach(function(t){b[t]=b[t]||function(){xt("Renderer does not implement `renderer."+t+"()` on its prototype")}}),i=y}return L({map:_a,keys:[t,e],value:i})}function Sa(t,e){return z({map:_a,keys:[t,e]})}var Ca=function(){return 2===arguments.length?Sa.apply(null,arguments):3===arguments.length?ka.apply(null,arguments):4===arguments.length?(function(t,e,n,i){return z({map:Ea,keys:[t,e,n,i]})}).apply(null,arguments):5===arguments.length?(function(t,e,n,i,o){return L({map:Ea,keys:[t,e,n,i],value:o})}).apply(null,arguments):void xt("Invalid extension access syntax")};Er.prototype.extension=Ca,xa.forEach(function(t){t.extensions.forEach(function(e){ka(t.type,e.name,e.impl)})});var Ta=function t(){if(!(this instanceof t))return new t;this.length=0},Ma=Ta.prototype;Ma.instanceString=function(){return"stylesheet"},Ma.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},Ma.css=function(t,e){var n=this.length-1;if(c(t))this[n].properties.push({name:t,value:e});else if(g(t))for(var i=t,o=Object.keys(i),r=0;r<o.length;r++){var s=o[r],a=i[s];if(null!=a){var l=yr.properties[s]||yr.properties[M(s)];null!=l&&this[n].properties.push({name:l.name,value:a})}}return this},Ma.style=Ma.css,Ma.generateStyle=function(t){var e=new yr(t);return this.appendToStyle(e)},Ma.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],i=n.properties;t.selector(n.selector);for(var o=0;o<i.length;o++){var r=i[o];t.css(r.name,r.value)}}return t};var Da=function(t){return void 0===t&&(t={}),g(t)?new Er(t):c(t)?Ca.apply(Ca,arguments):void 0};return Da.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Da),t.apply(null,e),this},Da.warnings=function(t){return _t(t)},Da.version="3.8.0",Da.stylesheet=Da.Stylesheet=Ta,Da}()},zUnb:function(t,e,n){"use strict";n.r(e);var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}var d=Array.isArray||function(t){return t&&"number"==typeof t.length};function c(t){return null!==t&&"object"==typeof t}function p(t){return"function"==typeof t}function f(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}f.prototype=Object.create(Error.prototype);var g=f,v=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,i=this._parents,o=this._unsubscribe,r=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,a=i?i.length:0;n;)n.remove(this),n=++s<a&&i[s]||null;if(p(o))try{o.call(this)}catch(h){e=!0,t=h instanceof g?m(h.errors):[h]}if(d(r))for(s=-1,a=r.length;++s<a;){var l=r[s];if(c(l))try{l.unsubscribe()}catch(h){e=!0,t=t||[],h instanceof g?t=t.concat(m(h.errors)):t.push(h)}}if(e)throw new g(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var o=this._subscriptions;o?o.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function m(t){return t.reduce(function(t,e){return t.concat(e instanceof g?e.errors:e)},[])}var y=!1,b={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){y=t},get useDeprecatedSynchronousErrorHandling(){return y}};function w(t){setTimeout(function(){throw t})}var x={closed:!0,next:function(t){},error:function(t){if(b.useDeprecatedSynchronousErrorHandling)throw t;w(t)},complete:function(){}},_="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),E=function(t){function e(n,i,o){var r=t.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=x;break;case 1:if(!n){r.destination=x;break}if("object"==typeof n){n instanceof e?(r.syncErrorThrowable=n.syncErrorThrowable,r.destination=n,n.add(r)):(r.syncErrorThrowable=!0,r.destination=new k(r,n));break}default:r.syncErrorThrowable=!0,r.destination=new k(r,n,i,o)}return r}return o(e,t),e.prototype[_]=function(){return this},e.create=function(t,n,i){var o=new e(t,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(v),k=function(t){function e(e,n,i,o){var r,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return p(n)?r=n:n&&(r=n.next,i=n.error,o=n.complete,n!==x&&(p((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=r,s._error=i,s._complete=o,s}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;b.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=b.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):w(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;w(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};b.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),b.useDeprecatedSynchronousErrorHandling)throw n;w(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!b.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return b.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(w(i),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(E),S="function"==typeof Symbol&&Symbol.observable||"@@observable";function C(){}function T(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M(t)}function M(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:C}var D=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,o=function(t,e,n){if(t){if(t instanceof E)return t;if(t[_])return t[_]()}return t||e||n?new E(t,e,n):new E(x)}(t,e,n);if(o.add(i?i.call(o,this.source):this.source||b.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),b.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){b.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof E?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=O(e))(function(e,i){var o;o=n.subscribe(function(e){try{t(e)}catch(n){i(n),o&&o.unsubscribe()}},i,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[S]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:M(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=O(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})},t.create=function(e){return new t(e)},t}();function O(t){if(t||(t=b.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function P(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}P.prototype=Object.create(Error.prototype);var I=P,A=function(t){function e(e,n){var i=t.call(this)||this;return i.subject=e,i.subscriber=n,i.closed=!1,i}return o(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(v),N=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return o(e,t),e}(E),R=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype[_]=function(){return new N(this)},e.prototype.lift=function(t){var e=new L(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new I;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),o=0;o<n;o++)i[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new I;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),o=0;o<n;o++)i[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new I;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new I;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new I;return this.hasError?(t.error(this.thrownError),v.EMPTY):this.isStopped?(t.complete(),v.EMPTY):(this.observers.push(t),new A(this,t))},e.prototype.asObservable=function(){var t=new D;return t.source=this,t},e.create=function(t,e){return new L(t,e)},e}(D),L=function(t){function e(e,n){var i=t.call(this)||this;return i.destination=e,i.source=n,i}return o(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):v.EMPTY},e}(R);function z(t){return t&&"function"==typeof t.schedule}var B=function(t){function e(e,n,i){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=i,o.index=0,o}return o(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(E),F=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},j=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,w),e}};function H(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var V=H(),W=function(t){return function(e){for(var n=t[V]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},U=function(t){return function(e){var n=t[S]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Y=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function G(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var q=function(t){if(t instanceof D)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[S])return U(t);if(Y(t))return F(t);if(G(t))return j(t);if(t&&"function"==typeof t[V])return W(t);var e=c(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function X(t,e,n,i,o){if(void 0===o&&(o=new B(t,n,i)),!o.closed)return q(e)(o)}var K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.notifyNext=function(t,e,n,i,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(E);function Z(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Q(t,e))}}var Q=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new J(t,this.project,this.thisArg))},t}(),J=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(E);function $(t,e){return new D(e?function(n){var i=new v,o=0;return i.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()})),i}:F(t))}function tt(t,e){if(!e)return t instanceof D?t:new D(q(t));if(null!=t){if(function(t){return t&&"function"==typeof t[S]}(t))return function(t,e){return new D(e?function(n){var i=new v;return i.add(e.schedule(function(){var o=t[S]();i.add(o.subscribe({next:function(t){i.add(e.schedule(function(){return n.next(t)}))},error:function(t){i.add(e.schedule(function(){return n.error(t)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i}:U(t))}(t,e);if(G(t))return function(t,e){return new D(e?function(n){var i=new v;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){n.next(t),i.add(e.schedule(function(){return n.complete()}))}))},function(t){i.add(e.schedule(function(){return n.error(t)}))})})),i}:j(t))}(t,e);if(Y(t))return $(t,e);if(function(t){return t&&"function"==typeof t[V]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new D(e?function(n){var i,o=new v;return o.add(function(){i&&"function"==typeof i.return&&i.return()}),o.add(e.schedule(function(){i=t[V](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var o=i.next();t=o.value,e=o.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}}))})),o}:W(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function et(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(i){return i.pipe(et(function(n,i){return tt(t(n,i)).pipe(Z(function(t,o){return e(n,t,i,o)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new nt(t,n))})}var nt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.project,this.concurrent))},t}(),it=function(t){function e(e,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=new B(this,void 0,void 0);this.destination.add(i),X(this,t,e,n,i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,i,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(K);function ot(t){return t}function rt(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),et(ot,t)}function st(){return function(t){return t.lift(new at(t))}}var at=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new lt(t,n),o=e.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),lt=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}return o(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},e}(E),ht=function(t){function e(e,n){var i=t.call(this)||this;return i.source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return o(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new v).add(this.source.subscribe(new dt(this.getSubject(),this))),t.closed?(this._connection=null,t=v.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return st()(this)},e}(D).prototype,ut={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ht._subscribe},_isComplete:{value:ht._isComplete,writable:!0},getSubject:{value:ht.getSubject},connect:{value:ht.connect},refCount:{value:ht.refCount}},dt=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}return o(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(N);function ct(){return new R}var pt="__parameters__";function ft(t,e,n){var i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,u(e));for(var o in i)this[o]=i[o]}}}(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var r=new((t=o).bind.apply(t,u([void 0],e)));return s.annotation=r,s;function s(t,e,n){for(var i=t.hasOwnProperty(pt)?t[pt]:Object.defineProperty(t,pt,{value:[]})[pt];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(r),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}var gt=ft("Inject",function(t){return{token:t}}),vt=ft("Optional"),mt=ft("Self"),yt=ft("SkipSelf"),bt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function wt(t){for(var e in t)if(t[e]===wt)return e;throw Error("Could not find renamed property on target object.")}function xt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _t(t){var e=t[Et];return e&&e.token===t?e:null}var Et=wt({ngInjectableDef:wt});function kt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(kt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var St=wt({__forward_ref__:wt});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return kt(this())},t}function Tt(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(St)&&e.__forward_ref__===Ct?e():t}var Mt,Dt="undefined"!=typeof globalThis&&globalThis,Ot="undefined"!=typeof window&&window,Pt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,It="undefined"!=typeof global&&global,At=Dt||It||Ot||Pt,Nt=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=xt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),Rt=new Nt("INJECTOR",-1),Lt=new Object,zt=/\n/gm,Bt="\u0275",Ft="__source",jt=wt({provide:String,useValue:wt}),Ht=void 0;function Vt(t){var e=Ht;return Ht=t,e}function Wt(t,e){return void 0===e&&(e=bt.Default),(Mt||function(t,e){if(void 0===e&&(e=bt.Default),void 0===Ht)throw new Error("inject() must be called from an injection context");return null===Ht?function(t,e,n){var i=_t(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&bt.Optional)return null;throw new Error("Injector: NOT_FOUND ["+kt(t)+"]")}(t,0,e):Ht.get(t,e&bt.Optional?null:void 0,e)})(t,e)}var Ut=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Lt),e===Lt){var n=new Error("NullInjectorError: No provider for "+kt(t)+"!");throw n.name="NullInjectorError",n}return e},t}();function Yt(t,e,n,i){void 0===i&&(i=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Bt?t.substr(2):t;var o=kt(e);if(e instanceof Array)o=e.map(kt).join(" -> ");else if("object"==typeof e){var r=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];r.push(s+":"+("string"==typeof a?JSON.stringify(a):kt(a)))}o="{"+r.join(", ")+"}"}return n+(i?"("+i+")":"")+"["+o+"]: "+t.replace(zt,"\n  ")}var Gt=new Nt("The presence of this token marks an injector as being the root injector."),qt=function(t,e,n){return new $t(t,e,n)},Xt=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?qt(t,e,""):qt(t.providers,t.parent,t.name||"")},t.THROW_IF_NOT_FOUND=Lt,t.NULL=new Ut,t.ngInjectableDef=xt({token:t,providedIn:"any",factory:function(){return Wt(Rt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Kt=function(t){return t},Zt=[],Qt=Kt,Jt=function(){return Array.prototype.slice.call(arguments)},$t=function(){function t(t,e,n){void 0===e&&(e=Xt.NULL),void 0===n&&(n=null),this.parent=e,this.source=n;var i=this._records=new Map;i.set(Xt,{token:Xt,fn:Kt,deps:Zt,value:this,useNew:!1}),i.set(Rt,{token:Rt,fn:Kt,deps:Zt,value:this,useNew:!1}),function t(e,n){if(n)if((n=Tt(n))instanceof Array)for(var i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw ee("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ee("Unexpected provider",n);var o=Tt(n.provide),r=function(t){var e=function(t){var e=Zt,n=t.deps;if(n&&n.length){e=[];for(var i=0;i<n.length;i++){var o=6;if((l=Tt(n[i]))instanceof Array)for(var r=0,s=l;r<s.length;r++){var a=s[r];a instanceof vt||a==vt?o|=1:a instanceof yt||a==yt?o&=-3:a instanceof mt||a==mt?o&=-5:l=a instanceof gt?a.token:Tt(a)}e.push({token:l,options:o})}}else if(t.useExisting){var l;e=[{token:l=Tt(t.useExisting),options:6}]}else if(!(n||jt in t))throw ee("'deps' required",t);return e}(t),n=Kt,i=Zt,o=!1,r=Tt(t.provide);if(jt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)o=!0,n=Tt(t.useClass);else{if("function"!=typeof r)throw ee("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);o=!0,n=r}return{deps:e,fn:n,useNew:o,value:i}}(n);if(!0===n.multi){var s=e.get(o);if(s){if(s.fn!==Jt)throw te(o)}else e.set(o,s={token:n.provide,deps:[],useNew:!1,fn:Jt,value:Zt});s.deps.push({token:o=n,options:6})}var a=e.get(o);if(a&&a.fn==Jt)throw te(o);e.set(o,r)}}(i,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=bt.Default);var i=this._records.get(t);try{return function t(e,n,i,o,r,s){try{return function(e,n,i,o,r,s){var a,l;if(!n||s&bt.SkipSelf)s&bt.Self||(l=o.get(e,r,bt.Default));else{if((l=n.value)==Qt)throw Error("\u0275Circular dependency");if(l===Zt){n.value=Qt;var h=n.useNew,d=n.fn,c=n.deps,p=Zt;if(c.length){p=[];for(var f=0;f<c.length;f++){var g=c[f],v=g.options,m=2&v?i.get(g.token):void 0;p.push(t(g.token,m,i,m||4&v?o:Xt.NULL,1&v?null:Xt.THROW_IF_NOT_FOUND,bt.Default))}}n.value=l=h?new((a=d).bind.apply(a,u([void 0],p))):d.apply(void 0,p)}}return l}(e,n,i,o,r,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Qt&&(n.value=Zt),a}}(t,i,this._records,this.parent,e,n)}catch(o){return function(t,e,n,i){var o=t.ngTempTokenPath;throw e[Ft]&&o.unshift(e[Ft]),t.message=Yt("\n"+t.message,o,"StaticInjectorError",i),t.ngTokenPath=o,t.ngTempTokenPath=null,t}(o,t,0,this.source)}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(kt(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function te(t){return ee("Cannot mix multi providers and regular providers",t)}function ee(t,e){return new Error(Yt(t,e,"StaticInjectorError"))}var ne="ngDebugContext",ie="ngOriginalError",oe="ngErrorLogger",re=new Nt("AnalyzeForEntryComponents"),se=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),ae=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At)}(),le=!0,he=!1;function ue(){return he=!0,le}var de=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var o=t.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling},t}(),ce=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,pe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function fe(t){return(t=String(t)).match(ce)||t.match(pe)?t:(ue()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function ge(t){var e,n,i={};try{for(var o=l(t.split(",")),r=o.next();!r.done;r=o.next())i[r.value]=!0}catch(s){e={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function ve(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var r=l(n),s=r.next();!s.done;s=r.next()){var a=s.value;for(var h in a)a.hasOwnProperty(h)&&(o[h]=!0)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return o}var me,ye=ge("area,br,col,hr,img,wbr"),be=ge("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),we=ge("rp,rt"),xe=ve(we,be),_e=ve(ye,ve(be,ge("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ve(we,ge("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xe),Ee=ge("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ke=ge("srcset"),Se=ve(Ee,ke,ge("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ge("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ce=ge("script,style,template"),Te=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e,n=t.nodeName.toLowerCase();if(!_e.hasOwnProperty(n))return this.sanitizedSomething=!0,!Ce.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var i=t.attributes,o=0;o<i.length;o++){var r=i.item(o),s=r.name,a=s.toLowerCase();if(Se.hasOwnProperty(a)){var l=r.value;Ee[a]&&(l=fe(l)),ke[a]&&(e=l,l=(e=String(e)).split(",").map(function(t){return fe(t.trim())}).join(", ")),this.buf.push(" ",s,'="',Oe(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();_e.hasOwnProperty(e)&&!ye.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(Oe(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),Me=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,De=/([^\#-~ |!])/g;function Oe(t){return t.replace(/&/g,"&amp;").replace(Me,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(De,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Pe(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ie=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Ae=function(){return function(){}}(),Ne=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Re=/^url\(([^)]+)\)$/;function Le(t){return t[ne]}function ze(t){return t[ie]}function Be(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,u(e))}var Fe=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[oe]||Be}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Le(t)?Le(t):this._findContext(ze(t)):null},t.prototype._findOriginalError=function(t){for(var e=ze(t);e&&ze(e);)e=ze(e);return e},t}(),je=/([A-Z])/g;function He(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var Ve=null;function We(){if(!Ve){var t=At.Symbol;if(t&&t.iterator)Ve=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ve=i)}}return Ve}function Ue(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ye(t,e){var n=qe(t),i=qe(e);return n&&i?function(t,e,n){for(var i=t[We()](),o=e[We()]();;){var r=i.next(),s=o.next();if(r.done&&s.done)return!0;if(r.done||s.done)return!1;if(!n(r.value,s.value))return!1}}(t,e,Ye):!(n||!t||"object"!=typeof t&&"function"!=typeof t||i||!e||"object"!=typeof e&&"function"!=typeof e)||Ue(t,e)}var Ge=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}();function qe(t){return!!Xe(t)&&(Array.isArray(t)||!(t instanceof Map)&&We()in t)}function Xe(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ke(t){return!!t&&"function"==typeof t.then}function Ze(t){return!!t&&"function"==typeof t.subscribe}var Qe=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),Je=function(){return function(){}}(),$e=function(){return function(){}}();function tn(t){var e=Error("No component factory found for "+kt(t)+". Did you add it to @NgModule.entryComponents?");return e[en]=t,e}var en="ngComponent",nn=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw tn(t)},t}(),on=function(){function t(){}return t.NULL=new nn,t}(),rn=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var i=0;i<t.length;i++){var o=t[i];this._factories.set(o.componentType,o)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw tn(t);return new sn(e,this._ngModule)},t}(),sn=function(t){function e(e,n){var i=t.call(this)||this;return i.factory=e,i.ngModule=n,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return o(e,t),e.prototype.create=function(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)},e}($e),an=function(){return function(){}}(),ln=function(){return function(){}}();function hn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var un=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return dn(t)},t}(),dn=hn,cn=function(){return function(){}}(),pn=function(){return function(){}}(),fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),gn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return vn()},t}(),vn=hn,mn=new(function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}())("8.1.0"),yn=function(){function t(){}return t.prototype.supports=function(t){return qe(t)},t.prototype.create=function(t){return new wn(t)},t}(),bn=function(t,e){return e},wn=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bn}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,i=0,o=null;e||n;){var r=!n||e&&e.currentIndex<kn(n,i,o)?e:n,s=kn(r,i,o),a=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(e=e._next,null==r.previousIndex)i++;else{o||(o=[]);var l=s-i,h=a-i;if(l!=h){for(var u=0;u<l;u++){var d=u<o.length?o[u]:o[u]=0,c=d+u;h<=c&&c<l&&(o[u]=d+1)}o[r.previousIndex]=h-l}}s!==a&&t(r,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!qe(t))throw new Error("Error trying to diff '"+kt(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,i,o,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)o=this._trackByFn(a,i=t[a]),null!==r&&Ue(r.trackById,o)?(s&&(r=this._verifyReinsertion(r,i,o,a)),Ue(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,o,a),s=!0),r=r._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i=t[We()](),o=void 0;!(o=i.next()).done;)e(o.value)}(t,function(t){o=e._trackByFn(n,t),null!==r&&Ue(r.trackById,o)?(s&&(r=e._verifyReinsertion(r,t,o,n)),Ue(r.item,t)||e._addIdentityChange(r,t)):(r=e._mismatch(r,t,o,n),s=!0),r=r._next,n++}),this.length=n;return this._truncate(r),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,i){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Ue(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ue(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):t=this._addAfter(new xn(e,n),o,i),t},t.prototype._verifyReinsertion=function(t,e,n,i){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new En),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new En),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),xn=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),_n=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ue(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),En=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new _n,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function kn(t,e,n){var i=t.previousIndex;if(null===i)return i;var o=0;return n&&i<n.length&&(o=n[i]),i+e+o}var Sn=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Xe(t)},t.prototype.create=function(){return new Cn},t}(),Cn=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Xe(t)))throw new Error("Error trying to diff '"+kt(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var o=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,o=n._next;return i&&(i._next=o),o&&(o._prev=i),n._next=null,n._prev=null,n}var r=new Tn(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){Ue(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Tn=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Mn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new yt,new vt]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=xt({token:t,providedIn:"root",factory:function(){return new t([new yn])}}),t}(),Dn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new yt,new vt]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=xt({token:t,providedIn:"root",factory:function(){return new t([new Sn])}}),t}(),On=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Pn()},t}(),Pn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},In=[new Sn],An=new Mn([new yn]),Nn=new Dn(In),Rn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Ln(t,un)},t}(),Ln=hn,zn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Bn(t,un)},t}(),Bn=hn;function Fn(t,e,n,i){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return i&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return jn(n,e),n}(o,t)}function jn(t,e){t[ne]=e,t[oe]=e.logError.bind(e)}function Hn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function Vn(t,e,n){var i=t.state,o=1792&i;return o===e?(t.state=-1793&i|n,t.initIndex=-1,!0):o===n}function Wn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Un(t,e){return t.nodes[e]}function Yn(t,e){return t.nodes[e]}function Gn(t,e){return t.nodes[e]}function qn(t,e){return t.nodes[e]}function Xn(t,e){return t.nodes[e]}var Kn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Zn=function(){},Qn=new Map;function Jn(t){var e=Qn.get(t);return e||(e=kt(t)+"_"+Qn.size,Qn.set(t,e)),e}var $n="$$undefined",ti="$$empty";function ei(t){return{id:$n,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var ni=0;function ii(t,e,n,i){return!(!(2&t.state)&&Ue(t.oldValues[e.bindingIndex+n],i))}function oi(t,e,n,i){return!!ii(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function ri(t,e,n,i){var o=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ye(o,i)){var r=e.bindings[n].name;throw Fn(Kn.createDebugContext(t,e.nodeIndex),r+": "+o,r+": "+i,0!=(1&t.state))}}function si(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function ai(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function li(t,e,n,i){try{return si(33554432&t.def.nodes[e].flags?Yn(t,e).componentView:t),Kn.handleEvent(t,e,n,i)}catch(o){t.root.errorHandler.handleError(o)}}function hi(t){return t.parent?Yn(t.parent,t.parentNodeDef.nodeIndex):null}function ui(t){return t.parent?t.parentNodeDef.parent:null}function di(t,e){switch(201347067&e.flags){case 1:return Yn(t,e.nodeIndex).renderElement;case 2:return Un(t,e.nodeIndex).renderText}}function ci(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function pi(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function fi(t){return 1<<t%32}function gi(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=h(t,2),r=o[0],s=o[1];"number"==typeof r?(e[r]=s,n|=fi(r)):i[r]=s}),{matchedQueries:e,references:i,matchedQueryIds:n}}function vi(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(o=(n=h(t,2))[0],i=n[1]):(o=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,Ft,{value:e,configurable:!0}),{flags:o,token:i,tokenKey:Jn(i)}})}function mi(t,e,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===se.Native?Yn(t,n.renderParent.nodeIndex).renderElement:void 0:e}var yi=new WeakMap;function bi(t){var e=yi.get(t);return e||((e=t(function(){return Zn})).factory=t,yi.set(t,e)),e}function wi(t,e,n,i,o){3===e&&(n=t.renderer.parentNode(di(t,t.def.lastRenderRootNode))),xi(t,e,0,t.def.nodes.length-1,n,i,o)}function xi(t,e,n,i,o,r,s){for(var a=n;a<=i;a++){var l=t.def.nodes[a];11&l.flags&&Ei(t,l,e,o,r,s),a+=l.childCount}}function _i(t,e,n,i,o,r){for(var s=t;s&&!ci(s);)s=s.parent;for(var a=s.parent,l=ui(s),h=l.nodeIndex+l.childCount,u=l.nodeIndex+1;u<=h;u++){var d=a.def.nodes[u];d.ngContentIndex===e&&Ei(a,d,n,i,o,r),u+=d.childCount}if(!a.parent){var c=t.root.projectableNodes[e];if(c)for(u=0;u<c.length;u++)ki(t,c[u],n,i,o,r)}}function Ei(t,e,n,i,o,r){if(8&e.flags)_i(t,e.ngContent.index,n,i,o,r);else{var s=di(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&ki(t,s,n,i,o,r),32&e.bindingFlags&&ki(Yn(t,e.nodeIndex).componentView,s,n,i,o,r)):ki(t,s,n,i,o,r),16777216&e.flags)for(var a=Yn(t,e.nodeIndex).viewContainer._embeddedViews,l=0;l<a.length;l++)wi(a[l],n,i,o,r);1&e.flags&&!e.element.name&&xi(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,o,r)}}function ki(t,e,n,i,o,r){var s=t.renderer;switch(n){case 1:s.appendChild(i,e);break;case 2:s.insertBefore(i,e,o);break;case 3:s.removeChild(i,e);break;case 0:r.push(e)}}var Si=/^:([^:]+):(.+)$/;function Ci(t){if(":"===t[0]){var e=t.match(Si);return[e[1],e[2]]}return["",t]}function Ti(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}var Mi=new Object,Di=Jn(Xt),Oi=Jn(Rt),Pi=Jn(an);function Ii(t,e,n,i){return n=Tt(n),{index:-1,deps:vi(i,kt(e)),flags:t,token:e,value:n}}function Ai(t,e,n){void 0===n&&(n=Xt.THROW_IF_NOT_FOUND);var i,o,r=Vt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var s=e.tokenKey;switch(s){case Di:case Oi:case Pi:return t}var a,l=t._def.providersByKey[s];if(l){var h=t._providers[l.index];return void 0===h&&(h=t._providers[l.index]=Ni(t,l)),h===Mi?void 0:h}if((a=_t(e.token))&&(i=t,null!=(o=a).providedIn&&(function(t,e){return t._def.modules.indexOf(o.providedIn)>-1}(i)||"root"===o.providedIn&&i._def.isRoot))){var u=t._providers.length;return t._def.providers[u]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:u,token:e.token},t._providers[u]=Mi,t._providers[u]=Ni(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Vt(r)}}function Ni(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Ai(t,n[0]));case 2:return new e(Ai(t,n[0]),Ai(t,n[1]));case 3:return new e(Ai(t,n[0]),Ai(t,n[1]),Ai(t,n[2]));default:for(var o=new Array(i),r=0;r<i;r++)o[r]=Ai(t,n[r]);return new(e.bind.apply(e,u([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Ai(t,n[0]));case 2:return e(Ai(t,n[0]),Ai(t,n[1]));case 3:return e(Ai(t,n[0]),Ai(t,n[1]),Ai(t,n[2]));default:for(var o=Array(i),r=0;r<i;r++)o[r]=Ai(t,n[r]);return e.apply(void 0,u(o))}}(t,e.value,e.deps);break;case 2048:n=Ai(t,e.deps[0]);break;case 256:n=e.value}return n===Mi||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Mi:n}function Ri(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var i=n[e];return i.viewContainerParent=null,Fi(n,e),Kn.dirtyParentQueries(i),zi(i),i}function Li(t,e,n){var i=e?di(e,e.def.lastRenderRootNode):t.renderElement,o=n.renderer.parentNode(i),r=n.renderer.nextSibling(i);wi(n,2,o,r,void 0)}function zi(t){wi(t,3,null,null,void 0)}function Bi(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fi(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var ji=new Object;function Hi(t,e,n,i,o,r){return new Vi(t,e,n,i,o,r)}var Vi=function(t){function e(e,n,i,o,r,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=o,a._outputs=r,a.ngContentSelectors=s,a.viewDefFactory=i,a}return o(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){if(!i)throw new Error("ngModule should be provided");var o=bi(this.viewDefFactory),r=o.nodes[0].element.componentProvider.nodeIndex,s=Kn.createRootView(t,e||[],n,o,i,ji),a=Gn(s,r).instance;return n&&s.renderer.setAttribute(Yn(s,0).renderElement,"ng-version",mn.full),new Wi(s,new qi(s),a)},e}($e),Wi=function(t){function e(e,n,i){var o=t.call(this)||this;return o._view=e,o._viewRef=n,o._component=i,o._elDef=o._view.def.nodes[0],o.hostView=n,o.changeDetectorRef=n,o.instance=i,o}return o(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new un(Yn(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Qi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Je);function Ui(t,e,n){return new Yi(t,e,n)}var Yi=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new un(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Qi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=ui(t),t=t.parent;return t?new Qi(t,e):new Qi(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Ri(this._data,t);Kn.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new qi(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i},t.prototype.createComponent=function(t,e,n,i,o){var r=n||this.parentInjector;o||t instanceof sn||(o=r.get(an));var s=t.create(r,i,void 0,o);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,i,o,r,s=t;return r=(n=this._data).viewContainer._embeddedViews,null==(i=e)&&(i=r.length),(o=s._view).viewContainerParent=this._view,Bi(r,i,o),function(t,e){var n=hi(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var i=n.parent;i;)i.childFlags|=4,i=i.parent}}(0,e.parentNodeDef)}}(n,o),Kn.dirtyParentQueries(o),Li(n,i>0?r[i-1]:null,o),s.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,i,o,r,s,a=this._embeddedViews.indexOf(t._view);return o=e,s=(r=(n=this._data).viewContainer._embeddedViews)[i=a],Fi(r,i),null==o&&(o=r.length),Bi(r,o,s),Kn.dirtyParentQueries(s),zi(s),Li(n,o>0?r[o-1]:null,s),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Ri(this._data,t);e&&Kn.destroyView(e)},t.prototype.detach=function(t){var e=Ri(this._data,t);return e?new qi(e):null},t}();function Gi(t){return new qi(t)}var qi=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return wi(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){si(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Kn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Kn.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Kn.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,zi(this._view),Kn.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Xi(t,e){return new Ki(t,e)}var Ki=function(t){function e(e,n){var i=t.call(this)||this;return i._parentView=e,i._def=n,i}return o(e,t),e.prototype.createEmbeddedView=function(t){return new qi(Kn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new un(Yn(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Rn);function Zi(t,e){return new Qi(t,e)}var Qi=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=Xt.THROW_IF_NOT_FOUND),Kn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Jn(t)},e)},t}();function Ji(t){return new $i(t.renderer)}var $i=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=h(Ci(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t),o=0;o<e.length;o++)this.delegate.insertBefore(n,e[o],i)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=h(Ci(e),2),o=i[0],r=i[1];null!=n?this.delegate.setAttribute(t,r,n,o):this.delegate.removeAttribute(t,r,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function to(t,e,n,i){return new eo(t,e,n,i)}var eo=function(){function t(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),i=0;i<e.providers.length;i++){var o=e.providers[i];4096&o.flags||void 0===n[i]&&(n[i]=Ni(t,o))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=Xt.THROW_IF_NOT_FOUND),void 0===n&&(n=bt.Default);var i=0;return n&bt.SkipSelf?i|=1:n&bt.Self&&(i|=4),Ai(this,{token:t,tokenKey:Jn(t),flags:i},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(on)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+kt(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,i=new Set,o=0;o<n.providers.length;o++)if(131072&n.providers[o].flags){var r=t._providers[o];if(r&&r!==Mi){var s=r.ngOnDestroy;"function"!=typeof s||i.has(r)||(s.apply(r),i.add(r))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),no=Jn(cn),io=Jn(gn),oo=Jn(un),ro=Jn(zn),so=Jn(Rn),ao=Jn(On),lo=Jn(Xt),ho=Jn(Rt);function uo(t,e,n,i,o,r,s,a){var l=[];if(s)for(var u in s){var d=h(s[u],2);l[d[0]]={flags:8,name:u,nonMinifiedName:d[1],ns:null,securityContext:null,suffix:null}}var c=[];if(a)for(var p in a)c.push({type:1,propName:p,target:null,eventName:a[p]});return function(t,e,n,i,o,r,s,a,l){var h=gi(n),u=h.matchedQueries,d=h.references,c=h.matchedQueryIds;l||(l=[]),a||(a=[]),r=Tt(r);var p=vi(s,kt(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:c,references:d,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:Ti(a),outputs:l,element:null,provider:{token:o,value:r,deps:p},text:null,query:null,ngContent:null}}(t,e|=16384,n,i,o,o,r,l,c)}function co(t,e){return vo(t,e)}function po(t,e){for(var n=t;n.parent&&!ci(n);)n=n.parent;return mo(n.parent,ui(n),!0,e.provider.value,e.provider.deps)}function fo(t,e){var n=mo(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var i=0;i<e.outputs.length;i++){var o=e.outputs[i],r=n[o.propName];if(!Ze(r))throw new Error("@Output "+o.propName+" not initialized in '"+n.constructor.name+"'.");var s=r.subscribe(go(t,e.parent.nodeIndex,o.eventName));t.disposables[e.outputIndex+i]=s.unsubscribe.bind(s)}return n}function go(t,e,n){return function(i){return li(t,e,n,i)}}function vo(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return mo(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var r=o.length;switch(r){case 0:return i();case 1:return i(bo(t,e,n,o[0]));case 2:return i(bo(t,e,n,o[0]),bo(t,e,n,o[1]));case 3:return i(bo(t,e,n,o[0]),bo(t,e,n,o[1]),bo(t,e,n,o[2]));default:for(var s=Array(r),a=0;a<r;a++)s[a]=bo(t,e,n,o[a]);return i.apply(void 0,u(s))}}(t,e.parent,n,i.value,i.deps);case 2048:return bo(t,e.parent,n,i.deps[0]);case 256:return i.value}}function mo(t,e,n,i,o){var r=o.length;switch(r){case 0:return new i;case 1:return new i(bo(t,e,n,o[0]));case 2:return new i(bo(t,e,n,o[0]),bo(t,e,n,o[1]));case 3:return new i(bo(t,e,n,o[0]),bo(t,e,n,o[1]),bo(t,e,n,o[2]));default:for(var s=new Array(r),a=0;a<r;a++)s[a]=bo(t,e,n,o[a]);return new(i.bind.apply(i,u([void 0],s)))}}var yo={};function bo(t,e,n,i,o){if(void 0===o&&(o=Xt.THROW_IF_NOT_FOUND),8&i.flags)return i.token;var r=t;2&i.flags&&(o=null);var s=i.tokenKey;s===ao&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);for(var a=t;a;){if(e)switch(s){case no:return Ji(wo(a,e,n));case io:return wo(a,e,n).renderer;case oo:return new un(Yn(a,e.nodeIndex).renderElement);case ro:return Yn(a,e.nodeIndex).viewContainer;case so:if(e.element.template)return Yn(a,e.nodeIndex).template;break;case ao:return Gi(wo(a,e,n));case lo:case ho:return Zi(a,e);default:var l=(n?e.element.allProviders:e.element.publicProviders)[s];if(l){var h=Gn(a,l.nodeIndex);return h||(h={instance:vo(a,l)},a.nodes[l.nodeIndex]=h),h.instance}}n=ci(a),e=ui(a),a=a.parent,4&i.flags&&(a=null)}var u=r.root.injector.get(i.token,yo);return u!==yo||o===yo?u:r.root.ngModule.injector.get(i.token,o)}function wo(t,e,n){var i;if(n)i=Yn(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!ci(i);)i=i.parent;return i}function xo(t,e,n,i,o,r){if(32768&n.flags){var s=Yn(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(e.instance[n.bindings[i].name]=o,524288&n.flags){r=r||{};var a=Ge.unwrap(t.oldValues[n.bindingIndex+i]);r[n.bindings[i].nonMinifiedName]=new Qe(a,o,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=o,r}function _o(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,i=0,o=0;o<n.length;o++){var r=n[o],s=r.parent;for(!s&&r.flags&e&&ko(t,o,r.flags&e,i++),0==(r.childFlags&e)&&(o+=r.childCount);s&&1&s.flags&&o===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(i=Eo(t,s,e,i)),s=s.parent}}function Eo(t,e,n,i){for(var o=e.nodeIndex+1;o<=e.nodeIndex+e.childCount;o++){var r=t.def.nodes[o];r.flags&n&&ko(t,o,r.flags&n,i++),o+=r.childCount}return i}function ko(t,e,n,i){var o=Gn(t,e);if(o){var r=o.instance;r&&(Kn.setCurrentNode(t,e),1048576&n&&Wn(t,512,i)&&r.ngAfterContentInit(),2097152&n&&r.ngAfterContentChecked(),4194304&n&&Wn(t,768,i)&&r.ngAfterViewInit(),8388608&n&&r.ngAfterViewChecked(),131072&n&&r.ngOnDestroy())}}var So=new Nt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return ae}}),Co={},To=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencySymbol=15]="CurrencySymbol",t[t.CurrencyName=16]="CurrencyName",t[t.Currencies=17]="Currencies",t[t.PluralCase=18]="PluralCase",t[t.ExtraData=19]="ExtraData",t}({}),Mo=void 0,Do=["en",[["a","p"],["AM","PM"],Mo],[["AM","PM"],Mo,Mo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mo,"{1} 'at' {0}",Mo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Oo=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return o(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,i){var o,r=function(t){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(r=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(r=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),i&&(s=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()}));var a=t.prototype.subscribe.call(this,o,r,s);return e instanceof v&&e.add(a),a},e}(R);function Po(){return this._results[We()]()}var Io=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Oo,this.length=0;var e=We(),n=t.prototype;n[e]||(n[e]=Po)}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?(n===e&&(n=e.slice(0,i)),t(o,n)):n!==e&&n.push(o)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Ao=new Nt("Application Initializer"),No=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var o=this.appInits[i]();Ke(o)&&e.push(o)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Ro=new Nt("AppId");function Lo(){return""+zo()+zo()+zo()}function zo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Bo=new Nt("Platform Initializer"),Fo=new Nt("Platform ID"),jo=new Nt("appBootstrapListener"),Ho=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),Vo=new Nt("LocaleId");function Wo(){throw new Error("Runtime compiler is not loaded")}var Uo,Yo,Go=Wo,qo=Wo,Xo=Wo,Ko=Wo,Zo=function(){function t(){this.compileModuleSync=Go,this.compileModuleAsync=qo,this.compileModuleAndAllComponentsSync=Xo,this.compileModuleAndAllComponentsAsync=Ko}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Qo=function(){return function(){}}();function Jo(){var t=At.wtf;return!(!t||!(Uo=t.trace)||(Yo=Uo.events,0))}var $o=Jo();function tr(t,e){return null}var er=$o?function(t,e){return void 0===e&&(e=null),Yo.createScope(t,e)}:function(t,e){return tr},nr=$o?function(t,e){return Uo.leaveScope(t,e),e}:function(t,e){return e},ir=function(){return Promise.resolve(0)}();function or(t){"undefined"==typeof Zone?ir.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var rr=function(){function t(t){var e,n=t.enableLongStackTrace,i=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oo(!1),this.onMicrotaskEmpty=new Oo(!1),this.onStable=new Oo(!1),this.onError=new Oo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,i,o,r,s){try{return hr(e),t.invokeTask(i,o,r,s)}finally{ur(e)}},onInvoke:function(t,n,i,o,r,s,a){try{return hr(e),t.invoke(i,o,r,s,a)}finally{ur(e)}},onHasTask:function(t,n,i,o){t.hasTask(i,o),n===i&&("microTask"==o.change?(e.hasPendingMicrotasks=o.microTask,lr(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(t,n,i,o){return t.handleError(i,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,i){var o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+i,t,ar,sr,sr);try{return o.runTask(r,e,n)}finally{o.cancelTask(r)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function sr(){}var ar={};function lr(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function hr(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ur(t){t._nesting--,lr(t)}var dr,cr=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oo,this.onMicrotaskEmpty=new Oo,this.onStable=new Oo,this.onError=new Oo}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),pr=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){rr.assertNotInAngularZone(),or(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())or(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var i=this,o=-1;e&&e>0&&(o=setTimeout(function(){i._callbacks=i._callbacks.filter(function(t){return t.timeoutId!==o}),t(i._didWork,i.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),fr=function(){function t(){this._applications=new Map,gr.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),gr.findTestabilityInTree(this,t,e)},s([a("design:paramtypes",[])],t)}(),gr=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),vr=new Nt("AllowMultipleToken"),mr=function(){return function(t,e){this.name=t,this.token=e}}();function yr(t,e,n){void 0===n&&(n=[]);var i="Platform: "+e,o=new Nt(i);return function(e){void 0===e&&(e=[]);var r=br();if(!r||r.injector.get(vr,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{var s=n.concat(e).concat({provide:o,useValue:!0});!function(t){if(dr&&!dr.destroyed&&!dr.injector.get(vr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");dr=t.get(wr);var e=t.get(Bo,null);e&&e.forEach(function(t){return t()})}(Xt.create({providers:s,name:i}))}return function(t){var e=br();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function br(){return dr&&!dr.destroyed?dr:null}var wr=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,i=this,o="noop"===(n=e?e.ngZone:void 0)?new cr:("zone.js"===n?void 0:n)||new rr({enableLongStackTrace:ue()}),r=[{provide:rr,useValue:o}];return o.run(function(){var e=Xt.create({providers:r,parent:i.injector,name:t.moduleType.name}),n=t.create(e),s=n.injector.get(Fe,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.injector.get(Vo,"en-US").toLowerCase().replace(/_/g,"-"),n.onDestroy(function(){return Er(i._modules,n)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(t){s.handleError(t)}})}),function(t,e,o){try{var r=((s=n.injector.get(No)).runInitializers(),s.donePromise.then(function(){return i._moduleDoBootstrap(n),n}));return Ke(r)?r.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):r}catch(a){throw e.runOutsideAngular(function(){return t.handleError(a)}),a}var s}(s,o)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var i=xr({},e);return function(t,e,n){return t.get(Qo).createCompiler([e]).compileModuleAsync(n)}(this.injector,i,t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(_r);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+kt(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function xr(t,e){return Array.isArray(e)?e.reduce(xr,t):r({},t,e)}var _r=function(){function t(t,e,n,i,o,r){var s=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ue(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var a=new D(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),l=new D(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){rr.assertNotInAngularZone(),or(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){rr.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return z(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===i&&1===t.length&&t[0]instanceof D?t[0]:rt(n)($(t,i))}(a,l.pipe(function(t){return st()((e=ct,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,ut);return i.source=t,i.subjectFactory=n,i})(t));var e}))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof $e?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var o=n instanceof sn?null:this._injector.get(an),r=n.create(Xt.NULL,[],e||n.selector,o);r.onDestroy(function(){i._unloadComponent(r)});var s=r.injector.get(pr,null);return s&&r.injector.get(fr).registerApplication(r.location.nativeElement,s),this._loadComponent(r),ue()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r},t.prototype.tick=function(){var t,n,i,o,r=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var s=e._tickScope();try{this._runningTick=!0;try{for(var a=l(this._views),h=a.next();!h.done;h=a.next())h.value.detectChanges()}catch(c){t={error:c}}finally{try{h&&!h.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}if(this._enforceNoNewChanges)try{for(var u=l(this._views),d=u.next();!d.done;d=u.next())d.value.checkNoChanges()}catch(p){i={error:p}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}catch(f){this._zone.runOutsideAngular(function(){return r._exceptionHandler.handleError(f)})}finally{this._runningTick=!1,nr(s)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Er(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(jo,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Er(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=er("ApplicationRef#tick()"),t}();function Er(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var kr=function(){return function(){}}(),Sr=function(){return function(){}}(),Cr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Tr=function(){function t(t,e){this._compiler=t,this._config=e||Cr}return t.prototype.load=function(t){return this._compiler instanceof Zo?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=h(t.split("#"),2),o=i[0],r=i[1];return void 0===r&&(r="default"),n("zn8P")(o).then(function(t){return t[r]}).then(function(t){return Mr(t,o,r)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=h(t.split("#"),2),i=e[0],o=e[1],r="NgFactory";return void 0===o&&(o="default",r=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+r]}).then(function(t){return Mr(t,i,o)})},t}();function Mr(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var Dr=function(){return function(t,e){this.name=t,this.callback=e}}(),Or=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Pr&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Pr=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return o(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,u([o+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,i){e.childNodes.forEach(function(e){e instanceof Pr&&(n(e)&&i.push(e),t(e,n,i))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,i){e instanceof Pr&&e.childNodes.forEach(function(e){n(e)&&i.push(e),e instanceof Pr&&t(e,n,i)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Or),Ir=new Map,Ar=function(t){return Ir.get(t)||null};function Nr(t){Ir.set(t.nativeNode,t)}var Rr=yr(null,"core",[{provide:Fo,useValue:"unknown"},{provide:wr,deps:[Xt]},{provide:fr,deps:[]},{provide:Ho,deps:[]}]);function Lr(){return An}function zr(){return Nn}function Br(t){return t||"en-US"}function Fr(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}var jr=function(){return function(t){}}();function Hr(t,e,n,i,o,r,s,a,l,u,d,c){var p;void 0===s&&(s=[]),u||(u=Zn);var f=gi(n),g=f.matchedQueries,v=f.references,m=f.matchedQueryIds,y=null,b=null;r&&(y=(p=h(Ci(r),2))[0],b=p[1]),a=a||[];for(var w=new Array(a.length),x=0;x<a.length;x++){var _=h(a[x],3),E=_[0],k=_[2],S=h(Ci(_[1]),2),C=S[0],T=S[1],M=void 0,D=void 0;switch(15&E){case 4:D=k;break;case 1:case 8:M=k}w[x]={flags:E,ns:C,name:T,nonMinifiedName:T,securityContext:M,suffix:D}}l=l||[];var O=new Array(l.length);for(x=0;x<l.length;x++){var P=h(l[x],2);O[x]={type:0,target:P[0],eventName:P[1],propName:null}}var I=(s=s||[]).map(function(t){var e=h(t,2),n=e[1],i=h(Ci(e[0]),2);return[i[0],i[1],n]});return c=function(t){if(t&&t.id===$n){var e=null!=t.encapsulation&&t.encapsulation!==se.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+ni++:ti}return t&&t.id===ti&&(t=null),t||null}(c),d&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:g,matchedQueryIds:m,references:v,ngContentIndex:i,childCount:o,bindings:w,bindingFlags:Ti(w),outputs:O,element:{ns:y,name:b,attrs:I,template:null,componentProvider:null,componentView:d||null,componentRendererType:c,publicProviders:null,allProviders:null,handleEvent:u||Zn},provider:null,text:null,query:null,ngContent:null}}function Vr(t,e,n){var i,o=n.element,r=t.root.selectorOrNode,s=t.renderer;if(t.parent||!r){i=o.name?s.createElement(o.name,o.ns):s.createComment("");var a=mi(t,e,n);a&&s.appendChild(a,i)}else i=s.selectRootElement(r,!!o.componentRendererType&&o.componentRendererType.encapsulation===se.ShadowDom);if(o.attrs)for(var l=0;l<o.attrs.length;l++){var u=h(o.attrs[l],3);s.setAttribute(i,u[1],u[2],u[0])}return i}function Wr(t,e,n,i){for(var o=0;o<n.outputs.length;o++){var r=n.outputs[o],s=Ur(t,n.nodeIndex,(d=r.eventName,(u=r.target)?u+":"+d:d)),a=r.target,l=t;"component"===r.target&&(a=null,l=e);var h=l.renderer.listen(a||i,r.eventName,s);t.disposables[n.outputIndex+o]=h}var u,d}function Ur(t,e,n){return function(i){return li(t,e,n,i)}}function Yr(t,e,n,i){if(!oi(t,e,n,i))return!1;var o=e.bindings[n],r=Yn(t,e.nodeIndex),s=r.renderElement,a=o.name;switch(15&o.flags){case 1:!function(t,e,n,i,o,r){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,r):r;a=null!=a?a.toString():null;var l=t.renderer;null!=r?l.setAttribute(n,o,a,i):l.removeAttribute(n,o,i)}(t,o,s,o.ns,a,i);break;case 2:!function(t,e,n,i){var o=t.renderer;i?o.addClass(e,n):o.removeClass(e,n)}(t,s,a,i);break;case 4:!function(t,e,n,i,o){var r=t.root.sanitizer.sanitize(Ie.STYLE,o);if(null!=r){r=r.toString();var s=e.suffix;null!=s&&(r+=s)}else r=null;var a=t.renderer;null!=r?a.setStyle(n,i,r):a.removeStyle(n,i)}(t,o,s,a,i);break;case 8:!function(t,e,n,i,o){var r=e.securityContext,s=r?t.root.sanitizer.sanitize(r,o):o;t.renderer.setProperty(n,i,s)}(33554432&e.flags&&32&o.flags?r.componentView:t,o,s,a,i)}return!0}function Gr(t,e,n){var i=[];for(var o in n)i.push({propName:o,bindingType:n[o]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:fi(e),bindings:i},ngContent:null}}function qr(t){for(var e=t.def.nodeMatchedQueries;t.parent&&pi(t);){var n=t.parentNodeDef;t=t.parent;for(var i=n.nodeIndex+n.childCount,o=0;o<=i;o++)67108864&(r=t.def.nodes[o]).flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Xn(t,o).setDirty(),!(1&r.flags&&o+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(o+=r.childCount)}if(134217728&t.def.nodeFlags)for(o=0;o<t.def.nodes.length;o++){var r;134217728&(r=t.def.nodes[o]).flags&&536870912&r.flags&&Xn(t,o).setDirty(),o+=r.childCount}}function Xr(t,e){var n=Xn(t,e.nodeIndex);if(n.dirty){var i,o=void 0;if(67108864&e.flags){var r=e.parent.parent;o=Kr(t,r.nodeIndex,r.nodeIndex+r.childCount,e.query,[]),i=Gn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(o=Kr(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(o);for(var s=e.query.bindings,a=!1,l=0;l<s.length;l++){var h=s[l],u=void 0;switch(h.bindingType){case 0:u=n.first;break;case 1:u=n,a=!0}i[h.propName]=u}a&&n.notifyOnChanges()}}function Kr(t,e,n,i,o){for(var r=e;r<=n;r++){var s=t.def.nodes[r],a=s.matchedQueries[i.id];if(null!=a&&o.push(Zr(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var l=Yn(t,r);if((s.childMatchedQueries&i.filterId)===i.filterId&&(Kr(t,r+1,r+s.childCount,i,o),r+=s.childCount),16777216&s.flags)for(var h=l.viewContainer._embeddedViews,u=0;u<h.length;u++){var d=h[u],c=hi(d);c&&c===l&&Kr(d,0,d.def.nodes.length-1,i,o)}var p=l.template._projectedViews;if(p)for(u=0;u<p.length;u++){var f=p[u];Kr(f,0,f.def.nodes.length-1,i,o)}}(s.childMatchedQueries&i.filterId)!==i.filterId&&(r+=s.childCount)}return o}function Zr(t,e,n){if(null!=n)switch(n){case 1:return Yn(t,e.nodeIndex).renderElement;case 0:return new un(Yn(t,e.nodeIndex).renderElement);case 2:return Yn(t,e.nodeIndex).template;case 3:return Yn(t,e.nodeIndex).viewContainer;case 4:return Gn(t,e.nodeIndex).instance}}function Qr(t,e,n){var i=mi(t,e,n);i&&_i(t,n.ngContent.index,1,i,null,void 0)}function Jr(t,e,n){for(var i=new Array(n.length-1),o=1;o<n.length;o++)i[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function $r(t,e,n){var i,o=t.renderer;i=o.createText(n.text.prefix);var r=mi(t,e,n);return r&&o.appendChild(r,i),{renderText:i}}function ts(t,e){return(null!=t?t.toString():"")+e.suffix}function es(t,e,n,i){for(var o=0,r=0,s=0,a=0,l=0,h=null,u=null,d=!1,c=!1,p=null,f=0;f<e.length;f++){var g=e[f];if(g.nodeIndex=f,g.parent=h,g.bindingIndex=o,g.outputIndex=r,g.renderParent=u,s|=g.flags,l|=g.matchedQueryIds,g.element){var v=g.element;v.publicProviders=h?h.element.publicProviders:Object.create(null),v.allProviders=v.publicProviders,d=!1,c=!1,g.element.template&&(l|=g.element.template.nodeMatchedQueries)}if(is(h,g,e.length),o+=g.bindings.length,r+=g.outputs.length,!u&&3&g.flags&&(p=g),20224&g.flags){d||(d=!0,h.element.publicProviders=Object.create(h.element.publicProviders),h.element.allProviders=h.element.publicProviders);var m=0!=(32768&g.flags);0==(8192&g.flags)||m?h.element.publicProviders[Jn(g.provider.token)]=g:(c||(c=!0,h.element.allProviders=Object.create(h.element.publicProviders)),h.element.allProviders[Jn(g.provider.token)]=g),m&&(h.element.componentProvider=g)}if(h?(h.childFlags|=g.flags,h.directChildFlags|=g.flags,h.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(h.childMatchedQueries|=g.element.template.nodeMatchedQueries)):a|=g.flags,g.childCount>0)h=g,ns(g)||(u=g);else for(;h&&f===h.nodeIndex+h.childCount;){var y=h.parent;y&&(y.childFlags|=h.childFlags,y.childMatchedQueries|=h.childMatchedQueries),u=(h=y)&&ns(h)?h.renderParent:h}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Zn,updateRenderer:i||Zn,handleEvent:function(t,n,i,o){return e[n].element.handleEvent(t,i,o)},bindingCount:o,outputCount:r,lastRenderRootNode:p}}function ns(t){return 0!=(1&t.flags)&&null===t.element.name}function is(t,e,n){var i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var o=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=o&&e.nodeIndex+e.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function os(t,e,n,i){var o=as(t.root,t.renderer,t,e,n);return ls(o,t.component,i),hs(o),o}function rs(t,e,n){var i=as(t,t.renderer,null,null,e);return ls(i,n,n),hs(i),i}function ss(t,e,n,i){var o,r=e.element.componentRendererType;return o=r?t.root.rendererFactory.createRenderer(i,r):t.root.renderer,as(t.root,o,t,e.element.componentProvider,n)}function as(t,e,n,i,o){var r=new Array(o.nodes.length),s=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:r,state:13,root:t,renderer:e,oldValues:new Array(o.bindingCount),disposables:s,initIndex:-1}}function ls(t,e,n){t.component=e,t.context=n}function hs(t){var e;ci(t)&&(e=Yn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,i=t.nodes,o=0;o<n.nodes.length;o++){var r=n.nodes[o];Kn.setCurrentNode(t,o);var s=void 0;switch(201347067&r.flags){case 1:var a=Vr(t,e,r),l=void 0;if(33554432&r.flags){var h=bi(r.element.componentView);l=Kn.createComponentView(t,r,h,a)}Wr(t,l,r,a),s={renderElement:a,componentView:l,viewContainer:null,template:r.element.template?Xi(t,r):void 0},16777216&r.flags&&(s.viewContainer=Ui(t,r,s));break;case 2:s=$r(t,e,r);break;case 512:case 1024:case 2048:case 256:(s=i[o])||4096&r.flags||(s={instance:co(t,r)});break;case 16:s={instance:po(t,r)};break;case 16384:(s=i[o])||(s={instance:fo(t,r)}),32768&r.flags&&ls(Yn(t,r.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Io;break;case 8:Qr(t,e,r),s=void 0}i[o]=s}ys(t,ms.CreateViewNodes),_s(t,201326592,268435456,0)}function us(t){ps(t),Kn.updateDirectives(t,1),bs(t,ms.CheckNoChanges),Kn.updateRenderer(t,1),ys(t,ms.CheckNoChanges),t.state&=-97}function ds(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Vn(t,0,256),ps(t),Kn.updateDirectives(t,0),bs(t,ms.CheckAndUpdate),_s(t,67108864,536870912,0);var e=Vn(t,256,512);_o(t,2097152|(e?1048576:0)),Kn.updateRenderer(t,0),ys(t,ms.CheckAndUpdate),_s(t,134217728,536870912,0),_o(t,8388608|((e=Vn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Vn(t,768,1024)}function cs(t,e,n,i,o,r,s,a,l,h,d,c,p){return 0===n?function(t,e,n,i,o,r,s,a,l,h,u,d){switch(201347067&e.flags){case 1:return function(t,e,n,i,o,r,s,a,l,h,u,d){var c=e.bindings.length,p=!1;return c>0&&Yr(t,e,0,n)&&(p=!0),c>1&&Yr(t,e,1,i)&&(p=!0),c>2&&Yr(t,e,2,o)&&(p=!0),c>3&&Yr(t,e,3,r)&&(p=!0),c>4&&Yr(t,e,4,s)&&(p=!0),c>5&&Yr(t,e,5,a)&&(p=!0),c>6&&Yr(t,e,6,l)&&(p=!0),c>7&&Yr(t,e,7,h)&&(p=!0),c>8&&Yr(t,e,8,u)&&(p=!0),c>9&&Yr(t,e,9,d)&&(p=!0),p}(t,e,n,i,o,r,s,a,l,h,u,d);case 2:return function(t,e,n,i,o,r,s,a,l,h,u,d){var c=!1,p=e.bindings,f=p.length;if(f>0&&oi(t,e,0,n)&&(c=!0),f>1&&oi(t,e,1,i)&&(c=!0),f>2&&oi(t,e,2,o)&&(c=!0),f>3&&oi(t,e,3,r)&&(c=!0),f>4&&oi(t,e,4,s)&&(c=!0),f>5&&oi(t,e,5,a)&&(c=!0),f>6&&oi(t,e,6,l)&&(c=!0),f>7&&oi(t,e,7,h)&&(c=!0),f>8&&oi(t,e,8,u)&&(c=!0),f>9&&oi(t,e,9,d)&&(c=!0),c){var g=e.text.prefix;f>0&&(g+=ts(n,p[0])),f>1&&(g+=ts(i,p[1])),f>2&&(g+=ts(o,p[2])),f>3&&(g+=ts(r,p[3])),f>4&&(g+=ts(s,p[4])),f>5&&(g+=ts(a,p[5])),f>6&&(g+=ts(l,p[6])),f>7&&(g+=ts(h,p[7])),f>8&&(g+=ts(u,p[8])),f>9&&(g+=ts(d,p[9]));var v=Un(t,e.nodeIndex).renderText;t.renderer.setValue(v,g)}return c}(t,e,n,i,o,r,s,a,l,h,u,d);case 16384:return function(t,e,n,i,o,r,s,a,l,h,u,d){var c=Gn(t,e.nodeIndex),p=c.instance,f=!1,g=void 0,v=e.bindings.length;return v>0&&ii(t,e,0,n)&&(f=!0,g=xo(t,c,e,0,n,g)),v>1&&ii(t,e,1,i)&&(f=!0,g=xo(t,c,e,1,i,g)),v>2&&ii(t,e,2,o)&&(f=!0,g=xo(t,c,e,2,o,g)),v>3&&ii(t,e,3,r)&&(f=!0,g=xo(t,c,e,3,r,g)),v>4&&ii(t,e,4,s)&&(f=!0,g=xo(t,c,e,4,s,g)),v>5&&ii(t,e,5,a)&&(f=!0,g=xo(t,c,e,5,a,g)),v>6&&ii(t,e,6,l)&&(f=!0,g=xo(t,c,e,6,l,g)),v>7&&ii(t,e,7,h)&&(f=!0,g=xo(t,c,e,7,h,g)),v>8&&ii(t,e,8,u)&&(f=!0,g=xo(t,c,e,8,u,g)),v>9&&ii(t,e,9,d)&&(f=!0,g=xo(t,c,e,9,d,g)),g&&p.ngOnChanges(g),65536&e.flags&&Wn(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,i,o,r,s,a,l,h,u,d);case 32:case 64:case 128:return function(t,e,n,i,o,r,s,a,l,h,u,d){var c=e.bindings,p=!1,f=c.length;if(f>0&&oi(t,e,0,n)&&(p=!0),f>1&&oi(t,e,1,i)&&(p=!0),f>2&&oi(t,e,2,o)&&(p=!0),f>3&&oi(t,e,3,r)&&(p=!0),f>4&&oi(t,e,4,s)&&(p=!0),f>5&&oi(t,e,5,a)&&(p=!0),f>6&&oi(t,e,6,l)&&(p=!0),f>7&&oi(t,e,7,h)&&(p=!0),f>8&&oi(t,e,8,u)&&(p=!0),f>9&&oi(t,e,9,d)&&(p=!0),p){var g=qn(t,e.nodeIndex),v=void 0;switch(201347067&e.flags){case 32:v=new Array(c.length),f>0&&(v[0]=n),f>1&&(v[1]=i),f>2&&(v[2]=o),f>3&&(v[3]=r),f>4&&(v[4]=s),f>5&&(v[5]=a),f>6&&(v[6]=l),f>7&&(v[7]=h),f>8&&(v[8]=u),f>9&&(v[9]=d);break;case 64:v={},f>0&&(v[c[0].name]=n),f>1&&(v[c[1].name]=i),f>2&&(v[c[2].name]=o),f>3&&(v[c[3].name]=r),f>4&&(v[c[4].name]=s),f>5&&(v[c[5].name]=a),f>6&&(v[c[6].name]=l),f>7&&(v[c[7].name]=h),f>8&&(v[c[8].name]=u),f>9&&(v[c[9].name]=d);break;case 128:var m=n;switch(f){case 1:v=m.transform(n);break;case 2:v=m.transform(i);break;case 3:v=m.transform(i,o);break;case 4:v=m.transform(i,o,r);break;case 5:v=m.transform(i,o,r,s);break;case 6:v=m.transform(i,o,r,s,a);break;case 7:v=m.transform(i,o,r,s,a,l);break;case 8:v=m.transform(i,o,r,s,a,l,h);break;case 9:v=m.transform(i,o,r,s,a,l,h,u);break;case 10:v=m.transform(i,o,r,s,a,l,h,u,d)}}g.value=v}return p}(t,e,n,i,o,r,s,a,l,h,u,d);default:throw"unreachable"}}(t,e,i,o,r,s,a,l,h,d,c,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var i=!1,o=0;o<n.length;o++)Yr(t,e,o,n[o])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){for(var i=e.bindings,o=!1,r=0;r<n.length;r++)oi(t,e,r,n[r])&&(o=!0);if(o){var s="";for(r=0;r<n.length;r++)s+=ts(n[r],i[r]);s=e.text.prefix+s;var a=Un(t,e.nodeIndex).renderText;t.renderer.setValue(a,s)}return o}(t,e,n);case 16384:return function(t,e,n){for(var i=Gn(t,e.nodeIndex),o=i.instance,r=!1,s=void 0,a=0;a<n.length;a++)ii(t,e,a,n[a])&&(r=!0,s=xo(t,i,e,a,n[a],s));return s&&o.ngOnChanges(s),65536&e.flags&&Wn(t,256,e.nodeIndex)&&o.ngOnInit(),262144&e.flags&&o.ngDoCheck(),r}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,r=0;r<n.length;r++)oi(t,e,r,n[r])&&(o=!0);if(o){var s=qn(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:for(a={},r=0;r<n.length;r++)a[i[r].name]=n[r];break;case 128:var l=n[0],h=n.slice(1);a=l.transform.apply(l,u(h))}s.value=a}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function ps(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(4&i.flags){var o=Yn(t,n).template._projectedViews;if(o)for(var r=0;r<o.length;r++){var s=o[r];s.state|=32,ai(s,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function fs(t,e,n,i,o,r,s,a,l,h,u,d,c){return 0===n?function(t,e,n,i,o,r,s,a,l,h,u,d){var c=e.bindings.length;c>0&&ri(t,e,0,n),c>1&&ri(t,e,1,i),c>2&&ri(t,e,2,o),c>3&&ri(t,e,3,r),c>4&&ri(t,e,4,s),c>5&&ri(t,e,5,a),c>6&&ri(t,e,6,l),c>7&&ri(t,e,7,h),c>8&&ri(t,e,8,u),c>9&&ri(t,e,9,d)}(t,e,i,o,r,s,a,l,h,u,d,c):function(t,e,n){for(var i=0;i<n.length;i++)ri(t,e,i,n[i])}(t,e,i),!1}function gs(t,e){if(Xn(t,e.nodeIndex).dirty)throw Fn(Kn.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function vs(t){if(!(128&t.state)){if(bs(t,ms.Destroy),ys(t,ms.Destroy),_o(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=hi(t);if(e){var n=e.template._projectedViews;n&&(Fi(n,n.indexOf(t)),Kn.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var i=t.def.nodes[n];1&i.flags?t.renderer.destroyNode(Yn(t,n).renderElement):2&i.flags?t.renderer.destroyNode(Un(t,n).renderText):(67108864&i.flags||134217728&i.flags)&&Xn(t,n).destroy()}}(t),ci(t)&&t.renderer.destroy(),t.state|=128}}var ms=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function ys(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var o=n.nodes[i];33554432&o.flags?ws(Yn(t,i).componentView,e):0==(33554432&o.childFlags)&&(i+=o.childCount)}}function bs(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var o=n.nodes[i];if(16777216&o.flags)for(var r=Yn(t,i).viewContainer._embeddedViews,s=0;s<r.length;s++)ws(r[s],e);else 0==(16777216&o.childFlags)&&(i+=o.childCount)}}function ws(t,e){var n=t.state;switch(e){case ms.CheckNoChanges:0==(128&n)&&(12==(12&n)?us(t):64&n&&xs(t,ms.CheckNoChangesProjectedViews));break;case ms.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?us(t):64&n&&xs(t,e));break;case ms.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ds(t):64&n&&xs(t,ms.CheckAndUpdateProjectedViews));break;case ms.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ds(t):64&n&&xs(t,e));break;case ms.Destroy:vs(t);break;case ms.CreateViewNodes:hs(t)}}function xs(t,e){bs(t,e),ys(t,e)}function _s(t,e,n,i){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var o=t.def.nodes.length,r=0;r<o;r++){var s=t.def.nodes[r];if(s.flags&e&&s.flags&n)switch(Kn.setCurrentNode(t,s.nodeIndex),i){case 0:Xr(t,s);break;case 1:gs(t,s)}s.childFlags&e&&s.childFlags&n||(r+=s.childCount)}}var Es=!1;function ks(t,e,n,i,o,r){var s=o.injector.get(pn);return rs(Cs(t,o,s,e,n),i,r)}function Ss(t,e,n,i,o,r){var s=o.injector.get(pn),a=Cs(t,o,new ra(s),e,n),l=Ls(i);return ia(Ys.create,rs,null,[a,l,r])}function Cs(t,e,n,i,o){var r=e.injector.get(Ae),s=e.injector.get(Fe),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:o,sanitizer:r,rendererFactory:n,renderer:a,errorHandler:s}}function Ts(t,e,n,i){var o=Ls(n);return ia(Ys.create,os,null,[t,e,o,i])}function Ms(t,e,n,i){return n=Is.get(e.element.componentProvider.provider.token)||Ls(n),ia(Ys.create,ss,null,[t,e,n,i])}function Ds(t,e,n,i){return to(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Os.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var i=Os.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),t.modules.forEach(function(t){Ps.forEach(function(i,o){_t(o).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var i=t.providers[e];n&&(i.flags|=4096);var o=Os.get(i.token);o&&(i.flags=-3841&i.flags|o.flags,i.deps=vi(o.deps),i.value=o.value)}if(Ps.size>0){var r=new Set(t.modules);Ps.forEach(function(e,i){if(r.has(_t(i).providedIn)){var o={token:i,flags:e.flags|(n?4096:0),deps:vi(e.deps),value:e.value,index:t.providers.length};t.providers.push(o),t.providersByKey[Jn(i)]=o}})}}(t=t.factory(function(){return Zn})),t):t}(i))}var Os=new Map,Ps=new Map,Is=new Map;function As(t){var e;Os.set(t.token,t),"function"==typeof t.token&&(e=_t(t.token))&&"function"==typeof e.providedIn&&Ps.set(t.token,t)}function Ns(t,e){var n=bi(e.viewDefFactory),i=bi(n.nodes[0].element.componentView);Is.set(t,i)}function Rs(){Os.clear(),Ps.clear(),Is.clear()}function Ls(t){if(0===Os.size)return t;var e=function(t){for(var e=[],n=null,i=0;i<t.nodes.length;i++){var o=t.nodes[i];1&o.flags&&(n=o),n&&3840&o.flags&&Os.has(o.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Zn});for(var n=0;n<e.length;n++)i(t,e[n]);return t;function i(t,e){for(var n=e+1;n<t.nodes.length;n++){var i=t.nodes[n];if(1&i.flags)return;if(3840&i.flags){var o=i.provider,r=Os.get(o.token);r&&(i.flags=-3841&i.flags|r.flags,o.deps=vi(r.deps),o.value=r.value)}}}}function zs(t,e,n,i,o,r,s,a,l,h,u,d,c){var p=t.def.nodes[e];return cs(t,p,n,i,o,r,s,a,l,h,u,d,c),224&p.flags?qn(t,e).value:void 0}function Bs(t,e,n,i,o,r,s,a,l,h,u,d,c){var p=t.def.nodes[e];return fs(t,p,n,i,o,r,s,a,l,h,u,d,c),224&p.flags?qn(t,e).value:void 0}function Fs(t){return ia(Ys.detectChanges,ds,null,[t])}function js(t){return ia(Ys.checkNoChanges,us,null,[t])}function Hs(t){return ia(Ys.destroy,vs,null,[t])}var Vs,Ws,Us,Ys=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function Gs(t,e){Ws=t,Us=e}function qs(t,e,n,i){return Gs(t,e),ia(Ys.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function Xs(t,e){if(128&t.state)throw Hn(Ys[Vs]);return Gs(t,Js(t,0)),t.def.updateDirectives(function(t,n,i){for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];var s=t.def.nodes[n];return 0===e?Zs(t,s,i,o):Qs(t,s,i,o),16384&s.flags&&Gs(t,Js(t,n)),224&s.flags?qn(t,s.nodeIndex).value:void 0},t)}function Ks(t,e){if(128&t.state)throw Hn(Ys[Vs]);return Gs(t,$s(t,0)),t.def.updateRenderer(function(t,n,i){for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];var s=t.def.nodes[n];return 0===e?Zs(t,s,i,o):Qs(t,s,i,o),3&s.flags&&Gs(t,$s(t,n)),224&s.flags?qn(t,s.nodeIndex).value:void 0},t)}function Zs(t,e,n,i){if(cs.apply(void 0,u([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var r={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],l=o[s];8&a.flags&&(r[(p=a.nonMinifiedName,"ng-reflect-"+p.replace(/[$@]/g,"_").replace(je,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=He(l))}var h=e.parent,d=Yn(t,h.nodeIndex).renderElement;if(h.element.name)for(var c in r)null!=(l=r[c])?t.renderer.setAttribute(d,c,l):t.renderer.removeAttribute(d,c);else t.renderer.setValue(d,"bindings="+JSON.stringify(r,null,2))}}var p}function Qs(t,e,n,i){fs.apply(void 0,u([t,e,n],i))}function Js(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function $s(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}var ta=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,i=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=ui(i),i=i.parent;this.elDef=n,this.elView=i}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Yn(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Zi(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){na(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&na(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!ci(t);)t=t.parent;return t.parent?Yn(t.parent,ui(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?di(this.view,this.nodeDef):di(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var r=ea(e,n),s=-1,a=function(){var e;return++s===r?(e=t.error).bind.apply(e,u([t],i)):Zn};e.factory(a),s<r&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,u(i)))},t}();function ea(t,e){for(var n=-1,i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}function na(t,e,n){for(var i in e.references)n[i]=Zr(t,e,e.references[i])}function ia(t,e,n,i){var o=Vs,r=Ws,s=Us;try{Vs=t;var a=e.apply(n,i);return Ws=r,Us=s,Vs=o,a}catch(l){if(Le(l)||!Ws)throw l;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),jn(t,e),t}(l,oa())}}function oa(){return Ws?new ta(Ws,Us):null}var ra=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new sa(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),sa=function(){function t(t){this.delegate=t,this.debugContextFactory=oa,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){Ir.delete(t.nativeNode)}(Ar(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){var o=new Pr(n,null,i);o.name=t,Nr(o)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Nr(new Or(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Nr(new Or(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Ar(t),i=Ar(e);n&&i&&n instanceof Pr&&n.addChild(i),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var i=Ar(t),o=Ar(e),r=Ar(n);i&&o&&i instanceof Pr&&i.insertBefore(r,o),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Ar(t),i=Ar(e);n&&i&&n instanceof Pr&&n.removeChild(i),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),i=oa();return i&&Nr(new Pr(n,null,i)),n},t.prototype.setAttribute=function(t,e,n,i){var o=Ar(t);o&&o instanceof Pr&&(o.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)},t.prototype.removeAttribute=function(t,e,n){var i=Ar(t);i&&i instanceof Pr&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Ar(t);n&&n instanceof Pr&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Ar(t);n&&n instanceof Pr&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,i){var o=Ar(t);o&&o instanceof Pr&&(o.styles[e]=n),this.delegate.setStyle(t,e,n,i)},t.prototype.removeStyle=function(t,e,n){var i=Ar(t);i&&i instanceof Pr&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var i=Ar(t);i&&i instanceof Pr&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var i=Ar(t);i&&i.listeners.push(new Dr(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function aa(t,e,n){return new la(t,e,n)}var la=function(t){function e(e,n,i){var o=t.call(this)||this;return o.moduleType=e,o._bootstrapComponents=n,o._ngModuleDefFactory=i,o}return o(e,t),e.prototype.create=function(t){!function(){if(!Es){Es=!0;var t=ue()?{setCurrentNode:Gs,createRootView:Ss,createEmbeddedView:Ts,createComponentView:Ms,createNgModuleRef:Ds,overrideProvider:As,overrideComponentView:Ns,clearOverrides:Rs,checkAndUpdateView:Fs,checkNoChangesView:js,destroyView:Hs,createDebugContext:function(t,e){return new ta(t,e)},handleEvent:qs,updateDirectives:Xs,updateRenderer:Ks}:{setCurrentNode:function(){},createRootView:ks,createEmbeddedView:os,createComponentView:ss,createNgModuleRef:to,overrideProvider:Zn,overrideComponentView:Zn,clearOverrides:Zn,checkAndUpdateView:ds,checkNoChangesView:us,destroyView:vs,createDebugContext:function(t,e){return new ta(t,e)},handleEvent:function(t,e,n,i){return t.def.handleEvent(t,e,n,i)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?zs:Bs,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?zs:Bs,t)}};Kn.setCurrentNode=t.setCurrentNode,Kn.createRootView=t.createRootView,Kn.createEmbeddedView=t.createEmbeddedView,Kn.createComponentView=t.createComponentView,Kn.createNgModuleRef=t.createNgModuleRef,Kn.overrideProvider=t.overrideProvider,Kn.overrideComponentView=t.overrideComponentView,Kn.clearOverrides=t.clearOverrides,Kn.checkAndUpdateView=t.checkAndUpdateView,Kn.checkNoChangesView=t.checkNoChangesView,Kn.destroyView=t.destroyView,Kn.resolveDep=bo,Kn.createDebugContext=t.createDebugContext,Kn.handleEvent=t.handleEvent,Kn.updateDirectives=t.updateDirectives,Kn.updateRenderer=t.updateRenderer,Kn.dirtyParentQueries=qr}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),i={};for(var o in t.providersByKey)i[o]=t.providersByKey[o];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(bi(this._ngModuleDefFactory));return Kn.createNgModuleRef(this.moduleType,t||Xt.NULL,this._bootstrapComponents,e)},e}(ln),ha=function(){return function(){}}(),ua=function(){return function(){this.title="graph-lib-samples"}}(),da=function(){return function(){}}(),ca=new Nt("Location Initialized"),pa=function(){return function(){}}(),fa=new Nt("appBaseHref"),ga=function(){function t(t,n){var i=this;this._subject=new Oo,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(va(o)),this._platformStrategy.onPopState(function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.getState=function(){return this._platformLocation.getState()},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,va(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,n,i){void 0===n&&(n=""),void 0===i&&(i=null),this._platformStrategy.pushState(i,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),i)},t.prototype.replaceState=function(t,n,i){void 0===n&&(n=""),void 0===i&&(i=null),this._platformStrategy.replaceState(i,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),i)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.onUrlChange=function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)})},t.prototype._notifyUrlChangeListeners=function(t,e){void 0===t&&(t=""),this._urlChangeListeners.forEach(function(n){return n(t,e)})},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function va(t){return t.replace(/\/index.html$/,"")}var ma=function(t){function e(e,n){var i=t.call(this)||this;return i._platformLocation=e,i._baseHref="",null!=n&&(i._baseHref=n),i}return o(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=ga.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,i){var o=this.prepareExternalUrl(n+ga.normalizeQueryParams(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,i){var o=this.prepareExternalUrl(n+ga.normalizeQueryParams(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(pa),ya=function(t){function e(e,n){var i=t.call(this)||this;if(i._platformLocation=e,null==n&&(n=i._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=n,i}return o(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return ga.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+ga.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,i){var o=this.prepareExternalUrl(n+ga.normalizeQueryParams(i));this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,i){var o=this.prepareExternalUrl(n+ga.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(pa),ba=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),wa=new Nt("UseV4Plurals"),xa=function(){return function(){}}(),_a=function(t){function e(e,n){var i=t.call(this)||this;return i.locale=e,i.deprecatedPluralFn=n,i}return o(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=Co[e];if(n)return n;var i=e.split("-")[0];if(n=Co[i])return n;if("en"===i)return Do;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[To.PluralCase]}(e||this.locale)(t)){case ba.Zero:return"zero";case ba.One:return"one";case ba.Two:return"two";case ba.Few:return"few";case ba.Many:return"many";default:return"other"}},e}(xa),Ea=function(){return function(){}}(),ka=new Nt("DocumentToken"),Sa="server",Ca=function(){function t(){}return t.ngInjectableDef=xt({token:t,providedIn:"root",factory:function(){return new Ta(Wt(ka),window,Wt(Fe))}}),t}(),Ta=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),Ma=new D(function(t){return t.complete()});function Da(t){return t?function(t){return new D(function(e){return t.schedule(function(){return e.complete()})})}(t):Ma}function Oa(t){var e=new D(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function Pa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(z(n)?t.pop():n=void 0,t.length){case 0:return Da(n);case 1:return n?$(t,n):Oa(t[0]);default:return $(t,n)}}var Ia=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(R);function Aa(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Aa.prototype=Object.create(Error.prototype);var Na=Aa,Ra={},La=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new za(t,this.resultSelector))},t}(),za=function(t){function e(e,n){var i=t.call(this,e)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return o(e,t),e.prototype._next=function(t){this.values.push(Ra),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(X(this,i,i,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,o){var r=this.values,s=this.toRespond?r[n]===Ra?--this.toRespond:this.toRespond:0;r[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(K);function Ba(t){return new D(function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?tt(n):Da()).subscribe(e)})}function Fa(){return rt(1)}function ja(t,e){return function(n){return n.lift(new Ha(t,e))}}var Ha=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Va(t,this.predicate,this.thisArg))},t}(),Va=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(E);function Wa(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Wa.prototype=Object.create(Error.prototype);var Ua=Wa;function Ya(t){return function(e){return 0===t?Da():e.lift(new Ga(t))}}var Ga=function(){function t(t){if(this.total=t,this.total<0)throw new Ua}return t.prototype.call=function(t,e){return e.subscribe(new qa(t,this.total))},t}(),qa=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.ring=new Array,i.count=0,i}return o(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,o=0;o<n;o++){var r=e++%n;t.next(i[r])}t.complete()},e}(E);function Xa(t,e,n){return function(i){return i.lift(new Ka(t,e,n))}}var Ka=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Za(t,this.nextOrObserver,this.error,this.complete))},t}(),Za=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r._tapNext=C,r._tapError=C,r._tapComplete=C,r._tapError=i||C,r._tapComplete=o||C,p(n)?(r._context=r,r._tapNext=n):n&&(r._context=n,r._tapNext=n.next||C,r._tapError=n.error||C,r._tapComplete=n.complete||C),r}return o(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(E),Qa=function(t){return void 0===t&&(t=Ja),Xa({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function Ja(){return new Na}function $a(t){return void 0===t&&(t=null),function(e){return e.lift(new tl(t))}}var tl=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new el(t,this.defaultValue))},t}(),el=function(t){function e(e,n){var i=t.call(this,e)||this;return i.defaultValue=n,i.isEmpty=!0,i}return o(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(E);function nl(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?ja(function(e,n){return t(e,n,i)}):ot,Ya(1),n?$a(e):Qa(function(){return new Na}))}}function il(t){return function(e){var n=new ol(t),i=e.lift(n);return n.caught=i}}var ol=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new rl(t,this.selector,this.caught))},t}(),rl=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.selector=n,o.caught=i,o}return o(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(o){return void t.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var i=new B(this,void 0,void 0);this.add(i),X(this,n,void 0,void 0,i)}},e}(K);function sl(t){return function(e){return 0===t?Da():e.lift(new al(t))}}var al=function(){function t(t){if(this.total=t,this.total<0)throw new Ua}return t.prototype.call=function(t,e){return e.subscribe(new ll(t,this.total))},t}(),ll=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.count=0,i}return o(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(E);function hl(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?ja(function(e,n){return t(e,n,i)}):ot,sl(1),n?$a(e):Qa(function(){return new Na}))}}var ul=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new dl(t,this.predicate,this.thisArg,this.source))},t}(),dl=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.predicate=n,r.thisArg=i,r.source=o,r.index=0,r.thisArg=i||r,r}return o(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(E);function cl(t,e){return"function"==typeof e?function(n){return n.pipe(cl(function(n,i){return tt(t(n,i)).pipe(Z(function(t,o){return e(n,t,i,o)}))}))}:function(e){return e.lift(new pl(t))}}var pl=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new fl(t,this.project))},t}(),fl=function(t){function e(e,n){var i=t.call(this,e)||this;return i.project=n,i.index=0,i}return o(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe();var o=new B(this,void 0,void 0);this.destination.add(o),this.innerSubscription=X(this,t,e,n,o)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,o){this.destination.next(e)},e}(K);function gl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Fa()(Pa.apply(void 0,t))}function vl(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new ml(t,e,n))}}var ml=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new yl(t,this.accumulator,this.seed,this.hasSeed))},t}(),yl=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.accumulator=n,r._seed=i,r.hasSeed=o,r.index=0,r}return o(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)},e}(E);function bl(t,e){return et(t,e,1)}var wl=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new xl(t,this.callback))},t}(),xl=function(t){function e(e,n){var i=t.call(this,e)||this;return i.add(new v(n)),i}return o(e,t),e}(E),_l=null;function El(){return _l}var kl,Sl=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],o=0;o<i.length;o++)if(null!=e.getStyle(n,i[o]+"AnimationName")){e._animationPrefix="-"+i[o].toLowerCase()+"-";break}var r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(r).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=r[t])})}catch(s){e._animationPrefix=null,e._transitionEnd=null}return e}return o(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}()),Cl={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Tl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ml={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dl=function(){if(At.Node)return At.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),Ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,_l||(_l=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var i;(i=t)[e].apply(i,u(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return Cl},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Dl.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),i=0;i<e.length;i++)n[i]=e[i];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var i=this.getStyle(t,e)||"";return n?i==n:i.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,i=0;i<n.length;i++){var o=n.item(i);e.set(o.name,o.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,i){t.setAttributeNS(e,n,i)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ml.hasOwnProperty(e)&&(e=Ml[e]))}return Tl[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=Pl||(Pl=document.querySelector("base"))?Pl.getAttribute("href"):null;return null==n?null:(e=n,kl||(kl=document.createElement("a")),kl.setAttribute("href",e),"/"===kl.pathname.charAt(0)?kl.pathname:"/"+kl.pathname)},e.prototype.resetBaseElement=function(){Pl=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){var n,i;e=encodeURIComponent(e);try{for(var o=l(t.split(";")),r=o.next();!r.done;r=o.next()){var s=r.value,a=s.indexOf("="),u=h(-1==a?[s,""]:[s.slice(0,a),s.slice(a+1)],2),d=u[1];if(u[0].trim()===e)return decodeURIComponent(d)}}catch(c){n={error:c}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return null}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(Sl),Pl=null;function Il(){return!!window.history.pushState}var Al=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}var n;return o(e,t),e.prototype._init=function(){this.location=El().getLocation(),this._history=El().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return El().getBaseHref(this._doc)},e.prototype.onPopState=function(t){El().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){El().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"href",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){Il()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){Il()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.prototype.getState=function(){return this._history.state},s([(n=gt(ka),function(t,e){n(t,e,0)}),a("design:paramtypes",[Object])],e)}(da),Nl=new Nt("TRANSITION_ID"),Rl=[{provide:Ao,useFactory:function(t,e,n){return function(){n.get(No).donePromise.then(function(){var n=El();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Nl,ka,Xt],multi:!0}],Ll=function(){function t(){}return t.init=function(){var e;e=new t,gr=e},t.prototype.addToWindow=function(t){At.getAngularTestability=function(e,n){void 0===n&&(n=!0);var i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},At.getAllAngularTestabilities=function(){return t.getAllTestabilities()},At.getAllAngularRootElements=function(){return t.getAllRootElements()},At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(function(t){var e=At.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?El().isShadowRoot(e)?this.findTestabilityInTree(t,El().getHost(e),!0):this.findTestabilityInTree(t,El().parentElement(e),!0):null},t}();function zl(t,e){"undefined"!=typeof COMPILED&&COMPILED||((At.ng=At.ng||{})[t]=e)}var Bl=function(){return{ApplicationRef:_r,NgZone:rr}}();function Fl(t){return Ar(t)}var jl=new Nt("EventManagerPlugins"),Hl=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var o=n[i];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error("No event manager plugin found for event "+t)},t}(),Vl=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var i=El().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),Wl=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),Ul=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return o(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return El().remove(t)})},e}(Wl),Yl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gl=/%COMP%/g,ql="_nghost-%COMP%",Xl="_ngcontent-%COMP%";function Kl(t,e,n){for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?Kl(t,o,n):(o=o.replace(Gl,t),n.push(o))}return n}function Zl(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Ql=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Jl(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case se.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new eh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case se.Native:case se.ShadowDom:return new nh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=Kl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Jl=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Yl[e]||e,t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,i){if(i){e=i+":"+e;var o=Yl[i];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var i=Yl[n];i?t.removeAttributeNS(i,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&fn.DashCase?t.style.setProperty(e,n,i&fn.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&fn.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){th(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return th(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Zl(n)):this.eventManager.addEventListener(t,e,Zl(n))},t}(),$l=function(){return"@".charCodeAt(0)}();function th(t,e){if(t.charCodeAt(0)===$l)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var eh=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;r.component=i;var s=Kl(o+"-"+i.id,i.styles,[]);return n.addStyles(s),r.contentAttr=Xl.replace(Gl,o+"-"+i.id),r.hostAttr=ql.replace(Gl,o+"-"+i.id),r}return o(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var i=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,i,this.contentAttr,""),i},e}(Jl),nh=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;r.sharedStylesHost=n,r.hostEl=i,r.component=o,r.shadowRoot=o.encapsulation===se.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),r.sharedStylesHost.addHost(r.shadowRoot);for(var s=Kl(o.id,o.styles,[]),a=0;a<s.length;a++){var l=document.createElement("style");l.textContent=s[a],r.shadowRoot.appendChild(l)}return r}return o(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,i){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,i)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Jl),ih=function(){return"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t}}(),oh=ih("addEventListener"),rh=ih("removeEventListener"),sh={},ah="__zone_symbol__propagationStopped",lh=function(){var t="undefined"!=typeof Zone&&Zone[ih("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach(function(t){e[t]=t}),e}}(),hh=function(t){return!!lh&&lh.hasOwnProperty(t)},uh=function(t){var e=sh[t.type];if(e){var n=this[e];if(n){var i=[t];if(1===n.length)return(s=n[0]).zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i);for(var o=n.slice(),r=0;r<o.length&&!0!==t[ah];r++){var s;(s=o[r]).zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i)}}}},dh=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.ngZone=n,i&&function(t){return t===Sa}(i)||o.patchEvent(),o}return o(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ah]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,o=n;if(!t[oh]||rr.isInAngularZone()&&!hh(e))t.addEventListener(e,o,!1);else{var r=sh[e];r||(r=sh[e]=ih("ANGULAR"+e+"FALSE"));var s=t[r],a=s&&s.length>0;s||(s=t[r]=[]);var l=hh(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:l,handler:o});else{for(var h=!1,u=0;u<s.length;u++)if(s[u].handler===o){h=!0;break}h||s.push({zone:l,handler:o})}a||t[oh](e,uh,!1)}return function(){return i.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var i=t[rh];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);var o=sh[e],r=o&&t[o];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);for(var s=!1,a=0;a<r.length;a++)if(r[a].handler===n){s=!0,r.splice(a,1);break}s?0===r.length&&i.apply(t,[e,uh,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(Vl),ch={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ph=new Nt("HammerGestureConfig"),fh=new Nt("HammerLoader"),gh=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),vh=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r._config=n,r.console=i,r.loader=o,r}return o(e,t),e.prototype.supports=function(t){return!(!ch.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var i=this,o=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var r=!1,s=function(){r=!0};return this.loader().then(function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});r||(s=i.addEventListener(t,e,n))}).catch(function(){i.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),s=function(){}}),function(){s()}}return o.runOutsideAngular(function(){var r=i._config.buildHammer(t),s=function(t){o.runGuarded(function(){n(t)})};return r.on(e,s),function(){r.off(e,s),"function"==typeof r.destroy&&r.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(Vl),mh=["alt","control","meta","shift"],yh={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},bh=function(t){function e(e){return t.call(this,e)||this}var n;return o(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,i){var o=n.parseEventName(e),r=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return El().onAndCancel(t,o.domEventName,r)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var o=n._normalizeKey(e.pop()),r="";if(mh.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),r+=t+".")}),r+=o,0!=e.length||0===o.length)return null;var s={};return s.domEventName=i,s.fullKey=r,s},e.getEventFullKey=function(t){var e="",n=El().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),mh.forEach(function(i){i!=n&&(0,yh[i])(t)&&(e+=i+".")}),e+=n},e.eventCallback=function(t,e,i){return function(o){n.getEventFullKey(o)===t&&i.runGuarded(function(){return e(o)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(Vl),wh=function(){return function(){}}(),xh=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return o(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case Ie.NONE:return e;case Ie.HTML:return e instanceof Eh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{me=me||new de(t);var i=e?String(e):"";n=me.getInertBodyElement(i);var o=5,r=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=r,r=n.innerHTML,n=me.getInertBodyElement(i)}while(i!==r);var s=new Te,a=s.sanitizeChildren(Pe(n)||n);return ue()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var l=Pe(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}(this._doc,String(e)));case Ie.STYLE:return e instanceof kh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Re);return e&&fe(e[1])===e[1]||t.match(Ne)&&function(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var o=t.charAt(i);"'"===o&&n?e=!e:'"'===o&&e&&(n=!n)}return e&&n}(t)?t:(ue()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case Ie.SCRIPT:if(e instanceof Sh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ie.URL:return e instanceof Th||e instanceof Ch?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),fe(String(e)));case Ie.RESOURCE_URL:if(e instanceof Th)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof _h)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Eh(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new kh(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Sh(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Ch(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new Th(t)},e}(wh),_h=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(_h),kh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTypeName=function(){return"Style"},e}(_h),Sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTypeName=function(){return"Script"},e}(_h),Ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTypeName=function(){return"URL"},e}(_h),Th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(_h),Mh=yr(Rr,"browser",[{provide:Fo,useValue:"browser"},{provide:Bo,useValue:function(){Ol.makeCurrent(),Ll.init()},multi:!0},{provide:da,useClass:Al,deps:[ka]},{provide:ka,useFactory:function(){return document},deps:[]}]);function Dh(){return new Fe}var Oh=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:Ro,useValue:t.appId},{provide:Nl,useExisting:Ro},Rl]}},t}();"undefined"!=typeof window&&window;var Ph=function(){return function(t,e){this.id=t,this.url=e}}(),Ih=function(t){function e(e,n,i,o){void 0===i&&(i="imperative"),void 0===o&&(o=null);var r=t.call(this,e,n)||this;return r.navigationTrigger=i,r.restoredState=o,r}return o(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Ph),Ah=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o}return o(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Ph),Nh=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.reason=i,o}return o(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Ph),Rh=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.error=i,o}return o(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Ph),Lh=function(t){function e(e,n,i,o){var r=t.call(this,e,n)||this;return r.urlAfterRedirects=i,r.state=o,r}return o(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ph),zh=function(t){function e(e,n,i,o){var r=t.call(this,e,n)||this;return r.urlAfterRedirects=i,r.state=o,r}return o(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ph),Bh=function(t){function e(e,n,i,o,r){var s=t.call(this,e,n)||this;return s.urlAfterRedirects=i,s.state=o,s.shouldActivate=r,s}return o(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Ph),Fh=function(t){function e(e,n,i,o){var r=t.call(this,e,n)||this;return r.urlAfterRedirects=i,r.state=o,r}return o(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ph),jh=function(t){function e(e,n,i,o){var r=t.call(this,e,n)||this;return r.urlAfterRedirects=i,r.state=o,r}return o(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ph),Hh=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Vh=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Wh=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Uh=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Yh=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Gh=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),qh=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),Xh=function(){return function(){}}(),Kh="primary",Zh=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Qh(t){return new Zh(t)}var Jh="ngNavigationCancelingError";function $h(t){var e=Error("NavigationCancelingError: "+t);return e[Jh]=!0,e}function tu(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var o={},r=0;r<i.length;r++){var s=i[r],a=t[r];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}var eu=function(){return function(t,e){this.routes=t,this.module=e}}();function nu(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var i=t[n];iu(i,ou(e,i))}}function iu(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Kh)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&nu(t.children,e)}function ou(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function ru(t){var e=t.children&&t.children.map(ru),n=e?r({},t,{children:e}):r({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Kh&&(n.component=Xh),n}function su(t,e){var n,i=Object.keys(t),o=Object.keys(e);if(!i||!o||i.length!=o.length)return!1;for(var r=0;r<i.length;r++)if(t[n=i[r]]!==e[n])return!1;return!0}function au(t){return Array.prototype.concat.apply([],t)}function lu(t){return t.length>0?t[t.length-1]:null}function hu(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function uu(t){return Ze(t)?t:Ke(t)?tt(Promise.resolve(t)):Pa(t)}function du(t,e,n){return n?function(t,e){return su(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!gu(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,o){if(n.segments.length>o.length)return!!gu(s=n.segments.slice(0,o.length),o)&&!i.hasChildren();if(n.segments.length===o.length){if(!gu(n.segments,o))return!1;for(var r in i.children){if(!n.children[r])return!1;if(!t(n.children[r],i.children[r]))return!1}return!0}var s=o.slice(0,n.segments.length),a=o.slice(n.segments.length);return!!gu(n.segments,s)&&!!n.children[Kh]&&e(n.children[Kh],i,a)}(e,n,n.segments)}(t.root,e.root)}var cu=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Qh(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return bu.serialize(this)},t}(),pu=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,hu(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return wu(this)},t}(),fu=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Qh(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Cu(this)},t}();function gu(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function vu(t,e){var n=[];return hu(t.children,function(t,i){i===Kh&&(n=n.concat(e(t,i)))}),hu(t.children,function(t,i){i!==Kh&&(n=n.concat(e(t,i)))}),n}var mu=function(){return function(){}}(),yu=function(){function t(){}return t.prototype.parse=function(t){var e=new Pu(t);return new cu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return wu(e);if(n){var i=e.children[Kh]?t(e.children[Kh],!1):"",o=[];return hu(e.children,function(e,n){n!==Kh&&o.push(n+":"+t(e,!1))}),o.length>0?i+"("+o.join("//")+")":i}var r=vu(e,function(n,i){return i===Kh?[t(e.children[Kh],!1)]:[i+":"+t(n,!1)]});return wu(e)+"/("+r.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return _u(t)+"="+_u(e)}).join("&"):_u(t)+"="+_u(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),bu=new yu;function wu(t){return t.segments.map(function(t){return Cu(t)}).join("/")}function xu(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _u(t){return xu(t).replace(/%3B/gi,";")}function Eu(t){return xu(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ku(t){return decodeURIComponent(t)}function Su(t){return ku(t.replace(/\+/g,"%20"))}function Cu(t){return""+Eu(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+Eu(t)+"="+Eu(e[t])}).join(""));var e}var Tu=/^[^\/()?;=#]+/;function Mu(t){var e=t.match(Tu);return e?e[0]:""}var Du=/^[^=?&#]+/,Ou=/^[^?&#]+/,Pu=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pu([],{}):new pu([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Kh]=new pu(t,e)),n},t.prototype.parseSegment=function(){var t=Mu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new fu(ku(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Mu(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=Mu(this.remaining);i&&this.capture(n=i)}t[ku(e)]=ku(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(Du))?e[0]:"";if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var o=function(t){var e=t.match(Ou);return e?e[0]:""}(this.remaining);o&&this.capture(i=o)}var r=Su(n),s=Su(i);if(t.hasOwnProperty(r)){var a=t[r];Array.isArray(a)||(t[r]=a=[a]),a.push(s)}else t[r]=s}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Mu(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Kh);var r=this.parseChildren();e[o]=1===Object.keys(r).length?r[Kh]:new pu([],r),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Iu=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Au(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Au(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Nu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return Nu(t,this._root).map(function(t){return t.value})},t}();function Au(t,e){var n,i;if(t===e.value)return e;try{for(var o=l(e.children),r=o.next();!r.done;r=o.next()){var s=Au(t,r.value);if(s)return s}}catch(a){n={error:a}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return null}function Nu(t,e){var n,i;if(t===e.value)return[e];try{for(var o=l(e.children),r=o.next();!r.done;r=o.next()){var s=Nu(t,r.value);if(s.length)return s.unshift(e),s}}catch(a){n={error:a}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return[]}var Ru=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Lu(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var zu=function(t){function e(e,n){var i=t.call(this,e)||this;return i.snapshot=n,Wu(i,e),i}return o(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Iu);function Bu(t,e){var n=function(t,e){var n=new Hu([],{},{},"",{},Kh,e,null,t.root,-1,{});return new Vu("",new Ru(n,[]))}(t,e),i=new Ia([new fu("",{})]),o=new Ia({}),r=new Ia({}),s=new Ia({}),a=new Ia(""),l=new Fu(i,o,s,a,r,Kh,e,n.root);return l.snapshot=n.root,new zu(new Ru(l,[]),n)}var Fu=function(){function t(t,e,n,i,o,r,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=r,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Z(function(t){return Qh(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Z(function(t){return Qh(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function ju(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var o=n[i],s=n[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(s.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:r({},t.params,e.params),data:r({},t.data,e.data),resolve:r({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var Hu=function(){function t(t,e,n,i,o,r,s,a,l,h,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=r,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=h,this._resolve=u}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Qh(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Qh(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Vu=function(t){function e(e,n){var i=t.call(this,n)||this;return i.url=e,Wu(i,n),i}return o(e,t),e.prototype.toString=function(){return Uu(this._root)},e}(Iu);function Wu(t,e){e.value._routerState=t,e.children.forEach(function(e){return Wu(t,e)})}function Uu(t){var e=t.children.length>0?" { "+t.children.map(Uu).join(", ")+" } ":"";return""+t.value+e}function Yu(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,su(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),su(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!su(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),su(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Gu(t,e){var n,i;return su(t.params,e.params)&&gu(n=t.url,i=e.url)&&n.every(function(t,e){return su(t.parameters,i[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Gu(t.parent,e.parent))}function qu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Xu(t,e,n,i,o){var r={};return i&&hu(i,function(t,e){r[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new cu(n.root===t?e:function t(e,n,i){var o={};return hu(e.children,function(e,r){o[r]=e===n?i:t(e,n,i)}),new pu(e.segments,o)}(n.root,t,e),r,o)}var Ku=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&qu(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(i&&i!==lu(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Zu=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function Qu(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Kh]:""+t}function Ju(t,e,n){if(t||(t=new pu([],{})),0===t.segments.length&&t.hasChildren())return $u(t,e,n);var i=function(t,e,n){for(var i=0,o=e,r={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(i>=n.length)return r;var s=t.segments[o],a=Qu(n[i]),l=i<n.length-1?n[i+1]:null;if(o>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!id(a,l,s))return r;i+=2}else{if(!id(a,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var r=new pu(t.segments.slice(0,i.pathIndex),{});return r.children[Kh]=new pu(t.segments.slice(i.pathIndex),t.children),$u(r,0,o)}return i.match&&0===o.length?new pu(t.segments,{}):i.match&&!t.hasChildren()?td(t,e,n):i.match?$u(t,0,o):td(t,e,n)}function $u(t,e,n){if(0===n.length)return new pu(t.segments,{});var i=function(t){var e,n;return"object"!=typeof t[0]?((e={})[Kh]=t,e):void 0===t[0].outlets?((n={})[Kh]=t,n):t[0].outlets}(n),o={};return hu(i,function(n,i){null!==n&&(o[i]=Ju(t.children[i],e,n))}),hu(t.children,function(t,e){void 0===i[e]&&(o[e]=t)}),new pu(t.segments,o)}function td(t,e,n){for(var i=t.segments.slice(0,e),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var r=ed(n[o].outlets);return new pu(i,r)}if(0===o&&qu(n[0]))i.push(new fu(t.segments[e].path,n[0])),o++;else{var s=Qu(n[o]),a=o<n.length-1?n[o+1]:null;s&&a&&qu(a)?(i.push(new fu(s,nd(a))),o+=2):(i.push(new fu(s,{})),o++)}}return new pu(i,{})}function ed(t){var e={};return hu(t,function(t,n){null!==t&&(e[n]=td(new pu([],{}),0,t))}),e}function nd(t){var e={};return hu(t,function(t,n){return e[n]=""+t}),e}function id(t,e,n){return t==n.path&&su(e,n.parameters)}var od=function(){function t(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Yu(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var i=this,o=Lu(e);t.children.forEach(function(t){var e=t.value.outlet;i.deactivateRoutes(t,o[e],n),delete o[e]}),hu(o,function(t,e){i.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var i=t.value,o=e?e.value:null;if(i===o)if(i.component){var r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:o})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var o=Lu(t),r=t.value.component?i.children:e;hu(o,function(t,e){return n.deactivateRouteAndItsChildren(t,r)}),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var i=this,o=Lu(e);t.children.forEach(function(t){i.activateRoutes(t,o[t.value.outlet],n),i.forwardEvent(new Gh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Uh(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var i=t.value,o=e?e.value:null;if(Yu(i),i===o)if(i.component){var r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component)if(r=n.getOrCreateContext(i.outlet),this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),r.children.onOutletReAttached(s.contexts),r.attachRef=s.componentRef,r.route=s.route.value,r.outlet&&r.outlet.attach(s.componentRef,s.route.value),rd(s.route)}else{var a=function(t){for(var e=i.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),l=a?a.module.componentFactoryResolver:null;r.attachRef=null,r.route=i,r.resolver=l,r.outlet&&r.outlet.activateWith(i,l),this.activateChildRoutes(t,null,r.children)}else this.activateChildRoutes(t,null,n)},t}();function rd(t){Yu(t.value),t.children.forEach(rd)}function sd(t){return"function"==typeof t}function ad(t){return t instanceof cu}var ld=function(){return function(t){this.segmentGroup=t||null}}(),hd=function(){return function(t){this.urlTree=t}}();function ud(t){return new D(function(e){return e.error(new ld(t))})}function dd(t){return new D(function(e){return e.error(new hd(t))})}function cd(t){return new D(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var pd=function(){function t(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(an)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Kh).pipe(Z(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(il(function(e){if(e instanceof hd)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof ld)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Kh).pipe(Z(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(il(function(t){if(t instanceof ld)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var i,o=t.segments.length>0?new pu([],((i={})[Kh]=t,i)):t;return new cu(o,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Z(function(t){return new pu([],t)})):this.expandSegment(t,n,e,n.segments,i,!0)},t.prototype.expandChildren=function(t,e,n){var i=this;return function(n,o){if(0===Object.keys(n).length)return Pa({});var r=[],s=[],a={};return hu(n,function(n,o){var l,h,u=(l=o,h=n,i.expandSegmentGroup(t,e,h,l)).pipe(Z(function(t){return a[o]=t}));o===Kh?r.push(u):s.push(u)}),Pa.apply(null,r.concat(s)).pipe(Fa(),nl(),Z(function(){return a}))}(n.children)},t.prototype.expandSegment=function(t,e,n,i,o,r){var s=this;return Pa.apply(void 0,u(n)).pipe(Z(function(a){return s.expandSegmentAgainstRoute(t,e,n,a,i,o,r).pipe(il(function(t){if(t instanceof ld)return Pa(null);throw t}))}),Fa(),hl(function(t){return!!t}),il(function(t,n){if(t instanceof Na||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,i,o))return Pa(new pu([],{}));throw new ld(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,i,o,r,s){return md(i)!==r?ud(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,r):ud(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,i,o,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,o,r)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,i){var o=this,r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dd(r):this.lineralizeSegments(n,r).pipe(et(function(n){var r=new pu(n,{});return o.expandSegment(t,r,e,n,i,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,i,o,r){var s=this,a=fd(e,i,o),l=a.consumedSegments,h=a.lastChild,u=a.positionalParamSegments;if(!a.matched)return ud(e);var d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?dd(d):this.lineralizeSegments(i,d).pipe(et(function(i){return s.expandSegment(t,e,n,i.concat(o.slice(h)),r,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,i){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Z(function(t){return n._loadedConfig=t,new pu(i,{})})):Pa(new pu(i,{}));var s=fd(e,n,i),a=s.consumedSegments,h=s.lastChild;if(!s.matched)return ud(e);var u=i.slice(h);return this.getChildConfig(t,n,i).pipe(et(function(t){var n=t.module,i=t.routes,s=function(t,e,n,i){return n.length>0&&function(t,e,n){return i.some(function(n){return vd(t,e,n)&&md(n)!==Kh})}(t,n)?{segmentGroup:gd(new pu(e,function(t,e){var n,i,o={};o[Kh]=e;try{for(var r=l(t),s=r.next();!s.done;s=r.next()){var a=s.value;""===a.path&&md(a)!==Kh&&(o[md(a)]=new pu([],{}))}}catch(h){n={error:h}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return o}(i,new pu(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return i.some(function(n){return vd(t,e,n)})}(t,n)?{segmentGroup:gd(new pu(t.segments,function(t,e,n,i){var o,s,a={};try{for(var h=l(n),u=h.next();!u.done;u=h.next()){var d=u.value;vd(t,e,d)&&!i[md(d)]&&(a[md(d)]=new pu([],{}))}}catch(c){o={error:c}}finally{try{u&&!u.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}return r({},i,a)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,u,i),h=s.segmentGroup,d=s.slicedSegments;return 0===d.length&&h.hasChildren()?o.expandChildren(n,i,h).pipe(Z(function(t){return new pu(a,t)})):0===i.length&&0===d.length?Pa(new pu(a,{})):o.expandSegment(n,h,i,d,Kh,!0).pipe(Z(function(t){return new pu(a.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var i=this;return e.children?Pa(new eu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Pa(e._loadedConfig):function(t,e,n){var i,o=e.canLoad;return o&&0!==o.length?tt(o).pipe(Z(function(i){var o,r=t.get(i);if(function(t){return t&&sd(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!sd(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return uu(o)})).pipe(Fa(),(i=function(t){return!0===t},function(t){return t.lift(new ul(i,void 0,t))})):Pa(!0)}(t.injector,e,n).pipe(et(function(n){return n?i.configLoader.load(t.injector,e).pipe(Z(function(t){return e._loadedConfig=t,t})):function(t){return new D(function(e){return e.error($h("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):Pa(new eu([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Pa(n);if(i.numberOfChildren>1||!i.children[Kh])return cd(t.redirectTo);i=i.children[Kh]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,i){var o=this.createSegmentGroup(t,e.root,n,i);return new cu(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return hu(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var o=t.substring(1);n[i]=e[o]}else n[i]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,i){var o=this,r=this.createSegments(t,e.segments,n,i),s={};return hu(e.children,function(e,r){s[r]=o.createSegmentGroup(t,e,n,i)}),new pu(r,s)},t.prototype.createSegments=function(t,e,n,i){var o=this;return e.map(function(e){return e.path.startsWith(":")?o.findPosParam(t,e,i):o.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return i},t.prototype.findOrReturn=function(t,e){var n,i,o=0;try{for(var r=l(e),s=r.next();!s.done;s=r.next()){var a=s.value;if(a.path===t.path)return e.splice(o),a;o++}}catch(h){n={error:h}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return t},t}();function fd(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||tu)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function gd(t){if(1===t.numberOfChildren&&t.children[Kh]){var e=t.children[Kh];return new pu(t.segments.concat(e.segments),e.children)}return t}function vd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function md(t){return t.outlet||Kh}var yd=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),bd=function(){return function(t,e){this.component=t,this.route=e}}();function wd(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function xd(t,e,n,i,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var r=Lu(e);return t.children.forEach(function(t){!function(t,e,n,i,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var r=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){var l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!gu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gu(t.url,e.url)||!su(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gu(t,e)||!su(t.queryParams,e.queryParams);case"paramsChange":default:return!Gu(t,e)}}(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new yd(i)):(r.data=s.data,r._resolvedData=s._resolvedData),xd(t,e,r.component?a?a.children:null:n,i,o),l&&o.canDeactivateChecks.push(new bd(a&&a.outlet&&a.outlet.component||null,s))}else s&&_d(e,a,o),o.canActivateChecks.push(new yd(i)),xd(t,null,r.component?a?a.children:null:n,i,o)}(t,r[t.value.outlet],n,i.concat([t.value]),o),delete r[t.value.outlet]}),hu(r,function(t,e){return _d(t,n.getContext(e),o)}),o}function _d(t,e,n){var i=Lu(t),o=t.value;hu(i,function(t,i){_d(t,o.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new bd(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}var Ed=Symbol("INITIAL_VALUE");function kd(){return cl(function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,i=null;return z(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&d(t[0])&&(t=t[0]),$(t,i).lift(new La(n))}).apply(void 0,u(t.map(function(t){return t.pipe(sl(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];z(n)?t.pop():n=null;var i=t.length;return gl(1!==i||n?i>0?$(t,n):Da(n):Oa(t[0]),e)}}(Ed))}))).pipe(vl(function(t,e){var n=!1;return e.reduce(function(t,i,o){if(t!==Ed)return t;if(i===Ed&&(n=!0),!n){if(!1===i)return i;if(o===e.length-1||ad(i))return i}return t},t)},Ed),ja(function(t){return t!==Ed}),Z(function(t){return ad(t)?t:!0===t}),sl(1))})}function Sd(t,e){return null!==t&&e&&e(new Yh(t)),Pa(!0)}function Cd(t,e){return null!==t&&e&&e(new Wh(t)),Pa(!0)}function Td(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Pa(i.map(function(i){return Ba(function(){var o,r=wd(i,e,n);if(function(t){return t&&sd(t.canActivate)}(r))o=uu(r.canActivate(e,t));else{if(!sd(r))throw new Error("Invalid CanActivate guard");o=uu(r(e,t))}return o.pipe(hl())})})).pipe(kd()):Pa(!0)}function Md(t,e,n){var i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return Ba(function(){return Pa(e.guards.map(function(o){var r,s=wd(o,e.node,n);if(function(t){return t&&sd(t.canActivateChild)}(s))r=uu(s.canActivateChild(i,t));else{if(!sd(s))throw new Error("Invalid CanActivateChild guard");r=uu(s(i,t))}return r.pipe(hl())})).pipe(kd())})});return Pa(o).pipe(kd())}var Dd=function(){return function(){}}(),Od=function(){function t(t,e,n,i,o,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=r}return t.prototype.recognize=function(){try{var t=Ad(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Kh),n=new Hu([],Object.freeze({}),Object.freeze(r({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kh,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ru(n,e),o=new Vu(this.url,i);return this.inheritParamsAndData(o._root),Pa(o)}catch(s){return new D(function(t){return t.error(s)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,i=ju(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,i=this,o=vu(e,function(e,n){return i.processSegmentGroup(t,e,n)});return n={},o.forEach(function(t){var e=n[t.value.outlet];if(e){var i=e.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+i+"' and '"+o+"'.")}n[t.value.outlet]=t.value}),o.sort(function(t,e){return t.value.outlet===Kh?-1:e.value.outlet===Kh?1:t.value.outlet.localeCompare(e.value.outlet)}),o},t.prototype.processSegment=function(t,e,n,i){var o,r;try{for(var s=l(t),a=s.next();!a.done;a=s.next()){var h=a.value;try{return this.processSegmentAgainstRoute(h,e,n,i)}catch(u){if(!(u instanceof Dd))throw u}}}catch(d){o={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(e,n,i))return[];throw new Dd},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,i){if(t.redirectTo)throw new Dd;if((t.outlet||Kh)!==i)throw new Dd;var o,s=[],a=[];if("**"===t.path){var l=n.length>0?lu(n).parameters:{};o=new Hu(n,l,Object.freeze(r({},this.urlTree.queryParams)),this.urlTree.fragment,Ld(t),i,t.component,t,Pd(e),Id(e)+n.length,zd(t))}else{var h=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Dd;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||tu)(n,t,e);if(!i)throw new Dd;var o={};hu(i.posParams,function(t,e){o[e]=t.path});var s=i.consumed.length>0?r({},o,i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(e,t,n);s=h.consumedSegments,a=n.slice(h.lastChild),o=new Hu(s,h.parameters,Object.freeze(r({},this.urlTree.queryParams)),this.urlTree.fragment,Ld(t),i,t.component,t,Pd(e),Id(e)+s.length,zd(t))}var u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),d=Ad(e,s,a,u,this.relativeLinkResolution),c=d.segmentGroup,p=d.slicedSegments;if(0===p.length&&c.hasChildren()){var f=this.processChildren(u,c);return[new Ru(o,f)]}if(0===u.length&&0===p.length)return[new Ru(o,[])];var g=this.processSegment(u,c,p,Kh);return[new Ru(o,g)]},t}();function Pd(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Id(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ad(t,e,n,i,o){if(n.length>0&&function(t,e,n){return i.some(function(n){return Nd(t,e,n)&&Rd(n)!==Kh})}(t,n)){var s=new pu(e,function(t,e,n,i){var o,r,s={};s[Kh]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;try{for(var a=l(n),h=a.next();!h.done;h=a.next()){var u=h.value;if(""===u.path&&Rd(u)!==Kh){var d=new pu([],{});d._sourceSegment=t,d._segmentIndexShift=e.length,s[Rd(u)]=d}}}catch(c){o={error:c}}finally{try{h&&!h.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return s}(t,e,i,new pu(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return i.some(function(n){return Nd(t,e,n)})}(t,n)){var a=new pu(t.segments,function(t,e,n,i,o,s){var a,h,u={};try{for(var d=l(i),c=d.next();!c.done;c=d.next()){var p=c.value;if(Nd(t,n,p)&&!o[Rd(p)]){var f=new pu([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===s?t.segments.length:e.length,u[Rd(p)]=f}}}catch(g){a={error:g}}finally{try{c&&!c.done&&(h=d.return)&&h.call(d)}finally{if(a)throw a.error}}return r({},o,u)}(t,e,n,i,t.children,o));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var h=new pu(t.segments,t.children);return h._sourceSegment=t,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:n}}function Nd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Rd(t){return t.outlet||Kh}function Ld(t){return t.data||{}}function zd(t){return t.resolve||{}}function Bd(t,e,n,i){var o=wd(t,e,i);return uu(o.resolve?o.resolve(e,n):o(e,n))}function Fd(t){return function(e){return e.pipe(cl(function(e){var n=t(e);return n?tt(n).pipe(Z(function(){return e})):tt([e])}))}}var jd=function(){return function(){}}(),Hd=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Vd=new Nt("ROUTES"),Wd=function(){function t(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Z(function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var o=i.create(t);return new eu(au(o.injector.get(Vd)).map(ru),o)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?tt(this.loader.load(t)):uu(t()).pipe(et(function(t){return t instanceof ln?Pa(t):tt(e.compiler.compileModuleAsync(t))}))},t}(),Ud=function(){return function(){}}(),Yd=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Gd(t){throw t}function qd(t,e,n){return e.parse("/")}function Xd(t,e){return Pa(null)}var Kd=function(){function t(t,e,n,i,o,r,s,a){var l=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new R,this.errorHandler=Gd,this.malformedUriErrorHandler=qd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xd,afterPreactivation:Xd},this.urlHandlingStrategy=new Yd,this.routeReuseStrategy=new Hd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(an),this.console=o.get(Ho);var h=o.get(rr);this.isNgZoneEnabled=h instanceof rr,this.resetConfig(a),this.currentUrlTree=new cu(new pu([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wd(r,s,function(t){return l.triggerEvent(new Hh(t))},function(t){return l.triggerEvent(new Vh(t))}),this.routerState=Bu(this.currentUrlTree,this.rootComponentType),this.transitions=new Ia({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(ja(function(t){return 0!==t.id}),Z(function(t){return r({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),cl(function(t){var i,o,s,a,h=!1,u=!1;return Pa(t).pipe(Xa(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?r({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),cl(function(t){var i,o,s,a,l=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||l)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Pa(t).pipe(cl(function(t){var i=e.transitions.getValue();return n.next(new Ih(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?Ma:[t]}),cl(function(t){return Promise.resolve(t)}),(i=e.ngModule.injector,o=e.configLoader,s=e.urlSerializer,a=e.config,function(t){return t.pipe(cl(function(t){return function(e,n,i,o,r){return new pd(e,n,i,t.extractedUrl,r).apply()}(i,o,s,0,a).pipe(Z(function(e){return r({},t,{urlAfterRedirects:e})}))}))}),Xa(function(t){e.currentNavigation=r({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,n,i,o,s){return function(i){return i.pipe(et(function(i){return function(t,e,n,i,o,r){return void 0===o&&(o="emptyOnly"),void 0===r&&(r="legacy"),new Od(t,e,n,i,o,r).recognize()}(t,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,e.serializeUrl(a)),o,s).pipe(Z(function(t){return r({},i,{targetSnapshot:t})}));var a}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Xa(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),Xa(function(t){var i=new Lh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)}));if(l&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var h=t.extractedUrl,u=t.source,d=t.restoredState,c=t.extras,p=new Ih(t.id,e.serializeUrl(h),u,d);n.next(p);var f=Bu(h,e.rootComponentType).snapshot;return Pa(r({},t,{targetSnapshot:f,urlAfterRedirects:h,extras:r({},c,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ma}),Fd(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Xa(function(t){var n=new zh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Z(function(t){return r({},t,{guards:(n=t.targetSnapshot,i=t.currentSnapshot,o=e.rootContexts,s=n._root,xd(s,i?i._root:null,o,[s.value]))});var n,i,o,s}),function(t,e){return function(n){return n.pipe(et(function(n){var i=n.targetSnapshot,o=n.currentSnapshot,s=n.guards,a=s.canActivateChecks,l=s.canDeactivateChecks;return 0===l.length&&0===a.length?Pa(r({},n,{guardsResult:!0})):function(t,e,n,i){return tt(l).pipe(et(function(t){return function(t,e,n,i,o){var r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Pa(r.map(function(r){var s,a=wd(r,e,o);if(function(t){return t&&sd(t.canDeactivate)}(a))s=uu(a.canDeactivate(t,e,n,i));else{if(!sd(a))throw new Error("Invalid CanDeactivate guard");s=uu(a(t,e,n,i))}return s.pipe(hl())})).pipe(kd()):Pa(!0)}(t.component,t.route,n,e,i)}),hl(function(t){return!0!==t},!0))}(0,i,o,t).pipe(et(function(n){return n&&"boolean"==typeof n?function(t,e,n,i){return tt(a).pipe(bl(function(e){return tt([Cd(e.route.parent,i),Sd(e.route,i),Md(t,e.path,n),Td(t,e.route,n)]).pipe(Fa(),hl(function(t){return!0!==t},!0))}),hl(function(t){return!0!==t},!0))}(i,0,t,e):Pa(n)}),Z(function(t){return r({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Xa(function(t){if(ad(t.guardsResult)){var n=$h('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),Xa(function(t){var n=new Bh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),ja(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new Nh(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0}),Fd(function(t){if(t.guards.canActivateChecks.length)return Pa(t).pipe(Xa(function(t){var n=new Fh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(et(function(t){var e=t.targetSnapshot,o=t.guards.canActivateChecks;return o.length?tt(o).pipe(bl(function(t){return function(t,n,i,o){return function(t,e,n,i){var o=Object.keys(t);if(0===o.length)return Pa({});if(1===o.length){var r=o[0];return Bd(t[r],e,n,i).pipe(Z(function(t){var e;return(e={})[r]=t,e}))}var s={};return tt(o).pipe(et(function(o){return Bd(t[o],e,n,i).pipe(Z(function(t){return s[o]=t,t}))})).pipe(nl(),Z(function(){return s}))}(t._resolve,t,e,o).pipe(Z(function(e){return t._resolvedData=e,t.data=r({},t.data,ju(t,i).resolve),null}))}(t.route,0,n,i)}),function(t,e){return arguments.length>=2?function(n){return T(vl(t,e),Ya(1),$a(e))(n)}:function(e){return T(vl(function(e,n,i){return t(e,n,i+1)}),Ya(1))(e)}}(function(t,e){return t}),Z(function(e){return t})):Pa(t)}))}),Xa(function(t){var n=new jh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,i}),Fd(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Z(function(t){var n,i,o,s=(o=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){(h=i.value)._futureSnapshot=n.value;var o=function(e,n,i){return n.children.map(function(n){var o,r;try{for(var s=l(i.children),a=s.next();!a.done;a=s.next()){var h=a.value;if(e.shouldReuseRoute(h.value.snapshot,n.value))return t(e,n,h)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return t(e,n)})}(e,n,i);return new Ru(h,o)}var r=e.retrieve(n.value);if(r){var s=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,s),s}var a,h=new Fu(new Ia((a=n.value).url),new Ia(a.params),new Ia(a.queryParams),new Ia(a.fragment),new Ia(a.data),a.outlet,a.component,a);return o=n.children.map(function(n){return t(e,n)}),new Ru(h,o)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(i=t.currentRouterState)?i._root:void 0),new zu(o,n));return r({},t,{targetRouterState:s})}),Xa(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(o=e.rootContexts,s=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Z(function(t){return new od(s,t.targetRouterState,t.currentRouterState,a).activate(o),t})),Xa({next:function(){h=!0},complete:function(){h=!0}}),(i=function(){if(!h&&!u){e.resetUrlToCurrentUrlTree();var i=new Nh(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(i),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new wl(i))}),il(function(i){if(u=!0,(a=i)&&a[Jh]){var o=ad(i.url);o||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var r=new Nh(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(r),t.resolve(!1),o&&e.navigateByUrl(i.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new Rh(t.id,e.serializeUrl(t.extractedUrl),i);n.next(s);try{t.resolve(e.errorHandler(i))}catch(l){t.reject(l)}}var a;return Ma}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t},t.prototype.setTransition=function(t){this.transitions.next(r({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),i="popstate"===e.type?"popstate":"hashchange",o=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(n,i,o,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){nu(t),this.config=t.map(ru),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,o=e.fragment,s=e.preserveQueryParams,a=e.queryParamsHandling,l=e.preserveFragment;ue()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var h=n||this.routerState.root,d=l?this.currentUrlTree.fragment:o,c=null;if(a)switch(a){case"merge":c=r({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=s?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,o){if(0===n.length)return Xu(e.root,e.root,e,i,o);var r=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ku(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var r={};return hu(i.outlets,function(t,e){r[e]="string"==typeof t?t.split("/"):t}),u(t,[{outlets:r}])}if(i.segmentPath)return u(t,[i.segmentPath])}return"string"!=typeof i?u(t,[i]):0===o?(i.split("/").forEach(function(i,o){0==o&&"."===i||(0==o&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):u(t,[i])},[]);return new Ku(n,e,i)}(n);if(r.toRoot())return Xu(e.root,new pu([],{}),e,i,o);var s=function(t,n,i){if(t.isAbsolute)return new Zu(e.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new Zu(i.snapshot._urlSegment,!0,0);var o=qu(t.commands[0])?0:1;return function(e,n,r){for(var s=i.snapshot._urlSegment,a=i.snapshot._lastPathIndex+o,l=t.numberOfDoubleDots;l>a;){if(l-=a,!(s=s.parent))throw new Error("Invalid number of '../'");a=s.segments.length}return new Zu(s,!1,a-l)}()}(r,0,t),a=s.processChildren?$u(s.segmentGroup,s.index,r.commands):Ju(s.segmentGroup,s.index,r.commands);return Xu(s.segmentGroup,a,e,i,o)}(h,this.currentUrlTree,t,c,d)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),ue()&&this.isNgZoneEnabled&&!rr.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=ad(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(ad(t))return du(this.currentUrlTree,t,e);var n=this.parseUrl(t);return du(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!=i&&(e[n]=i),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Ah(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,i){var o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);var r=null,s=null,a=new Promise(function(t,e){r=t,s=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:r,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n,i){var o=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",r({},i,{navigationId:n})):this.location.go(o,"",r({},i,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),Zd=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qd,this.attachRef=null}}(),Qd=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Zd,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Jd=function(){function t(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Oo,this.deactivateEvents=new Oo,this.name=i||Kh,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,o=new $d(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),$d=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Fu?this.route:t===Qd?this.childContexts:this.parent.get(t,e)},t}(),tc=function(){return function(){}}(),ec=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(il(function(){return Pa(null)}))},t}(),nc=function(){function t(){}return t.prototype.preload=function(t,e){return Pa(null)},t}(),ic=function(){function t(t,e,n,i,o){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Wd(e,n,function(e){return t.triggerEvent(new Hh(e))},function(e){return t.triggerEvent(new Vh(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(ja(function(t){return t instanceof Ah}),bl(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(an);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,i,o=[];try{for(var r=l(e),s=r.next();!s.done;s=r.next()){var a=s.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var h=a._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else a.loadChildren&&!a.canLoad?o.push(this.preloadConfig(t,a)):a.children&&o.push(this.processRoutes(t,a.children))}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return tt(o).pipe(rt(),Z(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(et(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),oc=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Ih?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ah&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof qh&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new qh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),rc=new Nt("ROUTER_CONFIGURATION"),sc=new Nt("ROUTER_FORROOT_GUARD"),ac=[ga,{provide:mu,useClass:yu},{provide:Kd,useFactory:fc,deps:[_r,mu,Qd,ga,Xt,kr,Zo,Vd,rc,[Ud,new vt],[jd,new vt]]},Qd,{provide:Fu,useFactory:gc,deps:[Kd]},{provide:kr,useClass:Tr},ic,nc,ec,{provide:rc,useValue:{enableTracing:!1}}];function lc(){return new mr("Router",Kd)}var hc=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[ac,pc(t),{provide:sc,useFactory:cc,deps:[[Kd,new vt,new yt]]},{provide:rc,useValue:n||{}},{provide:pa,useFactory:dc,deps:[da,[new gt(fa),new vt],rc]},{provide:oc,useFactory:uc,deps:[Kd,Ca,rc]},{provide:tc,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:nc},{provide:mr,multi:!0,useFactory:lc},[vc,{provide:Ao,multi:!0,useFactory:mc,deps:[vc]},{provide:bc,useFactory:yc,deps:[vc]},{provide:jo,multi:!0,useExisting:bc}]]}},t.forChild=function(t){return{ngModule:e,providers:[pc(t)]}},t}();function uc(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new oc(t,e,n)}function dc(t,e,n){return void 0===n&&(n={}),n.useHash?new ma(t,e):new ya(t,e)}function cc(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function pc(t){return[{provide:re,multi:!0,useValue:t},{provide:Vd,multi:!0,useValue:t}]}function fc(t,e,n,i,o,r,s,a,l,h,u){void 0===l&&(l={});var d=new Kd(null,e,n,i,o,r,s,au(a));if(h&&(d.urlHandlingStrategy=h),u&&(d.routeReuseStrategy=u),l.errorHandler&&(d.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(d.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var c=El();d.events.subscribe(function(t){c.logGroup("Router Event: "+t.constructor.name),c.log(t.toString()),c.log(t),c.logGroupEnd()})}return l.onSameUrlNavigation&&(d.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(d.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(d.relativeLinkResolution=l.relativeLinkResolution),d}function gc(t){return t.routerState.root}var vc=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new R}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(ca,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),i=t.injector.get(Kd),o=t.injector.get(rc);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");i.hooks.afterPreactivation=function(){return t.initNavigation?Pa(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(rc),n=this.injector.get(ic),i=this.injector.get(oc),o=this.injector.get(Kd),r=this.injector.get(_r);t===r.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function mc(t){return t.appInitializer.bind(t)}function yc(t){return t.bootstrapListener.bind(t)}var bc=new Nt("Router Initializer"),wc=ei({encapsulation:2,styles:[],data:{}});function xc(t){return es(0,[(t()(),Hr(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),uo(1,212992,null,0,Jd,[Qd,zn,on,[8,null],On],null,null)],function(t,e){t(e,1,0)},null)}function _c(t){return es(0,[(t()(),Hr(0,0,null,null,1,"ng-component",[],null,null,null,xc,wc)),uo(1,49152,null,0,Xh,[],null,null)],null,null)}var Ec=Hi("ng-component",Xh,_c,{},{},[]),kc=n("TycK"),Sc=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t,e,n,i;if(this.graph&&this.ref){var o={nodes:[],edges:[]};try{for(var r=l(this.graph.nodes),s=r.next();!s.done;s=r.next()){var a=s.value;o.nodes.push({id:a.id,label:a.attrs.name,x:Math.floor(1e3*a.attrs.x),y:Math.floor(1e3*a.attrs.y)})}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}try{for(var h=l(this.graph.edges),u=h.next();!u.done;u=h.next()){var d=u.value;o.edges.push({from:d.srcID,to:d.tgtID})}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}new kc.Network(this.ref.nativeElement,o,{nodes:{shape:"dot",scaling:{min:10,max:30},font:{size:12,face:"Tahoma"}},edges:{color:{inherit:!0},width:.15},interaction:{dragNodes:!0},physics:{enabled:!1}})}},t}(),Cc=ei({encapsulation:0,styles:[["#canvas[_ngcontent-%COMP%]{display:block;height:450px;width:450px;max-width:100%}"]],data:{}});function Tc(t){return es(0,[Gr(671088640,1,{ref:0}),(t()(),Hr(1,0,[[1,0],["canvas",1]],null,0,"div",[["id","canvas"]],null,null,null,null,null))],null,null)}var Mc=n("4rB0"),Dc=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t,e,n,i;if(this.graph&&this.ref){var o=new Mc(this.ref.nativeElement);try{for(var r=l(this.graph.nodes),s=r.next();!s.done;s=r.next()){var a=s.value;o.graph.addNode({id:a.id,label:a.attrs.name,x:Math.floor(1e3*a.attrs.x),y:Math.floor(1e3*a.attrs.y),size:1})}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}try{for(var h=l(this.graph.edges),u=h.next();!u.done;u=h.next()){var d=u.value;o.graph.addEdge({id:d.srcID+"_"+d.tgtID,source:d.srcID,target:d.tgtID})}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}o.refresh()}},t}(),Oc=ei({encapsulation:0,styles:[["#canvas[_ngcontent-%COMP%]{display:block;height:450px;width:450px;max-width:100%}"]],data:{}});function Pc(t){return es(0,[Gr(671088640,1,{ref:0}),(t()(),Hr(1,0,[[1,0],["canvas",1]],null,0,"div",[["id","canvas"]],null,null,null,null,null))],null,null)}var Ic=n("h63A"),Ac=function(){function t(){}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t,e,n,i;if(this.graph&&this.ref){var o=[];try{for(var r=l(this.graph.nodes),s=r.next();!s.done;s=r.next()){var a=s.value;o.push({data:{id:a.id,weight:a.weight},position:{x:Math.floor(1e3*a.attrs.x),y:Math.floor(1e3*a.attrs.y)},locked:!0})}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}try{for(var h=l(this.graph.edges),u=h.next();!u.done;u=h.next()){var d=u.value;o.push({data:{id:d.id,source:d.srcID,target:d.tgtID}})}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}Ic({elements:o,container:this.ref.nativeElement})}},t}(),Nc=ei({encapsulation:0,styles:[["#canvas[_ngcontent-%COMP%]{display:block;height:450px;width:450px;max-width:100%}"]],data:{}});function Rc(t){return es(0,[Gr(671088640,1,{ref:0}),(t()(),Hr(1,0,[[1,0],["canvas",1]],null,0,"div",[["id","canvas"]],null,null,null,null,null))],null,null)}var Lc='\n*Vertices    332\n     1 "Wiley Post-Will Rogers Mem"             0.4407    0.0910    0.5000\n     2 "Deadhorse"                              0.4830    0.1014    0.5000\n     3 "Ralph Wien Memorial"                    0.4110    0.1330    0.5000\n     4 "Fairbanks Intl"                         0.4861    0.1528    0.5000\n     5 "Nome"                                   0.3965    0.1557    0.5000\n     6 "St Mary\'s"                              0.4074    0.1791    0.5000\n     7 "Aniak"                                  0.4266    0.1837    0.5000\n     8 "Anchorage Intl"                         0.4752    0.1876    0.5000\n     9 "Tuluksak"                               0.4193    0.1883    0.5000\n    10 "Akiachak"                               0.4169    0.1901    0.5000\n    11 "Akiak"                                  0.4180    0.1901    0.5000\n    12 "Kwethluk"                               0.4169    0.1911    0.5000\n    13 "Bethel"                                 0.4149    0.1913    0.5000\n    14 "Napaskiak"                              0.4152    0.1921    0.5000\n    15 "Napakiak"                               0.4142    0.1922    0.5000\n    16 "Merle K (Mudhole) Smith"                0.4982    0.1941    0.5000\n    17 "Tuntutuliak"                            0.4107    0.1956    0.5000\n    18 "Eek"                                    0.4140    0.1967    0.5000\n    19 "Kongiganak"                             0.4096    0.1992    0.5000\n    20 "Kwigillingok"                           0.4082    0.2003    0.5000\n    21 "Quinhagak"                              0.4147    0.2011    0.5000\n    22 "Yakutat"                                0.5278    0.2035    0.5000\n    23 "Dillingham"                             0.4319    0.2079    0.5000\n    24 "King Salmon"                            0.4413    0.2114    0.5000\n    25 "Gustavus"                               0.5480    0.2138    0.5000\n    26 "Juneau Intl"                            0.5537    0.2145    0.5000\n    27 "Kodiak"                                 0.4625    0.2203    0.5000\n    28 "St Paul Island"                         0.3722    0.2259    0.5000\n    29 "Sitka"                                  0.5497    0.2270    0.5000\n    30 "Port Heiden"                            0.4312    0.2278    0.5000\n    31 "James A Johnson Petersburg"             0.5620    0.2293    0.5000\n    32 "Wrangell"                               0.5650    0.2324    0.5000\n    33 "Ketchikan Intl"                         0.5683    0.2432    0.5000\n    34 "Sand Point"                             0.4216    0.2435    0.5000\n    35 "Cold Bay"                               0.4104    0.2446    0.5000\n    36 "Unalaska"                               0.3909    0.2571    0.5000\n    37 "Eareckson As"                           0.2924    0.2684    0.5000\n    38 "Adak Naf"                               0.3395    0.2764    0.5000\n    39 "Bellingham Intl"                        0.6150    0.3059    0.5000\n    40 "Glacier Park Intl"                      0.6572    0.3105    0.5000\n    41 "Minot Intl"                             0.7233    0.3110    0.5000\n    42 "William R Fairchild Intl"               0.6101    0.3123    0.5000\n    43 "Grand Forks Afb"                        0.7430    0.3138    0.5000\n    44 "Grand Forks Intl"                       0.7442    0.3139    0.5000\n    45 "Spokane Intl"                           0.6405    0.3171    0.5000\n    46 "Great Falls Intl"                       0.6719    0.3184    0.5000\n    47 "Seattle-Tacoma Intl"                    0.6162    0.3188    0.5000\n    48 "Pangborn Memorial"                      0.6269    0.3192    0.5000\n    49 "Grant County"                           0.6314    0.3210    0.5000\n    50 "Missoula Intll"                         0.6580    0.3238    0.5000\n    51 "Hector Intll"                           0.7460    0.3238    0.5000\n    52 "Duluth Intl"                            0.7696    0.3245    0.5000\n    53 "Bismarck Muni"                          0.7260    0.3252    0.5000\n    54 "Pullman/Moscow Regional"                0.6427    0.3254    0.5000\n    55 "Helena Regional"                        0.6688    0.3268    0.5000\n    56 "Yakima Air Terminal"                    0.6252    0.3271    0.5000\n    57 "Marquette County"                       0.7931    0.3275    0.5000\n    58 "Lewiston-Nez Perce County"              0.6431    0.3290    0.5000\n    59 "Tri-Cities"                             0.6324    0.3300    0.5000\n    60 "Walla Walla Regional"                   0.6367    0.3317    0.5000\n    61 "Bert Mooney"                            0.6662    0.3330    0.5000\n    62 "Billings Logan Intl"                    0.6863    0.3344    0.5000\n    63 "Gallatin Field"                         0.6730    0.3347    0.5000\n    64 "Eastern Oregon Regional At Pen"         0.6338    0.3355    0.5000\n    65 "Portland Intl"                          0.6147    0.3365    0.5000\n    66 "Mcnary Fld"                             0.6127    0.3430    0.5000\n    67 "Minneapolis-St Paul Intl/Wold-"         0.7644    0.3432    0.5000\n    68 "Bangor Intl"                            0.8885    0.3439    0.5000\n    69 "Central Wisconsin"                      0.7824    0.3442    0.5000\n    70 "Cherry Capital"                         0.8032    0.3446    0.5000\n    71 "Austin Straubel Intll"                  0.7903    0.3470    0.5000\n    72 "Burlington Intl"                        0.8665    0.3472    0.5000\n    73 "Outagamie County"                       0.7883    0.3492    0.5000\n    74 "Roberts Field"                          0.6221    0.3492    0.5000\n    75 "Mahlon Sweet Field"                     0.6116    0.3505    0.5000\n    76 "Rapid City Regional"                    0.7142    0.3512    0.5000\n    77 "Wittman Regional"                       0.7881    0.3518    0.5000\n    78 "Rochester Intll"                        0.7680    0.3525    0.5000\n    79 "La Crosse Muni"                         0.7743    0.3528    0.5000\n    80 "Portland Intl Jetport"                  0.8810    0.3550    0.5000\n    81 "Jackson Hole"                           0.6751    0.3554    0.5000\n    82 "Joe Foss Field"                         0.7464    0.3557    0.5000\n    83 "Boise Air Terminal /Gowen Fld/"         0.6472    0.3558    0.5000\n    84 "Mbs Intll"                              0.8109    0.3561    0.5000\n    85 "Fanning Field"                          0.6683    0.3563    0.5000\n    86 "Friedman Memorial"                      0.6570    0.3564    0.5000\n    87 "North Bend Muni"                        0.6063    0.3572    0.5000\n    88 "Muskegon County"                        0.7999    0.3596    0.5000\n    89 "Oneida County"                          0.8552    0.3598    0.5000\n    90 "Dane County Regional-Truax Fie"         0.7841    0.3599    0.5000\n    91 "Greater Rochester Intl"                 0.8435    0.3601    0.5000\n    92 "Syracuse Hancock Intl"                  0.8515    0.3602    0.5000\n    93 "Bishop Intll"                           0.8126    0.3615    0.5000\n    94 "General Mitchell Intll"                 0.7914    0.3617    0.5000\n    95 "Greater Buffalo Intl"                   0.8381    0.3618    0.5000\n    96 "Manchester"                             0.8753    0.3619    0.5000\n    97 "Pocatello Regional"                     0.6657    0.3621    0.5000\n    98 "Natrona County Intl"                    0.6969    0.3621    0.5000\n    99 "Kent County Intl"                       0.8035    0.3623    0.5000\n   100 "Capital City"                           0.8083    0.3633    0.5000\n   101 "Albany County"                          0.8632    0.3636    0.5000\n   102 "Waterloo Muni"                          0.7685    0.3655    0.5000\n   103 "Tompkins County"                        0.8497    0.3661    0.5000\n   104 "Twin Falls-Sun Valley Regional"         0.6560    0.3662    0.5000\n   105 "Detroit City"                           0.8163    0.3669    0.5000\n   106 "Sioux Gateway"                          0.7482    0.3669    0.5000\n   107 "Dubuque Regional"                       0.7771    0.3669    0.5000\n   108 "Rogue Valley Intl- M"                   0.6133    0.3672    0.5000\n   109 "General Edward Lawrence Logan"          0.8775    0.3673    0.5000\n   110 "Worcester Muni"                         0.8730    0.3682    0.5000\n   111 "Kalamazoo/Battle Creek Interna"         0.8034    0.3685    0.5000\n   112 "Detroit Metropolitan Wayne Cou"         0.8146    0.3687    0.5000\n   113 "Binghamton Regional/Edwin A Li"         0.8521    0.3688    0.5000\n   114 "Greater Rockford"                       0.7853    0.3689    0.5000\n   115 "Elmira/Corning Regional"                0.8475    0.3692    0.5000\n   116 "Klamath Falls Intll"                    0.6191    0.3693    0.5000\n   117 "Erie Intl"                              0.8308    0.3700    0.5000\n   118 "Chicago O\'hare Intl"                    0.7914    0.3710    0.5000\n   119 "Bradley Intl"                           0.8689    0.3714    0.5000\n   120 "Cedar Rapids Muni"                      0.7720    0.3719    0.5000\n   121 "William B. Heilig Field"                0.7115    0.3720    0.5000\n   122 "Merrill C Meigs"                        0.7929    0.3721    0.5000\n   123 "Chicago Midway"                         0.7922    0.3728    0.5000\n   124 "Jack Mc Namara Field"                   0.6064    0.3729    0.5000\n   125 "Theodore Francis Green State"           0.8753    0.3734    0.5000\n   126 "Michiana Rgnl Transportation C"         0.7995    0.3736    0.5000\n   127 "Toledo Express"                         0.8123    0.3747    0.5000\n   128 "Des Moines Intl"                        0.7621    0.3752    0.5000\n   129 "Stewart Int\'l"                          0.8617    0.3755    0.5000\n   130 "Quad-City"                              0.7781    0.3760    0.5000\n   131 "Cleveland-Hopkins Intl"                 0.8222    0.3764    0.5000\n   132 "Wilkes-Barre/Scranton Intl"             0.8534    0.3771    0.5000\n   133 "Eppley Airfield"                        0.7507    0.3774    0.5000\n   134 "Tweed-New Haven"                        0.8679    0.3778    0.5000\n   135 "Youngstown-Warren Regional"             0.8282    0.3779    0.5000\n   136 "Westchester County"                     0.8637    0.3797    0.5000\n   137 "Fort Wayne Intll"                       0.8052    0.3805    0.5000\n   138 "Arcata"                                 0.6070    0.3805    0.5000\n   139 "Akron-Canton Regional"                  0.8243    0.3811    0.5000\n   140 "Lincoln Muni"                           0.7463    0.3818    0.5000\n   141 "University Park"                        0.8426    0.3818    0.5000\n   142 "Elko Muni-J.C. Harris Field"            0.6494    0.3820    0.5000\n   143 "Long Island Mac Arthur"                 0.8668    0.3823    0.5000\n   144 "Salt Lake City Intl"                    0.6688    0.3824    0.5000\n   145 "Burlington Regional"                    0.7750    0.3824    0.5000\n   146 "La Guardia"                             0.8629    0.3825    0.5000\n   147 "Newark Intl"                            0.8614    0.3833    0.5000\n   148 "Greater Peoria Regional"                0.7823    0.3835    0.5000\n   149 "Lehigh Valley Intll"                    0.8549    0.3837    0.5000\n   150 "John F Kennedy Intl"                    0.8633    0.3838    0.5000\n   151 "Redding Muni"                           0.6163    0.3850    0.5000\n   152 "Pittsburgh Intll"                       0.8305    0.3852    0.5000\n   153 "Yampa Valley"                           0.6930    0.3853    0.5000\n   154 "Bloomington/Normal"                     0.7862    0.3853    0.5000\n   155 "Purdue University"                      0.7963    0.3859    0.5000\n   156 "Mercer County"                          0.8581    0.3872    0.5000\n   157 "Harrisburg Intll"                       0.8481    0.3880    0.5000\n   158 "University Of Illinois-Willard"         0.7895    0.3895    0.5000\n   159 "Port Columbus Intl"                     0.8169    0.3899    0.5000\n   160 "Quincy Muni Baldwin Field"              0.7746    0.3904    0.5000\n   161 "James M Cox Dayton Intl"                0.8102    0.3908    0.5000\n   162 "Philadelphia Intl"                      0.8559    0.3911    0.5000\n   163 "Capital"                                0.7824    0.3914    0.5000\n   164 "Decatur"                                0.7865    0.3915    0.5000\n   165 "Chico Muni"                             0.6185    0.3918    0.5000\n   166 "Stapleton Intl"                         0.7049    0.3920    0.5000\n   167 "Indianapolis Intl"                      0.7996    0.3926    0.5000\n   168 "Eagle County Regional"                  0.6946    0.3933    0.5000\n   169 "Reno/Tahoe Intll"                       0.6291    0.3947    0.5000\n   170 "Atlantic City Intll"                    0.8593    0.3951    0.5000\n   171 "Hulman Regional"                        0.7944    0.3951    0.5000\n   172 "Kansas City Intl"                       0.7567    0.3966    0.5000\n   173 "Aspen-Pitkin Co/Sardy Field"            0.6948    0.3973    0.5000\n   174 "Baltimore-Washington Intl"              0.8486    0.3978    0.5000\n   175 "Walker Field"                           0.6864    0.3983    0.5000\n   176 "Cincinnati/Northern Kentucky I"         0.8079    0.3990    0.5000\n   177 "Washington Dulles Intl"                 0.8446    0.4000    0.5000\n   178 "Lake Tahoe"                             0.6280    0.4005    0.5000\n   179 "Washington National"                    0.8467    0.4008    0.5000\n   180 "Columbia Regional"                      0.7694    0.4012    0.5000\n   181 "City Of Colorado Springs Muni"          0.7059    0.4013    0.5000\n   182 "Lambert-St Louis Intl"                  0.7789    0.4018    0.5000\n   183 "Sacramento Metropolitan"                0.6198    0.4023    0.5000\n   184 "Gunnison County"                        0.6945    0.4039    0.5000\n   185 "Sonoma County"                          0.6136    0.4041    0.5000\n   186 "Yeager"                                 0.8235    0.4054    0.5000\n   187 "Tri-State/Milton J.Ferguson Fi"         0.8186    0.4055    0.5000\n   188 "Pueblo Memorial"                        0.7069    0.4062    0.5000\n   189 "Louisville Intl"                        0.8024    0.4073    0.5000\n   190 "Charlottesville-Albemarle"              0.8395    0.4077    0.5000\n   191 "Evansville Regional"                    0.7933    0.4086    0.5000\n   192 "Blue Grass"                             0.8082    0.4086    0.5000\n   193 "Stockton Metropolitan"                  0.6216    0.4100    0.5000\n   194 "Greenbrier Valley"                      0.8296    0.4103    0.5000\n   195 "Williamson County Regional"             0.7858    0.4114    0.5000\n   196 "Forney Aaf"                             0.7698    0.4115    0.5000\n   197 "Metropolitan Oakland Intl"              0.6166    0.4117    0.5000\n   198 "Wichita Mid-Continent"                  0.7429    0.4123    0.5000\n   199 "Modesto City-County--Harry Sha"         0.6231    0.4126    0.5000\n   200 "Mammoth Lakes"                          0.6339    0.4126    0.5000\n   201 "San Francisco Intl"                     0.6159    0.4126    0.5000\n   202 "Richmond Intll"                         0.8453    0.4137    0.5000\n   203 "San Jose Intll"                         0.6181    0.4151    0.5000\n   204 "Roanoke Regional/Woodrum Field"         0.8318    0.4154    0.5000\n   205 "Merced Municipal/Macready Fiel"         0.6253    0.4158    0.5000\n   206 "Springfield Regional"                   0.7635    0.4162    0.5000\n   207 "Cape Girardeau Regional"                0.7829    0.4164    0.5000\n   208 "Durango-La Plata County"                0.6903    0.4171    0.5000\n   209 "Joplin Regional"                        0.7578    0.4171    0.5000\n   210 "Newport News/Williamsburg Inte"         0.8495    0.4173    0.5000\n   211 "Barkley Regional"                       0.7870    0.4180    0.5000\n   212 "Norfolk Intl"                           0.8510    0.4196    0.5000\n   213 "Fresno Air Terminal"                    0.6294    0.4207    0.5000\n   214 "Monterey Peninsula"                     0.6186    0.4225    0.5000\n   215 "Tri-Cities Regional Tn/Va"              0.8194    0.4236    0.5000\n   216 "Tulsa Intl"                             0.7507    0.4262    0.5000\n   217 "Nashville Intll"                        0.7976    0.4269    0.5000\n   218 "Piedmont Triad Intll"                   0.8320    0.4272    0.5000\n   219 "Mc Carran Intl"                         0.6526    0.4273    0.5000\n   220 "Drake Field"                            0.7595    0.4281    0.5000\n   221 "Raleigh-Durham Intll"                   0.8378    0.4293    0.5000\n   222 "Mc Ghee Tyson"                          0.8113    0.4299    0.5000\n   223 "Asheville Regional"                     0.8187    0.4335    0.5000\n   224 "Meadows Field"                          0.6327    0.4335    0.5000\n   225 "Will Rogers World"                      0.7420    0.4339    0.5000\n   226 "Fort Smith Regional"                    0.7585    0.4344    0.5000\n   227 "Kinston Regional Jetport At St"         0.8438    0.4345    0.5000\n   228 "San Luis Obispo County-Mc Ches"         0.6247    0.4354    0.5000\n   229 "Amarillo Intl"                          0.7211    0.4356    0.5000\n   230 "Charlotte/Douglas Intl"                 0.8268    0.4356    0.5000\n   231 "Flagstaff Pulliam"                      0.6704    0.4363    0.5000\n   232 "Memphis Intl"                           0.7808    0.4372    0.5000\n   233 "Albuquerque Intl"                       0.6961    0.4373    0.5000\n   234 "Lovell Field"                           0.8052    0.4373    0.5000\n   235 "Fayetteville Regional/Grannis"          0.8374    0.4377    0.5000\n   236 "Santa Maria Pub/Capt G Allan H"         0.6256    0.4386    0.5000\n   237 "Greenville-Spartanburg"                 0.8204    0.4386    0.5000\n   238 "Albert J Ellis"                         0.8438    0.4393    0.5000\n   239 "Adams Field"                            0.7694    0.4402    0.5000\n   240 "Huntsville Intl-Carl T Jones F"         0.7972    0.4411    0.5000\n   241 "Lawton Muni"                            0.7379    0.4418    0.5000\n   242 "Santa Barbara Muni"                     0.6288    0.4431    0.5000\n   243 "New Hanover Intll"                      0.8423    0.4446    0.5000\n   244 "Oxnard"                                 0.6320    0.4453    0.5000\n   245 "Burbank-Glendale-Pasadena"              0.6363    0.4453    0.5000\n   246 "Ontario Intl"                           0.6402    0.4467    0.5000\n   247 "Sheppard Afb/Wichita Falls Mun"         0.7375    0.4474    0.5000\n   248 "Los Angeles Intl"                       0.6361    0.4478    0.5000\n   249 "Columbia Metropolitan"                  0.8260    0.4478    0.5000\n   250 "Palm Springs Regional"                  0.6457    0.4489    0.5000\n   251 "Long Beach /Daugherty Field/"           0.6374    0.4490    0.5000\n   252 "Myrtle Beach Intl"                      0.8371    0.4503    0.5000\n   253 "John Wayne Airport-Orange Coun"         0.6388    0.4503    0.5000\n   254 "Lubbock Intl"                           0.7205    0.4504    0.5000\n   255 "The William B Hartsfield Atlan"         0.8091    0.4506    0.5000\n   256 "Birmingham Intl"                        0.7973    0.4514    0.5000\n   257 "Texarkana Regional-Webb Field"          0.7604    0.4524    0.5000\n   258 "Phoenix Sky Harbor Intl"                0.6686    0.4526    0.5000\n   259 "Bush Field"                             0.8216    0.4532    0.5000\n   260 "Charleston Afb/Intl"                    0.8314    0.4577    0.5000\n   261 "Dallas/Fort Worth Intl"                 0.7449    0.4578    0.5000\n   262 "Dallas Love Field"                      0.7458    0.4582    0.5000\n   263 "San Diego Intl-Lindbergh Fld"           0.6423    0.4593    0.5000\n   264 "Yuma Mcas/Yuma Intl"                    0.6554    0.4600    0.5000\n   265 "Columbus Metropolitan"                  0.8065    0.4614    0.5000\n   266 "Monroe Regional"                        0.7703    0.4614    0.5000\n   267 "Shreveport Regional"                    0.7612    0.4621    0.5000\n   268 "Abilene Regional"                       0.7314    0.4624    0.5000\n   269 "Gregg County"                           0.7567    0.4626    0.5000\n   270 "Tyler Pounds Field"                     0.7532    0.4629    0.5000\n   271 "Jackson Intll"                          0.7803    0.4634    0.5000\n   272 "Dannelly Field"                         0.7991    0.4635    0.5000\n   273 "Savannah Intll"                         0.8255    0.4651    0.5000\n   274 "Tucson Intl"                            0.6741    0.4652    0.5000\n   275 "Midland Intll"                          0.7186    0.4669    0.5000\n   276 "El Paso Intl"                           0.6973    0.4682    0.5000\n   277 "Waco Regional"                          0.7439    0.4700    0.5000\n   278 "Alexandria Esler Regional"              0.7690    0.4721    0.5000\n   279 "Mathis Field"                           0.7273    0.4725    0.5000\n   280 "Killeen Muni"                           0.7416    0.4751    0.5000\n   281 "Mobile Regional"                        0.7897    0.4788    0.5000\n   282 "Easterwood Field"                       0.7483    0.4798    0.5000\n   283 "Baton Rouge Metropolitan, Ryan"         0.7749    0.4803    0.5000\n   284 "Jacksonville Intl"                      0.8231    0.4807    0.5000\n   285 "Eglin Afb"                              0.7984    0.4808    0.5000\n   286 "Pensacola Regional"                     0.7951    0.4809    0.5000\n   287 "Tallahassee Regional"                   0.8095    0.4816    0.5000\n   288 "Robert Mueller Muni"                    0.7415    0.4826    0.5000\n   289 "Panama City-Bay Co Intl"                0.8027    0.4834    0.5000\n   290 "Lafayette Regional"                     0.7706    0.4835    0.5000\n   291 "Lake Charles Regional"                  0.7643    0.4842    0.5000\n   292 "New Orleans Intl/Moisant Fld/"          0.7794    0.4855    0.5000\n   293 "Houston Intercontinental"               0.7535    0.4856    0.5000\n   294 "Jefferson County"                       0.7602    0.4859    0.5000\n   295 "Gainesville Regional"                   0.8201    0.4884    0.5000\n   296 "William P Hobby"                        0.7538    0.4888    0.5000\n   297 "San Antonio Intl"                       0.7376    0.4899    0.5000\n   298 "Daytona Beach Intl"                     0.8263    0.4933    0.5000\n   299 "Orlando Intl"                           0.8250    0.5004    0.5000\n   300 "Melbourne Intll"                        0.8284    0.5036    0.5000\n   301 "Tampa Intl"                             0.8188    0.5048    0.5000\n   302 "St Petersburg/Clearwater Intl"          0.8180    0.5054    0.5000\n   303 "Corpus Christi Intl"                    0.7425    0.5067    0.5000\n   304 "Laredo Intl"                            0.7325    0.5089    0.5000\n   305 "Sarasota/Bradenton Intl"                0.8186    0.5103    0.5000\n   306 "Palm Beach Intl"                        0.8312    0.5171    0.5000\n   307 "Southwest Florida Intl"                 0.8227    0.5185    0.5000\n   308 "Rio Grande Valley Intl"                 0.7417    0.5215    0.5000\n   309 "Mc Allen Miller Intl"                   0.7388    0.5220    0.5000\n   310 "Fort Lauderdale/Hollywood Intl"         0.8309    0.5230    0.5000\n   311 "Miami Intl"                             0.8302    0.5256    0.5000\n   312 "Lihue"                                  0.4276    0.5621    0.5000\n   313 "Honolulu Intl"                          0.4348    0.5684    0.5000\n   314 "Molokai"                                0.4390    0.5700    0.5000\n   315 "Kapalua"                                0.4412    0.5718    0.5000\n   316 "Kahului"                                0.4424    0.5724    0.5000\n   317 "Lanai"                                  0.4398    0.5735    0.5000\n   318 "Keahole-Kona Intll"                     0.4444    0.5835    0.5000\n   319 "Hilo Intll"                             0.4495    0.5837    0.5000\n   320 "Rafael Hernandez"                       0.8972    0.5954    0.5000\n   321 "Luis Munoz Marin Intl"                  0.9029    0.5959    0.5000\n   322 "Cyril E King"                           0.9082    0.5969    0.5000\n   323 "Eugenio Maria De Hostos"                0.8971    0.5977    0.5000\n   324 "Mercedita"                              0.9001    0.6000    0.5000\n   325 "Alexander Hamilton"                     0.9091    0.6029    0.5000\n   326 "Johnston Atoll"                         0.3757    0.6122    0.5000\n   327 "Saipan Intl"                            0.1479    0.6276    0.5000\n   328 "Rota Intl"                              0.1454    0.6366    0.5000\n   329 "Guam Intll"                             0.1431    0.6432    0.5000\n   330 "Babelthuap/Koror"                       0.0909    0.7017    0.5000\n   331 "Pago Pago Intl"                         0.3697    0.9090    0.5000\n   332 "West Tinian"                            0.1473    0.6288    0.5000\n*Arcs\n*Edges\n    118    201    0.1804\n    118    258    0.1474\n    118    182    0.0332\n    118    152    0.0416\n    118    162    0.0676\n     47    118    0.1828\n    118    144    0.1231\n    118    263    0.1733\n    118    301    0.1366\n    118    221    0.0745\n    118    321    0.2510\n    118    203    0.1788\n     65    118    0.1800\n    118    306    0.1514\n    118    297    0.1305\n    118    253    0.1720\n    118    183    0.1744\n    118    307    0.1508\n    118    169    0.1640\n    118    216    0.0686\n    118    212    0.0769\n    118    274    0.1504\n     92    118    0.0611\n     68    118    0.1008\n     91    118    0.0532\n    118    125    0.0839\n    118    189    0.0379\n    118    305    0.1419\n    118    202    0.0688\n    118    222    0.0622\n     80    118    0.0910\n    118    273    0.1001\n    118    250    0.1652\n    118    126    0.0085\n    118    204    0.0600\n    118    127    0.0212\n    118    186    0.0471\n    118    148    0.0155\n    118    129    0.0704\n     76    118    0.0797\n     78    118    0.0298\n    118    163    0.0223\n     70    118    0.0289\n    114    118    0.0065\n     77    118    0.0195\n    118    261    0.0985\n    248    261    0.1093\n    201    261    0.1367\n    150    261    0.1396\n    261    311    0.1090\n    146    261    0.1400\n    147    261    0.1383\n    258    261    0.0765\n    112    261    0.1131\n    261    313    0.3292\n    182    261    0.0655\n     67    261    0.1162\n    219    261    0.0972\n    261    299    0.0907\n    152    261    0.1122\n    261    293    0.0291\n    162    261    0.1295\n     47    261    0.1894\n    144    261    0.1071\n    261    263    0.1026\n    261    301    0.0876\n    177    261    0.1152\n    221    261    0.0972\n    261    310    0.1079\n    232    261    0.0414\n    261    321    0.2098\n    261    296    0.0323\n    123    261    0.0973\n    172    261    0.0623\n    261    292    0.0442\n    203    261    0.1338\n     65    261    0.1779\n    167    261    0.0851\n    261    306    0.1047\n    197    261    0.1363\n    261    297    0.0329\n    246    261    0.1053\n    253    261    0.1064\n     94    261    0.1068\n    183    261    0.1369\n    261    307    0.0987\n    261    276    0.0487\n    225    261    0.0241\n    169    261    0.1319\n    216    261    0.0321\n    261    284    0.0815\n    212    261    0.1128\n    261    274    0.0712\n    189    261    0.0765\n    133    261    0.0806\n    239    261    0.0302\n    202    261    0.1097\n    218    261    0.0923\n    128    261    0.0844\n    251    261    0.1079\n    254    261    0.0255\n    261    275    0.0278\n    198    261    0.0455\n    222    261    0.0720\n    261    308    0.0638\n    261    273    0.0809\n    240    261    0.0549\n    213    261    0.1213\n    250    261    0.0996\n    261    286    0.0553\n    261    271    0.0358\n    261    281    0.0495\n    261    267    0.0169\n    242    261    0.1170\n    261    309    0.0645\n    206    261    0.0456\n     81    261    0.1239\n    220    261    0.0331\n    261    290    0.0363\n    261    266    0.0257\n    226    261    0.0271\n    261    270    0.0097\n    142    261    0.1219\n    241    261    0.0175\n    261    278    0.0280\n    261    279    0.0229\n    261    291    0.0328\n    247    261    0.0128\n    261    304    0.0526\n    184    261    0.0738\n    261    280    0.0176\n    153    261    0.0892\n    257    261    0.0164\n    261    269    0.0127\n    168    261    0.0818\n    118    255    0.0815\n    255    261    0.0646\n    248    255    0.1730\n    201    255    0.1969\n    150    255    0.0860\n    166    255    0.1195\n    255    311    0.0779\n    146    255    0.0868\n    109    255    0.1078\n    147    255    0.0852\n    255    258    0.1405\n    112    255    0.0821\n    255    313    0.3924\n    182    255    0.0574\n     67    255    0.1163\n    219    255    0.1582\n    255    299    0.0523\n    152    255    0.0688\n    255    293    0.0657\n    162    255    0.0757\n     47    255    0.2336\n    230    255    0.0232\n    179    255    0.0624\n    144    255    0.1560\n    255    263    0.1670\n    255    301    0.0551\n    174    255    0.0659\n    177    255    0.0618\n    221    255    0.0357\n    176    255    0.0516\n    255    310    0.0756\n    232    255    0.0313\n    131    255    0.0753\n    255    321    0.1729\n    255    296    0.0672\n    123    255    0.0796\n    217    255    0.0263\n    172    255    0.0752\n    255    292    0.0458\n     65    255    0.2254\n    167    255    0.0588\n    255    306    0.0701\n    255    297    0.0816\n    246    255    0.1689\n    119    255    0.0992\n    253    255    0.1703\n     94    255    0.0906\n    255    288    0.0748\n    161    255    0.0598\n    159    255    0.0612\n    255    307    0.0692\n     95    255    0.0934\n    255    276    0.1132\n    225    255    0.0691\n    216    255    0.0633\n    255    284    0.0332\n    212    255    0.0521\n     92    255    0.0998\n     91    255    0.0968\n    125    255    0.1017\n    255    256    0.0118\n    189    255    0.0438\n    133    255    0.0936\n    255    305    0.0605\n    239    255    0.0410\n    202    255    0.0517\n    218    255    0.0327\n    255    260    0.0234\n    157    255    0.0738\n    237    255    0.0165\n    222    255    0.0208\n    255    322    0.1767\n    249    255    0.0171\n    255    273    0.0219\n    255    298    0.0460\n    240    255    0.0152\n    255    287    0.0310\n    255    283    0.0453\n    255    286    0.0334\n    255    271    0.0315\n    192    255    0.0420\n    255    281    0.0342\n    255    300    0.0564\n    137    255    0.0702\n    255    267    0.0493\n    127    255    0.0760\n    234    255    0.0139\n    223    255    0.0196\n    132    255    0.0858\n    255    295    0.0394\n    215    255    0.0289\n    255    272    0.0163\n    129    255    0.0917\n    255    265    0.0111\n    255    266    0.0403\n    255    289    0.0334\n    184    255    0.1237\n    118    248    0.1733\n    201    248    0.0406\n    248    311    0.2091\n    248    258    0.0329\n    182    248    0.1500\n     67    248    0.1655\n    248    299    0.1961\n    152    248    0.2042\n    162    248    0.2270\n     47    248    0.1305\n    144    248    0.0731\n    248    263    0.0131\n    248    301    0.1914\n    232    248    0.1451\n    172    248    0.1310\n    248    292    0.1482\n    203    248    0.0373\n     65    248    0.1133\n    197    248    0.0410\n    248    253    0.0037\n    248    316    0.2303\n     94    248    0.1776\n    183    248    0.0483\n    245    248    0.0025\n    169    248    0.0536\n    248    274    0.0418\n    248    250    0.0097\n    242    248    0.0087\n    214    248    0.0308\n    248    331    0.5326\n    244    248    0.0048\n    168    248    0.0800\n    182    201    0.1634\n    144    201    0.0609\n    201    203    0.0033\n    197    201    0.0011\n    201    253    0.0441\n    183    201    0.0110\n    178    201    0.0171\n    185    201    0.0088\n    201    236    0.0278\n    118    150    0.0730\n    150    248    0.2360\n    150    201    0.2491\n    150    311    0.1456\n    146    150    0.0014\n    150    258    0.2065\n    150    182    0.0863\n     67    150    0.1069\n    150    219    0.2151\n    150    299    0.1227\n    150    152    0.0328\n    150    162    0.0104\n     47    150    0.2555\n    144    150    0.1945\n    150    263    0.2335\n    150    301    0.1289\n    150    221    0.0522\n    150    321    0.2158\n    150    292    0.1318\n    150    306    0.1371\n    150    212    0.0379\n     92    150    0.0264\n     91    150    0.0309\n    150    202    0.0349\n    150    322    0.2178\n    150    324    0.2193\n    118    166    0.0890\n    166    261    0.0770\n    166    248    0.0886\n    166    201    0.0914\n    150    166    0.1586\n    166    311    0.1832\n    146    166    0.1583\n    147    166    0.1567\n    166    258    0.0706\n    112    166    0.1121\n    166    313    0.3226\n    166    182    0.0746\n     67    166    0.0770\n    166    219    0.0631\n    166    299    0.1618\n    152    166    0.1258\n    166    293    0.1055\n    162    166    0.1510\n     47    166    0.1150\n    144    166    0.0374\n    166    263    0.0919\n    166    301    0.1603\n    166    177    0.1399\n    166    232    0.0883\n    166    296    0.1085\n    123    166    0.0894\n    166    172    0.0520\n    166    292    0.1196\n    166    203    0.0898\n     65    166    0.1059\n    166    167    0.0947\n    166    197    0.0905\n    166    297    0.1032\n    166    246    0.0847\n    166    253    0.0881\n     94    166    0.0917\n    166    183    0.0857\n    166    276    0.0766\n    166    225    0.0560\n    166    169    0.0758\n    166    216    0.0572\n    166    274    0.0794\n    133    166    0.0481\n     45    166    0.0988\n    128    166    0.0596\n    166    251    0.0883\n    166    198    0.0431\n     90    166    0.0855\n    166    213    0.0808\n    166    250    0.0821\n    130    166    0.0749\n    166    242    0.0917\n     75    166    0.1021\n    140    166    0.0426\n     82    166    0.0551\n    166    206    0.0634\n    148    166    0.0779\n     51    166    0.0796\n     81    166    0.0472\n    166    175    0.0195\n     50    166    0.0828\n    106    166    0.0500\n     41    166    0.0831\n    142    166    0.0564\n    166    184    0.0158\n    153    166    0.0137\n    166    168    0.0104\n    118    311    0.1594\n    201    311    0.2423\n    182    311    0.1340\n     67    311    0.1939\n    152    311    0.1404\n    162    311    0.1369\n     47    311    0.2976\n    263    311    0.1993\n    301    311    0.0237\n    221    311    0.0966\n    311    321    0.1011\n    292    311    0.0647\n    203    311    0.2392\n    306    311    0.0086\n     94    311    0.1684\n    311    322    0.1057\n    287    311    0.0486\n    311    324    0.1021\n    118    146    0.0724\n    146    311    0.1468\n    146    182    0.0862\n     67    146    0.1061\n    146    299    0.1238\n    146    152    0.0325\n    146    301    0.1300\n    146    221    0.0531\n    146    232    0.0987\n    123    146    0.0714\n    146    172    0.1071\n    146    292    0.1326\n    146    306    0.1383\n    119    146    0.0126\n     94    146    0.0745\n    146    307    0.1418\n    146    212    0.0390\n     92    146    0.0250\n     91    146    0.0296\n    146    189    0.0654\n    146    202    0.0358\n     80    146    0.0329\n    146    168    0.1686\n    109    118    0.0862\n    109    261    0.1605\n    109    248    0.2545\n    109    201    0.2655\n    109    150    0.0218\n    109    166    0.1744\n    109    311    0.1652\n    109    146    0.0211\n    109    147    0.0227\n    109    258    0.2256\n    109    112    0.0629\n    109    182    0.1045\n     67    109    0.1156\n    109    219    0.2328\n    109    299    0.1431\n    109    152    0.0503\n    109    293    0.1714\n    109    162    0.0321\n     47    109    0.2658\n    109    230    0.0851\n    109    179    0.0455\n    109    144    0.2092\n    109    301    0.1495\n    109    174    0.0420\n    109    177    0.0464\n    109    221    0.0736\n    109    176    0.0765\n    109    310    0.1625\n    109    232    0.1193\n    109    131    0.0560\n    109    321    0.2300\n    109    203    0.2638\n    109    167    0.0819\n    109    306    0.1568\n     94    109    0.0863\n    109    161    0.0713\n    109    159    0.0647\n    109    307    0.1608\n     95    109    0.0398\n    109    212    0.0586\n     92    109    0.0270\n     91    109    0.0348\n    109    202    0.0565\n     80    109    0.0128\n    109    273    0.1108\n    118    147    0.0711\n    147    248    0.2344\n    147    201    0.2472\n    147    150    0.0020\n    147    311    0.1457\n    146    147    0.0017\n    147    258    0.2049\n    147    182    0.0845\n     67    147    0.1050\n    147    219    0.2134\n    147    299    0.1226\n    147    152    0.0310\n    147    293    0.1487\n     47    147    0.2535\n    147    301    0.1288\n    147    177    0.0237\n    147    221    0.0517\n    147    310    0.1430\n    147    232    0.0970\n    147    321    0.2166\n    123    147    0.0700\n    147    172    0.1055\n    147    292    0.1310\n    147    167    0.0625\n    147    306    0.1372\n     94    147    0.0733\n    147    307    0.1406\n    147    284    0.1047\n    147    212    0.0378\n     92    147    0.0251\n     91    147    0.0293\n    125    147    0.0171\n    147    305    0.1340\n    147    202    0.0344\n    147    218    0.0528\n     99    147    0.0616\n    147    322    0.2187\n     80    147    0.0344\n    143    147    0.0055\n    147    273    0.0893\n     96    147    0.0255\n    147    300    0.1247\n    147    153    0.1684\n    147    324    0.2201\n    201    258    0.0662\n    182    258    0.1214\n    152    258    0.1754\n     47    258    0.1437\n    144    258    0.0702\n    258    263    0.0271\n    203    258    0.0629\n    258    297    0.0784\n    253    258    0.0299\n    183    258    0.0701\n    169    258    0.0701\n    216    258    0.0862\n    258    274    0.0137\n    250    258    0.0232\n    258    264    0.0151\n    112    118    0.0233\n    112    248    0.1952\n    112    201    0.2035\n    112    150    0.0510\n    112    311    0.1577\n    112    146    0.0502\n    112    147    0.0490\n    112    258    0.1684\n    112    182    0.0487\n     67    112    0.0563\n    112    219    0.1723\n    112    299    0.1321\n    112    152    0.0229\n    112    293    0.1319\n    112    162    0.0470\n     47    112    0.2046\n    112    144    0.1464\n    112    263    0.1947\n    112    301    0.1362\n    112    177    0.0434\n    112    221    0.0649\n    112    310    0.1552\n    112    232    0.0764\n    112    296    0.1346\n    112    123    0.0228\n    112    172    0.0643\n    112    292    0.1220\n    112    203    0.2019\n     65    112    0.2025\n    112    167    0.0282\n    112    306    0.1493\n    112    253    0.1938\n     94    112    0.0242\n    112    307    0.1500\n    112    212    0.0626\n     92    112    0.0379\n     91    112    0.0302\n    112    125    0.0609\n    112    189    0.0405\n    112    305    0.1417\n    112    202    0.0545\n     99    112    0.0128\n    112    157    0.0387\n     90    112    0.0317\n    112    126    0.0159\n    112    136    0.0503\n    112    137    0.0151\n     71    112    0.0326\n    100    112    0.0083\n     84    112    0.0131\n     70    112    0.0267\n    118    313    0.4076\n    248    313    0.2347\n    201    313    0.2389\n    258    313    0.2609\n    182    313    0.3823\n     67    313    0.3992\n    219    313    0.2595\n     47    313    0.3086\n    263    313    0.2344\n    246    313    0.2387\n    313    316    0.0086\n    312    313    0.0096\n    313    329    0.3011\n    313    318    0.0179\n    313    319    0.0212\n    313    314    0.0045\n    313    331    0.3468\n    313    317    0.0071\n    313    326    0.0736\n    313    315    0.0072\n    182    301    0.1105\n    182    216    0.0373\n    182    274    0.1225\n     92    182    0.0837\n    182    222    0.0429\n    106    182    0.0465\n    160    182    0.0122\n    182    196    0.0133\n     67    118    0.0388\n     67    201    0.1639\n     67    258    0.1454\n     67    182    0.0604\n     67    152    0.0783\n     67    162    0.1033\n     47     67    0.1502\n     67    144    0.1033\n     67    263    0.1685\n     67    301    0.1705\n     67    292    0.1431\n     67    203    0.1630\n     65     67    0.1498\n     67    197    0.1629\n     67    246    0.1617\n     67    253    0.1651\n     67    183    0.1562\n     67    307    0.1847\n     67    274    0.1518\n     67    189    0.0745\n     67    133    0.0368\n     67     76    0.0508\n     67     78    0.0100\n     43     67    0.0364\n    118    219    0.1498\n    219    248    0.0263\n    201    219    0.0395\n    219    258    0.0299\n    182    219    0.1288\n     67    219    0.1399\n    219    299    0.1873\n    152    219    0.1828\n    162    219    0.2065\n     47    219    0.1144\n    144    219    0.0477\n    219    263    0.0336\n    219    301    0.1834\n    219    232    0.1286\n    123    219    0.1499\n    172    219    0.1085\n    203    219    0.0366\n     65    219    0.0984\n    197    219    0.0392\n    219    297    0.1056\n    219    246    0.0230\n    219    253    0.0268\n     94    219    0.1535\n    183    219    0.0412\n    169    219    0.0402\n    219    274    0.0436\n    133    219    0.1101\n    219    250    0.0227\n    118    299    0.1337\n    201    299    0.2268\n    299    311    0.0257\n    258    299    0.1635\n    182    299    0.1088\n     67    299    0.1685\n    152    299    0.1153\n    162    299    0.1136\n    144    299    0.1958\n    299    301    0.0076\n    221    299    0.0722\n    232    299    0.0771\n    299    321    0.1232\n    123    299    0.1317\n    292    299    0.0480\n    299    306    0.0178\n     94    299    0.1427\n    299    307    0.0182\n     92    299    0.1427\n    125    299    0.1366\n    299    305    0.0118\n    299    322    0.1274\n    273    299    0.0353\n    287    299    0.0244\n    286    299    0.0357\n    152    201    0.2163\n    152    182    0.0542\n     47    152    0.2244\n    152    263    0.2023\n    152    301    0.1202\n    152    221    0.0447\n    152    297    0.1400\n    152    183    0.2114\n    152    307    0.1335\n     92    152    0.0326\n     91    152    0.0283\n    125    152    0.0463\n    152    189    0.0357\n    152    305    0.1257\n    152    202    0.0321\n    152    222    0.0486\n     80    152    0.0588\n    126    152    0.0331\n    127    152    0.0210\n    152    215    0.0400\n    129    152    0.0327\n    152    156    0.0277\n    118    293    0.1207\n    248    293    0.1233\n    201    293    0.1558\n    293    311    0.0865\n    146    293    0.1503\n    258    293    0.0911\n    182    293    0.0876\n     67    293    0.1428\n    219    293    0.1165\n    293    299    0.0730\n    152    293    0.1265\n    162    293    0.1393\n     47    293    0.2160\n    144    293    0.1335\n    263    293    0.1143\n    293    301    0.0681\n    293    296    0.0032\n    172    293    0.0891\n    292    293    0.0259\n    203    293    0.1527\n     65    293    0.2037\n    167    293    0.1038\n    293    306    0.0838\n    293    297    0.0165\n    246    293    0.1198\n    253    293    0.1200\n    183    293    0.1575\n    293    307    0.0766\n    225    293    0.0530\n    216    293    0.0595\n    284    293    0.0698\n    274    293    0.0820\n    133    293    0.1082\n    293    305    0.0696\n    286    293    0.0419\n    281    293    0.0368\n    293    309    0.0393\n    290    293    0.0172\n    142    293    0.1469\n    162    201    0.2410\n    147    162    0.0095\n    162    258    0.1971\n    162    182    0.0777\n    152    162    0.0261\n    144    162    0.1873\n    162    301    0.1196\n    162    221    0.0423\n    162    321    0.2101\n    162    307    0.1317\n     92    162    0.0312\n     91    162    0.0334\n    125    162    0.0263\n    162    305    0.1249\n    162    202    0.0250\n     80    162    0.0440\n    162    273    0.0800\n     47    201    0.0938\n     47    182    0.1826\n     47    144    0.0825\n     47    203    0.0963\n     47    253    0.1334\n     47    183    0.0836\n     47     56    0.0122\n     47     74    0.0310\n     47     86    0.0555\n    118    230    0.0737\n    230    261    0.0849\n    230    248    0.1911\n    201    230    0.2122\n    150    230    0.0634\n    166    230    0.1295\n    230    311    0.0901\n    146    230    0.0642\n    147    230    0.0627\n    230    258    0.1591\n    112    230    0.0680\n    182    230    0.0586\n     67    230    0.1115\n    219    230    0.1744\n    230    299    0.0648\n    152    230    0.0505\n    230    293    0.0887\n    162    230    0.0532\n     47    230    0.2408\n    179    230    0.0401\n    230    263    0.1860\n    230    301    0.0697\n    177    230    0.0398\n    221    230    0.0127\n    176    230    0.0412\n    230    310    0.0875\n    230    232    0.0460\n    230    321    0.1774\n    172    230    0.0802\n    230    292    0.0688\n    167    230    0.0509\n    230    306    0.0816\n    230    297    0.1044\n     94    230    0.0819\n    161    230    0.0478\n    159    230    0.0468\n    230    307    0.0830\n    230    284    0.0453\n    212    230    0.0290\n     92    230    0.0793\n     91    230    0.0773\n    125    230    0.0789\n    189    230    0.0374\n    230    305    0.0751\n    230    239    0.0576\n    202    230    0.0287\n    218    230    0.0099\n    157    230    0.0521\n    230    237    0.0071\n    222    230    0.0165\n    143    230    0.0666\n    230    273    0.0295\n    230    298    0.0577\n    230    240    0.0301\n    230    287    0.0491\n    230    286    0.0553\n    230    281    0.0569\n    230    300    0.0680\n    204    230    0.0208\n    230    252    0.0179\n    186    230    0.0304\n    230    295    0.0532\n    215    230    0.0141\n    230    272    0.0393\n    230    235    0.0108\n    230    243    0.0179\n    230    238    0.0174\n    227    230    0.0170\n    118    179    0.0628\n    179    261    0.1167\n    150    179    0.0238\n    179    311    0.1259\n    146    179    0.0244\n    147    179    0.0229\n    112    179    0.0454\n    179    182    0.0678\n     67    179    0.1005\n    179    299    0.1019\n    152    179    0.0225\n    179    293    0.1260\n    162    179    0.0134\n    179    301    0.1077\n    179    221    0.0299\n    179    310    0.1232\n    179    232    0.0753\n    123    179    0.0613\n    172    179    0.0901\n    179    292    0.1082\n    167    179    0.0478\n    179    306    0.1173\n     94    179    0.0677\n    179    307    0.1201\n     92    179    0.0409\n     91    179    0.0408\n    125    179    0.0396\n    179    189    0.0448\n    179    218    0.0302\n    144    182    0.1118\n    144    253    0.0742\n    144    183    0.0529\n    144    216    0.0929\n    144    274    0.0830\n     86    144    0.0286\n    104    144    0.0206\n    201    263    0.0536\n    182    263    0.1482\n     47    263    0.1429\n    144    263    0.0813\n    203    263    0.0504\n    253    263    0.0097\n    183    263    0.0613\n    250    263    0.0109\n    118    174    0.0632\n    174    261    0.1198\n    174    248    0.2183\n    174    201    0.2332\n    150    174    0.0203\n    166    174    0.1438\n    174    311    0.1291\n    146    174    0.0209\n    147    174    0.0193\n    174    258    0.1882\n    112    174    0.0448\n    174    182    0.0698\n     67    174    0.1004\n    174    219    0.1982\n    174    299    0.1053\n    152    174    0.0221\n    174    293    0.1294\n    162    174    0.0099\n    174    230    0.0436\n    174    301    0.1111\n    174    221    0.0333\n    174    176    0.0407\n    174    310    0.1264\n    131    174    0.0340\n    174    321    0.2054\n    172    174    0.0919\n    174    292    0.1117\n    167    174    0.0493\n    174    306    0.1206\n    161    174    0.0390\n    159    174    0.0327\n    174    307    0.1234\n    174    284    0.0867\n    174    212    0.0219\n     92    174    0.0377\n     91    174    0.0380\n    125    174    0.0362\n    174    305    0.1164\n    174    202    0.0162\n    174    218    0.0338\n    143    174    0.0239\n    174    273    0.0712\n    174    204    0.0243\n     89    174    0.0386\n    118    177    0.0606\n    177    248    0.2139\n    177    201    0.2290\n    150    177    0.0247\n    177    311    0.1264\n    146    177    0.0253\n    177    258    0.1837\n    177    182    0.0657\n     67    177    0.0983\n    177    299    0.1023\n    152    177    0.0204\n    177    293    0.1250\n    162    177    0.0144\n     47    177    0.2424\n    177    179    0.0022\n    144    177    0.1767\n    177    263    0.2108\n    177    301    0.1079\n    174    177    0.0046\n    177    321    0.2044\n    177    292    0.1075\n    177    212    0.0206\n     91    177    0.0399\n    125    177    0.0406\n    177    202    0.0137\n    157    177    0.0125\n     80    177    0.0579\n    177    273    0.0678\n     96    177    0.0489\n    177    204    0.0200\n    141    177    0.0183\n    182    221    0.0650\n    221    301    0.0779\n    221    321    0.1789\n    221    307    0.0905\n     92    221    0.0704\n     91    221    0.0694\n    221    305    0.0832\n    202    221    0.0173\n    221    322    0.1818\n    221    273    0.0379\n    129    221    0.0589\n    118    176    0.0325\n    176    261    0.0862\n    176    248    0.1786\n    176    201    0.1925\n    150    176    0.0574\n    166    176    0.1032\n    176    311    0.1285\n    146    176    0.0574\n    147    176    0.0558\n    176    258    0.1493\n    112    176    0.0310\n    176    182    0.0291\n     67    176    0.0708\n    176    219    0.1579\n    176    299    0.1028\n    152    176    0.0265\n    162    176    0.0486\n     47    176    0.2078\n    176    179    0.0388\n    144    176    0.1401\n    176    263    0.1762\n    176    301    0.1064\n    176    221    0.0426\n    176    310    0.1261\n    176    232    0.0468\n    176    296    0.1048\n    172    176    0.0513\n    176    292    0.0911\n     65    176    0.2031\n    167    176    0.0105\n    176    306    0.1204\n     94    176    0.0408\n    176    307    0.1204\n    176    284    0.0831\n    176    212    0.0478\n     92    176    0.0584\n     91    176    0.0527\n    176    189    0.0100\n    176    305    0.1118\n    176    239    0.0564\n    176    202    0.0402\n    176    218    0.0371\n     99    176    0.0370\n    176    222    0.0311\n     80    176    0.0853\n    176    271    0.0701\n    176    192    0.0096\n    126    176    0.0268\n    137    176    0.0187\n    118    310    0.1570\n    150    310    0.1429\n    310    311    0.0027\n    146    310    0.1441\n    182    310    0.1319\n     67    310    0.1917\n    299    310    0.0234\n    152    310    0.1378\n    293    310    0.0860\n    162    310    0.1342\n    301    310    0.0219\n    177    310    0.1238\n    221    310    0.0940\n    232    310    0.0994\n    123    310    0.1551\n    292    310    0.0637\n    167    310    0.1341\n    306    310    0.0059\n     94    310    0.1661\n    307    310    0.0094\n    143    310    0.1452\n    302    310    0.0218\n    118    232    0.0670\n    201    232    0.1667\n    232    311    0.1013\n    232    258    0.1133\n    182    232    0.0355\n     67    232    0.0954\n    152    232    0.0719\n    162    232    0.0881\n     47    232    0.2028\n    232    301    0.0775\n    232    292    0.0483\n    232    297    0.0681\n     94    232    0.0762\n    232    307    0.0915\n    225    232    0.0389\n    216    232    0.0320\n    189    232    0.0369\n    133    232    0.0669\n    222    232    0.0314\n    232    285    0.0470\n    118    131    0.0313\n    131    261    0.1123\n    131    248    0.1993\n    131    201    0.2095\n    131    150    0.0418\n    131    166    0.1183\n    131    311    0.1494\n    131    146    0.0412\n    131    147    0.0398\n    131    258    0.1715\n    112    131    0.0108\n    131    182    0.0502\n     67    131    0.0667\n    131    219    0.1771\n    131    299    0.1240\n    131    152    0.0121\n    131    293    0.1290\n    131    162    0.0368\n     47    131    0.2139\n    131    230    0.0594\n    131    179    0.0346\n    131    301    0.1284\n    131    177    0.0325\n    131    221    0.0552\n    131    176    0.0267\n    131    310    0.1469\n    123    131    0.0302\n    131    172    0.0685\n    131    292    0.1172\n    131    167    0.0278\n    131    306    0.1410\n     94    131    0.0341\n    131    307    0.1421\n    125    131    0.0532\n    131    189    0.0367\n    131    305    0.1339\n    131    153    0.1295\n    182    321    0.2303\n    301    321    0.1240\n    321    322    0.0054\n    321    325    0.0094\n    118    296    0.1237\n    150    296    0.1517\n    296    311    0.0848\n    258    296    0.0926\n    182    296    0.0905\n     67    296    0.1460\n    232    296    0.0582\n    123    296    0.1222\n    292    296    0.0258\n    296    297    0.0162\n    225    296    0.0562\n    216    296    0.0627\n    275    296    0.0415\n    296    308    0.0349\n    123    182    0.0319\n     67    123    0.0406\n    123    152    0.0403\n     47    123    0.1841\n    123    301    0.1347\n    123    307    0.1489\n    123    273    0.0981\n    123    163    0.0210\n    123    302    0.1351\n    118    217    0.0562\n    217    261    0.0611\n    217    248    0.1628\n    201    217    0.1823\n    166    217    0.0991\n    217    311    0.1039\n    146    217    0.0790\n    109    217    0.0997\n    147    217    0.0773\n    217    258    0.1315\n    112    217    0.0606\n    182    217    0.0313\n     67    217    0.0900\n    217    219    0.1450\n    217    299    0.0784\n    152    217    0.0531\n    217    293    0.0734\n    162    217    0.0684\n    217    230    0.0305\n    179    217    0.0556\n    217    263    0.1586\n    217    301    0.0807\n    174    217    0.0587\n    217    221    0.0403\n    176    217    0.0297\n    217    310    0.1017\n    217    232    0.0197\n    131    217    0.0562\n    217    321    0.1991\n    217    296    0.0758\n    123    217    0.0544\n    172    217    0.0509\n    217    292    0.0614\n    167    217    0.0344\n    217    306    0.0963\n    217    297    0.0870\n     94    217    0.0655\n    159    217    0.0417\n    217    307    0.0950\n    217    284    0.0595\n    212    217    0.0539\n    189    217    0.0202\n    217    239    0.0312\n    202    217    0.0495\n    217    218    0.0344\n    217    222    0.0140\n    217    240    0.0142\n    217    283    0.0580\n    217    286    0.0541\n    217    271    0.0404\n    192    217    0.0211\n    126    217    0.0533\n    217    281    0.0525\n    118    172    0.0431\n    172    201    0.1417\n    172    258    0.1044\n    172    182    0.0228\n     67    172    0.0540\n    172    299    0.1243\n    152    172    0.0747\n    162    172    0.0994\n     47    172    0.1606\n    144    172    0.0890\n    172    263    0.1305\n    172    232    0.0472\n    123    172    0.0427\n     94    172    0.0492\n    172    225    0.0401\n    172    216    0.0302\n    133    172    0.0201\n    142    172    0.1083\n    118    292    0.1151\n    201    292    0.1790\n    182    292    0.0837\n    152    292    0.1126\n    162    292    0.1215\n    144    292    0.1512\n    292    301    0.0439\n    292    297    0.0420\n    182    203    0.1613\n    144    203    0.0603\n    203    253    0.0408\n    183    203    0.0129\n    203    251    0.0390\n     65    201    0.0761\n     65    258    0.1280\n     47     65    0.0178\n     65    144    0.0709\n     65    263    0.1259\n     65    203    0.0787\n     65    253    0.1163\n     65    183    0.0660\n     65    169    0.0600\n     59     65    0.0189\n     56     65    0.0141\n     65     74    0.0147\n     54     65    0.0301\n     65     66    0.0068\n    262    293    0.0285\n    262    296    0.0316\n    262    292    0.0433\n    262    297    0.0327\n    262    276    0.0495\n    225    262    0.0246\n    216    262    0.0324\n    239    262    0.0297\n    254    262    0.0265\n    262    275    0.0286\n    118    167    0.0231\n    167    248    0.1726\n    167    201    0.1848\n    150    167    0.0643\n    167    311    0.1365\n    146    167    0.0641\n    167    258    0.1441\n    167    182    0.0227\n     67    167    0.0607\n    167    219    0.1510\n    167    299    0.1108\n    152    167    0.0318\n    162    167    0.0563\n    167    301    0.1138\n    167    232    0.0484\n    123    167    0.0211\n    167    172    0.0431\n    167    292    0.0951\n    167    307    0.1280\n    167    189    0.0150\n    167    302    0.1143\n    182    306    0.1266\n    152    306    0.1319\n    162    306    0.1284\n    301    306    0.0175\n    221    306    0.0880\n    306    307    0.0086\n    118    197    0.1795\n    197    258    0.0662\n     47    197    0.0929\n    144    197    0.0599\n    197    263    0.0541\n     65    197    0.0752\n    197    246    0.0422\n    197    253    0.0445\n    183    197    0.0099\n    169    197    0.0211\n    197    250    0.0472\n    182    297    0.0973\n    144    297    0.1276\n    118    246    0.1691\n    201    246    0.0419\n    246    258    0.0290\n    182    246    0.1458\n     47    246    0.1301\n    144    246    0.0704\n    246    263    0.0128\n    203    246    0.0386\n     65    246    0.1131\n    246    253    0.0039\n    183    246    0.0489\n    169    246    0.0532\n    246    250    0.0059\n    118    233    0.1161\n    233    261    0.0529\n    233    255    0.1138\n    233    248    0.0609\n    201    233    0.0839\n    166    233    0.0461\n    233    258    0.0315\n    182    233    0.0901\n     67    233    0.1163\n    219    233    0.0446\n    152    233    0.1441\n    233    293    0.0750\n    144    233    0.0613\n    233    263    0.0581\n    176    233    0.1182\n    233    296    0.0773\n    233    262    0.0539\n    233    276    0.0309\n    233    274    0.0355\n    233    254    0.0277\n    233    275    0.0372\n    229    233    0.0251\n    142    233    0.0724\n    118    119    0.0775\n    119    261    0.1511\n    119    150    0.0136\n    119    311    0.1590\n    109    119    0.0095\n    119    147    0.0141\n    112    119    0.0544\n    119    182    0.0950\n     67    119    0.1082\n    119    299    0.1363\n    119    152    0.0408\n    119    162    0.0236\n    119    230    0.0768\n    119    179    0.0368\n    119    301    0.1425\n    119    174    0.0333\n    119    177    0.0375\n    119    221    0.0657\n    119    176    0.0670\n    119    310    0.1563\n    119    131    0.0470\n    119    321    0.2271\n    119    217    0.0904\n    119    306    0.1505\n     95    119    0.0323\n     92    119    0.0207\n     91    119    0.0278\n    182    253    0.1483\n    245    253    0.0056\n    201    316    0.2359\n     47    316    0.3074\n    314    316    0.0042\n     94    118    0.0093\n     94    201    0.1827\n     94    258    0.1528\n     94    182    0.0420\n     67     94    0.0327\n     94    152    0.0456\n     94    162    0.0709\n     47     94    0.1804\n     94    263    0.1782\n     94    301    0.1457\n     90     94    0.0075\n     77     94    0.0104\n    118    288    0.1222\n    261    288    0.0250\n    166    288    0.0977\n    258    288    0.0788\n    152    288    0.1319\n    288    293    0.0124\n    162    288    0.1465\n    230    288    0.0974\n    232    288    0.0600\n    288    296    0.0138\n    203    288    0.1407\n    262    288    0.0248\n    288    297    0.0083\n    276    288    0.0465\n    254    288    0.0384\n    275    288    0.0278\n    288    308    0.0389\n    118    161    0.0273\n    161    261    0.0936\n    161    248    0.1832\n    146    161    0.0533\n    147    161    0.0517\n    112    161    0.0225\n    161    182    0.0332\n     67    161    0.0661\n    161    299    0.1106\n    152    161    0.0211\n    161    162    0.0457\n    161    179    0.0378\n    161    301    0.1143\n    161    167    0.0108\n    161    189    0.0183\n     99    161    0.0293\n    126    161    0.0203\n    137    161    0.0114\n    100    161    0.0276\n    161    191    0.0245\n     93    161    0.0294\n    183    253    0.0516\n    118    159    0.0317\n    159    261    0.0990\n    159    248    0.1898\n    150    159    0.0468\n    159    166    0.1120\n    146    159    0.0466\n    147    159    0.0450\n    159    258    0.1610\n    112    159    0.0213\n    159    182    0.0398\n     67    159    0.0703\n    159    219    0.1685\n    159    299    0.1108\n    152    159    0.0144\n    159    293    0.1148\n    159    162    0.0390\n    159    179    0.0317\n    159    301    0.1149\n    159    176    0.0128\n    123    159    0.0300\n    159    167    0.0175\n     94    159    0.0380\n    159    161    0.0068\n    307    311    0.0103\n    182    307    0.1246\n    301    307    0.0142\n    305    307    0.0092\n     95    118    0.0476\n     95    150    0.0335\n     95    146    0.0323\n     95    147    0.0317\n     95    112    0.0245\n     67     95    0.0760\n     95    299    0.1392\n     95    152    0.0246\n     95    162    0.0343\n     95    230    0.0747\n     95    179    0.0399\n     95    174    0.0375\n     95    177    0.0387\n     95    221    0.0675\n     95    176    0.0479\n     95    131    0.0216\n     92     95    0.0135\n     91     95    0.0057\n    245    261    0.1093\n    201    245    0.0385\n    166    245    0.0869\n    245    258    0.0331\n    219    245    0.0243\n     47    245    0.1281\n    144    245    0.0708\n    245    263    0.0152\n    203    245    0.0353\n     65    245    0.1109\n    197    245    0.0389\n    245    246    0.0041\n    183    245    0.0461\n    213    245    0.0255\n    242    245    0.0078\n    118    276    0.1353\n    248    276    0.0645\n    201    276    0.0986\n    258    276    0.0327\n    219    276    0.0606\n    276    293    0.0588\n    263    276    0.0557\n    276    296    0.0601\n    276    297    0.0458\n    254    276    0.0292\n    275    276    0.0213\n      8    118    0.3655\n      8    248    0.3059\n      8    201    0.2654\n      8    112    0.3847\n      8    313    0.3829\n      8     67    0.3284\n      8     47    0.1926\n      8    144    0.2746\n      8     65    0.2040\n      8     26    0.0830\n      4      8    0.0365\n      8     13    0.0604\n      8     23    0.0478\n      3      8    0.0843\n      2      8    0.0866\n      5      8    0.0849\n      8     36    0.1093\n      8     16    0.0239\n      6      8    0.0683\n      8     35    0.0863\n      8     28    0.1099\n      8     30    0.0596\n    118    225    0.0800\n    225    258    0.0757\n    182    225    0.0489\n    144    225    0.0895\n    216    225    0.0116\n    142    225    0.1062\n    169    201    0.0222\n     47    169    0.0770\n    144    169    0.0416\n    169    263    0.0659\n    169    203    0.0232\n    169    183    0.0120\n    142    216    0.1105\n    118    284    0.1142\n    284    311    0.0455\n    146    284    0.1060\n    182    284    0.0904\n    284    299    0.0198\n    152    284    0.0958\n    162    284    0.0954\n    221    284    0.0535\n    284    306    0.0373\n    273    284    0.0158\n    284    286    0.0280\n    284    300    0.0235\n    182    212    0.0743\n    152    212    0.0400\n    162    212    0.0289\n    212    221    0.0164\n    131    212    0.0519\n    202    212    0.0082\n    229    274    0.0555\n    312    316    0.0180\n     68    109    0.0259\n     68    147    0.0478\n     68    125    0.0323\n     68     80    0.0134\n     68     96    0.0223\n     91     92    0.0080\n    125    221    0.0673\n    101    118    0.0722\n    101    255    0.1024\n    101    146    0.0189\n    101    112    0.0489\n    101    152    0.0392\n    101    162    0.0285\n    101    230    0.0807\n    101    179    0.0407\n    101    174    0.0372\n    101    221    0.0704\n    101    176    0.0657\n     95    101    0.0252\n     80    101    0.0198\n    101    129    0.0120\n    327    329    0.0163\n    329    330    0.0784\n    328    329    0.0070\n    118    256    0.0806\n    256    261    0.0528\n    182    256    0.0529\n    256    299    0.0563\n    152    256    0.0741\n    230    256    0.0335\n    176    256    0.0535\n    232    256    0.0218\n    256    296    0.0574\n    217    256    0.0245\n    256    292    0.0385\n    189    256    0.0444\n    240    256    0.0103\n    256    271    0.0208\n    256    267    0.0377\n    256    272    0.0122\n    182    189    0.0241\n    118    133    0.0412\n    133    258    0.1113\n    133    182    0.0373\n    133    152    0.0802\n    133    144    0.0821\n    133    140    0.0062\n    261    305    0.0905\n    305    311    0.0192\n    146    305    0.1353\n    182    305    0.1155\n    301    305    0.0055\n    248    318    0.2349\n    201    318    0.2421\n    316    318    0.0113\n    312    318    0.0272\n    182    239    0.0396\n    232    239    0.0118\n    216    239    0.0234\n    206    239    0.0247\n    202    204    0.0136\n    118    218    0.0693\n    146    218    0.0543\n    218    299    0.0735\n    152    218    0.0420\n    162    218    0.0433\n    177    218    0.0300\n    218    221    0.0062\n    204    218    0.0118\n     45    118    0.1602\n     45    201    0.0986\n     45     67    0.1266\n     45     47    0.0244\n     45    144    0.0712\n     45     65    0.0323\n     45     50    0.0187\n     45     46    0.0314\n     45     55    0.0299\n     45     58    0.0122\n     45     54    0.0086\n    118    128    0.0296\n    128    258    0.1214\n    128    182    0.0315\n     67    128    0.0321\n    128    152    0.0691\n    128    133    0.0116\n    128    142    0.1129\n     99    118    0.0149\n     67     99    0.0435\n     99    152    0.0354\n     99    167    0.0305\n     94     99    0.0121\n    201    251    0.0423\n    251    258    0.0314\n    197    251    0.0427\n    242    251    0.0104\n    118    260    0.0955\n    146    260    0.0815\n    147    260    0.0802\n    230    260    0.0226\n    179    260    0.0589\n    177    260    0.0592\n    221    260    0.0291\n    260    284    0.0245\n    260    273    0.0095\n    316    319    0.0133\n    318    319    0.0051\n     83    118    0.1450\n     83    248    0.0927\n     83    201    0.0649\n     83    166    0.0681\n     47     83    0.0483\n     83    144    0.0343\n     65     83    0.0378\n     45     83    0.0393\n     59     83    0.0297\n     83     85    0.0211\n     58     83    0.0271\n     83     86    0.0098\n     83    104    0.0136\n     54     83    0.0307\n     83     97    0.0195\n    118    157    0.0592\n    152    157    0.0178\n    157    221    0.0426\n    141    157    0.0083\n    118    181    0.0907\n    181    261    0.0687\n    166    181    0.0094\n    181    258    0.0634\n    181    182    0.0730\n    181    219    0.0593\n    144    181    0.0416\n    181    188    0.0050\n    146    237    0.0704\n    162    237    0.0593\n    221    237    0.0197\n    118    198    0.0637\n    198    258    0.0845\n    182    198    0.0375\n    198    219    0.0915\n    152    198    0.0917\n    198    232    0.0453\n    172    198    0.0209\n    198    216    0.0159\n    198    206    0.0210\n    142    198    0.0983\n    322    325    0.0061\n    118    143    0.0762\n    143    311    0.1479\n    143    299    0.1253\n    143    152    0.0364\n    143    162    0.0140\n    143    221    0.0552\n    143    306    0.1394\n     92    143    0.0269\n    143    170    0.0148\n    118    249    0.0842\n    147    249    0.0736\n    162    249    0.0641\n    230    249    0.0122\n    221    249    0.0219\n    218    249    0.0215\n    249    260    0.0113\n     90    118    0.0133\n     90    182    0.0422\n     67     90    0.0258\n     90    152    0.0528\n     73     90    0.0115\n    293    308    0.0378\n    297    308    0.0319\n    273    322    0.1556\n    147    298    0.1155\n    298    299    0.0072\n    221    298    0.0650\n    284    298    0.0130\n    298    300    0.0105\n    327    332    0.0013\n    118    240    0.0703\n    177    240    0.0627\n    232    240    0.0169\n    261    303    0.0490\n    293    303    0.0238\n    296    303    0.0212\n    213    248    0.0279\n    201    213    0.0157\n    144    213    0.0549\n    213    263    0.0407\n    197    213    0.0156\n    213    246    0.0282\n    213    253    0.0311\n    183    213    0.0208\n    169    213    0.0260\n    199    213    0.0103\n    205    213    0.0064\n    200    213    0.0093\n    287    301    0.0250\n    118    229    0.0955\n    229    261    0.0325\n    229    262    0.0335\n    229    254    0.0148\n    142    229    0.0895\n    201    250    0.0470\n    182    250    0.1413\n    144    250    0.0704\n    203    250    0.0436\n    250    274    0.0327\n    261    283    0.0375\n    283    293    0.0220\n    232    283    0.0435\n    271    283    0.0177\n    281    283    0.0149\n    267    283    0.0228\n    286    301    0.0337\n    118    149    0.0648\n    149    255    0.0811\n    112    149    0.0430\n    149    152    0.0244\n    149    230    0.0590\n    149    221    0.0487\n    149    157    0.0080\n     72    118    0.0788\n     72    146    0.0355\n     72    147    0.0365\n     72    152    0.0523\n     72    162    0.0452\n     72    177    0.0572\n     72     96    0.0171\n    271    281    0.0180\n    267    271    0.0191\n    118    120    0.0194\n    120    166    0.0700\n    120    258    0.1312\n    120    182    0.0307\n     67    120    0.0297\n    120    130    0.0073\n    106    120    0.0243\n    118    192    0.0412\n    182    192    0.0301\n    152    192    0.0323\n    189    192    0.0059\n    192    222    0.0215\n    192    204    0.0246\n    126    182    0.0349\n    281    286    0.0058\n    266    281    0.0261\n    105    182    0.0512\n    105    123    0.0248\n    105    167    0.0306\n     96    118    0.0844\n     96    152    0.0505\n     96    162    0.0351\n    109    170    0.0332\n    112    170    0.0519\n    152    170    0.0305\n    131    170    0.0415\n    125    170    0.0270\n    300    301    0.0097\n    221    300    0.0749\n    300    307    0.0160\n    118    136    0.0728\n     67    136    0.1058\n    136    152    0.0337\n    134    136    0.0046\n    118    139    0.0344\n    139    162    0.0331\n    139    230    0.0546\n    139    177    0.0277\n    139    167    0.0272\n    139    161    0.0171\n    137    139    0.0191\n    135    139    0.0050\n    118    137    0.0168\n    137    152    0.0257\n    126    137    0.0089\n    127    137    0.0092\n    267    281    0.0330\n    118    130    0.0142\n    130    258    0.1336\n    130    182    0.0258\n    130    148    0.0086\n    201    242    0.0331\n    224    242    0.0104\n     26     47    0.1216\n     26     33    0.0322\n     26     29    0.0131\n     26     31    0.0170\n     22     26    0.0281\n    230    234    0.0217\n      4     47    0.2109\n      4     26    0.0915\n      2      4    0.0515\n      1      4    0.0767\n     75    201    0.0622\n     47     75    0.0320\n     65     75    0.0143\n     75    108    0.0168\n     74     75    0.0106\n     75    151    0.0348\n     75    116    0.0202\n     75     87    0.0085\n     71    118    0.0240\n     67     71    0.0262\n     71     90    0.0143\n     57     71    0.0197\n     71     77    0.0053\n     62    166    0.0605\n     62     67    0.0786\n     62    144    0.0511\n     45     62    0.0490\n     50     62    0.0302\n     62     63    0.0133\n     46     62    0.0215\n     40     62    0.0377\n     55     62    0.0191\n     61     62    0.0201\n    150    325    0.2238\n    311    325    0.1105\n    147    325    0.2247\n    299    325    0.1326\n    221    325    0.1877\n    273    325    0.1612\n    100    118    0.0186\n    100    152    0.0312\n    100    137    0.0175\n    223    230    0.0084\n    152    252    0.0654\n    162    252    0.0621\n    221    252    0.0210\n    111    118    0.0123\n    111    112    0.0112\n     67    111    0.0465\n    111    152    0.0318\n    111    161    0.0233\n     71    111    0.0252\n    100    111    0.0071\n    132    152    0.0243\n    132    230    0.0643\n    132    174    0.0212\n    118    140    0.0464\n    140    182    0.0382\n     82    140    0.0261\n    106    140    0.0150\n    201    214    0.0103\n     82    118    0.0475\n     82    182    0.0564\n     67     82    0.0219\n     82    144    0.0821\n     82    130    0.0376\n     76     82    0.0325\n    152    186    0.0214\n    186    192    0.0156\n     84    118    0.0245\n    118    191    0.0376\n    182    191    0.0159\n    152    191    0.0439\n    167    191    0.0172\n    255    259    0.0128\n    230    259    0.0184\n    249    259    0.0070\n    259    273    0.0125\n    182    206    0.0211\n    148    182    0.0186\n    118    173    0.1001\n    173    261    0.0786\n    173    248    0.0774\n    166    173    0.0114\n     51    118    0.0655\n     51     67    0.0267\n     51     82    0.0319\n    272    283    0.0295\n    266    272    0.0289\n    218    235    0.0118\n    118    158    0.0186\n    158    182    0.0162\n    152    158    0.0412\n    158    161    0.0207\n    148    158    0.0094\n    158    171    0.0074\n    113    152    0.0271\n    113    174    0.0292\n     73    118    0.0220\n     73     94    0.0129\n     71     73    0.0030\n     69     73    0.0077\n     73     77    0.0026\n    162    243    0.0552\n    221    243    0.0159\n    117    152    0.0152\n     76    144    0.0551\n     47     59    0.0197\n     59    144    0.0638\n     45     59    0.0152\n     54     59    0.0113\n     93    118    0.0232\n     93    152    0.0297\n     93    100    0.0047\n    108    201    0.0455\n     65    108    0.0307\n     78     79    0.0063\n    110    152    0.0458\n    110    162    0.0286\n    152    210    0.0373\n     81    118    0.1173\n     81    144    0.0277\n     81     85    0.0069\n     50     67    0.1082\n     50    144    0.0596\n    224    261    0.1148\n    201    224    0.0268\n    183    224    0.0338\n    182    220    0.0327\n    190    230    0.0307\n    177    190    0.0092\n    190    202    0.0083\n     53    166    0.0701\n     53     67    0.0424\n     53    144    0.0809\n     53     82    0.0367\n     41     53    0.0145\n     63    166    0.0656\n     63     67    0.0918\n     63    144    0.0479\n     45     63    0.0370\n     50     63    0.0185\n     46     63    0.0163\n     55     63    0.0089\n     33     47    0.0895\n     29     33    0.0247\n     32     33    0.0113\n     52     67    0.0194\n     69    118    0.0283\n     69     71    0.0084\n     57     69    0.0198\n     85    261    0.1272\n     85    144    0.0261\n     85     97    0.0064\n    163    182    0.0110\n    261    294    0.0320\n     46     67    0.0958\n     46    144    0.0641\n     46     50    0.0149\n     46     55    0.0090\n    115    152    0.0233\n    103    115    0.0038\n    106    118    0.0434\n     82    106    0.0113\n    103    152    0.0271\n     39     47    0.0130\n     39     65    0.0306\n     39    142    0.0835\n      6     13    0.0143\n      7     13    0.0140\n     13     21    0.0098\n     13     18    0.0055\n     13     17    0.0060\n     12     13    0.0020\n     13     20    0.0112\n     13     19    0.0095\n     10     13    0.0023\n      9     13    0.0053\n     13     14    0.0009\n     13     15    0.0011\n    266    286    0.0315\n    266    271    0.0102\n    266    267    0.0091\n    182    226    0.0385\n    220    226    0.0064\n     79    118    0.0250\n     67     79    0.0138\n    208    258    0.0416\n    152    187    0.0235\n     44     67    0.0356\n     41     67    0.0522\n    201    228    0.0244\n    228    236    0.0033\n    261    282    0.0223\n     47    142    0.0714\n    142    144    0.0194\n     65    142    0.0572\n     45    142    0.0655\n     76    142    0.0717\n    121    142    0.0629\n    321    323    0.0061\n     98    144    0.0347\n     76     98    0.0204\n      8     27    0.0351\n     56     59    0.0078\n     40    144    0.0728\n     40     45    0.0180\n     40     50    0.0133\n     40     46    0.0167\n     40     55    0.0200\n     74    201    0.0637\n     42     47    0.0089\n    138    201    0.0333\n    138    183    0.0253\n    124    138    0.0076\n    151    201    0.0276\n     65    151    0.0485\n     66    151    0.0422\n    261    268    0.0143\n    118    154    0.0152\n    154    182    0.0180\n    154    164    0.0062\n    154    171    0.0128\n    193    201    0.0063\n    102    118    0.0236\n    102    182    0.0378\n    102    120    0.0073\n    102    107    0.0087\n    316    317    0.0028\n    314    317    0.0036\n     88    118    0.0142\n     29     47    0.1134\n     55    144    0.0556\n     50     55    0.0112\n    184    293    0.1008\n    231    258    0.0164\n    118    153    0.0994\n    153    248    0.0845\n     67    153    0.0829\n    153    293    0.1171\n    153    203    0.0806\n      3      5    0.0269\n    118    164    0.0211\n    164    182    0.0128\n      8     24    0.0414\n     23     24    0.0100\n    118    134    0.0768\n    261    277    0.0122\n     47     58    0.0288\n     58     65    0.0294\n     58     59    0.0107\n     56     58    0.0180\n     54     58    0.0036\n    180    182    0.0095\n    269    270    0.0035\n     57    118    0.0435\n     57     70    0.0199\n     47     54    0.0273\n    107    118    0.0149\n     47     48    0.0107\n     48     65    0.0212\n     48     49    0.0048\n    327    330    0.0935\n     45     61    0.0302\n     50     61    0.0123\n     61     63    0.0070\n     40     61    0.0242\n     55     61    0.0067\n    182    211    0.0181\n    182    209    0.0261\n    206    209    0.0058\n    327    328    0.0093\n     97    104    0.0105\n    118    155    0.0157\n      1      8    0.1026\n      1      2    0.0436\n    199    201    0.0072\n    122    163    0.0220\n     16     22    0.0311\n    118    145    0.0200\n    145    182    0.0198\n    130    145    0.0071\n    145    148    0.0074\n     65    116    0.0331\n    108    116    0.0062\n     74    116    0.0203\n    116    151    0.0159\n     66    116    0.0271\n     47     60    0.0242\n     60     65    0.0225\n     59     60    0.0046\n     56     60    0.0124\n     58     60    0.0069\n     54     60    0.0087\n     60     64    0.0048\n     49     60    0.0119\n     29     31    0.0125\n     31     32    0.0043\n    321    324    0.0050\n     65     87    0.0223\n     66     87    0.0156\n    194    221    0.0207\n    165    201    0.0210\n    130    160    0.0148\n    182    195    0.0118\n    155    171    0.0094\n      6      7    0.0197\n      7      8    0.0488\n      8     38    0.1622\n     36     38    0.0549\n     37     38    0.0478\n     25     26    0.0057\n     35     36    0.0232\n     28     35    0.0425\n    150    320    0.2143\n    311    320    0.0968\n    147    320    0.2151\n    320    324    0.0054\n    182    207    0.0151\n    195    207    0.0058\n     64     65    0.0191\n     59     64    0.0057\n    118    168    0.0993\n    168    258    0.0647\n    144    168    0.0280\n    201    205    0.0099\n     47     49    0.0154\n     49     56    0.0087\n      8     37    0.1999\n      8     34    0.0774\n    124    201    0.0408\n     17     19    0.0038\n     17     20    0.0053\n     19     20    0.0018\n     30     34    0.0184\n     10     12    0.0010\n      9     10    0.0030\n      9     12    0.0037\n     11     13    0.0033\n     10     11    0.0011\n      9     11    0.0022\n    315    316    0.0013\n    315    317    0.0022\n',zc='\n*Vertices     35\n  1 "ARG"    0.3784 0.7257 0.5\n  2 "AUT"    0.7070 0.3091 0.5\n  3 "BEL"    0.3112 0.3627 0.5\n  4 "BGR"    0.4901 0.2231 0.5\n  5 "BRA"    0.4183 0.8734 0.5\n  6 "CHE"    0.8277 0.7710 0.5\n  7 "CHL"    0.0570 0.4660 0.5\n  8 "CMR"    0.6661 0.4183 0.5\n  9 "COL"    0.1708 0.7309 0.5\n 10 "DEU"    0.6178 0.2022 0.5\n 11 "DNK"    0.7995 0.3587 0.5\n 12 "ESP"    0.5580 0.5982 0.5\n 13 "FRA"    0.6993 0.2113 0.5\n 14 "GBR"    0.8284 0.4099 0.5\n 15 "GRE"    0.8529 0.5632 0.5\n 16 "HRV"    0.6570 0.7437 0.5\n 17 "IRN"    0.6526 0.0804 0.5\n 18 "ITA"    0.4556 0.6498 0.5\n 19 "JAM"    0.8974 0.5263 0.5\n 20 "JPN"    0.7505 0.9353 0.5\n 21 "KOR"    0.9060 0.8003 0.5\n 22 "MAR"    0.4052 0.5224 0.5\n 23 "MEX"    0.5903 0.8579 0.5\n 24 "NGA"    0.4846 0.5060 0.5\n 25 "NLD"    0.6541 0.5668 0.5\n 26 "NOR"    0.7761 0.4672 0.5\n 27 "PRT"    0.1998 0.4088 0.5\n 28 "PRY"    0.5335 0.8248 0.5\n 29 "ROM"    0.6593 0.5079 0.5\n 30 "SCO"    0.9430 0.4508 0.5\n 31 "TUN"    0.4882 0.0647 0.5\n 32 "TUR"    0.5347 0.3531 0.5\n 33 "USA"    0.3644 0.1830 0.5\n 34 "YUG"    0.5178 0.7720 0.5\n 35 "ZAF"    0.7861 0.6645 0.5\n*Arcs\n  1 12   4\n  1 18   9\n  2 10   7\n  2 12   1\n  2 13   1\n  2 14   1\n  2 18   1\n  3 10   2\n  3 13   2\n  3 18   2\n  3 25   2\n  4 10   4\n  4 12   1\n  4 27   1\n  4 32   4\n  5 12   4\n  5 13   1\n  5 18   5\n  5 20   1\n  5 27   1\n  7  1   1\n  7 18   1\n  7 33   1\n  8  2   1\n  8 10   1\n  8 12   2\n  8 13   7\n  8 15   1\n  8 18   2\n  8 20   2\n  8 27   2\n  8 32   2\n  9  1   3\n  9  5   2\n  9 12   1\n  9 18   1\n  9 33   2\n 10 12   1\n 10 13   1\n 10 18   2\n 11 10   3\n 11 12   1\n 11 14   6\n 11 18   1\n 11 25   1\n 11 30   3\n 11 32   1\n 16  2   1\n 16 10   2\n 16 12   4\n 16 14   2\n 16 18   4\n 16 32   1\n 17 10   3\n 18 12   2\n 18 13   1\n 18 14   2\n 19 14   7\n 21 13   1\n 21 20   4\n 22 10   3\n 22 12   4\n 22 13   1\n 22 18   1\n 22 27   3\n 22 31   1\n 24  3   2\n 24  6   1\n 24 10   1\n 24 12   4\n 24 13   3\n 24 18   2\n 24 25   3\n 24 32   3\n 24 33   1\n 24 35   1\n 25 10   1\n 25 12   5\n 25 14   4\n 25 18   2\n 26 10   3\n 26 12   1\n 26 14  12\n 26 15   2\n 26 18   1\n 26 30   3\n 28  5  10\n 28 12   2\n 28 23   1\n 29  3   1\n 29 10   2\n 29 12   6\n 29 14   2\n 29 15   2\n 29 25   1\n 29 32   4\n 30 13   1\n 30 14   7\n 31 10   2\n 31 13   3\n 33 10   2\n 33 14   2\n 33 25   1\n 34 10   1\n 34 12   9\n 34 13   1\n 34 14   1\n 34 18   7\n 34 20   2\n 35  2   1\n 35  6   1\n 35 10   2\n 35 12   2\n 35 13   1\n 35 14   4\n 35 18   1\n 35 25   2\n 35 32   3\n*Edges\n',Bc=function(){function t(t){this.np=t,this.graphType="football",this.graphUsAirline=this.np.parse(Lc),this.graphFootball=this.np.parse(zc),this.graph=this.graphFootball}return t.prototype.ngOnInit=function(){},t}(),Fc=function(){return function(){}}(),jc=function(){return function(){}}(),Hc=function(){return function(){}}(),Vc=function(){function t(){}return t.prototype.parse=function(t,e){var n,i;void 0===e&&(e="\n");var o=new Hc;o.nodes=[],o.edges=[];var r=null,s=t.split(e);try{for(var a=l(s),h=a.next();!h.done;h=a.next()){var u=h.value;if(u.indexOf("Vertices")>=0)r="node";else if(u.indexOf("*Arcs")>=0)r="arc";else if(u.indexOf("*Edges")>=0)r="edge";else switch(r){case"node":var d=this._parseNode(u);d&&o.nodes.push(d);break;case"arc":var c=this._parseArc(u);c&&o.edges.push(c);break;case"edge":var p=this._parseEdge(u);p&&o.edges.push(p)}}}catch(f){n={error:f}}finally{try{h&&!h.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o},t.prototype._parseLine=function(t,e){void 0===e&&(e=" ");for(var n=[],i=!1,o="",r=0;r<t.length;r++)t[r]!=e||i?'"'!=t[r]||i?'"'==t[r]&&i?(i=!1,n.push(o),o=""):o+=t[r]:i=!0:(o.length>0&&n.push(o),o="",i=!1);return o.length>0&&n.push(o),n},t.prototype._parseNode=function(t){var e=new Fc,n=this._parseLine(t);return n.length<=0?null:(e.id=n[0],e.weight=parseFloat(n[4]),e.attrs={name:n[1],x:parseFloat(n[2]),y:parseFloat(n[3])},e)},t.prototype._parseArc=function(t){var e=new jc,n=this._parseLine(t);return n.length<=0?null:(e.directed=!0,e.srcID=n[0],e.tgtID=n[1],e.weight=parseFloat(n[2]),e)},t.prototype._parseEdge=function(t){var e=new jc,n=this._parseLine(t);return n.length<=0?null:(e.directed=!1,e.srcID=n[0],e.tgtID=n[1],e.weight=parseFloat(n[2]),e)},t.ngInjectableDef=xt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Wc=ei({encapsulation:0,styles:[["h2[_ngcontent-%COMP%]{background:#f0f0f0;margin-top:32px;padding:16px 32px}"]],data:{}});function Uc(t){return es(0,[(t()(),Hr(0,0,null,null,4,"div",[["class","network-container"]],null,null,null,null,null)),(t()(),Hr(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Jr(-1,null,["Vis.js"])),(t()(),Hr(3,0,null,null,1,"app-vis",[],null,null,null,Tc,Cc)),uo(4,4308992,null,0,Sc,[],{graph:[0,"graph"]},null),(t()(),Hr(5,0,null,null,4,"div",[["class","network-container"]],null,null,null,null,null)),(t()(),Hr(6,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Jr(-1,null,["sigma.js"])),(t()(),Hr(8,0,null,null,1,"app-sigma",[],null,null,null,Pc,Oc)),uo(9,4308992,null,0,Dc,[],{graph:[0,"graph"]},null),(t()(),Hr(10,0,null,null,4,"div",[["class","network-container"]],null,null,null,null,null)),(t()(),Hr(11,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Jr(-1,null,["cytoscape.js"])),(t()(),Hr(13,0,null,null,1,"app-cytoscape",[],null,null,null,Rc,Nc)),uo(14,4308992,null,0,Ac,[],{graph:[0,"graph"]},null)],function(t,e){var n=e.component;t(e,4,0,n.graph),t(e,9,0,n.graph),t(e,14,0,n.graph)},null)}function Yc(t){return es(0,[(t()(),Hr(0,0,null,null,1,"app-root-container",[],null,null,null,Uc,Wc)),uo(1,114688,null,0,Bc,[Vc],null,null)],function(t,e){t(e,1,0)},null)}var Gc=Hi("app-root-container",Bc,Yc,{},{},[]),qc=function(){function t(t){this.np=t,this.graph=this.np.parse(zc)}return t.prototype.ngOnInit=function(){},t}(),Xc=ei({encapsulation:0,styles:[[""]],data:{}});function Kc(t){return es(0,[(t()(),Hr(0,0,null,null,1,"app-cytoscape",[],null,null,null,Rc,Nc)),uo(1,4308992,null,0,Ac,[],{graph:[0,"graph"]},null)],function(t,e){t(e,1,0,e.component.graph)},null)}function Zc(t){return es(0,[(t()(),Hr(0,0,null,null,1,"app-cytoscape-container",[],null,null,null,Kc,Xc)),uo(1,114688,null,0,qc,[Vc],null,null)],function(t,e){t(e,1,0)},null)}var Qc=Hi("app-cytoscape-container",qc,Zc,{},{},[]),Jc=function(){function t(t){this.np=t,this.graph=this.np.parse(zc)}return t.prototype.ngOnInit=function(){},t}(),$c=ei({encapsulation:0,styles:[[""]],data:{}});function tp(t){return es(0,[(t()(),Hr(0,0,null,null,1,"app-sigma",[],null,null,null,Pc,Oc)),uo(1,4308992,null,0,Dc,[],{graph:[0,"graph"]},null)],function(t,e){t(e,1,0,e.component.graph)},null)}function ep(t){return es(0,[(t()(),Hr(0,0,null,null,1,"app-sigma-container",[],null,null,null,tp,$c)),uo(1,114688,null,0,Jc,[Vc],null,null)],function(t,e){t(e,1,0)},null)}var np=Hi("app-sigma-container",Jc,ep,{},{},[]),ip=function(){function t(t){this.np=t,this.graph=this.np.parse(zc)}return t.prototype.ngOnInit=function(){},t}(),op=ei({encapsulation:0,styles:[[""]],data:{}});function rp(t){return es(0,[(t()(),Hr(0,0,null,null,1,"app-vis",[],null,null,null,Tc,Cc)),uo(1,4308992,null,0,Sc,[],{graph:[0,"graph"]},null)],function(t,e){t(e,1,0,e.component.graph)},null)}function sp(t){return es(0,[(t()(),Hr(0,0,null,null,1,"app-vis-container",[],null,null,null,rp,op)),uo(1,114688,null,0,ip,[Vc],null,null)],function(t,e){t(e,1,0)},null)}var ap=Hi("app-vis-container",ip,sp,{},{},[]),lp=ei({encapsulation:0,styles:[[""]],data:{}});function hp(t){return es(0,[(t()(),Hr(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),uo(1,212992,null,0,Jd,[Qd,zn,on,[8,null],On],null,null)],function(t,e){t(e,1,0)},null)}function up(t){return es(0,[(t()(),Hr(0,0,null,null,1,"app-root",[],null,null,null,hp,lp)),uo(1,49152,null,0,ua,[],null,null)],null,null)}var dp=Hi("app-root",ua,up,{},{},[]),cp=function(){return function(){}}(),pp=aa(ha,[ua],function(t){return function(t){for(var e={},n=[],i=!1,o=0;o<t.length;o++){var r=t[o];r.token===Gt&&!0===r.value&&(i=!0),1073741824&r.flags&&n.push(r.token),r.index=o,e[Jn(r.token)]=r}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([Ii(512,on,rn,[[8,[Ec,Gc,Qc,np,ap,dp]],[3,on],an]),Ii(5120,Vo,Br,[[3,Vo]]),Ii(4608,xa,_a,[Vo,[2,wa]]),Ii(5120,So,Fr,[rr]),Ii(5120,Ro,Lo,[]),Ii(5120,Mn,Lr,[]),Ii(5120,Dn,zr,[]),Ii(4608,wh,xh,[ka]),Ii(6144,Ae,null,[wh]),Ii(4608,ph,gh,[]),Ii(5120,jl,function(t,e,n,i,o,r,s,a){return[new dh(t,e,n),new bh(i),new vh(o,r,s,a)]},[ka,rr,Fo,ka,ka,ph,Ho,[2,fh]]),Ii(4608,Hl,Hl,[jl,rr]),Ii(135680,Ul,Ul,[ka]),Ii(4608,Ql,Ql,[Hl,Ul,Ro]),Ii(6144,pn,null,[Ql]),Ii(6144,Wl,null,[Ul]),Ii(4608,pr,pr,[rr]),Ii(5120,Fu,gc,[Kd]),Ii(4608,nc,nc,[]),Ii(6144,tc,null,[nc]),Ii(135680,ic,ic,[Kd,kr,Zo,Xt,tc]),Ii(4608,ec,ec,[]),Ii(5120,oc,uc,[Kd,Ca,rc]),Ii(5120,bc,yc,[vc]),Ii(5120,jo,function(t){return[t]},[bc]),Ii(4608,Vc,Vc,[]),Ii(1073742336,Ea,Ea,[]),Ii(1024,Fe,Dh,[]),Ii(1024,mr,function(){return[lc()]},[]),Ii(512,vc,vc,[Xt]),Ii(1024,Ao,function(t,e){return[(n=t,zl("probe",Fl),zl("coreTokens",r({},Bl,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return Fl}),mc(e)];var n},[[2,mr],vc]),Ii(512,No,No,[[2,Ao]]),Ii(131584,_r,_r,[rr,Ho,Xt,Fe,on,No]),Ii(1073742336,jr,jr,[_r]),Ii(1073742336,Oh,Oh,[[3,Oh]]),Ii(1024,sc,cc,[[3,Kd]]),Ii(512,mu,yu,[]),Ii(512,Qd,Qd,[]),Ii(256,rc,{},[]),Ii(1024,pa,dc,[da,[2,fa],rc]),Ii(512,ga,ga,[pa,da]),Ii(512,Zo,Zo,[]),Ii(512,kr,Tr,[Zo,[2,Sr]]),Ii(1024,Vd,function(){return[[{path:"",component:Bc},{path:"cytoscape",component:qc},{path:"sigma",component:Jc},{path:"vis",component:ip}]]},[]),Ii(1024,Kd,fc,[_r,mu,Qd,ga,Xt,kr,Zo,Vd,rc,[2,Ud],[2,jd]]),Ii(1073742336,hc,hc,[[2,sc],[2,Kd]]),Ii(1073742336,cp,cp,[]),Ii(1073742336,ha,ha,[]),Ii(256,Gt,!0,[])])});(function(){if(he)throw new Error("Cannot enable prod mode after platform setup.");le=!1})(),Mh().bootstrapModuleFactory(pp).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);