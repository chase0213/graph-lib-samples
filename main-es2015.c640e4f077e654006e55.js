(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,i){t.exports=i("zUnb")},"4rB0":function(t,e,i){(function(t){"use strict";var e={},i=function(t){var n,o,r,s,a;i.classes.dispatcher.extend(this);var l=this,h=t||{};if("string"==typeof h||h instanceof HTMLElement?h={renderers:[h]}:"[object Array]"===Object.prototype.toString.call(h)&&(h={renderers:h}),s=h.renderers||h.renderer||h.container,h.renderers&&0!==h.renderers.length||("string"==typeof s||s instanceof HTMLElement||"object"==typeof s&&"container"in s)&&(h.renderers=[s]),h.id){if(e[h.id])throw'sigma: Instance "'+h.id+'" already exists.';Object.defineProperty(this,"id",{value:h.id})}else{for(a=0;e[a];)a++;Object.defineProperty(this,"id",{value:""+a})}for(e[this.id]=this,this.settings=new i.classes.configurable(i.settings,h.settings||{}),Object.defineProperty(this,"graph",{value:new i.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),Object.defineProperty(this,"camera",{get:function(){return this.cameras[0]}}),Object.defineProperty(this,"events",{value:["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","doubleClickNode","doubleClickNodes","rightClickNode","rightClickNodes","overNode","overNodes","outNode","outNodes","downNode","downNodes","upNode","upNodes"],configurable:!0}),this._handler=(function(t){var e,i={};for(e in t.data)i[e]=t.data[e];i.renderer=t.target,this.dispatchEvent(t.type,i)}).bind(this),n=0,o=(r=h.renderers||[]).length;n<o;n++)this.addRenderer(r[n]);for(n=0,o=(r=h.middlewares||[]).length;n<o;n++)this.middlewares.push("string"==typeof r[n]?i.middlewares[r[n]]:r[n]);"object"==typeof h.graph&&h.graph&&(this.graph.read(h.graph),this.refresh()),window.addEventListener("resize",function(){l.settings&&l.refresh()})};if(i.prototype.addCamera=function(e){var n,o=this;if(!arguments.length){for(e=0;this.cameras[""+e];)e++;e=""+e}if(this.cameras[e])throw'sigma.addCamera: The camera "'+e+'" already exists.';return n=new i.classes.camera(e,this.graph,this.settings),this.cameras[e]=n,n.quadtree=new i.classes.quad,i.classes.edgequad!==t&&(n.edgequadtree=new i.classes.edgequad),n.bind("coordinatesUpdated",function(t){o.renderCamera(n,n.isAnimated)}),this.renderersPerCamera[e]=[],n},i.prototype.killCamera=function(t){if(!(t="string"==typeof t?this.cameras[t]:t))throw"sigma.killCamera: The camera is undefined.";var e,i=this.renderersPerCamera[t.id];for(e=i.length-1;e>=0;e--)this.killRenderer(i[e]);return delete this.renderersPerCamera[t.id],delete this.cameraFrames[t.id],delete this.cameras[t.id],t.kill&&t.kill(),this},i.prototype.addRenderer=function(t){var e,n,o,r,s=t||{};if("string"==typeof s?s={container:document.getElementById(s)}:s instanceof HTMLElement&&(s={container:s}),"string"==typeof s.container&&(s.container=document.getElementById(s.container)),"id"in s)e=s.id;else{for(e=0;this.renderers[""+e];)e++;e=""+e}if(this.renderers[e])throw'sigma.addRenderer: The renderer "'+e+'" already exists.';if(n=(n="function"==typeof s.type?s.type:i.renderers[s.type])||i.renderers.def,o="camera"in s?s.camera instanceof i.classes.camera?s.camera:this.cameras[s.camera]||this.addCamera(s.camera):this.addCamera(),this.cameras[o.id]!==o)throw"sigma.addRenderer: The camera is not properly referenced.";return r=new n(this.graph,o,this.settings,s),this.renderers[e]=r,Object.defineProperty(r,"id",{value:e}),r.bind&&r.bind(["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","clickEdge","clickEdges","doubleClickNode","doubleClickNodes","doubleClickEdge","doubleClickEdges","rightClickNode","rightClickNodes","rightClickEdge","rightClickEdges","overNode","overNodes","overEdge","overEdges","outNode","outNodes","outEdge","outEdges","downNode","downNodes","downEdge","downEdges","upNode","upNodes","upEdge","upEdges"],this._handler),this.renderersPerCamera[o.id].push(r),r},i.prototype.killRenderer=function(t){if(!(t="string"==typeof t?this.renderers[t]:t))throw"sigma.killRenderer: The renderer is undefined.";var e=this.renderersPerCamera[t.camera.id],i=e.indexOf(t);return i>=0&&e.splice(i,1),t.kill&&t.kill(),delete this.renderers[t.id],this},i.prototype.refresh=function(e){var n,o,r,s,a,l,h=0;for(e=e||{},n=0,o=(s=this.middlewares||[]).length;n<o;n++)s[n].call(this,0===n?"":"tmp"+h+":",n===o-1?"ready:":"tmp"+ ++h+":");for(r in this.cameras)(a=this.cameras[r]).settings("autoRescale")&&this.renderersPerCamera[a.id]&&this.renderersPerCamera[a.id].length?i.middlewares.rescale.call(this,s.length?"ready:":"",a.readPrefix,{width:this.renderersPerCamera[a.id][0].width,height:this.renderersPerCamera[a.id][0].height}):i.middlewares.copy.call(this,s.length?"ready:":"",a.readPrefix),e.skipIndexation||(l=i.utils.getBoundaries(this.graph,a.readPrefix),a.quadtree.index(this.graph.nodes(),{prefix:a.readPrefix,bounds:{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}),a.edgequadtree!==t&&a.settings("drawEdges")&&a.settings("enableEdgeHovering")&&a.edgequadtree.index(this.graph,{prefix:a.readPrefix,bounds:{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}));for(n=0,o=(s=Object.keys(this.renderers)).length;n<o;n++)if(this.renderers[s[n]].process)if(this.settings("skipErrors"))try{this.renderers[s[n]].process()}catch(d){console.log('Warning: The renderer "'+s[n]+'" crashed on ".process()"')}else this.renderers[s[n]].process();return this.render(),this},i.prototype.render=function(){var t,e,i;for(t=0,e=(i=Object.keys(this.renderers)).length;t<e;t++)if(this.settings("skipErrors"))try{this.renderers[i[t]].render()}catch(n){this.settings("verbose")&&console.log('Warning: The renderer "'+i[t]+'" crashed on ".render()"')}else this.renderers[i[t]].render();return this},i.prototype.renderCamera=function(t,e){var i,n,o,r=this;if(e)for(i=0,n=(o=this.renderersPerCamera[t.id]).length;i<n;i++)if(this.settings("skipErrors"))try{o[i].render()}catch(s){this.settings("verbose")&&console.log('Warning: The renderer "'+o[i].id+'" crashed on ".render()"')}else o[i].render();else if(!this.cameraFrames[t.id]){for(i=0,n=(o=this.renderersPerCamera[t.id]).length;i<n;i++)if(this.settings("skipErrors"))try{o[i].render()}catch(s){this.settings("verbose")&&console.log('Warning: The renderer "'+o[i].id+'" crashed on ".render()"')}else o[i].render();this.cameraFrames[t.id]=requestAnimationFrame(function(){delete r.cameraFrames[t.id]})}return this},i.prototype.kill=function(){var t;for(t in this.dispatchEvent("kill"),this.graph.kill(),delete this.middlewares,this.renderers)this.killRenderer(this.renderers[t]);for(t in this.cameras)this.killCamera(this.cameras[t]);for(t in delete this.renderers,delete this.cameras,this)this.hasOwnProperty(t)&&delete this[t];delete e[this.id]},i.instances=function(t){return arguments.length?e[t]:i.utils.extend({},e)},i.version="1.2.1",void 0!==this.sigma)throw"An object called sigma is already in the global scope.";this.sigma=i}).call(this),function(i){"use strict";if(i.conrad)throw new Error("conrad already exists");var n,o=!1,r={},s={},a=[],l={},h=[],d=!1,u={frameDuration:20,history:!0},c=Object.create(null);function p(t,e){var i,n,o,r,s,a,l=Array.isArray(t)?t:t.split(/ /);for(e=void 0===e?{}:e,i=0,o=l.length;i!==o;i+=1)if(c[a=l[i]])for(s={type:a,data:e||{}},n=0,r=c[a].length;n!==r;n+=1)try{c[a][n].handler(s)}catch(h){}}function f(){var t,e,i,n,o=!1,r=_(),s=a.shift();if(i=s.job(),r=_()-r,s.done++,s.time+=r,s.currentTime+=r,s.weightTime=s.currentTime/(s.weight||1),s.averageTime=s.time/s.done,!(n=s.count?s.count<=s.done:!i)){for(t=0,e=a.length;t<e;t++)if(a[t].weightTime>s.weightTime){a.splice(t,0,s),o=!0;break}o||a.push(s)}return n?s:null}function g(t){var e=a.length;s[t.id]=t,t.status="running",e&&(t.weightTime=a[e-1].weightTime,t.currentTime=t.weightTime*(t.weight||1)),t.startTime=_(),p("jobStarted",w(t)),a.push(t)}function m(){var t,e,i;for(t in r)(e=r[t]).after?l[t]=e:g(e),delete r[t];for(o=!!a.length;a.length&&_()-n<u.frameDuration;)if(i=f())for(t in v(i.id),l)l[t].after===i.id&&(g(l[t]),delete l[t]);o?(n=_(),p("enterFrame"),setTimeout(m,0)):p("stop")}function v(t){var e,i,n,o,d=!1;if(Array.isArray(t))for(e=0,i=t.length;e<i;e++)v(t[e]);else{if("string"!=typeof t)throw new Error("[conrad.killJob] Wrong arguments.");for(e=0,i=(n=[s,l,r]).length;e<i;e++)t in n[e]&&(o=n[e][t],u.history&&(o.status="done",h.push(o)),p("jobEnded",w(o)),delete n[e][t],"function"==typeof o.end&&o.end(),d=!0);for(e=0,i=(n=a).length;e<i;e++)if(n[e].id===t){n.splice(e,1);break}if(!d)throw new Error('[conrad.killJob] Job "'+t+'" not found.')}return this}function y(t){var e=r[t]||s[t]||l[t];return e?b(e):null}function b(){var t,e,i={};for(t=arguments.length-1;t>=0;t--)for(e in arguments[t])i[e]=arguments[t][e];return i}function w(t){var e,i,n;if(!t)return t;if(Array.isArray(t))for(e=[],i=0,n=t.length;i<n;i++)e.push(w(t[i]));else if("object"==typeof t)for(i in e={},t)e[i]=w(t[i]);else e=t;return e}function x(t){var e,i=[];for(e in t)i.push(t[e]);return i}function _(){return Date.now?Date.now():(new Date).getTime()}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var E={hasJob:y,addJob:function t(e,i){var s,a,l;if(Array.isArray(e)){for(d=!0,s=0,a=e.length;s<a;s++)t(e[s].id,b(e[s],i));d=!1,o||(n=_(),p("start"),m())}else if("object"==typeof e)if("string"==typeof e.id)t(e.id,e);else{for(s in d=!0,e)t(s,b("function"==typeof e[s]?{job:e[s]}:e[s],i));d=!1,o||(n=_(),p("start"),m())}else{if("string"!=typeof e)throw new Error("[conrad.addJob] Wrong arguments.");if(y(e))throw new Error('[conrad.addJob] Job with id "'+e+'" already exists.');if("function"==typeof i)l={id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:i};else{if("object"!=typeof i)throw new Error("[conrad.addJob] Wrong arguments.");l=b({id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},i)}r[e]=l,p("jobAdded",w(l)),o||d||(n=_(),p("start"),m())}return this},killJob:v,killAll:function(){var t,e=b(r,s,l);if(u.history)for(t in e)e[t].status="done",h.push(e[t]),"function"==typeof e[t].end&&e[t].end();return r={},l={},s={},a=[],o=!1,this},settings:function(t,e){var i;if("string"==typeof a1&&1===arguments.length)return u[a1];for(var n in i="object"==typeof a1&&1===arguments.length&&a1||{},"string"==typeof a1&&(i[a1]=a2),i)void 0!==i[n]?u[n]=i[n]:delete u[n];return this},getStats:function(t,e){var i,n,o,a,d,u,c;if(!arguments.length){for(n in d=[],r)d.push(r[n]);for(n in l)d.push(l[n]);for(n in s)d.push(s[n]);d=d.concat(h)}if("string"==typeof t)switch(t){case"waiting":d=x(l);break;case"running":d=x(s);break;case"done":d=h;break;default:u=t}if(t instanceof RegExp&&(u=t),!u&&("string"==typeof e||e instanceof RegExp)&&(u=e),u){if(c="string"==typeof u,d instanceof Array)i=d;else if("object"==typeof d)for(n in i=[],d)i=i.concat(d[n]);else{for(n in i=[],r)i.push(r[n]);for(n in l)i.push(l[n]);for(n in s)i.push(s[n]);i=i.concat(h)}for(d=[],o=0,a=i.length;o<a;o++)(c?i[o].id===u:i[o].id.match(u))&&d.push(i[o])}return w(d)},isRunning:function(){return o},clearHistory:function(){return h=[],this},bind:function t(e,i){var n,o,r,s;if(arguments.length)if(1===arguments.length&&Object(arguments[0])===arguments[0])for(e in arguments[0])t(e,arguments[0][e]);else if(arguments.length>1)for(n=0,o=(s=Array.isArray(e)?e:e.split(/ /)).length;n!==o;n+=1)c[r=s[n]]||(c[r]=[]),c[r].push({handler:i})},unbind:function(t,e){var i,n,o,r,s,a,l=Array.isArray(t)?t:t.split(/ /);if(arguments.length)if(e)for(i=0,n=l.length;i!==n;i+=1){if(c[a=l[i]]){for(s=[],o=0,r=c[a].length;o!==r;o+=1)c[a][o].handler!==e&&s.push(c[a][o]);c[a]=s}c[a]&&0===c[a].length&&delete c[a]}else for(i=0,n=l.length;i!==n;i+=1)delete c[l[i]];else c=Object.create(null)},version:"0.1.0"};t.exports&&(e=t.exports=E),e.conrad=E,i.conrad=E}(this);var n=this.sigma,o=this.conrad;n.conrad=o,"undefined"==typeof HTMLElement&&(HTMLElement=function(){}),"undefined"==typeof window&&(window={addEventListener:function(){}}),t.exports&&(e=t.exports=n),e.sigma=n,(function(t){"use strict";if(void 0===n)throw"sigma is not declared";var e,i=this;n.utils=n.utils||{},n.utils.extend=function(){var t,e,i={},n=arguments.length;for(t=n-1;t>=0;t--)for(e in arguments[t])i[e]=arguments[t][e];return i},n.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},n.utils.pkg=function(t){return(t||"").split(".").reduce(function(t,e){return e in t?t[e]:t[e]={}},i)},n.utils.id=(e=0,function(){return++e});var o={};n.utils.floatColor=function(t){if(o[t])return o[t];var e=t,i=0,n=0,r=0;"#"===t[0]?3===(t=t.slice(1)).length?(i=parseInt(t.charAt(0)+t.charAt(0),16),n=parseInt(t.charAt(1)+t.charAt(1),16),r=parseInt(t.charAt(2)+t.charAt(2),16)):(i=parseInt(t.charAt(0)+t.charAt(1),16),n=parseInt(t.charAt(2)+t.charAt(3),16),r=parseInt(t.charAt(4)+t.charAt(5),16)):t.match(/^ *rgba? *\(/)&&(i=+(t=t.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/))[1],n=+t[2],r=+t[3]);var s=256*i*256+256*n+r;return o[e]=s,s},n.utils.zoomTo=function(t,e,i,o,r){var s,a,l,h=t.settings;(a=Math.max(h("zoomMin"),Math.min(h("zoomMax"),t.ratio*o)))!==t.ratio&&(l={x:e*(1-(o=a/t.ratio))+t.x,y:i*(1-o)+t.y,ratio:a},r&&r.duration?(s=n.misc.animation.killAll(t),r=n.utils.extend(r,{easing:s?"quadraticOut":"quadraticInOut"}),n.misc.animation.camera(t,l,r)):(t.goTo(l),r&&r.onComplete&&r.onComplete()))},n.utils.getQuadraticControlPoint=function(t,e,i,n){return{x:(t+i)/2+(n-e)/4,y:(e+n)/2+(t-i)/4}},n.utils.getPointOnQuadraticCurve=function(t,e,i,n,o,r,s){return{x:Math.pow(1-t,2)*e+2*(1-t)*t*r+Math.pow(t,2)*n,y:Math.pow(1-t,2)*i+2*(1-t)*t*s+Math.pow(t,2)*o}},n.utils.getPointOnBezierCurve=function(t,e,i,n,o,r,s,a,l){var h=Math.pow(1-t,3),d=3*t*Math.pow(1-t,2),u=3*Math.pow(t,2)*(1-t),c=Math.pow(t,3);return{x:h*e+d*r+u*a+c*n,y:h*i+d*s+u*l+c*o}},n.utils.getSelfLoopControlPoints=function(t,e,i){return{x1:t-7*i,y1:e,x2:t,y2:e+7*i}},n.utils.getDistance=function(t,e,i,n){return Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2))},n.utils.getCircleIntersection=function(t,e,i,n,o,r){var s,a,l,h,d,u,c,p,f;return a=n-t,l=o-e,!((h=Math.sqrt(l*l+a*a))>i+r)&&!(h<Math.abs(i-r))&&(f=e+l*(s=(i*i-r*r+h*h)/(2*h))/h,{xi:(p=t+a*s/h)+(u=(d=Math.sqrt(i*i-s*s))/h*-l),xi_prime:p-u,yi:f+(c=a*(d/h)),yi_prime:f-c})},n.utils.isPointOnSegment=function(t,e,i,o,r,s,a){return Math.abs((e-o)*(r-i)-(t-i)*(s-o))/n.utils.getDistance(i,o,r,s)<a&&Math.min(i,r)<=t&&t<=Math.max(i,r)&&Math.min(o,s)<=e&&e<=Math.max(o,s)},n.utils.isPointOnQuadraticCurve=function(t,e,i,o,r,s,a,l,h){var d=n.utils.getDistance(i,o,r,s);if(Math.abs(t-i)>d||Math.abs(e-o)>d)return!1;for(var u,c=.5,p=n.utils.getDistance(t,e,i,o)<n.utils.getDistance(t,e,r,s)?-.01:.01,f=100,g=n.utils.getPointOnQuadraticCurve(c,i,o,r,s,a,l),m=n.utils.getDistance(t,e,g.x,g.y);f-- >0&&c>=0&&c<=1&&m>h&&(p>.001||p<-.001);)u=m,g=n.utils.getPointOnQuadraticCurve(c,i,o,r,s,a,l),(m=n.utils.getDistance(t,e,g.x,g.y))>u?c+=p=-p/2:c+p<0||c+p>1?(p/=2,m=u):c+=p;return m<h},n.utils.isPointOnBezierCurve=function(t,e,i,o,r,s,a,l,h,d,u){var c=n.utils.getDistance(i,o,a,l);if(Math.abs(t-i)>c||Math.abs(e-o)>c)return!1;for(var p,f=.5,g=n.utils.getDistance(t,e,i,o)<n.utils.getDistance(t,e,r,s)?-.01:.01,m=100,v=n.utils.getPointOnBezierCurve(f,i,o,r,s,a,l,h,d),y=n.utils.getDistance(t,e,v.x,v.y);m-- >0&&f>=0&&f<=1&&y>u&&(g>.001||g<-.001);)p=y,v=n.utils.getPointOnBezierCurve(f,i,o,r,s,a,l,h,d),(y=n.utils.getDistance(t,e,v.x,v.y))>p?f+=g=-g/2:f+g<0||f+g>1?(g/=2,y=p):f+=g;return y<u},n.utils.getX=function(e){return e.offsetX!==t&&e.offsetX||e.layerX!==t&&e.layerX||e.clientX!==t&&e.clientX},n.utils.getY=function(e){return e.offsetY!==t&&e.offsetY||e.layerY!==t&&e.layerY||e.clientY!==t&&e.clientY},n.utils.getPixelRatio=function(){var e=1;return window.screen.deviceXDPI!==t&&window.screen.logicalXDPI!==t&&window.screen.deviceXDPI>window.screen.logicalXDPI?e=window.screen.systemXDPI/window.screen.logicalXDPI:window.devicePixelRatio!==t&&(e=window.devicePixelRatio),e},n.utils.getWidth=function(e){var i=e.target.ownerSVGElement?e.target.ownerSVGElement.width:e.target.width;return"number"==typeof i&&i||i!==t&&i.baseVal!==t&&i.baseVal.value},n.utils.getCenter=function(t){var e=-1!==t.target.namespaceURI.indexOf("svg")?1:n.utils.getPixelRatio();return{x:n.utils.getWidth(t)/(2*e),y:n.utils.getHeight(t)/(2*e)}},n.utils.mouseCoords=function(t,e,i){return e=e||n.utils.getX(t),i=i||n.utils.getY(t),{x:e-n.utils.getCenter(t).x,y:i-n.utils.getCenter(t).y,clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,shiftKey:t.shiftKey}},n.utils.getHeight=function(e){var i=e.target.ownerSVGElement?e.target.ownerSVGElement.height:e.target.height;return"number"==typeof i&&i||i!==t&&i.baseVal!==t&&i.baseVal.value},n.utils.getDelta=function(e){return e.wheelDelta!==t&&e.wheelDelta||e.detail!==t&&-e.detail},n.utils.getOffset=function(t){for(var e=0,i=0;t;)i+=parseInt(t.offsetTop),e+=parseInt(t.offsetLeft),t=t.offsetParent;return{top:i,left:e}},n.utils.doubleClick=function(t,e,i){var o,r=0;t._doubleClickHandler=t._doubleClickHandler||{},t._doubleClickHandler[e]=t._doubleClickHandler[e]||[],(o=t._doubleClickHandler[e]).push(function(t){if(2==++r)return r=0,i(t);1===r&&setTimeout(function(){r=0},n.settings.doubleClickTimeout)}),t.addEventListener(e,o[o.length-1],!1)},n.utils.unbindDoubleClick=function(t,e){for(var i,n=(t._doubleClickHandler||{})[e]||[];i=n.pop();)t.removeEventListener(e,i);delete(t._doubleClickHandler||{})[e]},n.utils.easings=n.utils.easings||{},n.utils.easings.linearNone=function(t){return t},n.utils.easings.quadraticIn=function(t){return t*t},n.utils.easings.quadraticOut=function(t){return t*(2-t)},n.utils.easings.quadraticInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},n.utils.easings.cubicIn=function(t){return t*t*t},n.utils.easings.cubicOut=function(t){return--t*t*t+1},n.utils.easings.cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},n.utils.loadShader=function(t,e,i,n){var o=t.createShader(i);return t.shaderSource(o,e),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(n&&n('Error compiling shader "'+o+'":'+t.getShaderInfoLog(o)),t.deleteShader(o),null)},n.utils.loadProgram=function(t,e,i,n,o){var r,s=t.createProgram();for(r=0;r<e.length;++r)t.attachShader(s,e[r]);if(i)for(r=0;r<i.length;++r)t.bindAttribLocation(s,locations?locations[r]:r,opt_attribs[r]);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?s:(o&&o("Error in program linking: "+t.getProgramInfoLog(s)),t.deleteProgram(s),null)},n.utils.pkg("sigma.utils.matrices"),n.utils.matrices.translation=function(t,e){return[1,0,0,0,1,0,t,e,1]},n.utils.matrices.rotation=function(t,e){var i=Math.cos(t),n=Math.sin(t);return e?[i,-n,n,i]:[i,-n,0,n,i,0,0,0,1]},n.utils.matrices.scale=function(t,e){return e?[t,0,0,t]:[t,0,0,0,t,0,0,0,1]},n.utils.matrices.multiply=function(t,e,i){var n=i?2:3,o=t[0*n+0],r=t[0*n+1],s=t[0*n+2],a=t[1*n+0],l=t[1*n+1],h=t[1*n+2],d=t[2*n+0],u=t[2*n+1],c=t[2*n+2],p=e[0*n+0],f=e[0*n+1],g=e[0*n+2],m=e[1*n+0],v=e[1*n+1],y=e[1*n+2],b=e[2*n+0],w=e[2*n+1],x=e[2*n+2];return i?[o*p+r*m,o*f+r*v,a*p+l*m,a*f+l*v]:[o*p+r*m+s*b,o*f+r*v+s*w,o*g+r*y+s*x,a*p+l*m+h*b,a*f+l*v+h*w,a*g+l*y+h*x,d*p+u*m+c*b,d*f+u*v+c*w,d*g+u*y+c*x]}}).call(this),function(t){"use strict";var e,i=0,n=["ms","moz","webkit","o"];for(e=0;e<n.length&&!t.requestAnimationFrame;e++)t.requestAnimationFrame=t[n[e]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[e]+"CancelAnimationFrame"]||t[n[e]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(e,n){var o=(new Date).getTime(),r=Math.max(0,16-(o-i)),s=t.setTimeout(function(){e(o+r)},r);return i=o+r,s}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e,i,n=Array.prototype.slice.call(arguments,1),o=this;return i=function(){return o.apply(this instanceof e&&t?this:t,n.concat(Array.prototype.slice.call(arguments)))},(e=function(){}).prototype=this.prototype,i.prototype=new e,i})}(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.settings"),n.settings=n.utils.extend(n.settings||{},{clone:!0,immutable:!0,verbose:!1,classPrefix:"sigma",defaultNodeType:"def",defaultEdgeType:"def",defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:14,edgeColor:"source",minArrowSize:0,font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,webglOversamplingRatio:2,borderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",singleHover:!0,hoverFontStyle:"",labelHoverShadow:"default",labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",edgeHoverColor:"edge",edgeHoverSizeRatio:1,defaultEdgeHoverColor:"#000",edgeHoverExtremities:!1,drawEdges:!0,drawNodes:!0,drawLabels:!0,drawEdgeLabels:!1,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,touchEnabled:!0,mouseEnabled:!0,mouseWheelEnabled:!0,doubleClickEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoResize:!0,autoRescale:!0,enableCamera:!0,enableHovering:!0,enableEdgeHovering:!1,edgeHoverPrecision:5,rescaleIgnoreSize:!1,skipErrors:!1,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200})}).call(this),(function(){"use strict";var i=function(){Object.defineProperty(this,"_handlers",{value:{}})};i.prototype.bind=function(t,e){var i,n,o,r;if(1===arguments.length&&"object"==typeof arguments[0])for(t in arguments[0])this.bind(t,arguments[0][t]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";for(i=0,n=(r="string"==typeof t?t.split(" "):t).length;i!==n;i+=1)(o=r[i])&&(this._handlers[o]||(this._handlers[o]=[]),this._handlers[o].push({handler:e}))}return this},i.prototype.unbind=function(t,e){var i,n,o,r,s,a,l,h="string"==typeof t?t.split(" "):t;if(!arguments.length){for(s in this._handlers)delete this._handlers[s];return this}if(e)for(i=0,n=h.length;i!==n;i+=1){if(this._handlers[l=h[i]]){for(a=[],o=0,r=this._handlers[l].length;o!==r;o+=1)this._handlers[l][o].handler!==e&&a.push(this._handlers[l][o]);this._handlers[l]=a}this._handlers[l]&&0===this._handlers[l].length&&delete this._handlers[l]}else for(i=0,n=h.length;i!==n;i+=1)delete this._handlers[h[i]];return this},i.prototype.dispatchEvent=function(t,e){var i,n,o,r,s,a,l,h="string"==typeof t?t.split(" "):t;for(e=void 0===e?{}:e,i=0,n=h.length;i!==n;i+=1)if(this._handlers[l=h[i]]){for(a=this.getEvent(l,e),s=[],o=0,r=this._handlers[l].length;o!==r;o+=1)this._handlers[l][o].handler(a),this._handlers[l][o].one||s.push(this._handlers[l][o]);this._handlers[l]=s}return this},i.prototype.getEvent=function(t,e){return{type:t,data:e||{},target:this}},i.extend=function(t,e){var n;for(n in i.prototype)i.prototype.hasOwnProperty(n)&&(t[n]=i.prototype[n]);i.apply(t,e)},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=i):(t.exports&&(e=t.exports=i),e.dispatcher=i)}).call(this),(function(){"use strict";var i=function(){var t,e,n={},o=Array.prototype.slice.call(arguments,0),r=function(t,e){var i,s,a,l;if(1!==arguments.length||"string"!=typeof t){if("object"==typeof t&&"string"==typeof e)return void 0!==(t||{})[e]?t[e]:r(e);for(i="object"==typeof t&&void 0===e?t:{},"string"==typeof t&&(i[t]=e),s=0,a=(l=Object.keys(i)).length;s<a;s++)n[l[s]]=i[l[s]];return this}if(void 0!==n[t])return n[t];for(s=0,a=o.length;s<a;s++)if(void 0!==o[s][t])return o[s][t]};for(r.embedObjects=function(){var t=o.concat(n).concat(Array.prototype.splice.call(arguments,0));return i.apply({},t)},t=0,e=arguments.length;t<e;t++)r(arguments[t]);return r};void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=i):(t.exports&&(e=t.exports=i),e.configurable=i)}).call(this),(function(i){"use strict";var o=Object.create(null),r=Object.create(null),s=Object.create(null),a=Object.create(null),l=Object.create(null),h={immutable:!0,clone:!0},d=function(t){return h[t]},u=function(t){var e,i,n;for(e in n={settings:t||d,nodesArray:[],edgesArray:[],nodesIndex:Object.create(null),edgesIndex:Object.create(null),inNeighborsIndex:Object.create(null),outNeighborsIndex:Object.create(null),allNeighborsIndex:Object.create(null),inNeighborsCount:Object.create(null),outNeighborsCount:Object.create(null),allNeighborsCount:Object.create(null)},s)s[e].call(n);for(e in o)i=c(e,n,o[e]),this[e]=i,n[e]=i};function c(t,e,i){return function(){var n,o;for(n in l[t])l[t][n].apply(e,arguments);for(n in o=i.apply(e,arguments),a[t])a[t][n].apply(e,arguments);return o}}function p(t){var e;for(e in t)"hasOwnProperty"in t&&!t.hasOwnProperty(e)||delete t[e];return t}u.addMethod=function(t,e){if("string"!=typeof t||"function"!=typeof e||2!==arguments.length)throw"addMethod: Wrong arguments.";if(o[t]||u[t])throw'The method "'+t+'" already exists.';return o[t]=e,a[t]=Object.create(null),l[t]=Object.create(null),this},u.hasMethod=function(t){return!(!o[t]&&!u[t])},u.attach=function(t,e,i,n){if("string"!=typeof t||"string"!=typeof e||"function"!=typeof i||arguments.length<3||arguments.length>4)throw"attach: Wrong arguments.";var o;if("constructor"===t)o=s;else if(n){if(!l[t])throw'The method "'+t+'" does not exist.';o=l[t]}else{if(!a[t])throw'The method "'+t+'" does not exist.';o=a[t]}if(o[e])throw'A function "'+e+'" is already attached to the method "'+t+'".';return o[e]=i,this},u.attachBefore=function(t,e,i){return this.attach(t,e,i,!0)},u.addIndex=function(t,e){if("string"!=typeof t||Object(e)!==e||2!==arguments.length)throw"addIndex: Wrong arguments.";if(r[t])throw'The index "'+t+'" already exists.';var i;for(i in r[t]=e,e){if("function"!=typeof e[i])throw"The bindings must be functions.";u.attach(i,t,e[i])}return this},u.addMethod("addNode",function(t){if(Object(t)!==t||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof t.id&&"number"!=typeof t.id)throw"The node must have a string or number id.";if(this.nodesIndex[t.id])throw'The node "'+t.id+'" already exists.';var e,i=t.id,n=Object.create(null);if(this.settings("clone"))for(e in t)"id"!==e&&(n[e]=t[e]);else n=t;return this.settings("immutable")?Object.defineProperty(n,"id",{value:i,enumerable:!0}):n.id=i,this.inNeighborsIndex[i]=Object.create(null),this.outNeighborsIndex[i]=Object.create(null),this.allNeighborsIndex[i]=Object.create(null),this.inNeighborsCount[i]=0,this.outNeighborsCount[i]=0,this.allNeighborsCount[i]=0,this.nodesArray.push(n),this.nodesIndex[n.id]=n,this}),u.addMethod("addEdge",function(t){if(Object(t)!==t||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof t.id&&"number"!=typeof t.id)throw"The edge must have a string or number id.";if("string"!=typeof t.source&&"number"!=typeof t.source||!this.nodesIndex[t.source])throw"The edge source must have an existing node id.";if("string"!=typeof t.target&&"number"!=typeof t.target||!this.nodesIndex[t.target])throw"The edge target must have an existing node id.";if(this.edgesIndex[t.id])throw'The edge "'+t.id+'" already exists.';var e,i=Object.create(null);if(this.settings("clone"))for(e in t)"id"!==e&&"source"!==e&&"target"!==e&&(i[e]=t[e]);else i=t;return this.settings("immutable")?(Object.defineProperty(i,"id",{value:t.id,enumerable:!0}),Object.defineProperty(i,"source",{value:t.source,enumerable:!0}),Object.defineProperty(i,"target",{value:t.target,enumerable:!0})):(i.id=t.id,i.source=t.source,i.target=t.target),this.edgesArray.push(i),this.edgesIndex[i.id]=i,this.inNeighborsIndex[i.target][i.source]||(this.inNeighborsIndex[i.target][i.source]=Object.create(null)),this.inNeighborsIndex[i.target][i.source][i.id]=i,this.outNeighborsIndex[i.source][i.target]||(this.outNeighborsIndex[i.source][i.target]=Object.create(null)),this.outNeighborsIndex[i.source][i.target][i.id]=i,this.allNeighborsIndex[i.source][i.target]||(this.allNeighborsIndex[i.source][i.target]=Object.create(null)),this.allNeighborsIndex[i.source][i.target][i.id]=i,i.target!==i.source&&(this.allNeighborsIndex[i.target][i.source]||(this.allNeighborsIndex[i.target][i.source]=Object.create(null)),this.allNeighborsIndex[i.target][i.source][i.id]=i),this.inNeighborsCount[i.target]++,this.outNeighborsCount[i.source]++,this.allNeighborsCount[i.target]++,this.allNeighborsCount[i.source]++,this}),u.addMethod("dropNode",function(t){if("string"!=typeof t&&"number"!=typeof t||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex[t])throw'The node "'+t+'" does not exist.';var e,i,n;for(delete this.nodesIndex[t],e=0,n=this.nodesArray.length;e<n;e++)if(this.nodesArray[e].id===t){this.nodesArray.splice(e,1);break}for(e=this.edgesArray.length-1;e>=0;e--)this.edgesArray[e].source!==t&&this.edgesArray[e].target!==t||this.dropEdge(this.edgesArray[e].id);for(i in delete this.inNeighborsIndex[t],delete this.outNeighborsIndex[t],delete this.allNeighborsIndex[t],delete this.inNeighborsCount[t],delete this.outNeighborsCount[t],delete this.allNeighborsCount[t],this.nodesIndex)delete this.inNeighborsIndex[i][t],delete this.outNeighborsIndex[i][t],delete this.allNeighborsIndex[i][t];return this}),u.addMethod("dropEdge",function(t){if("string"!=typeof t&&"number"!=typeof t||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex[t])throw'The edge "'+t+'" does not exist.';var e,i,n;for(n=this.edgesIndex[t],delete this.edgesIndex[t],e=0,i=this.edgesArray.length;e<i;e++)if(this.edgesArray[e].id===t){this.edgesArray.splice(e,1);break}return delete this.inNeighborsIndex[n.target][n.source][n.id],Object.keys(this.inNeighborsIndex[n.target][n.source]).length||delete this.inNeighborsIndex[n.target][n.source],delete this.outNeighborsIndex[n.source][n.target][n.id],Object.keys(this.outNeighborsIndex[n.source][n.target]).length||delete this.outNeighborsIndex[n.source][n.target],delete this.allNeighborsIndex[n.source][n.target][n.id],Object.keys(this.allNeighborsIndex[n.source][n.target]).length||delete this.allNeighborsIndex[n.source][n.target],n.target!==n.source&&(delete this.allNeighborsIndex[n.target][n.source][n.id],Object.keys(this.allNeighborsIndex[n.target][n.source]).length||delete this.allNeighborsIndex[n.target][n.source]),this.inNeighborsCount[n.target]--,this.outNeighborsCount[n.source]--,this.allNeighborsCount[n.source]--,this.allNeighborsCount[n.target]--,this}),u.addMethod("kill",function(){this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsIndex,delete this.outNeighborsIndex,delete this.allNeighborsIndex,delete this.inNeighborsCount,delete this.outNeighborsCount,delete this.allNeighborsCount}),u.addMethod("clear",function(){return this.nodesArray.length=0,this.edgesArray.length=0,p(this.nodesIndex),p(this.edgesIndex),p(this.nodesIndex),p(this.inNeighborsIndex),p(this.outNeighborsIndex),p(this.allNeighborsIndex),p(this.inNeighborsCount),p(this.outNeighborsCount),p(this.allNeighborsCount),this}),u.addMethod("read",function(t){var e,i,n;for(e=0,n=(i=t.nodes||[]).length;e<n;e++)this.addNode(i[e]);for(e=0,n=(i=t.edges||[]).length;e<n;e++)this.addEdge(i[e]);return this}),u.addMethod("nodes",function(t){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&("string"==typeof t||"number"==typeof t))return this.nodesIndex[t];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(t)){var e,i,n=[];for(e=0,i=t.length;e<i;e++){if("string"!=typeof t[e]&&"number"!=typeof t[e])throw"nodes: Wrong arguments.";n.push(this.nodesIndex[t[e]])}return n}throw"nodes: Wrong arguments."}),u.addMethod("degree",function(t,e){if(e={in:this.inNeighborsCount,out:this.outNeighborsCount}[e||""]||this.allNeighborsCount,"string"==typeof t||"number"==typeof t)return e[t];if("[object Array]"===Object.prototype.toString.call(t)){var i,n,o=[];for(i=0,n=t.length;i<n;i++){if("string"!=typeof t[i]&&"number"!=typeof t[i])throw"degree: Wrong arguments.";o.push(e[t[i]])}return o}throw"degree: Wrong arguments."}),u.addMethod("edges",function(t){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&("string"==typeof t||"number"==typeof t))return this.edgesIndex[t];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(t)){var e,i,n=[];for(e=0,i=t.length;e<i;e++){if("string"!=typeof t[e]&&"number"!=typeof t[e])throw"edges: Wrong arguments.";n.push(this.edgesIndex[t[e]])}return n}throw"edges: Wrong arguments."}),void 0!==n?(n.classes=n.classes||Object.create(null),n.classes.graph=u):(t.exports&&(e=t.exports=u),e.graph=u)}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.classes"),n.classes.camera=function(t,e,i,o){n.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:e}),Object.defineProperty(this,"id",{value:t}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+t+":"}),Object.defineProperty(this,"prefix",{value:"cam"+t+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof o&&o?i.embedObject(o):i},n.classes.camera.prototype.goTo=function(e){if(!this.settings("enableCamera"))return this;var i,n,o=e||{},r=["x","y","ratio","angle"];for(i=0,n=r.length;i<n;i++)if(o[r[i]]!==t){if("number"!=typeof o[r[i]]||isNaN(o[r[i]]))throw'Value for "'+r[i]+'" is not a number.';this[r[i]]=o[r[i]]}return this.dispatchEvent("coordinatesUpdated"),this},n.classes.camera.prototype.applyView=function(e,i,n){i=i!==t?i:this.prefix,e=e!==t?e:this.readPrefix;var o,r,s,a=(n=n||{}).nodes||this.graph.nodes(),l=n.edges||this.graph.edges(),h=Math.cos(this.angle)/this.ratio,d=Math.sin(this.angle)/this.ratio,u=Math.pow(this.ratio,this.settings("nodesPowRatio")),c=Math.pow(this.ratio,this.settings("edgesPowRatio")),p=(n.width||0)/2-this.x*h-this.y*d,f=(n.height||0)/2-this.y*h+this.x*d;for(o=0,r=a.length;o<r;o++)(s=a[o])[i+"x"]=(s[e+"x"]||0)*h+(s[e+"y"]||0)*d+p,s[i+"y"]=(s[e+"y"]||0)*h-(s[e+"x"]||0)*d+f,s[i+"size"]=(s[e+"size"]||0)/u;for(o=0,r=l.length;o<r;o++)l[o][i+"size"]=(l[o][e+"size"]||0)/c;return this},n.classes.camera.prototype.graphPosition=function(t,e,i){var n=0,o=0,r=Math.cos(this.angle),s=Math.sin(this.angle);return i||(n=-(this.x*r+this.y*s)/this.ratio,o=-(this.y*r-this.x*s)/this.ratio),{x:(t*r+e*s)/this.ratio+n,y:(e*r-t*s)/this.ratio+o}},n.classes.camera.prototype.cameraPosition=function(t,e,i){var n=0,o=0,r=Math.cos(this.angle),s=Math.sin(this.angle);return i||(n=-(this.x*r+this.y*s)/this.ratio,o=-(this.y*r-this.x*s)/this.ratio),{x:((t-n)*r-(e-o)*s)*this.ratio,y:((e-o)*r+(t-n)*s)*this.ratio}},n.classes.camera.prototype.getMatrix=function(){var t=n.utils.matrices.scale(1/this.ratio),e=n.utils.matrices.rotation(this.angle),i=n.utils.matrices.translation(-this.x,-this.y);return n.utils.matrices.multiply(i,n.utils.matrices.multiply(e,t))},n.classes.camera.prototype.getRectangle=function(t,e){var i=this.cameraPosition(t,0,!0),n=this.cameraPosition(0,e,!0),o=this.cameraPosition(t/2,e/2,!0),r=this.cameraPosition(t/4,0,!0).x,s=this.cameraPosition(0,e/4,!0).y;return{x1:this.x-o.x-r,y1:this.y-o.y-s,x2:this.x-o.x+r+i.x,y2:this.y-o.y-s+i.y,height:Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y+2*s,2))}}}).call(this),(function(i){"use strict";var n={pointToSquare:function(t){return{x1:t.x-t.size,y1:t.y-t.size,x2:t.x+t.size,y2:t.y-t.size,height:2*t.size}},isAxisAligned:function(t){return t.x1===t.x2||t.y1===t.y2},axisAlignedTopPoints:function(t){return t.y1===t.y2&&t.x1<t.x2?t:t.x1===t.x2&&t.y2>t.y1?{x1:t.x1-t.height,y1:t.y1,x2:t.x1,y2:t.y1,height:t.height}:t.x1===t.x2&&t.y2<t.y1?{x1:t.x1,y1:t.y2,x2:t.x2+t.height,y2:t.y2,height:t.height}:{x1:t.x2,y1:t.y1-t.height,x2:t.x1,y2:t.y1-t.height,height:t.height}},lowerLeftCoor:function(t){var e=Math.sqrt(Math.pow(t.x2-t.x1,2)+Math.pow(t.y2-t.y1,2));return{x:t.x1-(t.y2-t.y1)*t.height/e,y:t.y1+(t.x2-t.x1)*t.height/e}},lowerRightCoor:function(t,e){return{x:e.x-t.x1+t.x2,y:e.y-t.y1+t.y2}},rectangleCorners:function(t){var e=this.lowerLeftCoor(t),i=this.lowerRightCoor(t,e);return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:e.x,y:e.y},{x:i.x,y:i.y}]},splitSquare:function(t){return[[{x:t.x,y:t.y},{x:t.x+t.width/2,y:t.y},{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2}],[{x:t.x+t.width/2,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2}],[{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x,y:t.y+t.height},{x:t.x+t.width/2,y:t.y+t.height}],[{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height}]]},axis:function(t,e){return[{x:t[1].x-t[0].x,y:t[1].y-t[0].y},{x:t[1].x-t[3].x,y:t[1].y-t[3].y},{x:e[0].x-e[2].x,y:e[0].y-e[2].y},{x:e[0].x-e[1].x,y:e[0].y-e[1].y}]},projection:function(t,e){var i=(t.x*e.x+t.y*e.y)/(Math.pow(e.x,2)+Math.pow(e.y,2));return{x:i*e.x,y:i*e.y}},axisCollision:function(t,e,i){for(var n=[],o=[],r=0;r<4;r++){var s=this.projection(e[r],t),a=this.projection(i[r],t);n.push(s.x*t.x+s.y*t.y),o.push(a.x*t.x+a.y*t.y)}var l=Math.max.apply(Math,n),h=Math.max.apply(Math,o),d=Math.min.apply(Math,n);return Math.min.apply(Math,o)<=l&&h>=d},collision:function(t,e){for(var i=this.axis(t,e),n=!0,o=0;o<4;o++)n=n&&this.axisCollision(i[o],t,e);return n}};function o(t,e){for(var i=[],n=0;n<4;n++)t.x2>=e[n][0].x&&t.x1<=e[n][1].x&&t.y1+t.height>=e[n][0].y&&t.y1<=e[n][2].y&&i.push(n);return i}function r(t,e){for(var i=[],o=0;o<4;o++)n.collision(t,e[o])&&i.push(o);return i}function s(t,e){var i,n,o=e.level+1,r=Math.round(e.bounds.width/2),s=Math.round(e.bounds.height/2),a=Math.round(e.bounds.x),h=Math.round(e.bounds.y);switch(t){case 0:i=a,n=h;break;case 1:i=a+r,n=h;break;case 2:i=a,n=h+s;break;case 3:i=a+r,n=h+s}return l({x:i,y:n,width:r,height:s},o,e.maxElements,e.maxLevel)}function a(t,e,n){if(n.level<n.maxLevel)for(var r=o(e,n.corners),l=0,h=r.length;l<h;l++)n.nodes[r[l]]===i&&(n.nodes[r[l]]=s(r[l],n)),a(t,e,n.nodes[r[l]]);else n.elements.push(t)}function l(t,e,i,o){return{level:e||0,bounds:t,corners:n.splitSquare(t),maxElements:i||20,maxLevel:o||4,elements:[],nodes:[]}}var h=function(){this._geom=n,this._tree=null,this._cache={query:!1,result:!1}};h.prototype.index=function(t,e){if(!e.bounds)throw"sigma.classes.quad.index: bounds information not given.";var i=e.prefix||"";this._tree=l(e.bounds,0,e.maxElements,e.maxLevel);for(var o=0,r=t.length;o<r;o++)a(t[o],n.pointToSquare({x:t[o][i+"x"],y:t[o][i+"y"],size:t[o][i+"size"]}),this._tree);return this._cache={query:!1,result:!1},this._tree},h.prototype.point=function(t,e){return this._tree&&function t(e,n){if(n.level<n.maxLevel){var o=function(t,e){var i=t.x<e.x+e.width/2;return t.y<e.y+e.height/2?i?0:1:i?2:3}(e,n.bounds);return n.nodes[o]!==i?t(e,n.nodes[o]):[]}return n.elements}({x:t,y:e},this._tree)||[]},h.prototype.area=function(t){var e,s,a=JSON.stringify(t);if(this._cache.query===a)return this._cache.result;n.isAxisAligned(t)?(e=o,s=n.axisAlignedTopPoints(t)):(e=r,s=n.rectangleCorners(t));var l=this._tree?function t(e,n,o,r){if(r=r||{},n.level<n.maxLevel)for(var s=o(e,n.corners),a=0,l=s.length;a<l;a++)n.nodes[s[a]]!==i&&t(e,n.nodes[s[a]],o,r);else for(var h=0,d=n.elements.length;h<d;h++)r[n.elements[h].id]===i&&(r[n.elements[h].id]=n.elements[h]);return r}(s,this._tree,e):[],h=[];for(var d in l)h.push(l[d]);return this._cache.query=a,this._cache.result=h,h},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=h):(t.exports&&(e=t.exports=h),e.quad=h)}).call(this),(function(i){"use strict";var o={pointToSquare:function(t){return{x1:t.x-t.size,y1:t.y-t.size,x2:t.x+t.size,y2:t.y-t.size,height:2*t.size}},lineToSquare:function(t){return t.y1<t.y2?t.x1<t.x2?{x1:t.x1-t.size,y1:t.y1-t.size,x2:t.x2+t.size,y2:t.y1-t.size,height:t.y2-t.y1+2*t.size}:{x1:t.x2-t.size,y1:t.y1-t.size,x2:t.x1+t.size,y2:t.y1-t.size,height:t.y2-t.y1+2*t.size}:t.x1<t.x2?{x1:t.x1-t.size,y1:t.y2-t.size,x2:t.x2+t.size,y2:t.y2-t.size,height:t.y1-t.y2+2*t.size}:{x1:t.x2-t.size,y1:t.y2-t.size,x2:t.x1+t.size,y2:t.y2-t.size,height:t.y1-t.y2+2*t.size}},quadraticCurveToSquare:function(t,e){var i=n.utils.getPointOnQuadraticCurve(.5,t.x1,t.y1,t.x2,t.y2,e.x,e.y),o=Math.min(t.x1,t.x2,i.x),r=Math.max(t.x1,t.x2,i.x),s=Math.min(t.y1,t.y2,i.y),a=Math.max(t.y1,t.y2,i.y);return{x1:o-t.size,y1:s-t.size,x2:r+t.size,y2:s-t.size,height:a-s+2*t.size}},selfLoopToSquare:function(t){var e=n.utils.getSelfLoopControlPoints(t.x,t.y,t.size),i=Math.min(t.x,e.x1,e.x2),o=Math.max(t.x,e.x1,e.x2),r=Math.min(t.y,e.y1,e.y2),s=Math.max(t.y,e.y1,e.y2);return{x1:i-t.size,y1:r-t.size,x2:o+t.size,y2:r-t.size,height:s-r+2*t.size}},isAxisAligned:function(t){return t.x1===t.x2||t.y1===t.y2},axisAlignedTopPoints:function(t){return t.y1===t.y2&&t.x1<t.x2?t:t.x1===t.x2&&t.y2>t.y1?{x1:t.x1-t.height,y1:t.y1,x2:t.x1,y2:t.y1,height:t.height}:t.x1===t.x2&&t.y2<t.y1?{x1:t.x1,y1:t.y2,x2:t.x2+t.height,y2:t.y2,height:t.height}:{x1:t.x2,y1:t.y1-t.height,x2:t.x1,y2:t.y1-t.height,height:t.height}},lowerLeftCoor:function(t){var e=Math.sqrt(Math.pow(t.x2-t.x1,2)+Math.pow(t.y2-t.y1,2));return{x:t.x1-(t.y2-t.y1)*t.height/e,y:t.y1+(t.x2-t.x1)*t.height/e}},lowerRightCoor:function(t,e){return{x:e.x-t.x1+t.x2,y:e.y-t.y1+t.y2}},rectangleCorners:function(t){var e=this.lowerLeftCoor(t),i=this.lowerRightCoor(t,e);return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:e.x,y:e.y},{x:i.x,y:i.y}]},splitSquare:function(t){return[[{x:t.x,y:t.y},{x:t.x+t.width/2,y:t.y},{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2}],[{x:t.x+t.width/2,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2}],[{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x,y:t.y+t.height},{x:t.x+t.width/2,y:t.y+t.height}],[{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height}]]},axis:function(t,e){return[{x:t[1].x-t[0].x,y:t[1].y-t[0].y},{x:t[1].x-t[3].x,y:t[1].y-t[3].y},{x:e[0].x-e[2].x,y:e[0].y-e[2].y},{x:e[0].x-e[1].x,y:e[0].y-e[1].y}]},projection:function(t,e){var i=(t.x*e.x+t.y*e.y)/(Math.pow(e.x,2)+Math.pow(e.y,2));return{x:i*e.x,y:i*e.y}},axisCollision:function(t,e,i){for(var n=[],o=[],r=0;r<4;r++){var s=this.projection(e[r],t),a=this.projection(i[r],t);n.push(s.x*t.x+s.y*t.y),o.push(a.x*t.x+a.y*t.y)}var l=Math.max.apply(Math,n),h=Math.max.apply(Math,o),d=Math.min.apply(Math,n);return Math.min.apply(Math,o)<=l&&h>=d},collision:function(t,e){for(var i=this.axis(t,e),n=!0,o=0;o<4;o++)n=n&&this.axisCollision(i[o],t,e);return n}};function r(t,e){for(var i=[],n=0;n<4;n++)t.x2>=e[n][0].x&&t.x1<=e[n][1].x&&t.y1+t.height>=e[n][0].y&&t.y1<=e[n][2].y&&i.push(n);return i}function s(t,e){for(var i=[],n=0;n<4;n++)o.collision(t,e[n])&&i.push(n);return i}function a(t,e){var i,n,o=e.level+1,r=Math.round(e.bounds.width/2),s=Math.round(e.bounds.height/2),a=Math.round(e.bounds.x),l=Math.round(e.bounds.y);switch(t){case 0:i=a,n=l;break;case 1:i=a+r,n=l;break;case 2:i=a,n=l+s;break;case 3:i=a+r,n=l+s}return h({x:i,y:n,width:r,height:s},o,e.maxElements,e.maxLevel)}function l(t,e,n){if(n.level<n.maxLevel)for(var o=r(e,n.corners),s=0,h=o.length;s<h;s++)n.nodes[o[s]]===i&&(n.nodes[o[s]]=a(o[s],n)),l(t,e,n.nodes[o[s]]);else n.elements.push(t)}function h(t,e,i,n){return{level:e||0,bounds:t,corners:o.splitSquare(t),maxElements:i||40,maxLevel:n||8,elements:[],nodes:[]}}var d=function(){this._geom=o,this._tree=null,this._cache={query:!1,result:!1},this._enabled=!0};d.prototype.index=function(t,e){if(!this._enabled)return this._tree;if(!e.bounds)throw"sigma.classes.edgequad.index: bounds information not given.";var i,r,s,a,d=e.prefix||"";this._tree=h(e.bounds,0,e.maxElements,e.maxLevel);for(var u=t.edges(),c=0,p=u.length;c<p;c++)r=t.nodes(u[c].source),s=t.nodes(u[c].target),a={x1:r[d+"x"],y1:r[d+"y"],x2:s[d+"x"],y2:s[d+"y"],size:u[c][d+"size"]||0},"curve"===u[c].type||"curvedArrow"===u[c].type?r.id===s.id?l(u[c],o.selfLoopToSquare({x:r[d+"x"],y:r[d+"y"],size:r[d+"size"]||0}),this._tree):(i=n.utils.getQuadraticControlPoint(a.x1,a.y1,a.x2,a.y2),l(u[c],o.quadraticCurveToSquare(a,i),this._tree)):l(u[c],o.lineToSquare(a),this._tree);return this._cache={query:!1,result:!1},this._tree},d.prototype.point=function(t,e){return this._enabled&&this._tree&&function t(e,n){if(n.level<n.maxLevel){var o=function(t,e){var i=t.x<e.x+e.width/2;return t.y<e.y+e.height/2?i?0:1:i?2:3}(e,n.bounds);return n.nodes[o]!==i?t(e,n.nodes[o]):[]}return n.elements}({x:t,y:e},this._tree)||[]},d.prototype.area=function(t){if(!this._enabled)return[];var e,n,a=JSON.stringify(t);if(this._cache.query===a)return this._cache.result;o.isAxisAligned(t)?(e=r,n=o.axisAlignedTopPoints(t)):(e=s,n=o.rectangleCorners(t));var l=this._tree?function t(e,n,o,r){if(r=r||{},n.level<n.maxLevel)for(var s=o(e,n.corners),a=0,l=s.length;a<l;a++)n.nodes[s[a]]!==i&&t(e,n.nodes[s[a]],o,r);else for(var h=0,d=n.elements.length;h<d;h++)r[n.elements[h].id]===i&&(r[n.elements[h].id]=n.elements[h]);return r}(n,this._tree,e):[],h=[];for(var d in l)h.push(l[d]);return this._cache.query=a,this._cache.result=h,h},void 0!==this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.edgequad=d):(t.exports&&(e=t.exports=d),e.edgequad=d)}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.captors"),n.captors.mouse=function(t,e,i){var o,r,s,a,l,h,d,u,c,p,f,g=this,m=t,v=e,y=i;function b(t){var e,i,p;if(y("mouseEnabled")&&(g.dispatchEvent("mousemove",n.utils.mouseCoords(t)),d))return u=!0,c=!0,f&&clearTimeout(f),f=setTimeout(function(){u=!1},y("dragTimeout")),n.misc.animation.killAll(v),v.isMoving=!0,p=v.cameraPosition(n.utils.getX(t)-l,n.utils.getY(t)-h,!0),i=r-p.y,(e=o-p.x)===v.x&&i===v.y||(s=v.x,a=v.y,v.goTo({x:e,y:i})),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}function w(t){if(y("mouseEnabled")&&d){d=!1,f&&clearTimeout(f),v.isMoving=!1;var e=n.utils.getX(t),i=n.utils.getY(t);u?(n.misc.animation.killAll(v),n.misc.animation.camera(v,{x:v.x+y("mouseInertiaRatio")*(v.x-s),y:v.y+y("mouseInertiaRatio")*(v.y-a)},{easing:"quadraticOut",duration:y("mouseInertiaDuration")})):l===e&&h===i||v.goTo({x:v.x,y:v.y}),g.dispatchEvent("mouseup",n.utils.mouseCoords(t)),u=!1}}function x(t){if(y("mouseEnabled"))switch(o=v.x,r=v.y,s=v.x,a=v.y,l=n.utils.getX(t),h=n.utils.getY(t),c=!1,p=(new Date).getTime(),t.which){case 2:break;case 3:g.dispatchEvent("rightclick",n.utils.mouseCoords(t,l,h));break;default:d=!0,g.dispatchEvent("mousedown",n.utils.mouseCoords(t,l,h))}}function _(t){y("mouseEnabled")&&g.dispatchEvent("mouseout")}function E(t){if(y("mouseEnabled")){var e=n.utils.mouseCoords(t);e.isDragging=(new Date).getTime()-p>100&&c,g.dispatchEvent("click",e)}return t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}function k(t){var e,i,o,r=n.utils.getDelta(t);if(y("mouseEnabled")&&y("mouseWheelEnabled")&&0!==r)return i=r>0?1/y("zoomingRatio"):y("zoomingRatio"),e=v.cameraPosition(n.utils.getX(t)-n.utils.getCenter(t).x,n.utils.getY(t)-n.utils.getCenter(t).y,!0),o={duration:y("mouseZoomDuration")},n.utils.zoomTo(v,e.x,e.y,i,o),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}n.classes.dispatcher.extend(this),n.utils.doubleClick(m,"click",function(t){var e,i,o;if(y("mouseEnabled"))return i=1/y("doubleClickZoomingRatio"),g.dispatchEvent("doubleclick",n.utils.mouseCoords(t,l,h)),y("doubleClickEnabled")&&(e=v.cameraPosition(n.utils.getX(t)-n.utils.getCenter(t).x,n.utils.getY(t)-n.utils.getCenter(t).y,!0),o={duration:y("doubleClickZoomDuration")},n.utils.zoomTo(v,e.x,e.y,i,o)),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}),m.addEventListener("DOMMouseScroll",k,!1),m.addEventListener("mousewheel",k,!1),m.addEventListener("mousemove",b,!1),m.addEventListener("mousedown",x,!1),m.addEventListener("click",E,!1),m.addEventListener("mouseout",_,!1),document.addEventListener("mouseup",w,!1),this.kill=function(){n.utils.unbindDoubleClick(m,"click"),m.removeEventListener("DOMMouseScroll",k),m.removeEventListener("mousewheel",k),m.removeEventListener("mousemove",b),m.removeEventListener("mousedown",x),m.removeEventListener("click",E),m.removeEventListener("mouseout",_),document.removeEventListener("mouseup",w)}}}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.captors"),n.captors.touch=function(t,e,i){var o,r,s,a,l,h,d,u,c,p,f,g,m,v,y,b,w=this,x=t,_=e,E=i,k=[];function S(t){var e=n.utils.getOffset(x);return{x:t.pageX-e.left,y:t.pageY-e.top}}function C(t){var e,i;if(E("touchEnabled"))switch((k=t.touches).length){case 1:_.isMoving=!0,m=1,o=_.x,r=_.y,l=_.x,h=_.y,e=S(k[0]),d=e.x,u=e.y;break;case 2:return _.isMoving=!0,m=2,e=S(k[0]),i=S(k[1]),l=_.x,h=_.y,s=_.angle,a=_.ratio,o=_.x,r=_.y,d=e.x,u=e.y,c=i.x,p=i.y,f=Math.atan2(p-u,c-d),g=Math.sqrt((p-u)*(p-u)+(c-d)*(c-d)),t.preventDefault(),!1}}function T(t){if(E("touchEnabled")){k=t.touches;var e=E("touchInertiaRatio");switch(b&&(v=!1,clearTimeout(b)),m){case 2:if(1===t.touches.length){C(t),t.preventDefault();break}case 1:_.isMoving=!1,w.dispatchEvent("stopDrag"),v&&(y=!1,n.misc.animation.camera(_,{x:_.x+e*(_.x-l),y:_.y+e*(_.y-h)},{easing:"quadraticOut",duration:E("touchInertiaDuration")})),v=!1,m=0}}}function M(t){if(!y&&E("touchEnabled")){var e,i,x,C,T,M,D,O,P,I,A,N,R,L,z,B,F;switch(k=t.touches,v=!0,b&&clearTimeout(b),b=setTimeout(function(){v=!1},E("dragTimeout")),m){case 1:O=S(k[0]),I=_.cameraPosition((e=O.x)-d,(x=O.y)-u,!0),z=r-I.y,(L=o-I.x)===_.x&&z===_.y||(l=_.x,h=_.y,_.goTo({x:L,y:z}),w.dispatchEvent("mousemove",n.utils.mouseCoords(t,O.x,O.y)),w.dispatchEvent("drag"));break;case 2:O=S(k[0]),P=S(k[1]),e=O.x,x=O.y,i=P.x,C=P.y,A=_.cameraPosition((d+c)/2-n.utils.getCenter(t).x,(u+p)/2-n.utils.getCenter(t).y,!0),D=_.cameraPosition((e+i)/2-n.utils.getCenter(t).x,(x+C)/2-n.utils.getCenter(t).y,!0),N=Math.atan2(C-x,i-e)-f,R=Math.sqrt((C-x)*(C-x)+(i-e)*(i-e))/g,e=A.x,x=A.y,B=a/R,e*=R,F=s-N,C=(x*=R)*(T=Math.cos(-N))-e*(M=Math.sin(-N)),L=(e=i=e*T+x*M)-D.x+o,z=(x=C)-D.y+r,B===_.ratio&&F===_.angle&&L===_.x&&z===_.y||(l=_.x,h=_.y,_.goTo({x:L,y:z,angle:F,ratio:B}),w.dispatchEvent("drag"))}return t.preventDefault(),!1}}n.classes.dispatcher.extend(this),n.utils.doubleClick(x,"touchstart",function(t){var e,i,o;if(t.touches&&1===t.touches.length&&E("touchEnabled"))return y=!0,i=1/E("doubleClickZoomingRatio"),e=S(t.touches[0]),w.dispatchEvent("doubleclick",n.utils.mouseCoords(t,e.x,e.y)),E("doubleClickEnabled")&&(e=_.cameraPosition(e.x-n.utils.getCenter(t).x,e.y-n.utils.getCenter(t).y,!0),o={duration:E("doubleClickZoomDuration"),onComplete:function(){y=!1}},n.utils.zoomTo(_,e.x,e.y,i,o)),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}),x.addEventListener("touchstart",C,!1),x.addEventListener("touchend",T,!1),x.addEventListener("touchcancel",T,!1),x.addEventListener("touchleave",T,!1),x.addEventListener("touchmove",M,!1),this.kill=function(){n.utils.unbindDoubleClick(x,"touchstart"),x.addEventListener("touchstart",C),x.addEventListener("touchend",T),x.addEventListener("touchcancel",T),x.addEventListener("touchleave",T),x.addEventListener("touchmove",M)}}}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";if(void 0===o)throw"conrad is not declared";n.utils.pkg("sigma.renderers"),n.renderers.canvas=function(t,e,i,o){if("object"!=typeof o)throw"sigma.renderers.canvas: Wrong arguments.";if(!(o.container instanceof HTMLElement))throw"Container not found.";var r,s,a;for(n.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:n.utils.id()}),this.graph=t,this.camera=e,this.contexts={},this.domElements={},this.options=o,this.container=this.options.container,this.settings="object"==typeof o.settings&&o.settings?i.embedObjects(o.settings):i,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene"),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene,this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],r=0,s=(a=this.options.captors||[n.captors.mouse,n.captors.touch]).length;r<s;r++)this.captors.push(new("function"==typeof a[r]?a[r]:n.captors[a[r]])(this.domElements.mouse,this.camera,this.settings));n.misc.bindEvents.call(this,this.options.prefix),n.misc.drawHovers.call(this,this.options.prefix),this.resize(!1)},n.renderers.canvas.prototype.render=function(e){var i,r,s,a,l,h,d,u,c,p,f,g,m,v={},y=this.graph,b=this.graph.nodes,w=this.settings(e=e||{},"drawEdges"),x=this.settings(e,"drawNodes"),_=this.settings(e,"drawLabels"),E=this.settings(e,"drawEdgeLabels"),k=this.settings.embedObjects(e,{prefix:this.options.prefix});for(s in this.resize(!1),this.settings(e,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(w=!1),this.camera.applyView(t,this.options.prefix,{width:this.width,height:this.height}),this.clear(),this.jobs)o.hasJob(s)&&o.killJob(s);for(this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),r=0,a=(i=this.nodesOnScreen).length;r<a;r++)v[i[r].id]=i[r];if(w){for(i=y.edges(),r=0,a=i.length;r<a;r++)!v[(l=i[r]).source]&&!v[l.target]||l.hidden||b(l.source).hidden||b(l.target).hidden||this.edgesOnScreen.push(l);if(this.settings(e,"batchEdgesDrawing"))h="edges_"+this.conradId,g=k("canvasEdgesBatchSize"),a=(p=this.edgesOnScreen).length,c=0,d=Math.min(p.length,c+g),this.jobs[h]=u=function(){for(m=this.contexts.edges.globalCompositeOperation,this.contexts.edges.globalCompositeOperation="destination-over",f=n.canvas.edges,r=c;r<d;r++)(f[(l=p[r]).type||this.settings(e,"defaultEdgeType")]||f.def)(l,y.nodes(l.source),y.nodes(l.target),this.contexts.edges,k);if(E)for(f=n.canvas.edges.labels,r=c;r<d;r++)(l=p[r]).hidden||(f[l.type||this.settings(e,"defaultEdgeType")]||f.def)(l,y.nodes(l.source),y.nodes(l.target),this.contexts.labels,k);return this.contexts.edges.globalCompositeOperation=m,d===p.length?(delete this.jobs[h],!1):(c=d+1,d=Math.min(p.length,c+g),!0)},o.addJob(h,u.bind(this));else{for(f=n.canvas.edges,r=0,a=(i=this.edgesOnScreen).length;r<a;r++)(f[(l=i[r]).type||this.settings(e,"defaultEdgeType")]||f.def)(l,y.nodes(l.source),y.nodes(l.target),this.contexts.edges,k);if(E)for(f=n.canvas.edges.labels,r=0,a=(i=this.edgesOnScreen).length;r<a;r++)i[r].hidden||(f[i[r].type||this.settings(e,"defaultEdgeType")]||f.def)(i[r],y.nodes(i[r].source),y.nodes(i[r].target),this.contexts.labels,k)}}if(x)for(f=n.canvas.nodes,r=0,a=(i=this.nodesOnScreen).length;r<a;r++)i[r].hidden||(f[i[r].type||this.settings(e,"defaultNodeType")]||f.def)(i[r],this.contexts.nodes,k);if(_)for(f=n.canvas.labels,r=0,a=(i=this.nodesOnScreen).length;r<a;r++)i[r].hidden||(f[i[r].type||this.settings(e,"defaultNodeType")]||f.def)(i[r],this.contexts.labels,k);return this.dispatchEvent("render"),this},n.renderers.canvas.prototype.initDOM=function(t,e){var i=document.createElement(t);i.style.position="absolute",i.setAttribute("class","sigma-"+e),this.domElements[e]=i,this.container.appendChild(i),"canvas"===t.toLowerCase()&&(this.contexts[e]=i.getContext("2d"))},n.renderers.canvas.prototype.resize=function(e,i){var o,r=this.width,s=this.height,a=n.utils.getPixelRatio();if(e!==t&&i!==t?(this.width=e,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,e=this.width,i=this.height),r!==this.width||s!==this.height)for(o in this.domElements)this.domElements[o].style.width=e+"px",this.domElements[o].style.height=i+"px","canvas"===this.domElements[o].tagName.toLowerCase()&&(this.domElements[o].setAttribute("width",e*a+"px"),this.domElements[o].setAttribute("height",i*a+"px"),1!==a&&this.contexts[o].scale(a,a));return this},n.renderers.canvas.prototype.clear=function(){for(var t in this.contexts)this.contexts[t].clearRect(0,0,this.width,this.height);return this},n.renderers.canvas.prototype.kill=function(){for(var t,e;e=this.captors.pop();)e.kill();for(t in delete this.captors,this.domElements)this.domElements[t].parentNode.removeChild(this.domElements[t]),delete this.domElements[t],delete this.contexts[t];delete this.domElements,delete this.contexts},n.utils.pkg("sigma.canvas.nodes"),n.utils.pkg("sigma.canvas.edges"),n.utils.pkg("sigma.canvas.labels")}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.renderers"),n.renderers.webgl=function(t,e,i,o){if("object"!=typeof o)throw"sigma.renderers.webgl: Wrong arguments.";if(!(o.container instanceof HTMLElement))throw"Container not found.";var r,s,a;for(n.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:n.utils.id()}),this.graph=t,this.camera=e,this.contexts={},this.domElements={},this.options=o,this.container=this.options.container,this.settings="object"==typeof o.settings&&o.settings?i.embedObjects(o.settings):i,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeIndicesArrays",{value:{}}),this.settings(o,"batchEdgesDrawing")?(this.initDOM("canvas","edges",!0),this.initDOM("canvas","nodes",!0)):(this.initDOM("canvas","scene",!0),this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],r=0,s=(a=this.options.captors||[n.captors.mouse,n.captors.touch]).length;r<s;r++)this.captors.push(new("function"==typeof a[r]?a[r]:n.captors[a[r]])(this.domElements.mouse,this.camera,this.settings));n.misc.bindEvents.call(this,this.camera.prefix),n.misc.drawHovers.call(this,this.camera.prefix),this.resize()},n.renderers.webgl.prototype.process=function(){var t,e,i,o,r,s,a=this.graph,l=n.utils.extend(l,this.options),h=this.settings(l,"defaultEdgeType"),d=this.settings(l,"defaultNodeType");for(o in this.nodeFloatArrays)delete this.nodeFloatArrays[o];for(o in this.edgeFloatArrays)delete this.edgeFloatArrays[o];for(o in this.edgeIndicesArrays)delete this.edgeIndicesArrays[o];for(e=0,i=(t=a.edges()).length;e<i;e++)this.edgeFloatArrays[o=(r=t[e].type||h)&&n.webgl.edges[r]?r:"def"]||(this.edgeFloatArrays[o]={edges:[]}),this.edgeFloatArrays[o].edges.push(t[e]);for(e=0,i=(t=a.nodes()).length;e<i;e++)this.nodeFloatArrays[o=(r=t[e].type||d)&&n.webgl.nodes[r]?r:"def"]||(this.nodeFloatArrays[o]={nodes:[]}),this.nodeFloatArrays[o].nodes.push(t[e]);for(o in this.edgeFloatArrays){for(s=n.webgl.edges[o],t=this.edgeFloatArrays[o].edges,this.edgeFloatArrays[o].array=new Float32Array(t.length*s.POINTS*s.ATTRIBUTES),e=0,i=t.length;e<i;e++)t[e].hidden||a.nodes(t[e].source).hidden||a.nodes(t[e].target).hidden||s.addEdge(t[e],a.nodes(t[e].source),a.nodes(t[e].target),this.edgeFloatArrays[o].array,e*s.POINTS*s.ATTRIBUTES,l.prefix,this.settings);"function"==typeof s.computeIndices&&(this.edgeIndicesArrays[o]=s.computeIndices(this.edgeFloatArrays[o].array))}for(o in this.nodeFloatArrays)for(s=n.webgl.nodes[o],t=this.nodeFloatArrays[o].nodes,this.nodeFloatArrays[o].array=new Float32Array(t.length*s.POINTS*s.ATTRIBUTES),e=0,i=t.length;e<i;e++)this.nodeFloatArrays[o].array||(this.nodeFloatArrays[o].array=new Float32Array(t.length*s.POINTS*s.ATTRIBUTES)),t[e].hidden||s.addNode(t[e],this.nodeFloatArrays[o].array,e*s.POINTS*s.ATTRIBUTES,l.prefix,this.settings);return this},n.renderers.webgl.prototype.render=function(e){var i,r,s,a,l,h,d=this,u=this.contexts.nodes,c=this.contexts.edges,p=this.camera.getMatrix(),f=n.utils.extend(e,this.options),g=this.settings(f,"drawLabels"),m=this.settings(f,"drawEdges"),v=this.settings(f,"drawNodes");for(a in this.resize(!1),this.settings(f,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(m=!1),this.clear(),p=n.utils.matrices.multiply(p,n.utils.matrices.translation(this.width/2,this.height/2)),this.jobs)o.hasJob(a)&&o.killJob(a);if(m)if(this.settings(f,"batchEdgesDrawing"))(function(){var t,e,i,r,s,a,l,h,d,u;i="edges_"+this.conradId,u=this.settings(f,"webglEdgesBatchSize"),(t=Object.keys(this.edgeFloatArrays)).length&&(d=n.webgl.edges[t[e=0]],s=this.edgeFloatArrays[t[e]].array,h=this.edgeIndicesArrays[t[e]],l=0,a=Math.min(l+u*d.POINTS,s.length/d.ATTRIBUTES),this.jobs[i]=r=function(){return this.edgePrograms[t[e]]||(this.edgePrograms[t[e]]=d.initProgram(c)),l<a&&(c.useProgram(this.edgePrograms[t[e]]),d.render(c,this.edgePrograms[t[e]],s,{settings:this.settings,matrix:p,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(f,"webglOversamplingRatio"),start:l,count:a-l,indicesData:h})),a>=s.length/d.ATTRIBUTES&&e===t.length-1?(delete this.jobs[i],!1):(a>=s.length/d.ATTRIBUTES?(s=this.edgeFloatArrays[t[++e]].array,d=n.webgl.edges[t[e]],l=0,a=Math.min(l+u*d.POINTS,s.length/d.ATTRIBUTES)):(l=a,a=Math.min(l+u*d.POINTS,s.length/d.ATTRIBUTES)),!0)},o.addJob(i,r.bind(this)))}).call(this);else for(a in this.edgeFloatArrays)h=n.webgl.edges[a],this.edgePrograms[a]||(this.edgePrograms[a]=h.initProgram(c)),this.edgeFloatArrays[a]&&(c.useProgram(this.edgePrograms[a]),h.render(c,this.edgePrograms[a],this.edgeFloatArrays[a].array,{settings:this.settings,matrix:p,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(f,"webglOversamplingRatio"),indicesData:this.edgeIndicesArrays[a]}));if(v)for(a in u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),u.enable(u.BLEND),this.nodeFloatArrays)h=n.webgl.nodes[a],this.nodePrograms[a]||(this.nodePrograms[a]=h.initProgram(u)),this.nodeFloatArrays[a]&&(u.useProgram(this.nodePrograms[a]),h.render(u,this.nodePrograms[a],this.nodeFloatArrays[a].array,{settings:this.settings,matrix:p,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(f,"webglOversamplingRatio")}));if(g)for(i=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(t,t,{nodes:i,edges:[],width:this.width,height:this.height}),l=function(t){return d.settings({prefix:d.camera.prefix},t)},r=0,s=i.length;r<s;r++)i[r].hidden||(n.canvas.labels[i[r].type||this.settings(f,"defaultNodeType")]||n.canvas.labels.def)(i[r],this.contexts.labels,l);return this.dispatchEvent("render"),this},n.renderers.webgl.prototype.initDOM=function(t,e,i){var n=document.createElement(t),o=this;n.style.position="absolute",n.setAttribute("class","sigma-"+e),this.domElements[e]=n,this.container.appendChild(n),"canvas"===t.toLowerCase()&&(this.contexts[e]=n.getContext(i?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}),i&&(n.addEventListener("webglcontextlost",function(t){t.preventDefault()},!1),n.addEventListener("webglcontextrestored",function(t){o.render()},!1)))},n.renderers.webgl.prototype.resize=function(e,i){var o,r=this.width,s=this.height,a=n.utils.getPixelRatio();if(e!==t&&i!==t?(this.width=e,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,e=this.width,i=this.height),r!==this.width||s!==this.height)for(o in this.domElements)this.domElements[o].style.width=e+"px",this.domElements[o].style.height=i+"px","canvas"===this.domElements[o].tagName.toLowerCase()&&(this.contexts[o]&&this.contexts[o].scale?(this.domElements[o].setAttribute("width",e*a+"px"),this.domElements[o].setAttribute("height",i*a+"px"),1!==a&&this.contexts[o].scale(a,a)):(this.domElements[o].setAttribute("width",e*this.settings("webglOversamplingRatio")+"px"),this.domElements[o].setAttribute("height",i*this.settings("webglOversamplingRatio")+"px")));for(o in this.contexts)this.contexts[o]&&this.contexts[o].viewport&&this.contexts[o].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},n.renderers.webgl.prototype.clear=function(){return this.contexts.labels.clearRect(0,0,this.width,this.height),this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},n.renderers.webgl.prototype.kill=function(){for(var t,e;e=this.captors.pop();)e.kill();for(t in delete this.captors,this.domElements)this.domElements[t].parentNode.removeChild(this.domElements[t]),delete this.domElements[t],delete this.contexts[t];delete this.domElements,delete this.contexts},n.utils.pkg("sigma.webgl.nodes"),n.utils.pkg("sigma.webgl.edges"),n.utils.pkg("sigma.canvas.labels")}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";if(void 0===o)throw"conrad is not declared";n.utils.pkg("sigma.renderers"),n.renderers.svg=function(t,e,i,o){if("object"!=typeof o)throw"sigma.renderers.svg: Wrong arguments.";if(!(o.container instanceof HTMLElement))throw"Container not found.";var r,s,a,l=this;for(n.classes.dispatcher.extend(this),this.graph=t,this.camera=e,this.domElements={graph:null,groups:{},nodes:{},edges:{},labels:{},hovers:{}},this.measurementCanvas=null,this.options=o,this.container=this.options.container,this.settings="object"==typeof o.settings&&o.settings?i.embedObjects(o.settings):i,this.settings("freeStyle",!!this.options.freeStyle),this.settings("xmlns","http://www.w3.org/2000/svg"),this.nodesOnScreen=[],this.edgesOnScreen=[],this.options.prefix="renderer"+n.utils.id()+":",this.initDOM("svg"),this.captors=[],r=0,s=(a=this.options.captors||[n.captors.mouse,n.captors.touch]).length;r<s;r++)this.captors.push(new("function"==typeof a[r]?a[r]:n.captors[a[r]])(this.domElements.graph,this.camera,this.settings));window.addEventListener("resize",function(){l.resize()}),n.misc.bindDOMEvents.call(this,this.domElements.graph),this.bindHovers(this.options.prefix),this.resize(!1)},n.renderers.svg.prototype.render=function(e){var i,o,r,s,a,l,h,d,u,c={},p=this.graph,f=this.graph.nodes,g=this.settings(e=e||{},"drawEdges"),m=this.settings(e,"drawNodes"),v=(this.settings(e,"drawLabels"),this.settings.embedObjects(e,{prefix:this.options.prefix,forceLabels:this.options.forceLabels}));for(this.settings(e,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(g=!1),this.camera.applyView(t,this.options.prefix,{width:this.width,height:this.height}),this.hideDOMElements(this.domElements.nodes),this.hideDOMElements(this.domElements.edges),this.hideDOMElements(this.domElements.labels),this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),o=0,s=(i=this.nodesOnScreen).length;o<s;o++)c[i[o].id]=i[o];for(o=0,s=(i=p.edges()).length;o<s;o++)!c[(a=i[o]).source]&&!c[a.target]||a.hidden||f(a.source).hidden||f(a.target).hidden||this.edgesOnScreen.push(a);if(d=n.svg.nodes,u=n.svg.labels,m)for(o=0,s=(i=this.nodesOnScreen).length;o<s;o++)i[o].hidden||this.domElements.nodes[i[o].id]||(r=(d[i[o].type]||d.def).create(i[o],v),this.domElements.nodes[i[o].id]=r,this.domElements.groups.nodes.appendChild(r),r=(u[i[o].type]||u.def).create(i[o],v),this.domElements.labels[i[o].id]=r,this.domElements.groups.labels.appendChild(r));if(m)for(o=0,s=(i=this.nodesOnScreen).length;o<s;o++)i[o].hidden||((d[i[o].type]||d.def).update(i[o],this.domElements.nodes[i[o].id],v),(u[i[o].type]||u.def).update(i[o],this.domElements.labels[i[o].id],v));if(d=n.svg.edges,g)for(o=0,s=(i=this.edgesOnScreen).length;o<s;o++)this.domElements.edges[i[o].id]||(l=f(i[o].source),h=f(i[o].target),r=(d[i[o].type]||d.def).create(i[o],l,h,v),this.domElements.edges[i[o].id]=r,this.domElements.groups.edges.appendChild(r));if(g)for(o=0,s=(i=this.edgesOnScreen).length;o<s;o++)l=f(i[o].source),h=f(i[o].target),(d[i[o].type]||d.def).update(i[o],this.domElements.edges[i[o].id],l,h,v);return this.dispatchEvent("render"),this},n.renderers.svg.prototype.initDOM=function(t){var e,i,n,o=document.createElementNS(this.settings("xmlns"),t),r=this.settings("classPrefix");o.style.position="absolute",o.setAttribute("class",r+"-svg"),o.setAttribute("xmlns",this.settings("xmlns")),o.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1");var s=document.createElement("canvas");s.setAttribute("class",r+"-measurement-canvas"),this.domElements.graph=this.container.appendChild(o);var a=["edges","nodes","labels","hovers"];for(n=0,i=a.length;n<i;n++)(e=document.createElementNS(this.settings("xmlns"),"g")).setAttributeNS(null,"id",r+"-group-"+a[n]),e.setAttributeNS(null,"class",r+"-group"),this.domElements.groups[a[n]]=this.domElements.graph.appendChild(e);this.container.appendChild(s),this.measurementCanvas=s.getContext("2d")},n.renderers.svg.prototype.hideDOMElements=function(t){var e;for(e in t)n.svg.utils.hide(t[e]);return this},n.renderers.svg.prototype.bindHovers=function(t){var e,i=n.svg.hovers,o=this;this.bind("overNode",function(n){var r=n.data.node,s=o.settings.embedObjects({prefix:t});if(s("enableHovering")){var a=(i[r.type]||i.def).create(r,o.domElements.nodes[r.id],o.measurementCanvas,s);o.domElements.hovers[r.id]=a,o.domElements.groups.hovers.appendChild(a),e=r}}),this.bind("outNode",function(i){var n=i.data.node;o.settings.embedObjects({prefix:t})("enableHovering")&&(o.domElements.groups.hovers.removeChild(o.domElements.hovers[n.id]),e=null,delete o.domElements.hovers[n.id],o.domElements.groups.nodes.appendChild(o.domElements.nodes[n.id]))}),this.bind("render",function(){if(e){var n=o.settings.embedObjects({prefix:t});o.domElements.groups.hovers.removeChild(o.domElements.hovers[e.id]),delete o.domElements.hovers[e.id];var r=(i[e.type]||i.def).create(e,o.domElements.nodes[e.id],o.measurementCanvas,n);o.domElements.hovers[e.id]=r,o.domElements.groups.hovers.appendChild(r)}})},n.renderers.svg.prototype.resize=function(e,i){var n=this.width,o=this.height;return e!==t&&i!==t?(this.width=e,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,e=this.width,i=this.height),n===this.width&&o===this.height||(this.domElements.graph.style.width=e+"px",this.domElements.graph.style.height=i+"px","svg"===this.domElements.graph.tagName.toLowerCase()&&(this.domElements.graph.setAttribute("width",1*e),this.domElements.graph.setAttribute("height",1*i))),this},n.utils.pkg("sigma.svg.nodes"),n.utils.pkg("sigma.svg.edges"),n.utils.pkg("sigma.svg.labels")}).call(this),function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.renderers");var e,i=!!t.WebGLRenderingContext;if(i){e=document.createElement("canvas");try{i=!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(o){i=!1}}n.renderers.def=i?n.renderers.webgl:n.renderers.canvas}(this),function(){"use strict";n.utils.pkg("sigma.webgl.nodes"),n.webgl.nodes.def={POINTS:3,ATTRIBUTES:5,addNode:function(t,e,i,o,r){var s=n.utils.floatColor(t.color||r("defaultNodeColor"));e[i++]=t[o+"x"],e[i++]=t[o+"y"],e[i++]=t[o+"size"],e[i++]=s,e[i++]=0,e[i++]=t[o+"x"],e[i++]=t[o+"y"],e[i++]=t[o+"size"],e[i++]=s,e[i++]=2*Math.PI/3,e[i++]=t[o+"x"],e[i++]=t[o+"y"],e[i++]=t[o+"size"],e[i++]=s,e[i++]=4*Math.PI/3},render:function(t,e,i,n){var o,r=t.getAttribLocation(e,"a_position"),s=t.getAttribLocation(e,"a_size"),a=t.getAttribLocation(e,"a_color"),l=t.getAttribLocation(e,"a_angle"),h=t.getUniformLocation(e,"u_resolution"),d=t.getUniformLocation(e,"u_matrix"),u=t.getUniformLocation(e,"u_ratio"),c=t.getUniformLocation(e,"u_scale");o=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,i,t.DYNAMIC_DRAW),t.uniform2f(h,n.width,n.height),t.uniform1f(u,1/Math.pow(n.ratio,n.settings("nodesPowRatio"))),t.uniform1f(c,n.scalingRatio),t.uniformMatrix3fv(d,!1,n.matrix),t.enableVertexAttribArray(r),t.enableVertexAttribArray(s),t.enableVertexAttribArray(a),t.enableVertexAttribArray(l),t.vertexAttribPointer(r,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(s,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(a,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),t.vertexAttribPointer(l,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.drawArrays(t.TRIANGLES,n.start||0,n.count||i.length/this.ATTRIBUTES)},initProgram:function(t){var e,i;return e=n.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","attribute float a_angle;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","varying vec2 center;","varying float radius;","void main() {","radius = a_size * u_ratio;","vec2 position = (u_matrix * vec3(a_position, 1)).xy;","center = position * u_scale;","center = vec2(center.x, u_scale * u_resolution.y - center.y);","position = position +","2.0 * radius * vec2(cos(a_angle), sin(a_angle));","position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);","radius = radius * u_scale;","gl_Position = vec4(position, 0, 1);","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),i=n.utils.loadShader(t,["precision mediump float;","varying vec4 color;","varying vec2 center;","varying float radius;","void main(void) {","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_FragCoord.xy - center;","float diff = radius - sqrt(m.x * m.x + m.y * m.y);","if (diff > 0.0)","gl_FragColor = color;","else","gl_FragColor = color0;","}"].join("\n"),t.FRAGMENT_SHADER),n.utils.loadProgram(t,[e,i])}}}(),function(){"use strict";n.utils.pkg("sigma.webgl.nodes"),n.webgl.nodes.fast={POINTS:1,ATTRIBUTES:4,addNode:function(t,e,i,o,r){e[i++]=t[o+"x"],e[i++]=t[o+"y"],e[i++]=t[o+"size"],e[i++]=n.utils.floatColor(t.color||r("defaultNodeColor"))},render:function(t,e,i,n){var o,r=t.getAttribLocation(e,"a_position"),s=t.getAttribLocation(e,"a_size"),a=t.getAttribLocation(e,"a_color"),l=t.getUniformLocation(e,"u_resolution"),h=t.getUniformLocation(e,"u_matrix"),d=t.getUniformLocation(e,"u_ratio"),u=t.getUniformLocation(e,"u_scale");o=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,i,t.DYNAMIC_DRAW),t.uniform2f(l,n.width,n.height),t.uniform1f(d,1/Math.pow(n.ratio,n.settings("nodesPowRatio"))),t.uniform1f(u,n.scalingRatio),t.uniformMatrix3fv(h,!1,n.matrix),t.enableVertexAttribArray(r),t.enableVertexAttribArray(s),t.enableVertexAttribArray(a),t.vertexAttribPointer(r,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(s,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(a,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),t.drawArrays(t.POINTS,n.start||0,n.count||i.length/this.ATTRIBUTES)},initProgram:function(t){var e,i;return e=n.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","gl_PointSize = a_size * u_ratio * u_scale * 2.0;","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),i=n.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","float border = 0.01;","float radius = 0.5;","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_PointCoord - vec2(0.5, 0.5);","float dist = radius - sqrt(m.x * m.x + m.y * m.y);","float t = 0.0;","if (dist > border)","t = 1.0;","else if (dist > 0.0)","t = dist / border;","gl_FragColor = mix(color0, color, t);","}"].join("\n"),t.FRAGMENT_SHADER),n.utils.loadProgram(t,[e,i])}}}(),function(){"use strict";n.utils.pkg("sigma.webgl.edges"),n.webgl.edges.def={POINTS:6,ATTRIBUTES:7,addEdge:function(t,e,i,o,r,s,a){var l=(t[s+"size"]||1)/2,h=e[s+"x"],d=e[s+"y"],u=i[s+"x"],c=i[s+"y"],p=t.color;if(!p)switch(a("edgeColor")){case"source":p=e.color||a("defaultNodeColor");break;case"target":p=i.color||a("defaultNodeColor");break;default:p=a("defaultEdgeColor")}p=n.utils.floatColor(p),o[r++]=h,o[r++]=d,o[r++]=u,o[r++]=c,o[r++]=l,o[r++]=0,o[r++]=p,o[r++]=u,o[r++]=c,o[r++]=h,o[r++]=d,o[r++]=l,o[r++]=1,o[r++]=p,o[r++]=u,o[r++]=c,o[r++]=h,o[r++]=d,o[r++]=l,o[r++]=0,o[r++]=p,o[r++]=u,o[r++]=c,o[r++]=h,o[r++]=d,o[r++]=l,o[r++]=0,o[r++]=p,o[r++]=h,o[r++]=d,o[r++]=u,o[r++]=c,o[r++]=l,o[r++]=1,o[r++]=p,o[r++]=h,o[r++]=d,o[r++]=u,o[r++]=c,o[r++]=l,o[r++]=0,o[r++]=p},render:function(t,e,i,o){var r,s=t.getAttribLocation(e,"a_color"),a=t.getAttribLocation(e,"a_position1"),l=t.getAttribLocation(e,"a_position2"),h=t.getAttribLocation(e,"a_thickness"),d=t.getAttribLocation(e,"a_minus"),u=t.getUniformLocation(e,"u_resolution"),c=t.getUniformLocation(e,"u_matrix"),p=t.getUniformLocation(e,"u_matrixHalfPi"),f=t.getUniformLocation(e,"u_matrixHalfPiMinus"),g=t.getUniformLocation(e,"u_ratio"),m=t.getUniformLocation(e,"u_scale");r=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),t.uniform2f(u,o.width,o.height),t.uniform1f(g,o.ratio/Math.pow(o.ratio,o.settings("edgesPowRatio"))),t.uniform1f(m,o.scalingRatio),t.uniformMatrix3fv(c,!1,o.matrix),t.uniformMatrix2fv(p,!1,n.utils.matrices.rotation(Math.PI/2,!0)),t.uniformMatrix2fv(f,!1,n.utils.matrices.rotation(-Math.PI/2,!0)),t.enableVertexAttribArray(s),t.enableVertexAttribArray(a),t.enableVertexAttribArray(l),t.enableVertexAttribArray(h),t.enableVertexAttribArray(d),t.vertexAttribPointer(a,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(l,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(h,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(d,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(s,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),t.drawArrays(t.TRIANGLES,o.start||0,o.count||i.length/this.ATTRIBUTES)},initProgram:function(t){var e,i;return e=n.utils.loadShader(t,["attribute vec2 a_position1;","attribute vec2 a_position2;","attribute float a_thickness;","attribute float a_minus;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 position = a_thickness * u_ratio *","normalize(a_position2 - a_position1);","mat2 matrix = a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi;","position = matrix * position + a_position1;","gl_Position = vec4(","((u_matrix * vec3(position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),i=n.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),n.utils.loadProgram(t,[e,i])}}}(),function(){"use strict";n.utils.pkg("sigma.webgl.edges"),n.webgl.edges.fast={POINTS:2,ATTRIBUTES:3,addEdge:function(t,e,i,o,r,s,a){var l=e[s+"x"],h=e[s+"y"],d=i[s+"x"],u=i[s+"y"],c=t.color;if(!c)switch(a("edgeColor")){case"source":c=e.color||a("defaultNodeColor");break;case"target":c=i.color||a("defaultNodeColor");break;default:c=a("defaultEdgeColor")}c=n.utils.floatColor(c),o[r++]=l,o[r++]=h,o[r++]=c,o[r++]=d,o[r++]=u,o[r++]=c},render:function(t,e,i,n){var o,r=t.getAttribLocation(e,"a_color"),s=t.getAttribLocation(e,"a_position"),a=t.getUniformLocation(e,"u_resolution"),l=t.getUniformLocation(e,"u_matrix");o=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,i,t.DYNAMIC_DRAW),t.uniform2f(a,n.width,n.height),t.uniformMatrix3fv(l,!1,n.matrix),t.enableVertexAttribArray(s),t.enableVertexAttribArray(r),t.vertexAttribPointer(s,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(r,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.lineWidth(3),t.drawArrays(t.LINES,n.start||0,n.count||i.length/this.ATTRIBUTES)},initProgram:function(t){var e,i;return e=n.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_color;","uniform vec2 u_resolution;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),i=n.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),n.utils.loadProgram(t,[e,i])}}}(),function(){"use strict";n.utils.pkg("sigma.webgl.edges"),n.webgl.edges.arrow={POINTS:9,ATTRIBUTES:11,addEdge:function(t,e,i,o,r,s,a){var l=(t[s+"size"]||1)/2,h=e[s+"x"],d=e[s+"y"],u=i[s+"x"],c=i[s+"y"],p=i[s+"size"],f=t.color;if(!f)switch(a("edgeColor")){case"source":f=e.color||a("defaultNodeColor");break;case"target":f=i.color||a("defaultNodeColor");break;default:f=a("defaultEdgeColor")}f=n.utils.floatColor(f),o[r++]=h,o[r++]=d,o[r++]=u,o[r++]=c,o[r++]=l,o[r++]=p,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=u,o[r++]=c,o[r++]=h,o[r++]=d,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=1,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=u,o[r++]=c,o[r++]=h,o[r++]=d,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=u,o[r++]=c,o[r++]=h,o[r++]=d,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=h,o[r++]=d,o[r++]=u,o[r++]=c,o[r++]=l,o[r++]=p,o[r++]=0,o[r++]=1,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=h,o[r++]=d,o[r++]=u,o[r++]=c,o[r++]=l,o[r++]=p,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=0,o[r++]=f,o[r++]=u,o[r++]=c,o[r++]=h,o[r++]=d,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=0,o[r++]=1,o[r++]=-1,o[r++]=f,o[r++]=u,o[r++]=c,o[r++]=h,o[r++]=d,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=0,o[r++]=1,o[r++]=0,o[r++]=f,o[r++]=u,o[r++]=c,o[r++]=h,o[r++]=d,o[r++]=l,o[r++]=p,o[r++]=1,o[r++]=0,o[r++]=1,o[r++]=1,o[r++]=f},render:function(t,e,i,o){var r,s=t.getAttribLocation(e,"a_pos1"),a=t.getAttribLocation(e,"a_pos2"),l=t.getAttribLocation(e,"a_thickness"),h=t.getAttribLocation(e,"a_tSize"),d=t.getAttribLocation(e,"a_delay"),u=t.getAttribLocation(e,"a_minus"),c=t.getAttribLocation(e,"a_head"),p=t.getAttribLocation(e,"a_headPosition"),f=t.getAttribLocation(e,"a_color"),g=t.getUniformLocation(e,"u_resolution"),m=t.getUniformLocation(e,"u_matrix"),v=t.getUniformLocation(e,"u_matrixHalfPi"),y=t.getUniformLocation(e,"u_matrixHalfPiMinus"),b=t.getUniformLocation(e,"u_ratio"),w=t.getUniformLocation(e,"u_nodeRatio"),x=t.getUniformLocation(e,"u_arrowHead"),_=t.getUniformLocation(e,"u_scale");r=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),t.uniform2f(g,o.width,o.height),t.uniform1f(b,o.ratio/Math.pow(o.ratio,o.settings("edgesPowRatio"))),t.uniform1f(w,Math.pow(o.ratio,o.settings("nodesPowRatio"))/o.ratio),t.uniform1f(x,5),t.uniform1f(_,o.scalingRatio),t.uniformMatrix3fv(m,!1,o.matrix),t.uniformMatrix2fv(v,!1,n.utils.matrices.rotation(Math.PI/2,!0)),t.uniformMatrix2fv(y,!1,n.utils.matrices.rotation(-Math.PI/2,!0)),t.enableVertexAttribArray(s),t.enableVertexAttribArray(a),t.enableVertexAttribArray(l),t.enableVertexAttribArray(h),t.enableVertexAttribArray(d),t.enableVertexAttribArray(u),t.enableVertexAttribArray(c),t.enableVertexAttribArray(p),t.enableVertexAttribArray(f),t.vertexAttribPointer(s,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(a,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(l,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(h,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(d,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),t.vertexAttribPointer(u,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,28),t.vertexAttribPointer(c,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,32),t.vertexAttribPointer(p,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,36),t.vertexAttribPointer(f,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,40),t.drawArrays(t.TRIANGLES,o.start||0,o.count||i.length/this.ATTRIBUTES)},initProgram:function(t){var e,i;return e=n.utils.loadShader(t,["attribute vec2 a_pos1;","attribute vec2 a_pos2;","attribute float a_thickness;","attribute float a_tSize;","attribute float a_delay;","attribute float a_minus;","attribute float a_head;","attribute float a_headPosition;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_nodeRatio;","uniform float u_arrowHead;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 pos = normalize(a_pos2 - a_pos1);","mat2 matrix = (1.0 - a_head) *","(","a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi",") + a_head * (","a_headPosition * u_matrixHalfPiMinus * 0.6 +","(a_headPosition * a_headPosition - 1.0) * mat2(1.0)",");","pos = a_pos1 + (","(1.0 - a_head) * a_thickness * u_ratio * matrix * pos +","a_head * u_arrowHead * a_thickness * u_ratio * matrix * pos +","a_delay * pos * (","a_tSize / u_nodeRatio +","u_arrowHead * a_thickness * u_ratio",")",");","gl_Position = vec4(","((u_matrix * vec3(pos, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),i=n.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),n.utils.loadProgram(t,[e,i])}}}(),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.canvas.labels"),n.canvas.labels.def=function(t,e,i){var n,o=i("prefix")||"",r=t[o+"size"];r<i("labelThreshold")||t.label&&"string"==typeof t.label&&(n="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*r,e.font=(i("fontStyle")?i("fontStyle")+" ":"")+n+"px "+i("font"),e.fillStyle="node"===i("labelColor")?t.color||i("defaultNodeColor"):i("defaultLabelColor"),e.fillText(t.label,Math.round(t[o+"x"]+r+3),Math.round(t[o+"y"]+n/3)))}}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.canvas.hovers"),n.canvas.hovers.def=function(t,e,i){var o,r,s,a,l,h=i("hoverFontStyle")||i("fontStyle"),d=i("prefix")||"",u=t[d+"size"],c="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*u;e.font=(h?h+" ":"")+c+"px "+(i("hoverFont")||i("font")),e.beginPath(),e.fillStyle="node"===i("labelHoverBGColor")?t.color||i("defaultNodeColor"):i("defaultHoverLabelBGColor"),t.label&&i("labelHoverShadow")&&(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=8,e.shadowColor=i("labelHoverShadowColor")),t.label&&"string"==typeof t.label&&(o=Math.round(t[d+"x"]-c/2-2),r=Math.round(t[d+"y"]-c/2-2),s=Math.round(e.measureText(t.label).width+c/2+u+7),a=Math.round(c+4),l=Math.round(c/2+2),e.moveTo(o,r+l),e.arcTo(o,r,o+l,r,l),e.lineTo(o+s,r),e.lineTo(o+s,r+a),e.lineTo(o+l,r+a),e.arcTo(o,r+a,o,r+a-l,l),e.lineTo(o,r+l),e.closePath(),e.fill(),e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0),i("borderSize")>0&&(e.beginPath(),e.fillStyle="node"===i("nodeBorderColor")?t.color||i("defaultNodeColor"):i("defaultNodeBorderColor"),e.arc(t[d+"x"],t[d+"y"],u+i("borderSize"),0,2*Math.PI,!0),e.closePath(),e.fill()),(n.canvas.nodes[t.type]||n.canvas.nodes.def)(t,e,i),t.label&&"string"==typeof t.label&&(e.fillStyle="node"===i("labelHoverColor")?t.color||i("defaultNodeColor"):i("defaultLabelHoverColor"),e.fillText(t.label,Math.round(t[d+"x"]+u+3),Math.round(t[d+"y"]+c/3)))}}).call(this),function(){"use strict";n.utils.pkg("sigma.canvas.nodes"),n.canvas.nodes.def=function(t,e,i){var n=i("prefix")||"";e.fillStyle=t.color||i("defaultNodeColor"),e.beginPath(),e.arc(t[n+"x"],t[n+"y"],t[n+"size"],0,2*Math.PI,!0),e.closePath(),e.fill()}}(),function(){"use strict";n.utils.pkg("sigma.canvas.edges"),n.canvas.edges.def=function(t,e,i,n,o){var r=t.color,s=o("prefix")||"",a=t[s+"size"]||1,l=o("edgeColor"),h=o("defaultNodeColor"),d=o("defaultEdgeColor");if(!r)switch(l){case"source":r=e.color||h;break;case"target":r=i.color||h;break;default:r=d}n.strokeStyle=r,n.lineWidth=a,n.beginPath(),n.moveTo(e[s+"x"],e[s+"y"]),n.lineTo(i[s+"x"],i[s+"y"]),n.stroke()}}(),function(){"use strict";n.utils.pkg("sigma.canvas.edges"),n.canvas.edges.arrow=function(t,e,i,n,o){var r=t.color,s=o("prefix")||"",a=o("edgeColor"),l=o("defaultNodeColor"),h=o("defaultEdgeColor"),d=t[s+"size"]||1,u=i[s+"size"],c=e[s+"x"],p=e[s+"y"],f=i[s+"x"],g=i[s+"y"],m=Math.max(2.5*d,o("minArrowSize")),v=Math.sqrt(Math.pow(f-c,2)+Math.pow(g-p,2)),y=c+(f-c)*(v-m-u)/v,b=p+(g-p)*(v-m-u)/v,w=(f-c)*m/v,x=(g-p)*m/v;if(!r)switch(a){case"source":r=e.color||l;break;case"target":r=i.color||l;break;default:r=h}n.strokeStyle=r,n.lineWidth=d,n.beginPath(),n.moveTo(c,p),n.lineTo(y,b),n.stroke(),n.fillStyle=r,n.beginPath(),n.moveTo(y+w,b+x),n.lineTo(y+.6*x,b-.6*w),n.lineTo(y-.6*x,b+.6*w),n.lineTo(y+w,b+x),n.closePath(),n.fill()}}(),function(){"use strict";n.utils.pkg("sigma.canvas.edgehovers"),n.canvas.edgehovers.def=function(t,e,i,n,o){var r=t.color,s=o("prefix")||"",a=t[s+"size"]||1,l=o("edgeColor"),h=o("defaultNodeColor"),d=o("defaultEdgeColor");if(!r)switch(l){case"source":r=e.color||h;break;case"target":r=i.color||h;break;default:r=d}r="edge"===o("edgeHoverColor")?t.hover_color||r:t.hover_color||o("defaultEdgeHoverColor")||r,a*=o("edgeHoverSizeRatio"),n.strokeStyle=r,n.lineWidth=a,n.beginPath(),n.moveTo(e[s+"x"],e[s+"y"]),n.lineTo(i[s+"x"],i[s+"y"]),n.stroke()}}(),function(){"use strict";n.utils.pkg("sigma.canvas.edgehovers"),n.canvas.edgehovers.curve=function(t,e,i,o,r){var s,a=t.color,l=r("prefix")||"",h=r("edgeHoverSizeRatio")*(t[l+"size"]||1),d=r("edgeColor"),u=r("defaultNodeColor"),c=r("defaultEdgeColor"),p=e[l+"x"],f=e[l+"y"],g=i[l+"x"],m=i[l+"y"];if(s=e.id===i.id?n.utils.getSelfLoopControlPoints(p,f,e[l+"size"]):n.utils.getQuadraticControlPoint(p,f,g,m),!a)switch(d){case"source":a=e.color||u;break;case"target":a=i.color||u;break;default:a=c}a="edge"===r("edgeHoverColor")?t.hover_color||a:t.hover_color||r("defaultEdgeHoverColor")||a,o.strokeStyle=a,o.lineWidth=h,o.beginPath(),o.moveTo(p,f),e.id===i.id?o.bezierCurveTo(s.x1,s.y1,s.x2,s.y2,g,m):o.quadraticCurveTo(s.x,s.y,g,m),o.stroke()}}(),function(){"use strict";n.utils.pkg("sigma.canvas.edgehovers"),n.canvas.edgehovers.arrow=function(t,e,i,n,o){var r=t.color,s=o("prefix")||"",a=o("edgeColor"),l=o("defaultNodeColor"),h=o("defaultEdgeColor"),d=t[s+"size"]||1,u=i[s+"size"],c=e[s+"x"],p=e[s+"y"],f=i[s+"x"],g=i[s+"y"],m=2.5*(d=t.hover?o("edgeHoverSizeRatio")*d:d),v=Math.sqrt(Math.pow(f-c,2)+Math.pow(g-p,2)),y=c+(f-c)*(v-m-u)/v,b=p+(g-p)*(v-m-u)/v,w=(f-c)*m/v,x=(g-p)*m/v;if(!r)switch(a){case"source":r=e.color||l;break;case"target":r=i.color||l;break;default:r=h}r="edge"===o("edgeHoverColor")?t.hover_color||r:t.hover_color||o("defaultEdgeHoverColor")||r,n.strokeStyle=r,n.lineWidth=d,n.beginPath(),n.moveTo(c,p),n.lineTo(y,b),n.stroke(),n.fillStyle=r,n.beginPath(),n.moveTo(y+w,b+x),n.lineTo(y+.6*x,b-.6*w),n.lineTo(y-.6*x,b+.6*w),n.lineTo(y+w,b+x),n.closePath(),n.fill()}}(),function(){"use strict";n.utils.pkg("sigma.canvas.edgehovers"),n.canvas.edgehovers.curvedArrow=function(t,e,i,o,r){var s,a,l,h,d,u,c,p=t.color,f=r("prefix")||"",g=r("edgeColor"),m=r("defaultNodeColor"),v=r("defaultEdgeColor"),y=r("edgeHoverSizeRatio")*(t[f+"size"]||1),b=i[f+"size"],w=e[f+"x"],x=e[f+"y"],_=i[f+"x"],E=i[f+"y"];if(s=e.id===i.id?n.utils.getSelfLoopControlPoints(w,x,b):n.utils.getQuadraticControlPoint(w,x,_,E),e.id===i.id?(a=Math.sqrt(Math.pow(_-s.x1,2)+Math.pow(E-s.y1,2)),h=s.x1+(_-s.x1)*(a-(l=2.5*y)-b)/a,d=s.y1+(E-s.y1)*(a-l-b)/a,u=(_-s.x1)*l/a,c=(E-s.y1)*l/a):(a=Math.sqrt(Math.pow(_-s.x,2)+Math.pow(E-s.y,2)),h=s.x+(_-s.x)*(a-(l=2.5*y)-b)/a,d=s.y+(E-s.y)*(a-l-b)/a,u=(_-s.x)*l/a,c=(E-s.y)*l/a),!p)switch(g){case"source":p=e.color||m;break;case"target":p=i.color||m;break;default:p=v}p="edge"===r("edgeHoverColor")?t.hover_color||p:t.hover_color||r("defaultEdgeHoverColor")||p,o.strokeStyle=p,o.lineWidth=y,o.beginPath(),o.moveTo(w,x),e.id===i.id?o.bezierCurveTo(s.x2,s.y2,s.x1,s.y1,h,d):o.quadraticCurveTo(s.x,s.y,h,d),o.stroke(),o.fillStyle=p,o.beginPath(),o.moveTo(h+u,d+c),o.lineTo(h+.6*c,d-.6*u),o.lineTo(h-.6*c,d+.6*u),o.lineTo(h+u,d+c),o.closePath(),o.fill()}}(),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.canvas.extremities"),n.canvas.extremities.def=function(t,e,i,o,r){(n.canvas.hovers[e.type]||n.canvas.hovers.def)(e,o,r),(n.canvas.hovers[i.type]||n.canvas.hovers.def)(i,o,r)}}).call(this),function(){"use strict";n.utils.pkg("sigma.svg.utils"),n.svg.utils={show:function(t){return t.style.display="",this},hide:function(t){return t.style.display="none",this}}}(),function(){"use strict";n.utils.pkg("sigma.svg.nodes"),n.svg.nodes.def={create:function(t,e){e("prefix");var i=document.createElementNS(e("xmlns"),"circle");return i.setAttributeNS(null,"data-node-id",t.id),i.setAttributeNS(null,"class",e("classPrefix")+"-node"),i.setAttributeNS(null,"fill",t.color||e("defaultNodeColor")),i},update:function(t,e,i){var n=i("prefix")||"";return e.setAttributeNS(null,"cx",t[n+"x"]),e.setAttributeNS(null,"cy",t[n+"y"]),e.setAttributeNS(null,"r",t[n+"size"]),i("freeStyle")||e.setAttributeNS(null,"fill",t.color||i("defaultNodeColor")),e.style.display="",this}}}(),function(){"use strict";n.utils.pkg("sigma.svg.edges"),n.svg.edges.def={create:function(t,e,i,n){var o=t.color,r=(n("prefix"),n("edgeColor")),s=n("defaultNodeColor"),a=n("defaultEdgeColor");if(!o)switch(r){case"source":o=e.color||s;break;case"target":o=i.color||s;break;default:o=a}var l=document.createElementNS(n("xmlns"),"line");return l.setAttributeNS(null,"data-edge-id",t.id),l.setAttributeNS(null,"class",n("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",o),l},update:function(t,e,i,n,o){var r=o("prefix")||"";return e.setAttributeNS(null,"stroke-width",t[r+"size"]||1),e.setAttributeNS(null,"x1",i[r+"x"]),e.setAttributeNS(null,"y1",i[r+"y"]),e.setAttributeNS(null,"x2",n[r+"x"]),e.setAttributeNS(null,"y2",n[r+"y"]),e.style.display="",this}}}(),function(){"use strict";n.utils.pkg("sigma.svg.edges"),n.svg.edges.curve={create:function(t,e,i,n){var o=t.color,r=(n("prefix"),n("edgeColor")),s=n("defaultNodeColor"),a=n("defaultEdgeColor");if(!o)switch(r){case"source":o=e.color||s;break;case"target":o=i.color||s;break;default:o=a}var l=document.createElementNS(n("xmlns"),"path");return l.setAttributeNS(null,"data-edge-id",t.id),l.setAttributeNS(null,"class",n("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",o),l},update:function(t,e,i,n,o){var r=o("prefix")||"";return e.setAttributeNS(null,"stroke-width",t[r+"size"]||1),e.setAttributeNS(null,"d","M"+i[r+"x"]+","+i[r+"y"]+" Q"+((i[r+"x"]+n[r+"x"])/2+(n[r+"y"]-i[r+"y"])/4)+","+((i[r+"y"]+n[r+"y"])/2+(i[r+"x"]-n[r+"x"])/4)+" "+n[r+"x"]+","+n[r+"y"]),e.setAttributeNS(null,"fill","none"),e.style.display="",this}}}(),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.svg.labels"),n.svg.labels.def={create:function(t,e){var i=t[(e("prefix")||"")+"size"],n=document.createElementNS(e("xmlns"),"text"),o="fixed"===e("labelSize")?e("defaultLabelSize"):e("labelSizeRatio")*i,r="node"===e("labelColor")?t.color||e("defaultNodeColor"):e("defaultLabelColor");return n.setAttributeNS(null,"data-label-target",t.id),n.setAttributeNS(null,"class",e("classPrefix")+"-label"),n.setAttributeNS(null,"font-size",o),n.setAttributeNS(null,"font-family",e("font")),n.setAttributeNS(null,"fill",r),n.innerHTML=t.label,n.textContent=t.label,n},update:function(t,e,i){var n=i("prefix")||"",o=t[n+"size"],r="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*o;if((i("forceLabels")||!(o<i("labelThreshold")))&&"string"==typeof t.label)return e.setAttributeNS(null,"x",Math.round(t[n+"x"]+o+3)),e.setAttributeNS(null,"y",Math.round(t[n+"y"]+r/3)),e.style.display="",this}}}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.svg.hovers"),n.svg.hovers.def={create:function(t,e,i,n){n("hoverFontStyle")||n("fontStyle");var o,r,s,a=n("prefix")||"",l=t[a+"size"],h="fixed"===n("labelSize")?n("defaultLabelSize"):n("labelSizeRatio")*l,d="node"===n("labelHoverColor")?t.color||n("defaultNodeColor"):n("defaultLabelHoverColor"),u=document.createElementNS(n("xmlns"),"g"),c=document.createElementNS(n("xmlns"),"rect"),p=document.createElementNS(n("xmlns"),"circle"),f=document.createElementNS(n("xmlns"),"text");return u.setAttributeNS(null,"class",n("classPrefix")+"-hover"),u.setAttributeNS(null,"data-node-id",t.id),"string"==typeof t.label&&(f.innerHTML=t.label,f.textContent=t.label,f.setAttributeNS(null,"class",n("classPrefix")+"-hover-label"),f.setAttributeNS(null,"font-size",h),f.setAttributeNS(null,"font-family",n("font")),f.setAttributeNS(null,"fill",d),f.setAttributeNS(null,"x",Math.round(t[a+"x"]+l+3)),f.setAttributeNS(null,"y",Math.round(t[a+"y"]+h/3)),Math.round(t[a+"x"]-h/2-2),Math.round(t[a+"y"]-h/2-2),o=Math.round(i.measureText(t.label).width+h/2+l+9),r=Math.round(h+4),s=Math.round(h/2+2),p.setAttributeNS(null,"class",n("classPrefix")+"-hover-area"),p.setAttributeNS(null,"fill","#fff"),p.setAttributeNS(null,"cx",t[a+"x"]),p.setAttributeNS(null,"cy",t[a+"y"]),p.setAttributeNS(null,"r",s),c.setAttributeNS(null,"class",n("classPrefix")+"-hover-area"),c.setAttributeNS(null,"fill","#fff"),c.setAttributeNS(null,"x",t[a+"x"]+s/4),c.setAttributeNS(null,"y",t[a+"y"]-s),c.setAttributeNS(null,"width",o),c.setAttributeNS(null,"height",r)),u.appendChild(p),u.appendChild(c),u.appendChild(f),u.appendChild(e),u}}}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.middlewares"),n.utils.pkg("sigma.utils"),n.middlewares.rescale=function(t,e,i){var o,r,s,a,l,h,d,u,c=this.graph.nodes(),p=this.graph.edges(),f=this.settings.embedObjects(i||{}),g=f("bounds")||n.utils.getBoundaries(this.graph,t,!0),m=g.minX,v=g.minY,y=g.maxX,b=g.maxY,w=g.sizeMax,x=g.weightMax,_=f("width")||1,E=f("height")||1,k=f("autoRescale"),S={nodePosition:1,nodeSize:1,edgeSize:1};for(k instanceof Array||(k=["nodePosition","nodeSize","edgeSize"]),o=0,r=k.length;o<r;o++)if(!S[k[o]])throw new Error('The rescale setting "'+k[o]+'" is not recognized.');var C=~k.indexOf("nodePosition"),T=~k.indexOf("nodeSize"),M=~k.indexOf("edgeSize");for(d="outside"===f("scalingMode")?Math.max(_/Math.max(y-m,1),E/Math.max(b-v,1)):Math.min(_/Math.max(y-m,1),E/Math.max(b-v,1)),y+=u=(f("rescaleIgnoreSize")?0:(f("maxNodeSize")||w)/d)+(f("sideMargin")||0),m-=u,b+=u,v-=u,d="outside"===f("scalingMode")?Math.max(_/Math.max(y-m,1),E/Math.max(b-v,1)):Math.min(_/Math.max(y-m,1),E/Math.max(b-v,1)),f("maxNodeSize")||f("minNodeSize")?f("maxNodeSize")===f("minNodeSize")?(s=0,a=+f("maxNodeSize")):(s=(f("maxNodeSize")-f("minNodeSize"))/w,a=+f("minNodeSize")):(s=1,a=0),f("maxEdgeSize")||f("minEdgeSize")?f("maxEdgeSize")===f("minEdgeSize")?(l=0,h=+f("minEdgeSize")):(l=(f("maxEdgeSize")-f("minEdgeSize"))/x,h=+f("minEdgeSize")):(l=1,h=0),o=0,r=p.length;o<r;o++)p[o][e+"size"]=p[o][t+"size"]*(M?l:1)+(M?h:0);for(o=0,r=c.length;o<r;o++)c[o][e+"size"]=c[o][t+"size"]*(T?s:1)+(T?a:0),c[o][e+"x"]=(c[o][t+"x"]-(y+m)/2)*(C?d:1),c[o][e+"y"]=(c[o][t+"y"]-(b+v)/2)*(C?d:1)},n.utils.getBoundaries=function(t,e,i){var n,o,r=t.edges(),s=t.nodes(),a=-1/0,l=-1/0,h=1/0,d=1/0,u=-1/0,c=-1/0;if(i)for(n=0,o=r.length;n<o;n++)a=Math.max(r[n][e+"size"],a);for(n=0,o=s.length;n<o;n++)l=Math.max(s[n][e+"size"],l),u=Math.max(s[n][e+"x"],u),h=Math.min(s[n][e+"x"],h),c=Math.max(s[n][e+"y"],c),d=Math.min(s[n][e+"y"],d);return{weightMax:a=a||1,sizeMax:l=l||1,minX:h,minY:d,maxX:u,maxY:c}}}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.middlewares"),n.middlewares.copy=function(t,e){var i,n,o;if(e+""!=t+""){for(i=0,n=(o=this.graph.nodes()).length;i<n;i++)o[i][e+"x"]=o[i][t+"x"],o[i][e+"y"]=o[i][t+"y"],o[i][e+"size"]=o[i][t+"size"];for(i=0,n=(o=this.graph.edges()).length;i<n;i++)o[i][e+"size"]=o[i][t+"size"]}}}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.misc.animation.running");var e,i=(e=0,function(){return""+ ++e});n.misc.animation.camera=function(e,o,r){if(!(e instanceof n.classes.camera&&"object"==typeof o&&o))throw"animation.camera: Wrong arguments.";if("number"!=typeof o.x&&"number"!=typeof o.y&&"number"!=typeof o.ratio&&"number"!=typeof o.angle)throw"There must be at least one valid coordinate in the given val.";var s,a,l,h,d,u=r||{},c=n.utils.dateNow();return d={x:e.x,y:e.y,ratio:e.ratio,angle:e.angle},h="function"!=typeof u.easing?n.utils.easings[u.easing||"quadraticInOut"]:u.easing,s=function(){var i,r=u.duration?(n.utils.dateNow()-c)/u.duration:1;r>=1?(e.isAnimated=!1,e.goTo({x:o.x!==t?o.x:d.x,y:o.y!==t?o.y:d.y,ratio:o.ratio!==t?o.ratio:d.ratio,angle:o.angle!==t?o.angle:d.angle}),cancelAnimationFrame(a),delete n.misc.animation.running[a],"function"==typeof u.onComplete&&u.onComplete()):(i=h(r),e.isAnimated=!0,e.goTo({x:o.x!==t?d.x+(o.x-d.x)*i:d.x,y:o.y!==t?d.y+(o.y-d.y)*i:d.y,ratio:o.ratio!==t?d.ratio+(o.ratio-d.ratio)*i:d.ratio,angle:o.angle!==t?d.angle+(o.angle-d.angle)*i:d.angle}),"function"==typeof u.onNewFrame&&u.onNewFrame(),l.frameId=requestAnimationFrame(s))},a=i(),l={frameId:requestAnimationFrame(s),target:e,type:"camera",options:u,fn:s},n.misc.animation.running[a]=l,a},n.misc.animation.kill=function(t){if(1!==arguments.length||"number"!=typeof t)throw"animation.kill: Wrong arguments.";var e=n.misc.animation.running[t];return e&&(cancelAnimationFrame(t),delete n.misc.animation.running[e.frameId],"camera"===e.type&&(e.target.isAnimated=!1),"function"==typeof(e.options||{}).onComplete&&e.options.onComplete()),this},n.misc.animation.killAll=function(t){var e,i,o=0,r="string"==typeof t?t:null,s="object"==typeof t?t:null,a=n.misc.animation.running;for(i in a)r&&a[i].type!==r||s&&a[i].target!==s||(e=n.misc.animation.running[i],cancelAnimationFrame(e.frameId),delete n.misc.animation.running[i],"camera"===e.type&&(e.target.isAnimated=!1),o++,"function"==typeof(e.options||{}).onComplete&&e.options.onComplete());return o},n.misc.animation.has=function(t){var e,i="string"==typeof t?t:null,o="object"==typeof t?t:null,r=n.misc.animation.running;for(e in r)if(!(i&&r[e].type!==i||o&&r[e].target!==o))return!0;return!1}}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.misc"),n.misc.bindEvents=function(e){var i,o,r,s,a=this;function l(t){t&&(r="x"in t.data?t.data.x:r,s="y"in t.data?t.data.y:s);var i,n,o,l,h,d,u,c,p=[],f=r+a.width/2,g=s+a.height/2,m=a.camera.cameraPosition(r,s),v=a.camera.quadtree.point(m.x,m.y);if(v.length)for(i=0,o=v.length;i<o;i++)if(h=(l=v[i])[e+"x"],d=l[e+"y"],u=l[e+"size"],!l.hidden&&f>h-u&&f<h+u&&g>d-u&&g<d+u&&Math.sqrt(Math.pow(f-h,2)+Math.pow(g-d,2))<u){for(c=!1,n=0;n<p.length;n++)if(l.size>p[n].size){p.splice(n,0,l),c=!0;break}c||p.push(l)}return p}function h(i){if(!a.settings("enableEdgeHovering"))return[];var o=n.renderers.canvas&&a instanceof n.renderers.canvas;if(!o)throw new Error("The edge events feature is not compatible with the WebGL renderer");i&&(r="x"in i.data?i.data.x:r,s="y"in i.data?i.data.y:s);var l,h,d,u,c,p,f,g,m,v,y=a.settings("edgeHoverPrecision"),b={},w=[],x=r+a.width/2,_=s+a.height/2,E=a.camera.cameraPosition(r,s),k=[];if(o)for(l=0,d=(u=a.camera.quadtree.area(a.camera.getRectangle(a.width,a.height))).length;l<d;l++)b[u[l].id]=u[l];function S(t,e){for(v=!1,h=0;h<t.length;h++)if(e.size>t[h].size){t.splice(h,0,e),v=!0;break}v||t.push(e)}if(a.camera.edgequadtree!==t&&(k=a.camera.edgequadtree.point(E.x,E.y)),k.length)for(l=0,d=k.length;l<d;l++)f=a.graph.nodes((c=k[l]).source),g=a.graph.nodes(c.target),p=c[e+"size"]||c["read_"+e+"size"],!c.hidden&&!f.hidden&&!g.hidden&&(!o||b[c.source]||b[c.target])&&n.utils.getDistance(f[e+"x"],f[e+"y"],x,_)>f[e+"size"]&&n.utils.getDistance(g[e+"x"],g[e+"y"],x,_)>g[e+"size"]&&("curve"==c.type||"curvedArrow"==c.type?f.id===g.id?(m=n.utils.getSelfLoopControlPoints(f[e+"x"],f[e+"y"],f[e+"size"]),n.utils.isPointOnBezierCurve(x,_,f[e+"x"],f[e+"y"],g[e+"x"],g[e+"y"],m.x1,m.y1,m.x2,m.y2,Math.max(p,y))&&S(w,c)):(m=n.utils.getQuadraticControlPoint(f[e+"x"],f[e+"y"],g[e+"x"],g[e+"y"]),n.utils.isPointOnQuadraticCurve(x,_,f[e+"x"],f[e+"y"],g[e+"x"],g[e+"y"],m.x,m.y,Math.max(p,y))&&S(w,c)):n.utils.isPointOnSegment(x,_,f[e+"x"],f[e+"y"],g[e+"x"],g[e+"y"],Math.max(p,y))&&S(w,c));return w}function d(t){var e,i,n={},o={};function r(t){if(a.settings("eventsEnabled")){e=l(t),i=h(t);var r,s,d,u,c=[],p=[],f={},g=e.length,m=[],v=[],y={},b=i.length;for(r=0;r<g;r++)f[(d=e[r]).id]=d,n[d.id]||(p.push(d),n[d.id]=d);for(s in n)f[s]||(c.push(n[s]),delete n[s]);for(r=0,g=p.length;r<g;r++)a.dispatchEvent("overNode",{node:p[r],captor:t.data});for(r=0,g=c.length;r<g;r++)a.dispatchEvent("outNode",{node:c[r],captor:t.data});for(p.length&&a.dispatchEvent("overNodes",{nodes:p,captor:t.data}),c.length&&a.dispatchEvent("outNodes",{nodes:c,captor:t.data}),r=0;r<b;r++)y[(u=i[r]).id]=u,o[u.id]||(v.push(u),o[u.id]=u);for(s in o)y[s]||(m.push(o[s]),delete o[s]);for(r=0,b=v.length;r<b;r++)a.dispatchEvent("overEdge",{edge:v[r],captor:t.data});for(r=0,b=m.length;r<b;r++)a.dispatchEvent("outEdge",{edge:m[r],captor:t.data});v.length&&a.dispatchEvent("overEdges",{edges:v,captor:t.data}),m.length&&a.dispatchEvent("outEdges",{edges:m,captor:t.data})}}t.bind("click",function(t){a.settings("eventsEnabled")&&(a.dispatchEvent("click",t.data),e=l(t),i=h(t),e.length?(a.dispatchEvent("clickNode",{node:e[0],captor:t.data}),a.dispatchEvent("clickNodes",{node:e,captor:t.data})):i.length?(a.dispatchEvent("clickEdge",{edge:i[0],captor:t.data}),a.dispatchEvent("clickEdges",{edge:i,captor:t.data})):a.dispatchEvent("clickStage",{captor:t.data}))}),t.bind("mousedown",r),t.bind("mouseup",r),t.bind("mousemove",r),t.bind("mouseout",function(t){if(a.settings("eventsEnabled")){var e,i,r,s,l=[],h=[];for(e in n)l.push(n[e]);for(n={},i=0,r=l.length;i<r;i++)a.dispatchEvent("outNode",{node:l[i],captor:t.data});for(l.length&&a.dispatchEvent("outNodes",{nodes:l,captor:t.data}),o={},i=0,s=h.length;i<s;i++)a.dispatchEvent("outEdge",{edge:h[i],captor:t.data});h.length&&a.dispatchEvent("outEdges",{edges:h,captor:t.data})}}),t.bind("doubleclick",function(t){a.settings("eventsEnabled")&&(a.dispatchEvent("doubleClick",t.data),e=l(t),i=h(t),e.length?(a.dispatchEvent("doubleClickNode",{node:e[0],captor:t.data}),a.dispatchEvent("doubleClickNodes",{node:e,captor:t.data})):i.length?(a.dispatchEvent("doubleClickEdge",{edge:i[0],captor:t.data}),a.dispatchEvent("doubleClickEdges",{edge:i,captor:t.data})):a.dispatchEvent("doubleClickStage",{captor:t.data}))}),t.bind("rightclick",function(t){a.settings("eventsEnabled")&&(a.dispatchEvent("rightClick",t.data),e=l(t),i=h(t),e.length?(a.dispatchEvent("rightClickNode",{node:e[0],captor:t.data}),a.dispatchEvent("rightClickNodes",{node:e,captor:t.data})):i.length?(a.dispatchEvent("rightClickEdge",{edge:i[0],captor:t.data}),a.dispatchEvent("rightClickEdges",{edge:i,captor:t.data})):a.dispatchEvent("rightClickStage",{captor:t.data}))}),a.bind("render",r)}for(i=0,o=this.captors.length;i<o;i++)d(this.captors[i])}}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.misc"),n.misc.bindDOMEvents=function(t){var e=this,i=this.graph;function o(t){this.attr=function(e){return t.getAttributeNS(null,e)},this.tag=t.tagName,this.class=this.attr("class"),this.id=this.attr("id"),this.isNode=function(){return!!~this.class.indexOf(e.settings("classPrefix")+"-node")},this.isEdge=function(){return!!~this.class.indexOf(e.settings("classPrefix")+"-edge")},this.isHover=function(){return!!~this.class.indexOf(e.settings("classPrefix")+"-hover")}}function r(t){if(e.settings("eventsEnabled")){e.dispatchEvent("click",t);var n=new o(t.target);n.isNode()?e.dispatchEvent("clickNode",{node:i.nodes(n.attr("data-node-id"))}):e.dispatchEvent("clickStage"),t.preventDefault(),t.stopPropagation()}}function s(t){if(e.settings("eventsEnabled")){e.dispatchEvent("doubleClick",t);var n=new o(t.target);n.isNode()?e.dispatchEvent("doubleClickNode",{node:i.nodes(n.attr("data-node-id"))}):e.dispatchEvent("doubleClickStage"),t.preventDefault(),t.stopPropagation()}}t.addEventListener("click",r,!1),n.utils.doubleClick(t,"click",s),t.addEventListener("touchstart",r,!1),n.utils.doubleClick(t,"touchstart",s),t.addEventListener("mouseover",function(t){var n=t.toElement||t.target;if(e.settings("eventsEnabled")&&n){var r=new o(n);if(r.isNode())e.dispatchEvent("overNode",{node:i.nodes(r.attr("data-node-id"))});else if(r.isEdge()){var s=i.edges(r.attr("data-edge-id"));e.dispatchEvent("overEdge",{edge:s,source:i.nodes(s.source),target:i.nodes(s.target)})}}},!0),t.addEventListener("mouseout",function(t){var n=t.fromElement||t.originalTarget;if(e.settings("eventsEnabled")){var r=new o(n);if(r.isNode())e.dispatchEvent("outNode",{node:i.nodes(r.attr("data-node-id"))});else if(r.isEdge()){var s=i.edges(r.attr("data-edge-id"));e.dispatchEvent("outEdge",{edge:s,source:i.nodes(s.source),target:i.nodes(s.target)})}}},!0)}}).call(this),(function(t){"use strict";if(void 0===n)throw"sigma is not declared";n.utils.pkg("sigma.misc"),n.misc.drawHovers=function(t){var e=this,i={},o={};function r(){var r,s,a,l,h,d=e.contexts.hover.canvas,u=e.settings("defaultNodeType"),c=e.settings("defaultEdgeType"),p=n.canvas.hovers,f=n.canvas.edgehovers,g=n.canvas.extremities,m=e.settings.embedObjects({prefix:t});if(e.contexts.hover.clearRect(0,0,d.width,d.height),m("enableHovering")&&m("singleHover")&&Object.keys(i).length&&(p[(l=i[Object.keys(i)[0]]).type]||p[u]||p.def)(l,e.contexts.hover,m),m("enableHovering")&&!m("singleHover"))for(r in i)(p[i[r].type]||p[u]||p.def)(i[r],e.contexts.hover,m);if(m("enableEdgeHovering")&&m("singleHover")&&Object.keys(o).length&&(h=o[Object.keys(o)[0]],s=e.graph.nodes(h.source),a=e.graph.nodes(h.target),h.hidden||((f[h.type]||f[c]||f.def)(h,s,a,e.contexts.hover,m),m("edgeHoverExtremities")?(g[h.type]||g.def)(h,s,a,e.contexts.hover,m):((n.canvas.nodes[s.type]||n.canvas.nodes.def)(s,e.contexts.hover,m),(n.canvas.nodes[a.type]||n.canvas.nodes.def)(a,e.contexts.hover,m)))),m("enableEdgeHovering")&&!m("singleHover"))for(r in o)s=e.graph.nodes((h=o[r]).source),a=e.graph.nodes(h.target),h.hidden||((f[h.type]||f[c]||f.def)(h,s,a,e.contexts.hover,m),m("edgeHoverExtremities")?(g[h.type]||g.def)(h,s,a,e.contexts.hover,m):((n.canvas.nodes[s.type]||n.canvas.nodes.def)(s,e.contexts.hover,m),(n.canvas.nodes[a.type]||n.canvas.nodes.def)(a,e.contexts.hover,m)))}this.bind("overNode",function(t){var e=t.data.node;e.hidden||(i[e.id]=e,r())}),this.bind("outNode",function(t){delete i[t.data.node.id],r()}),this.bind("overEdge",function(t){var e=t.data.edge;e.hidden||(o[e.id]=e,r())}),this.bind("outEdge",function(t){delete o[t.data.edge.id],r()}),this.bind("render",function(t){r()})}}).call(this)},TycK:function(t,e,i){"use strict";var n;n=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=123)}([function(t,e,i){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){e.__esModule=!0;var n,o=(n=i(169))&&n.__esModule?n:{default:n};e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},function(t,e,i){var n=a(i(77)),o=a(i(29)),r=a(i(8)),s=a(i(6));function a(t){return t&&t.__esModule?t:{default:t}}var l=i(9),h=i(157);function d(t,e,i,n){var o=!1;!0===n&&(o=null===e[i]&&void 0!==t[i]),o?delete t[i]:t[i]=e[i]}e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,i,n){return e==t?.5:Math.max(0,1/(e-t)*(n-t))},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){if(u.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return h.v4()},e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==(0,s.default)(t[i])&&(t[i]=e)},e.fillIfDefined=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in t)void 0!==i[o]&&(null===i[o]||"object"!==(0,s.default)(i[o])?d(t,i,o,n):"object"===(0,s.default)(t[o])&&e.fillIfDefined(t[o],i[o],n))},e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var n=2;n<arguments.length;n++)for(var o=arguments[n],r=0;r<t.length;r++){var s=t[r];o&&o.hasOwnProperty(s)&&(e[s]=o[s])}return e},e.selectiveDeepExtend=function(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var s=t[r];if(n.hasOwnProperty(s))if(n[s]&&n[s].constructor===Object)void 0===i[s]&&(i[s]={}),i[s].constructor===Object?e.deepExtend(i[s],n[s],!1,o):d(i,n,s,o);else{if(Array.isArray(n[s]))throw new TypeError("Arrays are not supported by deepExtend");d(i,n,s,o)}}return i},e.selectiveNotDeepExtend=function(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(n.hasOwnProperty(r)&&-1===t.indexOf(r))if(n[r]&&n[r].constructor===Object)void 0===i[r]&&(i[r]={}),i[r].constructor===Object?e.deepExtend(i[r],n[r]):d(i,n,r,o);else if(Array.isArray(n[r])){i[r]=[];for(var s=0;s<n[r].length;s++)i[r].push(n[r][s])}else d(i,n,r,o);return i},e.deepExtend=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in i)if(i.hasOwnProperty(r)||!0===n)if(i[r]&&i[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?e.deepExtend(t[r],i[r],n):d(t,i,r,o);else if(Array.isArray(i[r])){t[r]=[];for(var s=0;s<i[r].length;s++)t[r].push(i[r][s])}else d(t,i,r,o);return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var n;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return e.isString(t)&&!isNaN(Date.parse(t))?l(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(l.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return(n=u.exec(t))?new Date(Number(n[1])):l(new Date(t)).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return l(t);if(t instanceof Date)return l(t.valueOf());if(l.isMoment(t))return l(t);if(e.isString(t))return n=u.exec(t),l(n?Number(n[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(l.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return(n=u.exec(t))?new Date(Number(n[1])).toISOString():l(t).format();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t))return"/Date("+((n=u.exec(t))?new Date(Number(n[1])).valueOf():new Date(t).valueOf())+")/";throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var u=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=void 0===t?"undefined":(0,s.default)(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);return i.push(e),i},e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.concat(n.filter(function(t){return i.indexOf(t)<0})),t.className=i.join(" ")},e.removeClassName=function(t,e){var i=t.className.split(" "),n=e.split(" ");i=i.filter(function(t){return n.indexOf(t)<0}),t.className=i.join(" ")},e.forEach=function(t,e){var i,n;if(Array.isArray(t))for(i=0,n=t.length;i<n;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i&&(t[e]=i,!0)},e.throttle=function(t){var e=!1;return function(){e||(e=!0,requestAnimationFrame(function(){e=!1,t()}))}},e.addEventListener=function(t,e,i,n){t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,n){t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){var e;return t||(t=window.event),t.target?e=t.target:t.srcElement&&(e=t.srcElement),null!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},e.overrideOpacity=function(t,i){var n;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?"rgba("+(n=t.substr(t.indexOf("(")+1).replace(")","").split(","))[0]+","+n[1]+","+n[2]+","+i+")":null==(n=e.hexToRGB(t))?t:"rgba("+n.r+","+n.g+","+n.b+","+i+")"},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var n=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(n[0],n[1],n[2])}if(!0===e.isValidHex(t)){var o=e.hexToHSV(t),r={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},s={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},a=e.HSVToHex(s.h,s.s,s.v),l=e.HSVToHex(r.h,r.s,r.v);i={background:t,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else(i={}).background=t.background||void 0,i.border=t.border||void 0,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));return n==o?{h:0,s:0,v:n}:{h:60*((t==n?3:i==n?1:5)-(t==n?e-i:i==n?t-e:i-t)/(o-n))/360,s:(o-n)/o,v:o}};var c=function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),n=i[0].trim(),o=i[1].trim();e[n]=o}}),e},p=function(t){return(0,r.default)(t).map(function(e){return e+": "+t[e]}).join("; ")};e.addCssText=function(t,i){var n=c(t.style.cssText),o=c(i),r=e.extend(n,o);t.style.cssText=p(r)},e.removeCssText=function(t,e){var i=c(t.style.cssText),n=c(e);for(var o in n)n.hasOwnProperty(o)&&delete i[o];t.style.cssText=p(i)},e.HSVToRGB=function(t,e,i){var n,o,r,s=Math.floor(6*t),a=6*t-s,l=i*(1-e),h=i*(1-a*e),d=i*(1-(1-a)*e);switch(s%6){case 0:n=i,o=d,r=l;break;case 1:n=h,o=i,r=l;break;case 2:n=l,o=i,r=d;break;case 3:n=l,o=h,r=i;break;case 4:n=d,o=l,r=i;break;case 5:n=i,o=l,r=h}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}},e.HSVToHex=function(t,i,n){var o=e.HSVToRGB(t,i,n);return e.RGBToHex(o.r,o.g,o.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},e.isValidRGB=function(t){return t=t.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)},e.isValidRGBA=function(t){return t=t.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)},e.selectiveBridgeObject=function(t,i){if(null!==i&&"object"===(void 0===i?"undefined":(0,s.default)(i))){for(var n=(0,o.default)(i),r=0;r<t.length;r++)i.hasOwnProperty(t[r])&&"object"==(0,s.default)(i[t[r]])&&(n[t[r]]=e.bridgeObject(i[t[r]]));return n}return null},e.bridgeObject=function(t){if(null!==t&&"object"===(void 0===t?"undefined":(0,s.default)(t))){var i=(0,o.default)(t);if(t instanceof Element)i=t;else for(var n in i=(0,o.default)(t),t)t.hasOwnProperty(n)&&"object"==(0,s.default)(t[n])&&(i[n]=e.bridgeObject(t[n]));return i}return null},e.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var n=t[i],o=i;o>0&&e(n,t[o-1])<0;o--)t[o]=t[o-1];t[o]=n}return t},e.mergeOptions=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(t){return null!=t},a=function(t){return null!==t&&"object"===(void 0===t?"undefined":(0,s.default)(t))},l=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};if(!a(t))throw new Error("Parameter mergeTarget must be an object");if(!a(e))throw new Error("Parameter options must be an object");if(!r(i))throw new Error("Parameter option must have a value");if(!a(n))throw new Error("Parameter globalOptions must be an object");var h=function(t,e,i){a(t[i])||(t[i]={});var n=e[i],o=t[i];for(var r in n)n.hasOwnProperty(r)&&(o[r]=n[r])},d=e[i],u=a(n)&&!l(n),c=u?n[i]:void 0,p=c?c.enabled:void 0;if(void 0!==d){if("boolean"==typeof d)return a(t[i])||(t[i]={}),void(t[i].enabled=d);if(null===d&&!a(t[i])){if(!r(c))return;t[i]=(0,o.default)(c)}if(a(d)){var f=!0;void 0!==d.enabled?f=d.enabled:void 0!==p&&(f=c.enabled),h(t,e,i),t[i].enabled=f}}},e.binarySearchCustom=function(t,e,i,n){for(var o=0,r=0,s=t.length-1;r<=s&&o<1e4;){var a=Math.floor((r+s)/2),l=t[a],h=e(void 0===n?l[i]:l[i][n]);if(0==h)return a;-1==h?r=a+1:s=a-1,o++}return-1},e.binarySearchValue=function(t,e,i,n,o){var r,s,a,l,h=0,d=0,u=t.length-1;for(o=null!=o?o:function(t,e){return t==e?0:t<e?-1:1};d<=u&&h<1e4;){if(l=Math.floor(.5*(u+d)),r=t[Math.max(0,l-1)][i],s=t[l][i],a=t[Math.min(t.length-1,l+1)][i],0==o(s,e))return l;if(o(r,e)<0&&o(s,e)>0)return"before"==n?Math.max(0,l-1):l;if(o(s,e)<0&&o(a,e)>0)return"before"==n?l:Math.min(t.length-1,l+1);o(s,e)<0?d=l+1:u=l-1,h++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},e.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n},e.topMost=function(t,e){var i=void 0;Array.isArray(e)||(e=[e]);var o=!0,r=!1,s=void 0;try{for(var a,l=(0,n.default)(t);!(o=(a=l.next()).done);o=!0){var h=a.value;if(h){i=h[e[0]];for(var d=1;d<e.length;d++)i&&(i=i[e[d]]);if(void 0!==i)break}}}catch(u){r=!0,s=u}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}return i}},function(t,e,i){t.exports={default:i(194),__esModule:!0}},function(t,e,i){e.__esModule=!0;var n,o=(n=i(6))&&n.__esModule?n:{default:n};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){e.__esModule=!0;var n=s(i(196)),o=s(i(29)),r=s(i(6));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,r.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(n.default?(0,n.default)(t,e):t.__proto__=e)}},function(t,e,i){e.__esModule=!0;var n=s(i(142)),o=s(i(144)),r="function"==typeof o.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===r(n.default)?function(t){return void 0===t?"undefined":r(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":r(t)}},function(t,e){var i=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports={default:i(140),__esModule:!0}},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(154)},function(t,e,i){if("undefined"!=typeof window){var n=i(175),o=window.Hammer||i(176);t.exports=n(o,{preventDefault:"mouse"})}else t.exports=function(){return{on:t=function(){},off:t,destroy:t,emit:t,get:function(e){return{set:t}}};var t}},function(t,e,i){var n=s(i(19)),o=s(i(6)),r=s(i(8));function s(t){return t&&t.__esModule?t:{default:t}}var a=i(2),l=i(43);function h(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=(0,r.default)(this._options.type),n=0,o=i.length;n<o;n++){var s=i[n],a=this._options.type[s];this._type[s]="Date"==a||"ISODate"==a||"ASPDate"==a?"Date":a}this._subscribers={},t&&this.add(t),this.setOptions(e)}h.prototype.setOptions=function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=l.extend(this,{replace:["add","update","remove"]})),"object"===(0,o.default)(t.queue)&&this._queue.setOptions(t.queue)))},h.prototype.on=function(t,e){var i=this._subscribers[t];i||(this._subscribers[t]=i=[]),i.push({callback:e})},h.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},h.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var n=[];t in this._subscribers&&(n=n.concat(this._subscribers[t])),"*"in this._subscribers&&(n=n.concat(this._subscribers["*"]));for(var o=0,r=n.length;o<r;o++){var s=n[o];s.callback&&s.callback(t,e,i||null)}},h.prototype.add=function(t,e){var i,n=[];if(Array.isArray(t))for(var r=0,s=t.length;r<s;r++)i=this._addItem(t[r]),n.push(i);else{if(!t||"object"!==(void 0===t?"undefined":(0,o.default)(t)))throw new Error("Unknown dataType");i=this._addItem(t),n.push(i)}return n.length&&this._trigger("add",{items:n},e),n},h.prototype.update=function(t,e){var i=[],n=[],r=[],s=[],l=this,h=l._fieldId,d=function(t){var e=t[h];if(l._data[e]){var o=a.extend({},l._data[e]);e=l._updateItem(t),n.push(e),s.push(t),r.push(o)}else e=l._addItem(t),i.push(e)};if(Array.isArray(t))for(var u=0,c=t.length;u<c;u++)t[u]&&"object"===(0,o.default)(t[u])?d(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!==(void 0===t?"undefined":(0,o.default)(t)))throw new Error("Unknown dataType");d(t)}return i.length&&this._trigger("add",{items:i},e),n.length&&this._trigger("update",{items:n,oldData:r,data:s},e),i.concat(n)},h.prototype.get=function(t){var e,i,n,o,s=this,l=a.getType(arguments[0]);if("String"==l||"Number"==l?(e=arguments[0],n=arguments[1]):"Array"==l?(i=arguments[0],n=arguments[1]):n=arguments[0],n&&n.returnType){var h=["Array","Object"];o=-1==h.indexOf(n.returnType)?"Array":n.returnType}else o="Array";var d,u,c,p,f=n&&n.type||this._options.type,g=n&&n.filter,m=[];if(null!=e)(d=s._getItem(e,f))&&g&&!g(d)&&(d=null);else if(null!=i)for(c=0,p=i.length;c<p;c++)d=s._getItem(i[c],f),g&&!g(d)||m.push(d);else for(c=0,p=(u=(0,r.default)(this._data)).length;c<p;c++)d=s._getItem(u[c],f),g&&!g(d)||m.push(d);if(n&&n.order&&null==e&&this._sort(m,n.order),n&&n.fields){var v=n.fields;if(null!=e)d=this._filterFields(d,v);else for(c=0,p=m.length;c<p;c++)m[c]=this._filterFields(m[c],v)}if("Object"==o){var y,b={};for(c=0,p=m.length;c<p;c++)b[(y=m[c]).id]=y;return b}return null!=e?d:m},h.prototype.getIds=function(t){var e,i,n,o,s=this._data,a=t&&t.filter,l=t&&t.order,h=t&&t.type||this._options.type,d=(0,r.default)(s),u=[];if(a)if(l){for(o=[],e=0,i=d.length;e<i;e++)a(n=this._getItem(d[e],h))&&o.push(n);for(this._sort(o,l),e=0,i=o.length;e<i;e++)u.push(o[e][this._fieldId])}else for(e=0,i=d.length;e<i;e++)a(n=this._getItem(d[e],h))&&u.push(n[this._fieldId]);else if(l){for(o=[],e=0,i=d.length;e<i;e++)o.push(s[d[e]]);for(this._sort(o,l),e=0,i=o.length;e<i;e++)u.push(o[e][this._fieldId])}else for(e=0,i=d.length;e<i;e++)u.push((n=s[d[e]])[this._fieldId]);return u},h.prototype.getDataSet=function(){return this},h.prototype.forEach=function(t,e){var i,n,o,s,a=e&&e.filter,l=e&&e.type||this._options.type,h=(0,r.default)(this._data);if(e&&e.order){var d=this.get(e);for(i=0,n=d.length;i<n;i++)t(o=d[i],s=o[this._fieldId])}else for(i=0,n=h.length;i<n;i++)o=this._getItem(s=h[i],l),a&&!a(o)||t(o,s)},h.prototype.map=function(t,e){var i,n,o,s,a=e&&e.filter,l=e&&e.type||this._options.type,h=[],d=(0,r.default)(this._data);for(i=0,n=d.length;i<n;i++)s=this._getItem(o=d[i],l),a&&!a(s)||h.push(t(s,o));return e&&e.order&&this._sort(h,e.order),h},h.prototype._filterFields=function(t,e){if(!t)return t;var i,n,o={},s=(0,r.default)(t),a=s.length;if(Array.isArray(e))for(i=0;i<a;i++)-1!=e.indexOf(n=s[i])&&(o[n]=t[n]);else for(i=0;i<a;i++)e.hasOwnProperty(n=s[i])&&(o[e[n]]=t[n]);return o},h.prototype._sort=function(t,e){if(a.isString(e)){var i=e;t.sort(function(t,e){var n=t[i],o=e[i];return n>o?1:n<o?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},h.prototype.remove=function(t,e){var i,n,o,r,s,a=[],l=[];for(n=0,o=(i=Array.isArray(t)?t:[t]).length;n<o;n++)(s=this._remove(i[n]))&&null!=(r=s[this._fieldId])&&(a.push(r),l.push(s));return a.length&&this._trigger("remove",{items:a,oldData:l},e),a},h.prototype._remove=function(t){var e,i;return a.isNumber(t)||a.isString(t)?i=t:t&&"object"===(void 0===t?"undefined":(0,o.default)(t))&&(i=t[this._fieldId]),void 0!==i&&this._data[i]?(e=this._data[i],delete this._data[i],this.length--,e):null},h.prototype.clear=function(t){var e,i,n=(0,r.default)(this._data),o=[];for(e=0,i=n.length;e<i;e++)o.push(this._data[n[e]]);return this._data={},this.length=0,this._trigger("remove",{items:n,oldData:o},t),n},h.prototype.max=function(t){var e,i,n=this._data,o=(0,r.default)(n),s=null,a=null;for(e=0,i=o.length;e<i;e++){var l=n[o[e]],h=l[t];null!=h&&(!s||h>a)&&(s=l,a=h)}return s},h.prototype.min=function(t){var e,i,n=this._data,o=(0,r.default)(n),s=null,a=null;for(e=0,i=o.length;e<i;e++){var l=n[o[e]],h=l[t];null!=h&&(!s||h<a)&&(s=l,a=h)}return s},h.prototype.distinct=function(t){var e,i,n,o=this._data,s=(0,r.default)(o),l=[],h=this._options.type&&this._options.type[t]||null,d=0;for(e=0,n=s.length;e<n;e++){var u=o[s[e]][t],c=!1;for(i=0;i<d;i++)if(l[i]==u){c=!0;break}c||void 0===u||(l[d]=u,d++)}if(h)for(e=0,n=l.length;e<n;e++)l[e]=a.convert(l[e],h);return l},h.prototype._addItem=function(t){var e=t[this._fieldId];if(null!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=a.randomUUID(),t[this._fieldId]=e;var i,n,o={},s=(0,r.default)(t);for(i=0,n=s.length;i<n;i++){var l=s[i];o[l]=a.convert(t[l],this._type[l])}return this._data[e]=o,this.length++,e},h.prototype._getItem=function(t,e){var i,n,o,s=this._data[t];if(!s)return null;var l={},h=(0,r.default)(s);if(e)for(n=0,o=h.length;n<o;n++)l[i=h[n]]=a.convert(s[i],e[i]);else for(n=0,o=h.length;n<o;n++)l[i=h[n]]=s[i];return l[this._fieldId]||(l[this._fieldId]=s.id),l},h.prototype._updateItem=function(t){var e=t[this._fieldId];if(null==e)throw new Error("Cannot update item: item has no id (item: "+(0,n.default)(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var o=(0,r.default)(t),s=0,l=o.length;s<l;s++){var h=o[s];i[h]=a.convert(t[h],this._type[h])}return e},t.exports=h},function(t,e,i){var n,o=(n=i(8))&&n.__esModule?n:{default:n},r=i(2),s=i(11);function a(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}a.prototype.setData=function(t){var e,i,n,o;if(this._data){for(this._data.off&&this._data.off("*",this.listener),o=[],i=0,n=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;i<n;i++)o.push(this._data._data[e[i]]);this._ids={},this.length=0,this._trigger("remove",{items:e,oldData:o})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",i=0,n=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;i<n;i++)this._ids[e[i]]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},a.prototype.refresh=function(){var t,e,i,n=this._data.getIds({filter:this._options&&this._options.filter}),r=(0,o.default)(this._ids),s={},a=[],l=[],h=[];for(e=0,i=n.length;e<i;e++)s[t=n[e]]=!0,this._ids[t]||(a.push(t),this._ids[t]=!0);for(e=0,i=r.length;e<i;e++)s[t=r[e]]||(l.push(t),h.push(this._data._data[t]),delete this._ids[t]);this.length+=a.length-l.length,a.length&&this._trigger("add",{items:a}),l.length&&this._trigger("remove",{items:l,oldData:h})},a.prototype.get=function(t){var e,i,n,o=this,s=r.getType(arguments[0]);"String"==s||"Number"==s||"Array"==s?(e=arguments[0],i=arguments[1],n=arguments[2]):(i=arguments[0],n=arguments[1]);var a=r.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(t){return o._options.filter(t)&&i.filter(t)});var l=[];return null!=e&&l.push(e),l.push(a),l.push(n),this._data&&this._data.get.apply(this._data,l)},a.prototype.getIds=function(t){var e;if(this._data){var i=this._options.filter;e=this._data.getIds({filter:t&&t.filter?i?function(e){return i(e)&&t.filter(e)}:t.filter:i,order:t&&t.order})}else e=[];return e},a.prototype.map=function(t,e){var i=[];if(this._data){var n=this._options.filter;i=this._data.map(t,{filter:e&&e.filter?n?function(t){return n(t)&&e.filter(t)}:e.filter:n,order:e&&e.order})}else i=[];return i},a.prototype.getDataSet=function(){for(var t=this;t instanceof a;)t=t._data;return t||null},a.prototype._onEvent=function(t,e,i){var n,o,r,s=e&&e.items,a=[],l=[],h=[],d=[],u=[],c=[];if(s&&this._data){switch(t){case"add":for(n=0,o=s.length;n<o;n++)this.get(r=s[n])&&(this._ids[r]=!0,a.push(r));break;case"update":for(n=0,o=s.length;n<o;n++)this.get(r=s[n])?this._ids[r]?(l.push(r),u.push(e.data[n]),d.push(e.oldData[n])):(this._ids[r]=!0,a.push(r)):this._ids[r]&&(delete this._ids[r],h.push(r),c.push(e.oldData[n]));break;case"remove":for(n=0,o=s.length;n<o;n++)this._ids[r=s[n]]&&(delete this._ids[r],h.push(r),c.push(e.oldData[n]))}this.length+=a.length-h.length,a.length&&this._trigger("add",{items:a},i),l.length&&this._trigger("update",{items:l,oldData:d,data:u},i),h.length&&this._trigger("remove",{items:h,oldData:c},i)}},a.prototype.on=s.prototype.on,a.prototype.off=s.prototype.off,a.prototype._trigger=s.prototype._trigger,a.prototype.subscribe=a.prototype.on,a.prototype.unsubscribe=a.prototype.off,t.exports=a},function(t,e,i){var n=i(57)("wks"),o=i(40),r=i(18).Symbol,s="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=s&&r[t]||(s?r:o)("Symbol."+t))}).store=n},function(t,e,i){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n},e.getDOMElement=function(t,e,i,n){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==n?i.insertBefore(o,n):i.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(o,n):i.appendChild(o)),e[t].used.push(o),o},e.drawPoint=function(t,i,n,o,r,s){var a;if("circle"==n.style?((a=e.getSVGElement("circle",o,r)).setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*n.size)):((a=e.getSVGElement("rect",o,r)).setAttributeNS(null,"x",t-.5*n.size),a.setAttributeNS(null,"y",i-.5*n.size),a.setAttributeNS(null,"width",n.size),a.setAttributeNS(null,"height",n.size)),void 0!==n.styles&&a.setAttributeNS(null,"style",n.styles),a.setAttributeNS(null,"class",n.className+" vis-point"),s){var l=e.getSVGElement("text",o,r);s.xOffset&&(t+=s.xOffset),s.yOffset&&(i+=s.yOffset),s.content&&(l.textContent=s.content),s.className&&l.setAttributeNS(null,"class",s.className+" vis-label"),l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,n,o,r,s,a,l){if(0!=o){o<0&&(i-=o*=-1);var h=e.getSVGElement("rect",s,a);h.setAttributeNS(null,"x",t-.5*n),h.setAttributeNS(null,"y",i),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",o),h.setAttributeNS(null,"class",r),l&&h.setAttributeNS(null,"style",l)}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.printStyle=void 0;var n=l(i(19)),o=l(i(6)),r=l(i(8)),s=l(i(0)),a=l(i(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=i(2),d=!1,u=void 0,c="background: #FFeeee; color: #dd0000",p=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"validate",value:function(e,i,n){d=!1,u=i;var o=i;return void 0!==n&&(o=i[n]),t.parse(e,o,[]),d}},{key:"parse",value:function(e,i,n){for(var o in e)e.hasOwnProperty(o)&&t.check(o,e,i,n)}},{key:"check",value:function(e,i,n,o){if(void 0!==n[e]||void 0!==n.__any__){var r=e,s=!0;void 0===n[e]&&void 0!==n.__any__&&(r="__any__",s="object"===t.getType(i[e]));var a=n[r];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,n,r,a,o)}else t.getSuggestion(e,n,o)}},{key:"checkFields",value:function(e,i,n,o,s,a){var l=function(i){console.log("%c"+i+t.printLocation(a,e),c)},u=t.getType(i[e]),p=s[u];void 0!==p?"array"===t.getType(p)&&-1===p.indexOf(i[e])?(l('Invalid option detected in "'+e+'". Allowed values are:'+t.print(p)+' not "'+i[e]+'". '),d=!0):"object"===u&&"__any__"!==o&&(a=h.copyAndExtendArray(a,e),t.parse(i[e],n[o],a)):void 0===s.any&&(l('Invalid type received for "'+e+'". Expected: '+t.print((0,r.default)(s))+". Received ["+u+'] "'+i[e]+'"'),d=!0)}},{key:"getType",value:function(t){var e=void 0===t?"undefined":(0,o.default)(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,n){var o,s=t.findInOptions(e,i,n,!1),a=t.findInOptions(e,u,[],!0);o=void 0!==s.indexMatch?" in "+t.printLocation(s.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n':a.distance<=4&&s.distance>a.distance?" in "+t.printLocation(s.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(a.path,a.closestMatch,""):s.distance<=8?'. Did you mean "'+s.closestMatch+'"?'+t.printLocation(s.path,e):". Did you mean one of these: "+t.print((0,r.default)(i))+t.printLocation(n,e),console.log('%cUnknown option detected: "'+e+'"'+o,c),d=!0}},{key:"findInOptions",value:function(e,i,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=1e9,s="",a=[],l=e.toLowerCase(),d=void 0;for(var u in i){var c=void 0;if(void 0!==i[u].__type__&&!0===o){var p=t.findInOptions(e,i[u],h.copyAndExtendArray(n,u));r>p.distance&&(s=p.closestMatch,a=p.path,r=p.distance,d=p.indexMatch)}else-1!==u.toLowerCase().indexOf(l)&&(d=u),r>(c=t.levenshteinDistance(e,u))&&(s=u,a=h.copyArray(n),r=c)}return{closestMatch:s,path:a,distance:r,indexMatch:d}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",n="\n\n"+i+"options = {\n",o=0;o<t.length;o++){for(var r=0;r<o+1;r++)n+="  ";n+=t[o]+": {\n"}for(var s=0;s<t.length+1;s++)n+="  ";n+=e+"\n";for(var a=0;a<t.length+1;a++){for(var l=0;l<t.length-a;l++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(t){return(0,n.default)(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n,o=[];for(i=0;i<=e.length;i++)o[i]=[i];for(n=0;n<=t.length;n++)o[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)o[i][n]=e.charAt(i-1)==t.charAt(n-1)?o[i-1][n-1]:Math.min(o[i-1][n-1]+1,Math.min(o[i][n-1]+1,o[i-1][n]+1));return o[e.length][t.length]}}]),t}();e.default=p,e.printStyle=c},function(t,e,i){var n=i(2);function o(t,e){this.options=null,this.props=null}o.prototype.setOptions=function(t){t&&n.extend(this.options,t)},o.prototype.redraw=function(){return!1},o.prototype.destroy=function(){},o.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=o},function(t,e,i){var n=i(18),o=i(7),r=i(80),s=i(26),a=function(t,e,i){var l,h,d,u=t&a.F,c=t&a.G,p=t&a.S,f=t&a.P,g=t&a.B,m=t&a.W,v=c?o:o[e]||(o[e]={}),y=v.prototype,b=c?n:p?n[e]:(n[e]||{}).prototype;for(l in c&&(i=e),i)(h=!u&&b&&void 0!==b[l])&&l in v||(d=h?b[l]:i[l],v[l]=c&&"function"!=typeof b[l]?i[l]:g&&h?r(d,n):m&&b[l]==d?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):f&&"function"==typeof d?r(Function.call,d):d,f&&((v.virtual||(v.virtual={}))[l]=d,t&a.R&&y&&!y[l]&&s(y,l,d)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){t.exports={default:i(160),__esModule:!0}},function(t,e,i){var n=i(27),o=i(81),r=i(53),s=Object.defineProperty;e.f=i(21)?Object.defineProperty:function(t,e,i){if(n(t),e=r(e,!0),n(i),o)try{return s(t,e,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(6)),o=s(i(0)),r=s(i(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e,i,n){(0,o.default)(this,t),this.body=i,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,r.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==(0,n.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){t.lineWidth=Math.min(this.width,e.borderWidth/this.body.view.scale),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,n,o){void 0!==i&&this.resize(i,n,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var n=this.textSize.width,o=this.textSize.height;return 0===n&&(n=14,o=14),{width:n,height:o}}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(23));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){this.labelModule.getTextSize(t,e,i);var o=2*n.size;this.width=o,this.height=o,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,n,o,r,s,a){this.resize(t,r,s,a),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(t,a),t[e](n,o,a.size),this.performFill(t,a),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(t,r,s,n,o,"hanging"),this.labelModule.draw(t,n,o+.5*this.height+.5*this.labelModule.size.height,r,s,"hanging")),this.updateBoundingBox(n,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}();e.default=d},function(t,e,i){var n=i(78),o=i(51);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(20),o=i(39);t.exports=i(21)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(32);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,i){t.exports={default:i(138),__esModule:!0}},function(t,e,i){e.__esModule=!0;var n=r(i(188)),o=r(i(77));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,n.default)(Object(t)))return function(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var a,l=(0,o.default)(t);!(n=(a=l.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(h){r=!0,s=h}finally{try{!n&&l.return&&l.return()}finally{if(r)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n=i(84),o=i(58);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){function n(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}n.subtract=function(t,e){var i=new n;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},n.add=function(t,e){var i=new n;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},n.avg=function(t,e){return new n((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},n.crossProduct=function(t,e){var i=new n;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=n},function(t,e,i){var n,o;void 0===(o="function"==typeof(n=function(){return function(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,o={},r={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){h(t,"keydown")},l=function(t){h(t,"keyup")},h=function(t,e){if(void 0!==r[e][t.keyCode]){for(var n=r[e][t.keyCode],o=0;o<n.length;o++)void 0===n[o].shift?n[o].fn(t):1==n[o].shift&&1==t.shiftKey?n[o].fn(t):0==n[o].shift&&0==t.shiftKey&&n[o].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===r[i][s[t].code]&&(r[i][s[t].code]=[]),r[i][s[t].code].push({fn:e,shift:s[t].shift})},o.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=r[i][s[t].code];if(void 0!==o)for(var a=0;a<o.length;a++)o[a].fn==e&&o[a].shift==s[t].shift||n.push(r[i][s[t].code][a]);r[i][s[t].code]=n}else r[i][s[t].code]=[]},o.reset=function(){r={keydown:{},keyup:{}}},o.destroy=function(){r={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",l,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",l,!0),o}})?n.apply(e,[]):n)||(t.exports=o)},function(t,e,i){e.convertHiddenOptions=function(t,i,n){if(n&&!Array.isArray(n))return e.convertHiddenOptions(t,i,[n]);if(i.hiddenDates=[],n&&1==Array.isArray(n)){for(var o=0;o<n.length;o++)if(void 0===n[o].repeat){var r={};r.start=t(n[o].start).toDate().valueOf(),r.end=t(n[o].end).toDate().valueOf(),i.hiddenDates.push(r)}i.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,i,n){if(n&&!Array.isArray(n))return e.updateHiddenDates(t,i,[n]);if(n&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,n);for(var o=t(i.range.start),r=t(i.range.end),s=(i.range.end-i.range.start)/i.domProps.centerContainer.width,a=0;a<n.length;a++)if(void 0!==n[a].repeat){var l=t(n[a].start),h=t(n[a].end);if("Invalid Date"==l._d)throw new Error("Supplied start date is not valid: "+n[a].start);if("Invalid Date"==h._d)throw new Error("Supplied end date is not valid: "+n[a].end);if(h-l>=4*s){var d=0,u=r.clone();switch(n[a].repeat){case"daily":l.day()!=h.day()&&(d=1),l.dayOfYear(o.dayOfYear()),l.year(o.year()),l.subtract(7,"days"),h.dayOfYear(o.dayOfYear()),h.year(o.year()),h.subtract(7-d,"days"),u.add(1,"weeks");break;case"weekly":var c=h.diff(l,"days"),p=l.day();l.date(o.date()),l.month(o.month()),l.year(o.year()),h=l.clone(),l.day(p),h.day(p),h.add(c,"days"),l.subtract(1,"weeks"),h.subtract(1,"weeks"),u.add(1,"weeks");break;case"monthly":l.month()!=h.month()&&(d=1),l.month(o.month()),l.year(o.year()),l.subtract(1,"months"),h.month(o.month()),h.year(o.year()),h.subtract(1,"months"),h.add(d,"months"),u.add(1,"months");break;case"yearly":l.year()!=h.year()&&(d=1),l.year(o.year()),l.subtract(1,"years"),h.year(o.year()),h.subtract(1,"years"),h.add(d,"years"),u.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[a].repeat)}for(;l<u;)switch(i.hiddenDates.push({start:l.valueOf(),end:h.valueOf()}),n[a].repeat){case"daily":l.add(1,"days"),h.add(1,"days");break;case"weekly":l.add(1,"weeks"),h.add(1,"weeks");break;case"monthly":l.add(1,"months"),h.add(1,"months");break;case"yearly":l.add(1,"y"),h.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[a].repeat)}i.hiddenDates.push({start:l.valueOf(),end:h.valueOf()})}}e.removeDuplicates(i);var f=e.isHidden(i.range.start,i.hiddenDates),g=e.isHidden(i.range.end,i.hiddenDates),m=i.range.start,v=i.range.end;1==f.hidden&&(m=1==i.range.startToFront?f.startDate-1:f.endDate+1),1==g.hidden&&(v=1==i.range.endToFront?g.startDate-1:g.endDate+1),1!=f.hidden&&1!=g.hidden||i.range._applyRange(m,v)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],n=0;n<e.length;n++)for(var o=0;o<e.length;o++)n!=o&&1!=e[o].remove&&1!=e[n].remove&&(e[o].start>=e[n].start&&e[o].end<=e[n].end?e[o].remove=!0:e[o].start>=e[n].start&&e[o].start<=e[n].end?(e[n].end=e[o].end,e[o].remove=!0):e[o].end>=e[n].start&&e[o].end<=e[n].end&&(e[n].start=e[o].start,e[o].remove=!0));for(n=0;n<e.length;n++)!0!==e[n].remove&&i.push(e[n]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,i){for(var n=!1,o=e.current.valueOf(),r=0;r<e.hiddenDates.length;r++){var s=e.hiddenDates[r].end;if(o>=e.hiddenDates[r].start&&o<s){n=!0;break}}if(1==n&&o<e._end.valueOf()&&o!=i){var a=t(i),l=t(s);a.year()!=l.year()?e.switchedYear=!0:a.month()!=l.month()?e.switchedMonth=!0:a.dayOfYear()!=l.dayOfYear()&&(e.switchedDay=!0),e.current=l}},e.toScreen=function(t,i,n){var o;if(0==t.body.hiddenDates.length)return o=t.range.conversion(n),(i.valueOf()-o.offset)*o.scale;var r=e.isHidden(i,t.body.hiddenDates);1==r.hidden&&(i=r.startDate);var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(i<t.range.start){o=t.range.conversion(n,s);var a=e.getHiddenDurationBeforeStart(t.body.hiddenDates,i,o.offset);return i=t.options.moment(i).toDate().valueOf(),-(o.offset-(i+=a).valueOf())*o.scale}return i>t.range.end?(i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,{start:t.range.start,end:i},i),o=t.range.conversion(n,s),(i.valueOf()-o.offset)*o.scale):(i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i),o=t.range.conversion(n,s),(i.valueOf()-o.offset)*o.scale)},e.toTime=function(t,i,n){if(0==t.body.hiddenDates.length){var o=t.range.conversion(n);return new Date(i/o.scale+o.offset)}var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),s=(t.range.end-t.range.start-r)*i/n,a=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,s);return new Date(a+s+t.range.start)},e.getHiddenDurationBetween=function(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;r>=e&&s<i&&(n+=s-r)}return n},e.getHiddenDurationBeforeStart=function(t,e,i){for(var n=0,o=0;o<t.length;o++){var r=t[o].start,s=t[o].end;r>=e&&s<=i&&(n+=s-r)}return n},e.correctTimeForHidden=function(t,i,n,o){return(o=t(o).toDate().valueOf())-e.getHiddenDurationBefore(t,i,n,o)},e.getHiddenDurationBefore=function(t,e,i,n){var o=0;n=t(n).toDate().valueOf();for(var r=0;r<e.length;r++){var s=e[r].start,a=e[r].end;s>=i.start&&a<i.end&&n>=a&&(o+=a-s)}return o},e.getAccumulatedHiddenDuration=function(t,e,i){for(var n=0,o=0,r=e.start,s=0;s<t.length;s++){var a=t[s].start,l=t[s].end;if(a>=e.start&&l<e.end){if(o+=a-r,r=l,o>=i)break;n+=l-a}}return n},e.snapAwayFromHidden=function(t,i,n,o){var r=e.isHidden(i,t);return 1==r.hidden?n<0?1==o?r.startDate-(r.endDate-i)-1:r.startDate-1:1==o?r.endDate+(i-r.startDate)+1:r.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var n=e[i].start,o=e[i].end;if(t>=n&&t<o)return{hidden:!0,startDate:n,endDate:o}}return{hidden:!1,startDate:n,endDate:o}}},function(t,e,i){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){return t.getTouchAction=function(){return["pan-y"]},t}},function(t,e,i){var n=r(i(6)),o=r(i(8));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(10),a=i(2),l=i(9);function h(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}h.prototype.stack=!0,h.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},h.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},h.prototype.setData=function(t){null!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.parent&&(this.parent.stackDirty=!0),null!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},h.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},h.prototype.isVisible=function(t){return!1},h.prototype.show=function(){return!1},h.prototype.hide=function(){return!1},h.prototype.redraw=function(){},h.prototype.repositionX=function(){},h.prototype.repositionY=function(){},h.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this,e=document.createElement("div");e.className="vis-drag-center",e.dragCenterItem=this;var i=new s(e);i.on("tap",function(e){t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})}),i.on("doubletap",function(e){e.stopPropagation(),t.parent.itemSet._onUpdateItem(t),t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e),this.dom.dragCenter=e}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},h.prototype._repaintDeleteButton=function(t){if(this.selected&&((this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove)&&!this.dom.deleteButton){var e=this,i=document.createElement("div");i.className=this.options.rtl?"vis-delete-rtl":"vis-delete",i.title="Delete this item",new s(i).on("tap",function(t){t.stopPropagation(),e.parent.removeFromDataSet(e)}),t.appendChild(i),this.dom.deleteButton=i}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},h.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(this.options.tooltipOnItemUpdateTime){if(!this.selected||!this.options.editable.updateTime&&!0!==this.data.editable||!1===this.data.editable||this.dom.onItemUpdateTimeTooltip)!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);else{var e=document.createElement("div");e.className="vis-onUpdateTime-tooltip",t.appendChild(e),this.dom.onItemUpdateTimeTooltip=e}var i;this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-this.parent.itemSet.body.domProps.scrollTop?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?i=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(i="start: "+l(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(i+="<br> end: "+l(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=i)}},h.prototype._updateContents=function(t){var e,i,n,o,r=this.parent.itemSet.itemsData.get(this.id),s=this.dom.box||this.dom.point,a=s.getElementsByClassName("vis-item-visible-frame")[0];if(n=this.options.visibleFrameTemplate?(o=this.options.visibleFrameTemplate.bind(this))(r,s):"",a)if(n instanceof Object&&!(n instanceof Element))o(r,a);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(n)){if(n instanceof Element)a.innerHTML="",a.appendChild(n);else if(null!=n)a.innerHTML=n;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=n}if((e=this.options.template?(i=this.options.template.bind(this))(r,t,this.data):this.data.content)instanceof Object&&!(e instanceof Element))i(r,t);else if(this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(null!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},h.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,o.default)(this.data)}for(var i=0;i<e.length;i++){var n=e[i],r=this.data[n];null!=r?t.setAttribute("data-"+n,r):t.removeAttribute("data-"+n)}}},h.prototype._updateStyle=function(t){this.style&&(a.removeCssText(t,this.style),this.style=null),this.data.style&&(a.addCssText(t,this.data.style),this.style=this.data.style)},h.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},h.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,n.default)(this.options.editable)&&(this.editable={},a.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,n.default)(this.data.editable)&&(this.editable={},a.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},h.prototype.getWidthLeft=function(){return 0},h.prototype.getWidthRight=function(){return 0},h.prototype.getTitle=function(){return this.data.title},t.exports=h},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(51);t.exports=function(t){return Object(n(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){function n(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}n.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()},n.extend=function(t,e){var i=new n(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var o=[{name:"flush",original:void 0}];if(e&&e.replace)for(var r=0;r<e.replace.length;r++){var s=e.replace[r];o.push({name:s,original:t[s]}),i.replace(t,s)}return i._extended={object:t,methods:o},i},n.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}},n.prototype.replace=function(t,e){var i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:n,context:this})}},n.prototype.queue=function(t){this._queue.push("function"==typeof t?{fn:t}:t),this._flushIfNeeded()},n.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},n.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=n},function(t,e){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){var i=this;function n(){i.off(t,n),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o=0;o<n.length;o++)if((i=n[o])===e||i.fn===e){n.splice(o,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var n=0,o=(i=i.slice(0)).length;n<o;++n)i[n].apply(this,e);return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){var n,o=(n=i(6))&&n.__esModule?n:{default:n},r=i(2),s=i(16),a=i(66),l=i(36),h=i(9);function d(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:a.FORMAT,moment:h,timeAxis:null},this.options=r.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}(d.prototype=new s).setOptions=function(t){t&&(r.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),r.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,o.default)(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof h.locale?h.locale(t.locale):h.lang(t.locale)))},d.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},d.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},d.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==n;this._calculateCharSize();var r=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=this.options.showMinorLabels&&"none"!==this.options.orientation.axis?t.minorCharHeight:0,t.majorLabelHeight=r?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var s=e.nextSibling,a=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),s?n.insertBefore(e,s):n.appendChild(e),a?this.body.dom.backgroundVertical.insertBefore(i,a):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o},d.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=r.convert(this.body.range.start,"Number"),i=r.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),o=n-l.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,n);o-=this.body.util.toTime(0).valueOf();var s=new a(new Date(e),new Date(i),o,this.body.hiddenDates,this.options);s.setMoment(this.options.moment),this.options.format&&s.setFormat(this.options.format),this.options.timeAxis&&s.setScale(this.options.timeAxis),this.step=s;var h,d,c,p,f,g=this.dom;g.redundant.lines=g.lines,g.redundant.majorTexts=g.majorTexts,g.redundant.minorTexts=g.minorTexts,g.lines=[],g.majorTexts=[],g.minorTexts=[];var m,v,y,b,w=0,x=void 0,_=0;for(s.start(),h=s.getCurrent(),c=this.body.util.toScreen(h);s.hasNext()&&_<1e3;){switch(_++,p=s.isMajor(),b=s.getClassName(),y=s.getLabelMinor(),d=c,s.next(),h=s.getCurrent(),s.isMajor(),m=w,w=(c=this.body.util.toScreen(h))-d,s.scale){case"week":f=!0;break;default:f=w>=.4*m}if(this.options.showMinorLabels&&f){var E=this._repaintMinorText(d,y,t,b);E.style.width=w+"px"}p&&this.options.showMajorLabels?(d>0&&(null==x&&(x=d),E=this._repaintMajorText(d,s.getLabelMajor(),t,b)),v=this._repaintMajorLine(d,w,t,b)):f?v=this._repaintMinorLine(d,w,t,b):v&&(v.style.width=parseInt(v.style.width)+w+"px")}if(1e3!==_||u||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),u=!0),this.options.showMajorLabels){var k=this.body.util.toTime(0),S=s.getLabelMajor(k);(null==x||S.length*(this.props.majorCharWidth||10)+10<x)&&this._repaintMajorText(0,S,t,b)}r.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},d.prototype._repaintMinorText=function(t,e,i,n){var o=this.dom.redundant.minorTexts.shift();if(!o){var r=document.createTextNode("");(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)}return this.dom.minorTexts.push(o),o.innerHTML=e,o.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",o.className="vis-text vis-minor "+n,o},d.prototype._repaintMajorText=function(t,e,i,n){var o=this.dom.redundant.majorTexts.shift();if(!o){var r=document.createElement("div");(o=document.createElement("div")).appendChild(r),this.dom.foreground.appendChild(o)}return o.childNodes[0].innerHTML=e,o.className="vis-text vis-major "+n,o.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t+"px"):o.style.left=t+"px",this.dom.majorTexts.push(o),o},d.prototype._repaintMinorLine=function(t,e,i,n){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==i?r.majorLabelHeight+"px":this.body.domProps.top.height+"px",o.style.height=r.minorLineHeight+"px",this.options.rtl?(o.style.left="",o.style.right=t-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-minor "+n):(o.style.left=t-r.minorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-minor "+n),o.style.width=e+"px",o},d.prototype._repaintMajorLine=function(t,e,i,n){var o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);var r=this.props;return o.style.top="top"==i?"0":this.body.domProps.top.height+"px",this.options.rtl?(o.style.left="",o.style.right=t-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical-rtl vis-major "+n):(o.style.left=t-r.majorLineWidth/2+"px",o.className="vis-grid vis-vertical vis-major "+n),o.style.height=r.majorLineHeight+"px",o.style.width=e+"px",o},d.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var u=!1;t.exports=d},function(t,e,i){var n=i(10),o=i(2),r=i(16),s=i(9),a=i(98);function l(t,e){this.body=t,this.defaultOptions={moment:s,locales:a,locale:"en",id:void 0,title:void 0},this.options=o.extend({},this.defaultOptions),this.customTime=e&&e.time?e.time:new Date,this.eventParams={},this.setOptions(e),this._create()}(l.prototype=new r).setOptions=function(t){t&&o.selectiveExtend(["moment","locale","locales","id"],this.options,t)},l.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");function i(t){this.body.range._onMouseWheel(t)}e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",e.addEventListener?(e.addEventListener("mousewheel",i.bind(this),!1),e.addEventListener("DOMMouseScroll",i.bind(this),!1)):e.attachEvent("onmousewheel",i.bind(this)),t.appendChild(e),this.hammer=new n(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL})},l.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},l.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),i=this.options.locales.en);var n=this.options.title;return void 0===n?n=(n=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+n.substring(1):"function"==typeof n&&(n=n.call(this.customTime)),this.bar.style.left=e+"px",this.bar.title=n,!1},l.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},l.prototype.setCustomTime=function(t){this.customTime=o.convert(t,"Date"),this.redraw()},l.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},l.prototype.setCustomTitle=function(t){this.options.title=t},l.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},l.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}},l.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())},l.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(117).default,l=i(48).default,h=i(193).default,d=i(200).default,u=i(201).default,c=i(202).default,p=i(203).default,f=i(204).default,g=i(205).default,m=i(206).default,v=i(207).default,y=i(208).default,b=i(209).default,w=i(210).default,x=i(211).default,_=i(212).default,E=i(213).default,k=i(15).printStyle,S=function(){function t(e,i,o,r,l,h){(0,n.default)(this,t),this.options=s.bridgeObject(l),this.globalOptions=l,this.defaultOptions=h,this.body=i,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new a(this.body,this.options,!1),this.setOptions(e)}return(0,o.default)(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");return t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist),this.chooser=l.choosify("node",[e,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(e),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,t}},{key:"updateLabelModule",value:function(e){null==this.options.label&&(this.options.label=""),t.updateGroupOptions(this.options,e,this.grouplist);var i=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[e,this.options,i,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new h(this.options,this.body,this.labelModule);break;case"circle":this.shape=new d(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new u(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new c(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new p(this.options,this.body,this.labelModule);break;case"dot":this.shape=new f(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new g(this.options,this.body,this.labelModule);break;case"icon":this.shape=new m(this.options,this.body,this.labelModule);break;case"image":this.shape=new v(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new y(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new b(this.options,this.body,this.labelModule);break;case"star":this.shape=new w(this.options,this.body,this.labelModule);break;case"text":this.shape=new x(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new _(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new E(this.options,this.body,this.labelModule);break;default:this.shape=new g(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+n*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&l.pointInRect(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),l.pointInRect(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"updateGroupOptions",value:function(t,e,i){if(void 0!==i){var n=t.group;if(void 0!==e&&void 0!==e.group&&n!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof n||"string"==typeof n&&""!=n){var o=i.get(n);s.selectiveNotDeepExtend(["font"],t,o),t.color=s.parseColor(t.color)}}}},{key:"parseOptions",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments[4],a=["color","fixed","shadow"];if(s.selectiveNotDeepExtend(a,e,i,n),t.checkMass(i),s.mergeOptions(e,i,"shadow",o),null!=i.color){var l=s.parseColor(i.color);s.fillIfDefined(e.color,l)}else!0===n&&null===i.color&&(e.color=s.bridgeObject(o.color));null!=i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===n&&null===i.font&&(e.font=s.bridgeObject(o.font)),t.updateGroupOptions(e,i,r),void 0!==i.scaling&&s.mergeOptions(e.scaling,i.scaling,"label",o.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.log("%cNegative or zero mass disallowed"+i+", setting mass to 1.",k),t.mass=1}}}]),t}();e.default=S},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(6)),o=s(i(0)),r=s(i(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=i(2),l=function(){function t(){(0,o.default)(this,t)}return(0,r.default)(t,null,[{key:"choosify",value:function(t,e){var i=["node","edge","label"],o=!0,r=a.topMost(e,"chosen");if("boolean"==typeof r)o=r;else if("object"===(void 0===r?"undefined":(0,n.default)(r))){if(-1===i.indexOf(t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var s=a.topMost(e,["chosen",t]);"boolean"!=typeof s&&"function"!=typeof s||(o=s)}return o}},{key:"pointInRect",value:function(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var n={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var o=-i.angle;e={x:Math.cos(o)*n.x-Math.sin(o)*n.y,y:Math.sin(o)*n.x+Math.cos(o)*n.y}}else e=n}return t.left<e.x&&t.x+t.width>e.x&&t.top<e.y&&t.y+t.width>e.y}},{key:"isValidLabel",value:function(t){return"string"==typeof t&&""!==t}}]),t}();e.default=l},function(t,e,i){i(125);for(var n=i(18),o=i(26),r=i(31),s=i(13)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var h=a[l],d=n[h],u=d&&d.prototype;u&&!u[s]&&o(u,s,h),r[h]=r.Array}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,i){var n=i(32);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(27),o=i(130),r=i(58),s=i(56)("IE_PROTO"),a=function(){},l=function(){var t,e=i(82)("iframe"),n=r.length;for(e.style.display="none",i(134).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[r[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(a.prototype=n(t),i=new a,a.prototype=null,i[s]=t):i=l(),void 0===e?i:o(i,e)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(57)("keys"),o=i(40);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e,i){var n=i(18),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(20).f,o=i(22),r=i(13)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,r)&&n(t,r,{configurable:!0,value:e})}},function(t,e,i){var n=i(135)(!0);i(79)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){e.f=i(13)},function(t,e,i){var n=i(18),o=i(7),r=i(52),s=i(61),a=i(20).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=s(i(8)),o=s(i(19)),r=s(i(6));function s(t){return t&&t.__esModule?t:{default:t}}var a=i(2),l=i(9),h=i(16),d=i(36);function u(t,e){var i=l().hours(0).minutes(0).seconds(0).milliseconds(0),n=i.clone().add(-3,"days").valueOf(),o=i.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===e?(this.start=n,this.end=o):(this.start=e.start||n,this.end=e.end||o),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:l,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=a.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}function c(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}(u.prototype=new h).setOptions=function(t){t&&(a.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end))},u.prototype.startRolling=function(){var t=this;!function e(){t.stopRolling(),t.rolling=!0;var i=t.end-t.start,n=a.convert(new Date,"Date").valueOf();t.setRange(n-i*t.options.rollingMode.offset,n+i*(1-t.options.rollingMode.offset),{animation:!1}),(i=1/t.conversion(t.body.domProps.center.width).scale/10)<30&&(i=30),i>1e3&&(i=1e3),t.body.dom.rollingModeBtn.style.visibility="hidden",t.currentTimeTimer=setTimeout(e,i)}()},u.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},u.prototype.setRange=function(t,e,i,s,l){i||(i={}),!0!==i.byUser&&(i.byUser=!1);var h=this,u=null!=t?a.convert(t,"Date").valueOf():null,c=null!=e?a.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){var p=this.start,f=this.end,g="object"===(0,r.default)(i.animation)&&"duration"in i.animation?i.animation.duration:500,m="object"===(0,r.default)(i.animation)&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",v=a.easingFunctions[m];if(!v)throw new Error("Unknown easing function "+(0,o.default)(m)+". Choose from: "+(0,n.default)(a.easingFunctions).join(", "));var y=(new Date).valueOf(),b=!1;return function t(){if(!h.props.touch.dragging){var e=(new Date).valueOf()-y,n=v(e/g),o=e>g;w=h._applyRange(o||null===u?u:p+(u-p)*n,o||null===c?c:f+(c-f)*n),d.updateHiddenDates(h.options.moment,h.body,h.options.hiddenDates),b=b||w;var r={start:new Date(h.start),end:new Date(h.end),byUser:i.byUser,event:i.event};if(l&&l(n,w,o),w&&h.body.emitter.emit("rangechange",r),o){if(b&&(h.body.emitter.emit("rangechanged",r),s))return s()}else h.animationTimer=setTimeout(t,20)}}()}var w=this._applyRange(u,c);if(d.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),w){var x={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",x),clearTimeout(h.timeoutID),h.timeoutID=setTimeout(function(){h.body.emitter.emit("rangechanged",x)},200),s)return s()}},u.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},u.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},u.prototype._applyRange=function(t,e){var i,n=null!=t?a.convert(t,"Date").valueOf():this.start,o=null!=e?a.convert(e,"Date").valueOf():this.end,r=null!=this.options.max?a.convert(this.options.max,"Date").valueOf():null,s=null!=this.options.min?a.convert(this.options.min,"Date").valueOf():null;if(isNaN(n)||null===n)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');if(o<n&&(o=n),null!==s&&n<s&&(n+=i=s-n,o+=i,null!=r&&o>r&&(o=r)),null!==r&&o>r&&(n-=i=o-r,o-=i,null!=s&&n<s&&(n=s)),null!==this.options.zoomMin){var l=parseFloat(this.options.zoomMin);l<0&&(l=0),o-n<l&&(this.end-this.start===l&&n>=this.start-.5&&o<=this.end?(n=this.start,o=this.end):(n-=(i=l-(o-n))/2,o+=i/2))}if(null!==this.options.zoomMax){var h=parseFloat(this.options.zoomMax);h<0&&(h=0),o-n>h&&(this.end-this.start===h&&n<this.start&&o>this.end?(n=this.start,o=this.end):(n+=(i=o-n-h)/2,o-=i/2))}var d=this.start!=n||this.end!=o;return n>=this.start&&n<=this.end||o>=this.start&&o<=this.end||this.start>=n&&this.start<=o||this.end>=n&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=o,d},u.prototype.getRange=function(){return{start:this.start,end:this.end}},u.prototype.conversion=function(t,e){return u.conversion(this.start,this.end,t,e)},u.conversion=function(t,e,i,n){return void 0===n&&(n=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-n)}:{offset:0,scale:1}},u.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},u.prototype._onDrag=function(t){if(t&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;c(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var n=this.props.touch.end-this.props.touch.start;n-=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var o,r="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height,s=this.props.touch.start+(o=this.options.rtl?i/r*n:-i/r*n),a=this.props.touch.end+o,l=d.snapAwayFromHidden(this.body.hiddenDates,s,this.previousDelta-i,!0),h=d.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,!0);if(l!=s||h!=a)return this.deltaDifference+=i,this.props.touch.start=l,this.props.touch.end=h,void this._onDrag(t);this.previousDelta=i,this._applyRange(s,a);var u=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:u,end:p,byUser:!0,event:t}),this.body.emitter.emit("panmove")}},u.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))},u.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){var i,n;if(i=e<0?1-e/5:1/(1+e/5),this.rolling)n=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var o=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);n=this._pointerToDate(o)}this.zoom(i,n,e,t),t.preventDefault()}},u.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,a.preventDefault(t)},u.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){a.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center)),this.stopRolling();var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),n=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),r=n-o,s=i-o+(this.props.touch.start-(i-o))*e,l=i+r+(this.props.touch.end-(i+r))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;var h=d.snapAwayFromHidden(this.body.hiddenDates,s,1-e,!0),u=d.snapAwayFromHidden(this.body.hiddenDates,l,e-1,!0);h==s&&u==l||(this.props.touch.start=h,this.props.touch.end=u,this.scaleOffset=1-t.scale,s=h,l=u),this.setRange(s,l,{animation:!1,byUser:!0,event:t}),this.startToFront=!1,this.endToFront=!0}},u.prototype._isInsideRange=function(t){var e,i=t.center?t.center.x:t.clientX;e=this.options.rtl?i-a.getAbsoluteLeft(this.body.dom.centerContainer):a.getAbsoluteRight(this.body.dom.centerContainer)-i;var n=this.body.util.toTime(e);return n>=this.start&&n<=this.end},u.prototype._pointerToDate=function(t){var e,i=this.options.direction;return c(i),"horizontal"==i?this.body.util.toTime(t.x).valueOf():(e=this.conversion(this.body.domProps.center.height),t.y/e.scale+e.offset)},u.prototype.getPointer=function(t,e){return this.options.rtl?{x:a.getAbsoluteRight(e)-t.x,y:t.y-a.getAbsoluteTop(e)}:{x:t.x-a.getAbsoluteLeft(e),y:t.y-a.getAbsoluteTop(e)}},u.prototype.zoom=function(t,e,i,n){null==e&&(e=(this.start+this.end)/2);var o=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),r=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),s=o-r,a=e-r+(this.start-(e-r))*t,l=e+s+(this.end-(e+s))*t;this.startToFront=!(i>0),this.endToFront=!(-i>0);var h=d.snapAwayFromHidden(this.body.hiddenDates,a,i,!0),u=d.snapAwayFromHidden(this.body.hiddenDates,l,-i,!0);h==a&&u==l||(a=h,l=u),this.setRange(a,l,{animation:!1,byUser:!0,event:n}),this.startToFront=!1,this.endToFront=!0},u.prototype.move=function(t){var e=this.end-this.start,i=this.end+e*t;this.start=this.start+e*t,this.end=i},u.prototype.moveTo=function(t){var e=(this.start+this.end)/2-t;this.setRange(this.start-e,this.end-e,{animation:!1,byUser:!0,event:null})},t.exports=u},function(t,e,i){var n=r(i(19)),o=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(44),a=i(10),l=i(37),h=i(2),d=i(45),u=i(97),c=i(36),p=i(46);function f(){}s(f.prototype),f.prototype._create=function(t){this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",(function(){!0===this.initialDrawDone&&this._redraw()}).bind(this)),this.on("rangechanged",(function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}).bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var e=this;this._origRedraw=this._redraw.bind(this),this._redraw=h.throttle(this._origRedraw),this.on("_change",function(t){e.itemSet&&e.itemSet.initialItemSetDrawn&&t&&1==t.queue?e._redraw():e._origRedraw()}),this.hammer=new a(this.dom.root);var i=this.hammer.get("pinch").set({enable:!0});function n(t){this.isActive()&&this.emit("mousewheel",t);var e=0,i=0;if("detail"in t&&(i=-1*t.detail),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*i,i=0),"deltaY"in t&&(i=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),this.options.zoomKey&&!t[this.options.zoomKey])if(t.preventDefault(),this.options.verticalScroll&&Math.abs(i)>=Math.abs(e)){var n=this.props.scrollTop+i;this.isActive()&&(this._setScrollTop(n),this._redraw(),this.emit("scroll",t))}else if(this.options.horizontalScroll){var o=(Math.abs(e)>=Math.abs(i)?e:i)/120*(this.range.end-this.range.start)/20;this.range.setRange(this.range.start+o,this.range.end+o,{animation:!1,byUser:!0,event:t})}}function o(t){e.options.verticalScroll&&(t.preventDefault(),e.isActive()&&(e._setScrollTop(-t.target.scrollTop),e._redraw(),e.emit("scrollSide",t)))}l.disablePreventDefaultVertically(i),this.hammer.get("pan").set({threshold:5,direction:a.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){var i=function(i){e.isActive()&&e.emit(t,i)};e.hammer.on(t,i),e.listeners[t]=i}),l.onTouch(this.hammer,(function(t){e.emit("touch",t)}).bind(this)),l.onRelease(this.hammer,(function(t){e.emit("release",t)}).bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",n.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",n.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",n.bind(this)),this.dom.left.parentNode.addEventListener("scroll",o.bind(this)),this.dom.right.parentNode.addEventListener("scroll",o.bind(this));var r=!1;if(this.dom.center.addEventListener("dragover",(function(t){if(t.preventDefault&&t.preventDefault(),!(!t.target.className.indexOf("vis")>-1||r))return t.dataTransfer.dropEffect="move",r=!0,!1}).bind(this),!1),this.dom.center.addEventListener("drop",(function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var i=JSON.parse(t.dataTransfer.getData("text"));if(!i||!i.content)return}catch(n){return!1}return r=!1,t.center={x:t.clientX,y:t.clientY},"item"!==i.target?e.itemSet._onAddItem(t):e.itemSet._onDropObjectOnItem(t),e.emit("drop",e.getEventProperties(t)),!1}).bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},f.prototype.setOptions=function(t){if(t){if(h.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,o.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===(0,o.default)(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var e=this.timeAxis2=new d(this.body);e.setOptions=function(t){var i=t?h.extend({},t):{};i.orientation="top",d.prototype.setOptions.call(e,i)},this.components.push(e)}}else if(this.timeAxis2){var i=this.components.indexOf(this.timeAxis2);-1!==i&&this.components.splice(i,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&c.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new u(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var n=h.deepExtend({},this.options);this.components.forEach(function(t){h.deepExtend(n,t.options)}),this.configurator.setModuleOptions({global:n})}this._redraw()},f.prototype.isActive=function(){return!this.activator||this.activator.active},f.prototype.destroy=function(){for(var t in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},f.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+(0,n.default)(e));i.length>0&&i[0].setCustomTime(t)},f.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,n.default)(t));return e[0].getCustomTime()},f.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+(0,n.default)(e));if(i.length>0)return i[0].setCustomTitle(t)},f.prototype.getEventProperties=function(t){return{event:t}},f.prototype.addCustomTime=function(t,e){var i=void 0!==t?h.convert(t,"Date").valueOf():new Date;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+(0,n.default)(e)+" already exists");var o=new p(this.body,h.extend({},this.options,{time:i,id:e}));return this.customTimes.push(o),this.components.push(o),this._redraw(),e},f.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,n.default)(t));e.forEach((function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}).bind(this))},f.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},f.prototype.fit=function(t,e){var i=this.getDataRange();if(null!==i.min||null!==i.max){var n=i.max-i.min,o=new Date(i.min.valueOf()-.01*n),r=new Date(i.max.valueOf()+.01*n);this.range.setRange(o,r,{animation:!t||void 0===t.animation||t.animation},e)}},f.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},f.prototype.setWindow=function(t,e,i,n){var o;"function"==typeof arguments[2]&&(n=arguments[2],i={}),1==arguments.length?this.range.setRange((o=arguments[0]).start,o.end,{animation:void 0===o.animation||o.animation}):2==arguments.length&&"function"==typeof arguments[1]?this.range.setRange((o=arguments[0]).start,o.end,{animation:void 0===o.animation||o.animation},n=arguments[1]):this.range.setRange(t,e,{animation:!i||void 0===i.animation||i.animation},n)},f.prototype.moveTo=function(t,e,i){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.range.end-this.range.start,o=h.convert(t,"Date").valueOf(),r=o-n/2,s=o+n/2,a=!e||void 0===e.animation||e.animation;this.range.setRange(r,s,{animation:a},i)},f.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},f.prototype.zoomIn=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.getWindow(),o=n.start.valueOf(),r=n.end.valueOf(),s=r-o,a=s/(1+t),l=(s-a)/2,h=o+l,d=r-l;this.setWindow(h,d,e,i)}},f.prototype.zoomOut=function(t,e,i){if(!(!t||t<0||t>1)){"function"==typeof arguments[1]&&(i=arguments[1],e={});var n=this.getWindow(),o=n.start.valueOf(),r=n.end.valueOf(),s=r-o,a=o-s*t/2,l=r+s*t/2;this.setWindow(a,l,e,i)}},f.prototype.redraw=function(){this._redraw()},f.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,i=this.props,n=this.dom;if(n&&n.container&&0!=n.root.offsetWidth){c.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(h.addClassName(n.root,"vis-top"),h.removeClassName(n.root,"vis-bottom")):(h.removeClassName(n.root,"vis-top"),h.addClassName(n.root,"vis-bottom")),n.root.style.maxHeight=h.option.asSize(e.maxHeight,""),n.root.style.minHeight=h.option.asSize(e.minHeight,""),n.root.style.width=h.option.asSize(e.width,""),i.border.left=(n.centerContainer.offsetWidth-n.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(n.centerContainer.offsetHeight-n.centerContainer.clientHeight)/2,i.border.bottom=i.border.top,i.borderRootHeight=n.root.offsetHeight-n.root.clientHeight,i.borderRootWidth=n.root.offsetWidth-n.root.clientWidth,0===n.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===n.root.clientHeight&&(i.borderRootWidth=i.borderRootHeight),i.center.height=n.center.offsetHeight,i.left.height=n.left.offsetHeight,i.right.height=n.right.offsetHeight,i.top.height=n.top.clientHeight||-i.border.top,i.bottom.height=n.bottom.clientHeight||-i.border.bottom;var o=Math.max(i.left.height,i.center.height,i.right.height);n.root.style.height=h.option.asSize(e.height,i.top.height+o+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom+"px"),i.root.height=n.root.offsetHeight,i.background.height=i.root.height-i.borderRootHeight;var r=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=r,i.leftContainer.height=r,i.rightContainer.height=i.leftContainer.height,i.root.width=n.root.offsetWidth,i.background.width=i.root.width-i.borderRootWidth,this.initialDrawDone||(i.scrollbarWidth=h.getScrollBarWidth()),e.verticalScroll?e.rtl?(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right):(i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right),this._setDOM();var s=this._updateScrollTop();"top"!=e.orientation.item&&(s+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0)),n.center.style.top=s+"px";var l=0==i.scrollTop?"hidden":"",d=i.scrollTop==i.scrollTopMin?"hidden":"";n.shadowTop.style.visibility=l,n.shadowBottom.style.visibility=d,n.shadowTopLeft.style.visibility=l,n.shadowBottomLeft.style.visibility=d,n.shadowTopRight.style.visibility=l,n.shadowBottomRight.style.visibility=d,e.verticalScroll&&(n.rightContainer.className="vis-panel vis-right vis-vertical-scroll",n.leftContainer.className="vis-panel vis-left vis-vertical-scroll",n.shadowTopRight.style.visibility="hidden",n.shadowBottomRight.style.visibility="hidden",n.shadowTopLeft.style.visibility="hidden",n.shadowBottomLeft.style.visibility="hidden",n.left.style.top="0px",n.right.style.top="0px"),(!e.verticalScroll||i.center.height<i.centerContainer.height)&&(n.left.style.top=s+"px",n.right.style.top=s+"px",n.rightContainer.className=n.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.leftContainer.className=n.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),i.left.width=n.leftContainer.clientWidth||-i.border.left,i.right.width=n.rightContainer.clientWidth||-i.border.right,this._setDOM());var u=i.center.height>i.centerContainer.height;if(this.hammer.get("pan").set({direction:u?a.DIRECTION_ALL:a.DIRECTION_HORIZONTAL}),this.components.forEach(function(e){t=e.redraw()||t}),t){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},f.prototype._setDOM=function(){var t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;var i=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height=t.background.height+"px",e.backgroundVertical.style.height=t.background.height+"px",e.backgroundHorizontal.style.height=t.centerContainer.height+"px",e.centerContainer.style.height=t.centerContainer.height+"px",e.leftContainer.style.height=t.leftContainer.height+"px",e.rightContainer.style.height=t.rightContainer.height+"px",e.background.style.width=t.background.width+"px",e.backgroundVertical.style.width=t.centerContainer.width+"px",e.backgroundHorizontal.style.width=t.background.width+"px",e.centerContainer.style.width=t.center.width+"px",e.top.style.width=t.top.width+"px",e.bottom.style.width=t.bottom.width+"px",e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=t.left.width+t.border.left+"px",e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=t.top.height+"px",e.centerContainer.style.left=t.left.width+"px",e.centerContainer.style.top=t.top.height+"px",e.leftContainer.style.left="0",e.leftContainer.style.top=t.top.height+"px",e.rightContainer.style.left=t.left.width+t.center.width+"px",e.rightContainer.style.top=t.top.height+"px",e.top.style.left=t.left.width+"px",e.top.style.top="0",e.bottom.style.left=t.left.width+"px",e.bottom.style.top=t.top.height+t.centerContainer.height+"px",e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"},f.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},f.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},f.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},f.prototype._toTime=function(t){return c.toTime(this,t,this.props.center.width)},f.prototype._toGlobalTime=function(t){return c.toTime(this,t,this.props.root.width)},f.prototype._toScreen=function(t){return c.toScreen(this,t,this.props.center.width)},f.prototype._toGlobalScreen=function(t){return c.toScreen(this,t,this.props.root.width)},f.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},f.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){1==t.options.autoResize?t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.props.scrollbarWidth=h.getScrollBarWidth(),t.body.emitter.emit("_change"))):t._stopAutoResize()},h.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},f.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(h.removeEventListener(window,"resize",this._onResize),this._onResize=null)},f.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},f.prototype._onPinch=function(t){this.touch.allowDragging=!1},f.prototype._onDrag=function(t){if(t&&this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=i&&this.emit("verticalDrag")}},f.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},f.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},f.prototype._getScrollTop=function(){return this.props.scrollTop},f.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=f},function(t,e,i){var n=i(9),o=i(36),r=i(2);function s(t,e,i,o,r){this.moment=n,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=Array.isArray(o)?o:null!=o?[o]:[],this.format=s.FORMAT,this.options=r||{}}s.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},s.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},s.prototype.setFormat=function(t){var e=r.deepExtend({},s.FORMAT);this.format=r.deepExtend(e,t)},s.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):new Date,this._end=null!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},s.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},s.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},s.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},s.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week"),e.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,o.stepOverHiddenDates(this.moment,this,t)},s.prototype.getCurrent=function(){return this.current},s.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},s.prototype.setAutoScale=function(t){this.autoScale=t},s.prototype.setMinimumStep=function(t){null!=t&&(31104e9>t&&(this.scale="year",this.step=1e3),15552e9>t&&(this.scale="year",this.step=500),31104e8>t&&(this.scale="year",this.step=100),15552e8>t&&(this.scale="year",this.step=50),31104e7>t&&(this.scale="year",this.step=10),15552e7>t&&(this.scale="year",this.step=5),31104e6>t&&(this.scale="year",this.step=1),7776e6>t&&(this.scale="month",this.step=3),2592e6>t&&(this.scale="month",this.step=1),432e6>t&&(this.scale="day",this.step=5),1728e5>t&&(this.scale="day",this.step=2),864e5>t&&(this.scale="day",this.step=1),432e5>t&&(this.scale="weekday",this.step=1),144e5>t&&(this.scale="hour",this.step=4),36e5>t&&(this.scale="hour",this.step=1),9e5>t&&(this.scale="minute",this.step=15),6e5>t&&(this.scale="minute",this.step=10),3e5>t&&(this.scale="minute",this.step=5),6e4>t&&(this.scale="minute",this.step=1),15e3>t&&(this.scale="second",this.step=15),1e4>t&&(this.scale="second",this.step=10),5e3>t&&(this.scale="second",this.step=5),1e3>t&&(this.scale="second",this.step=1),200>t&&(this.scale="millisecond",this.step=200),100>t&&(this.scale="millisecond",this.step=100),50>t&&(this.scale="millisecond",this.step=50),10>t&&(this.scale="millisecond",this.step=10),5>t&&(this.scale="millisecond",this.step=5),1>t&&(this.scale="millisecond",this.step=1))},s.snap=function(t,e,i){var o=n(t);if("year"==e){var r=o.year()+Math.round(o.month()/12);o.year(Math.round(r/i)*i),o.month(0),o.date(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("month"==e)o.date()>15?(o.date(1),o.add(1,"month")):o.date(1),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("week"==e)o.weekday()>2?(o.weekday(0),o.add(1,"week")):o.weekday(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("hour"==e){switch(i){case 4:o.minutes(60*Math.round(o.minutes()/60));break;default:o.minutes(30*Math.round(o.minutes()/30))}o.seconds(0),o.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5)),o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30))}o.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5)),o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500))}else if("millisecond"==e){var s=i>5?i/2:1;o.milliseconds(Math.round(o.milliseconds()/s)*s)}return o},s.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":case"week":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}},s.prototype.getLabelMinor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&e.length>0?this.moment(t).format(e):""}},s.prototype.getLabelMajor=function(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},s.prototype.getClassName=function(){var t=this.moment,e=this.moment(this.current),i=e.locale?e.locale("en"):e.lang("en"),n=this.step,o=[];function r(t){return t/n%2==0?" vis-even":" vis-odd"}function s(e){return e.isSame(new Date,"day")?" vis-today":e.isSame(t().add(1,"day"),"day")?" vis-tomorrow":e.isSame(t().add(-1,"day"),"day")?" vis-yesterday":""}function a(t){return t.isSame(new Date,"week")?" vis-current-week":""}function l(t){return t.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":o.push(s(i)),o.push(r(i.milliseconds()));break;case"second":o.push(s(i)),o.push(r(i.seconds()));break;case"minute":o.push(s(i)),o.push(r(i.minutes()));break;case"hour":o.push("vis-h"+i.hours()+(4==this.step?"-h"+(i.hours()+4):"")),o.push(s(i)),o.push(r(i.hours()));break;case"weekday":o.push("vis-"+i.format("dddd").toLowerCase()),o.push(s(i)),o.push(a(i)),o.push(r(i.date()));break;case"day":o.push("vis-day"+i.date()),o.push("vis-"+i.format("MMMM").toLowerCase()),o.push(s(i)),o.push(l(i)),o.push(this.step<=2?s(i):""),o.push(this.step<=2?"vis-"+i.format("dddd").toLowerCase():""),o.push(r(i.date()-1));break;case"week":o.push("vis-week"+i.format("w")),o.push(a(i)),o.push(r(i.week()));break;case"month":o.push("vis-"+i.format("MMMM").toLowerCase()),o.push(l(i)),o.push(r(i.month()));break;case"year":o.push("vis-year"+i.year()),o.push(i.isSame(new Date,"year")?" vis-current-year":""),o.push(r(i.year()))}return o.filter(String).join(" ")},t.exports=s},function(t,e,i){var n=i(2),o=i(16),r=i(9),s=i(98);function a(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:r,locales:s,locale:"en"},this.options=n.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}(a.prototype=new o)._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},a.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},a.prototype.setOptions=function(t){t&&n.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},a.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),n=this.options.locales[this.options.locale];n||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),n=this.options.locales.en);var o=n.current+" "+n.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},a.prototype.start=function(){var t=this;!function e(){t.stop();var i=1/t.body.range.conversion(t.body.domProps.center.width).scale/10;i<30&&(i=30),i>1e3&&(i=1e3),t.redraw(),t.body.emitter.emit("currentTimeTick"),t.currentTimeTimer=setTimeout(e,i)}()},a.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},a.prototype.setCurrentTime=function(t){var e=n.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},a.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=a},function(t,e,i){var n,o=(n=i(8))&&n.__esModule?n:{default:n},r=i(2),s=i(100);function a(t,e,i){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,this.showNested=0!=e.showNested),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(var n in e.subgroupStack)this.subgroupStack[n]=e.subgroupStack[n],this.doInnerStack=this.doInnerStack||e.subgroupStack[n];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(e)}a.prototype._create=function(){var t=document.createElement("div");t.className=this.itemSet.options.groupEditable.order?"vis-label draggable":"vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},a.prototype.setData=function(t){var e,i;if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this))(t,this.dom.inner):t&&t.content)instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?i(t,this.dom.inner):this.dom.inner.innerHTML=null!=e?e:this.groupId||"";if(this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?r.removeClassName(this.dom.inner,"vis-hidden"):r.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(this.showNested=0!=t.showNested),r.addClassName(this.dom.label,"vis-nesting-group");var n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(r.removeClassName(this.dom.label,n),r.addClassName(this.dom.label,"expanded")):(r.removeClassName(this.dom.label,"expanded"),r.addClassName(this.dom.label,n))}else this.nestedGroups&&(this.nestedGroups=null,r.removeClassName(this.dom.label,n=this.itemSet.options.rtl?"collapsed-rtl":"collapsed"),r.removeClassName(this.dom.label,"expanded"),r.removeClassName(this.dom.label,"vis-nesting-group"));t&&t.nestedInGroup&&(r.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var o=t&&t.className||null;o!=this.className&&(this.className&&(r.removeClassName(this.dom.label,this.className),r.removeClassName(this.dom.foreground,this.className),r.removeClassName(this.dom.background,this.className),r.removeClassName(this.dom.axis,this.className)),r.addClassName(this.dom.label,o),r.addClassName(this.dom.foreground,o),r.addClassName(this.dom.background,o),r.addClassName(this.dom.axis,o),this.className=o),this.style&&(r.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(r.addCssText(this.dom.label,t.style),this.style=t.style)},a.prototype.getLabelWidth=function(){return this.props.label.width},a.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var e={},i=0;if(r.forEach(this.items,function(t,n){t.dirty=!0,t.displayed&&(e[n]=t.redraw(!0),i=e[n].length)}),i>0)for(var n=0;n<i;n++)r.forEach(e,function(t){t[n]()});return!0}},a.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetLeft,e=this.dom.foreground.offsetWidth;this.top=this.dom.foreground.offsetTop,this.right=t,this.width=e},a.prototype._redrawItems=function(t,e,i,n){if(t||this.stackDirty||this.isVisible&&!e){var o={},a=null;if("function"==typeof this.itemSet.options.order){var l=this,h={},d=0;if(r.forEach(this.items,function(t,e){t.displayed||(h[e]=t.redraw(!0),d=h[e].length,l.visibleItems.push(t))}),d>0)for(var u=0;u<d;u++)r.forEach(h,function(t){t[u]()});if(r.forEach(this.items,function(t){t.repositionX(!1)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(a in this.subgroups)o[a]=this.subgroups[a].items.slice().sort(function(t,e){return l.itemSet.options.order(t.data,e.data)});s.stackSubgroupsWithInnerStack(o,i,this.subgroups)}else{var c=this.orderedItems.byStart.slice().sort(function(t,e){return l.itemSet.options.order(t.data,e.data)});s.stack(c,i,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,n),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(a in this.subgroups)o[a]=this.subgroups[a].items;s.stackSubgroupsWithInnerStack(o,i,this.subgroups)}else s.stack(this.visibleItems,i,!0);else s.nostack(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},a.prototype._didResize=function(t,e){t=r.updateProperty(this,"height",e)||t;var i=this.dom.inner.clientHeight;return t=r.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||t,r.updateProperty(this.props.label,"height",i)||t},a.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px",this.dom.foreground.style.height=t+"px",this.dom.label.style.height=t+"px"},a.prototype._updateItemsVerticalPosition=function(t){for(var e=0,i=this.visibleItems.length;e<i;e++){var n=this.visibleItems[e];n.repositionY(t),this.isVisible||"__background__"==this.groupId||n.displayed&&n.hide()}},a.prototype.redraw=function(t,e,i,n){var o,r,s=!1,a=this.isVisible,l=[(function(){i=this._didMarkerHeightChange.bind(this)}).bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),(function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}).bind(this),(function(){this._redrawItems.bind(this)(i,a,e,t)}).bind(this),this._updateSubgroupsSizes.bind(this),(function(){o=this._calculateHeight.bind(this)(e)}).bind(this),this._calculateGroupSizeAndPosition.bind(this),(function(){s=this._didResize.bind(this)(s,o)}).bind(this),(function(){this._applyGroupHeight.bind(this)(o)}).bind(this),(function(){this._updateItemsVerticalPosition.bind(this)(e)}).bind(this),function(){return!this.isVisible&&this.height&&(s=!1),s}];return n?l:(l.forEach(function(t){r=t()}),r)},a.prototype._updateSubGroupHeights=function(t){if((0,o.default)(this.subgroups).length>0){var e=this;this.resetSubgroups(),r.forEach(this.visibleItems,function(i){void 0!==i.data.subgroup&&(e.subgroups[i.data.subgroup].height=Math.max(e.subgroups[i.data.subgroup].height,i.height+t.item.vertical),e.subgroups[i.data.subgroup].visible=!0)})}},a.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop},a.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(i.length>0){var n=i[0].top,o=i[0].top+i[0].height;if(r.forEach(i,function(t){n=Math.min(n,t.top),o=Math.max(o,t.top+t.height)}),n>t.axis){var s=n-t.axis;o-=s,r.forEach(i,function(t){t.top-=s})}e=o+t.item.vertical/2}else e=0;return Math.max(e,this.props.label.height)},a.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},a.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)},a.prototype.add=function(t){this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),-1==this.visibleItems.indexOf(t)&&this._checkIfVisible(t,this.visibleItems,this.itemSet.body.range)},a.prototype._addToSubgroup=function(t,e){null!=(e=e||t.data.subgroup)&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var i=t.data.end||t.data.start;new Date(i)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=i),this.subgroups[e].items.push(t)},a.prototype._updateSubgroupsSizes=function(){var t=this;if(t.subgroups)for(var e in t.subgroups){var i=t.subgroups[e].items[0].data.start,n=(t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start)-1;t.subgroups[e].items.forEach(function(t){new Date(t.data.start)<new Date(i)&&(i=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(n)&&(n=e)}),t.subgroups[e].start=i,t.subgroups[e].end=new Date(n-1)}},a.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t,e=[];if("string"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(var i=0;i<e.length;i++)this.subgroups[e[i].subgroup].index=i}},a.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)},a.prototype.remove=function(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())},a.prototype._removeFromSubgroup=function(t,e){if(null!=(e=e||t.data.subgroup)){var i=this.subgroups[e];if(i){var n=i.items.indexOf(t);n>=0&&(i.items.splice(n,1),i.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}},a.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},a.prototype.order=function(){for(var t=r.toArray(this.items),e=[],i=[],n=0;n<t.length;n++)void 0!==t[n].data.end&&i.push(t[n]),e.push(t[n]);this.orderedItems={byStart:e,byEnd:i},s.orderByStart(this.orderedItems.byStart),s.orderByEnd(this.orderedItems.byEnd)},a.prototype._updateItemsInRange=function(t,e,i){var n=[],o={},s=(i.end-i.start)/4,a=i.start-s,l=i.end+s,h=function(t){return t<a?-1:t<=l?0:1};if(e.length>0)for(var d=0;d<e.length;d++)this._checkIfVisibleWithReference(e[d],n,o,i);var u=r.binarySearchCustom(t.byStart,h,"data","start");if(this._traceVisible(u,t.byStart,n,o,function(t){return t.data.start<a||t.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,d=0;d<t.byEnd.length;d++)this._checkIfVisibleWithReference(t.byEnd[d],n,o,i);else{var c=r.binarySearchCustom(t.byEnd,h,"data","end");this._traceVisible(c,t.byEnd,n,o,function(t){return t.data.end<a||t.data.end>l})}var p={},f=0;for(d=0;d<n.length;d++){var g=n[d];g.displayed||(p[d]=g.redraw(!0),f=p[d].length)}if(f>0)for(var m=0;m<f;m++)r.forEach(p,function(t){t[m]()});for(d=0;d<n.length;d++)n[d].repositionX();return n},a.prototype._traceVisible=function(t,e,i,n,o){if(-1!=t){var r,s;for(r=t;r>=0&&!o(s=e[r]);r--)void 0===n[s.id]&&(n[s.id]=!0,i.push(s));for(r=t+1;r<e.length&&!o(s=e[r]);r++)void 0===n[s.id]&&(n[s.id]=!0,i.push(s))}},a.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},a.prototype._checkIfVisibleWithReference=function(t,e,i,n){t.isVisible(n)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},a.prototype.changeSubgroup=function(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()},t.exports=a},function(t,e,i){var n,o=(n=i(29))&&n.__esModule?n:{default:n},r=i(68);function s(t,e,i){r.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}(s.prototype=(0,o.default)(r.prototype)).redraw=function(t,e,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,o=this.visibleItems.length;n<o;n++)this.visibleItems[n].repositionY(e);return!1},s.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=s},function(t,e,i){var n=i(38);function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}(o.prototype=new n(null,null,null)).baseClassName="vis-item vis-range",o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),this.dom.content.style.maxWidth="none")},o.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},o.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},o.prototype.repositionX=function(t){var e,i,n=this.parent.width,o=this.conversion.toScreen(this.data.start),r=this.conversion.toScreen(this.data.end),s=void 0===this.data.align?this.options.align:this.data.align;!1===this.data.limitSize||void 0!==t&&!0!==t||(o<-n&&(o=-n),r>2*n&&(r=2*n));var a=Math.max(r-o+.5,1);switch(this.overflow?(this.options.rtl?this.right=o:this.left=o,this.width=a+this.props.content.width,i=this.props.content.width):(this.options.rtl?this.right=o:this.left=o,this.width=a,i=Math.min(r-o,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=a+"px",s){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(a-i,0)+"px":this.dom.content.style.left=Math.max(a-i,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((a-i)/2,0)+"px":this.dom.content.style.left=Math.max((a-i)/2,0)+"px";break;default:e=this.overflow?r>0?Math.max(-o,0):-i:o<0?-o:0,this.options.rtl?this.dom.content.style.right=e+"px":(this.dom.content.style.left=e+"px",this.dom.content.style.width="calc(100% - "+e+"px)")}},o.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},o.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(19)),o=a(i(6)),r=a(i(0)),s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var l=i(2),h=i(179).default,d=function(){function t(e,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,r.default)(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},l.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new h(o),this.wrapper=void 0}return(0,s.default)(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===(void 0===t?"undefined":(0,o.default)(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,n=!1;for(var o in this.configureOptions)this.configureOptions.hasOwnProperty(o)&&(this.allowCreation=!1,n=!1,"function"==typeof e?n=(n=e(o,[]))||this._handleObject(this.configureOptions[o],[o],!0):!0!==e&&-1===e.indexOf(o)||(n=!0),!1!==n&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),i++);if(!0===this.options.showButton){var r=document.createElement("div");r.className="vis-configuration vis-config-button",r.innerHTML="generate options",r.onclick=function(){t._printOptions()},r.onmouseover=function(){r.className="vis-configuration vis-config-button hover"},r.onmouseout=function(){r.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(r)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return n.forEach(function(t){e.appendChild(t)}),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+e.length,n.innerHTML=!0===i?"<i><b>"+t+":</b></i>":t+":",n}},{key:"_makeDropdown",value:function(t,e,i){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===o&&(s.selected="selected"),s.innerHTML=t[r],n.appendChild(s)}var a=this;n.onchange=function(){a._update(this.value,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,n)}},{key:"_makeRange",value:function(t,e,i){var n=t[0],o=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=o,a.max=r}catch(f){}a.step=s;var l="",h=0;void 0!==e?(e<0&&1.2*e<o?(a.min=Math.ceil(1.2*e),h=a.min,l="range increased"):e/1.2<o&&(a.min=Math.ceil(e/1.2),h=a.min,l="range increased"),1.2*e>r&&1!==r&&(a.max=Math.ceil(1.2*e),h=a.max,l="range increased"),a.value=e):a.value=n;var d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=a.value;var u=this;a.onchange=function(){d.value=this.value,u._update(Number(this.value),i)},a.oninput=function(){d.value=this.value};var c=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,c,a,d);""!==l&&this.popupHistory[p]!==h&&(this.popupHistory[p]=h,this._setupPopup(l,p))}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=t,n.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"===(void 0===t?"undefined":(0,o.default)(t))?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var r=this;n.onchange=function(){r._update(this.checked,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}},{key:"_makeTextInput",value:function(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var o=this;n.onchange=function(){o._update(this.value,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}},{key:"_makeColorField",value:function(t,e,i){var n=this,o=t[1],r=document.createElement("div");"none"!==(e=void 0===e?o:e)?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=e):r.className="vis-configuration vis-config-colorBlock none",e=void 0===e?o:e,r.onclick=function(){n._showColorPicker(e,r,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_showColorPicker",value:function(t,e,i){var n=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var o="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=o,n._update(o,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){n._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,o=this.options.filter,r=!1;for(var s in t)if(t.hasOwnProperty(s)){n=!0;var a=t[s],h=l.copyAndExtendArray(e,s);if("function"==typeof o&&!1===(n=o(s,e))&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,h,!0),this.allowCreation=!1===i),!1!==n){r=!0;var d=this._getValue(h);if(a instanceof Array)this._handleArray(a,d,h);else if("string"==typeof a)this._makeTextInput(a,d,h);else if("boolean"==typeof a)this._makeCheckbox(a,d,h);else if(a instanceof Object){var u=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==s&&(u=!1),!0===u)if(void 0!==a.enabled){var c=l.copyAndExtendArray(h,"enabled"),p=this._getValue(c);if(!0===p){var f=this._makeLabel(s,h,!0);this._makeItem(h,f),r=this._handleObject(a,h)||r}else this._makeCheckbox(a,p,h)}else{var g=this._makeLabel(s,h,!0);this._makeItem(h,g),r=this._handleObject(a,h)||r}}else console.error("dont know how to handle",a,s,h)}}return r}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i;t="false"!==(t="true"===t||t)&&t;for(var o=0;o<e.length;o++)"global"!==e[o]&&(void 0===n[e[o]]&&(n[e[o]]={}),o!==e.length-1?n=n[e[o]]:n[e[o]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,n.default)(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e.default=d},function(t,e,i){var n,o=(n=i(6))&&n.__esModule?n:{default:n},r=i(14);function s(t,e){}function a(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}s.draw=function(t,e,i,n){n=n||0;for(var s=function(t,e){var i=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender),i}(i,e),l=0;l<t.length;l++)if(s){var h=s(t[l],e);!0!==h&&"object"!==(void 0===h?"undefined":(0,o.default)(h))||r.drawPoint(t[l].screen_x+n,t[l].screen_y,a(e,h),i.svgElements,i.svg,t[l].label)}else r.drawPoint(t[l].screen_x+n,t[l].screen_y,a(e),i.svgElements,i.svg,t[l].label)},s.drawIcon=function(t,e,i,n,o,s){var l=.5*o,h=r.getSVGElement("rect",s.svgElements,s.svg);h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",i-l),h.setAttributeNS(null,"width",n),h.setAttributeNS(null,"height",2*l),h.setAttributeNS(null,"class","vis-outline"),r.drawPoint(e+.5*n,i,a(t),s.svgElements,s.svg)},t.exports=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(23));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r));return a.labelOffset=0,a.selected=!1,a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*n}else t=this.imageObj.width,e=this.imageObj.height;this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,n){this.initContextForDraw(t,n),t.circle(e,i,n.size),this.performFill(t,n)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(t,i,this.left,this.top,this.width,this.height),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,n,o){var r,s=0;if(void 0!==this.height){s=.5*this.height;var a=this.labelModule.getTextSize(t,n,o);a.lineCount>=1&&(s+=a.height/2)}r=i+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,r,n,o,"hanging")}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(19)),o=l(i(6)),r=l(i(29)),s=l(i(0)),a=l(i(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=i(2),d=i(117).default,u=i(48).default,c=i(215).default,p=i(217).default,f=i(218).default,g=i(219).default,m=function(){function t(e,i,n,o){if((0,s.default)(this,t),void 0===i)throw new Error("No body provided");this.options=h.bridgeObject(n),this.globalOptions=n,this.defaultOptions=o,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new d(this.body,this.options,!0),this.setOptions(e)}return(0,a.default)(t,[{key:"setOptions",value:function(e){if(e){t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value)),this.chooser=u.choosify("edge",[e,this.options,this.defaultOptions]),this.updateLabelModule(e);var i=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(i=!0),i}}},{key:"getFormattingValues",value:function(){var t=this.options.color.inherit,e={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:t?void 0:this.options.color.color,inheritsColor:t,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var i=this.options.selectionWidth;"function"==typeof i?e.width=i(e.width):"number"==typeof i&&(e.width+=i),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.highlight,e.shadow=this.options.shadow.enabled}else if(this.hover){var n=this.options.hoverWidth;"function"==typeof n?e.width=n(e.width):"number"==typeof n&&(e.width+=n),e.width=Math.max(e.width,.3/this.body.view.scale),e.color=this.options.color.hover,e.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),void 0!==e.color&&(e.inheritsColor=!1),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0)));else e.shadow=this.options.shadow.enabled,e.width=Math.max(e.width,.3/this.body.view.scale);return e}},{key:"updateLabelModule",value:function(t){this.labelModule.update(this.options,[t,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof p&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof c&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof f&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof g&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new p(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===t.type?new c(this.options,this.body,this.labelModule):new f(this.options,this.body,this.labelModule):this.edgeType=new g(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(t,e,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+n*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(n.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core)),e.toArrow&&(n.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core)),e.middleArrow&&(n.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e)),this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawArrows(t,n,e),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t,e,i){i.fromArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.from),i.middleArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.middle),i.toArrow&&this.edgeType.drawArrowHead(t,i,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=n.id){this.labelModule.pointToSelf=!1;var o=this.edgeType.getPoint(.5,e);t.save();var r=this._getRotation(t);0!=r.angle&&(t.translate(r.x,r.y),t.rotate(r.angle)),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover),t.restore()}else{var s,a;this.labelModule.pointToSelf=!0;var l=this.options.selfReferenceSize;i.shape.width>i.shape.height?(s=i.x+.5*i.shape.width,a=i.y-l):(s=i.x+l,a=i.y-.5*i.shape.height),o=this._pointOnCircle(s,a,l,.125),this.labelModule.draw(t,o.x,o.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();u.pointInRect(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:t.x,top:t.y})&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return!!this.connected&&this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,t.left,t.top)<10}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var o=this.from.x-this.to.x,r=Math.atan2(this.from.y-this.to.y,o);return(r<-1&&o<0||r>0&&o<0)&&(r+=Math.PI),n.angle=r,n}},{key:"_pointOnCircle",value:function(t,e,i,n){var o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(h.selectiveDeepExtend(l,t,e,i),t.label=u.isValidLabel(e.label)?e.label:void 0,h.mergeOptions(t,e,"smooth",s),h.mergeOptions(t,e,"shadow",s),null!=e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=(0,r.default)(s.dashes)),null!=e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),h.mergeOptions(t.scaling,e.scaling,"label",s.scaling)):!0===i&&null===e.scaling&&(t.scaling=(0,r.default)(s.scaling)),null!=e.arrows)if("string"==typeof e.arrows){var d=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=d.indexOf("to"),t.arrows.middle.enabled=-1!=d.indexOf("middle"),t.arrows.from.enabled=-1!=d.indexOf("from")}else{if("object"!==(0,o.default)(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,n.default)(e.arrows));h.mergeOptions(t.arrows,e.arrows,"to",s.arrows),h.mergeOptions(t.arrows,e.arrows,"middle",s.arrows),h.mergeOptions(t.arrows,e.arrows,"from",s.arrows)}else!0===i&&null===e.arrows&&(t.arrows=(0,r.default)(s.arrows));if(null!=e.color){var c=e.color,p=t.color;if(a)h.deepExtend(p,s.color,!1,i);else for(var f in p)p.hasOwnProperty(f)&&delete p[f];if(h.isString(p))p.color=p,p.highlight=p,p.hover=p,p.inherit=!1,void 0===c.opacity&&(p.opacity=1);else{var g=!1;void 0!==c.color&&(p.color=c.color,g=!0),void 0!==c.highlight&&(p.highlight=c.highlight,g=!0),void 0!==c.hover&&(p.hover=c.hover,g=!0),void 0!==c.inherit&&(p.inherit=c.inherit),void 0!==c.opacity&&(p.opacity=Math.min(1,Math.max(0,c.opacity))),!0===g?p.inherit=!1:void 0===p.inherit&&(p.inherit="from")}}else!0===i&&null===e.color&&(t.color=h.bridgeObject(s.color));!0===i&&null===e.font&&(t.font=h.bridgeObject(s.font))}}]),t}();e.default=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(118));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),s=10,a=0,l=0,h=1,d=.2,u=this.to,c=!1;for(t.id===this.from.id&&(u=this.from,c=!0);l<=h&&a<s;){var p=.5*(l+h);if(i=this.getPoint(p,r),n=Math.atan2(u.y-i.y,u.x-i.x),o=u.distanceToBorder(e,n)-Math.sqrt(Math.pow(i.x-u.x,2)+Math.pow(i.y-u.y,2)),Math.abs(o)<d)break;o<0?!1===c?l=p:h=p:!1===c?h=p:l=p,a++}return i.t=p,i}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,o,r,s){var a=1e9,l=void 0,h=void 0,d=void 0,u=void 0,c=void 0,p=t,f=e;for(h=1;h<10;h++)d=.1*h,u=Math.pow(1-d,2)*t+2*d*(1-d)*s.x+Math.pow(d,2)*i,c=Math.pow(1-d,2)*e+2*d*(1-d)*s.y+Math.pow(d,2)*n,h>0&&(a=(l=this._getDistanceToLine(p,f,u,c,o,r))<a?l:a),p=u,f=c;return a}},{key:"_bezierCurve",value:function(t,e,i,n){var o=void 0!==i&&void 0!==i.x,r=void 0!==n&&void 0!==n.x;t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),o&&r?t.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):o?t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=function(){function t(){(0,n.default)(this,t)}return(0,o.default)(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)r>(e=t[i[a]]).shape.boundingBox.left&&(r=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),n>e.shape.boundingBox.top&&(n=e.shape.boundingBox.top),o<e.shape.boundingBox.bottom&&(o=e.shape.boundingBox.bottom);return 1e9===r&&-1e9===s&&1e9===n&&-1e9===o&&(n=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:n,maxY:o}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=1e9,o=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)r>(e=t[i[a]]).x&&(r=e.x),s<e.x&&(s=e.x),n>e.y&&(n=e.y),o<e.y&&(o=e.y);return 1e9===r&&-1e9===s&&1e9===n&&-1e9===o&&(n=0,o=0,r=0,s=0),{minX:r,maxX:s,minY:n,maxY:o}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(s.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):s.deepExtend(i,t.options,!0),i}}]),t}();e.default=a},function(t,e,i){t.exports={default:i(124),__esModule:!0}},function(t,e,i){var n=i(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(52),o=i(17),r=i(83),s=i(26),a=i(22),l=i(31),h=i(129),d=i(59),u=i(85),c=i(13)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,i,g,m,v,y){h(i,e,g);var b,w,x,_=function(t){if(!p&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},E=e+" Iterator",k="values"==m,S=!1,C=t.prototype,T=C[c]||C["@@iterator"]||m&&C[m],M=T||_(m),D=m?k?_("entries"):M:void 0,O="Array"==e&&C.entries||T;if(O&&(x=u(O.call(new t)))!==Object.prototype&&x.next&&(d(x,E,!0),n||a(x,c)||s(x,c,f)),k&&T&&"values"!==T.name&&(S=!0,M=function(){return T.call(this)}),n&&!y||!p&&!S&&C[c]||s(C,c,M),l[e]=M,l[E]=f,m)if(b={values:k?M:_("values"),keys:v?M:_("keys"),entries:D},y)for(w in b)w in C||r(C,w,b[w]);else o(o.P+o.F*(p||S),e,b);return b}},function(t,e,i){var n=i(128);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){t.exports=!i(21)&&!i(28)(function(){return 7!=Object.defineProperty(i(82)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(32),o=i(18).document,r=n(o)&&n(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,i){t.exports=i(26)},function(t,e,i){var n=i(22),o=i(25),r=i(131)(!1),s=i(56)("IE_PROTO");t.exports=function(t,e){var i,a=o(t),l=0,h=[];for(i in a)i!=s&&n(a,i)&&h.push(i);for(;e.length>l;)n(a,i=e[l++])&&(~r(h,i)||h.push(i));return h}},function(t,e,i){var n=i(22),o=i(41),r=i(56)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,i){var n=i(50),o=i(13)("toStringTag"),r="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(i){}}(e=Object(t),o))?i:r?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){var n=i(17),o=i(7),r=i(28);t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],s={};s[t]=e(i),n(n.S+n.F*r(function(){i(1)}),"Object",s)}},function(t,e,i){var n=i(84),o=i(58).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,i){var n=i(42),o=i(39),r=i(25),s=i(53),a=i(22),l=i(81),h=Object.getOwnPropertyDescriptor;e.f=i(21)?h:function(t,e){if(t=r(t),e=s(e,!0),l)try{return h(t,e)}catch(i){}if(a(t,e))return o(!n.f.call(t,e),t[e])}},function(t,e,i){t.exports={default:i(162),__esModule:!0}},function(t,e,i){t.exports=function(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}},function(t,e,i){var n=i(2);function o(t,e){if(void 0===t)throw new Error("No container element defined");if(this.container=t,this.visible=!e||null==e.visible||e.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}o.prototype.prev=function(){var t=this.getIndex();t>0&&this.setIndex(--t)},o.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&this.setIndex(++t)},o.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?this.setIndex(++e):this.playLoop&&this.setIndex(e=0);var i=new Date,n=Math.max(this.playInterval-(i-t),0),o=this;this.playTimeout=setTimeout(function(){o.playNext()},n)},o.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},o.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},o.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},o.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},o.prototype.setPlayInterval=function(t){this.playInterval=t},o.prototype.getPlayInterval=function(){return this.playInterval},o.prototype.setPlayLoop=function(t){this.playLoop=t},o.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},o.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},o.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},o.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t,this.redraw(),this.onChange()},o.prototype.getIndex=function(){return this.index},o.prototype.get=function(){return this.values[this.index]},o.prototype._onMouseDown=function(t){if(t.which?1===t.which:1===t.button){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},n.addEventListener(document,"mousemove",this.onmousemove),n.addEventListener(document,"mouseup",this.onmouseup),n.preventDefault(t)}},o.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=Math.round((t-3)/e*(this.values.length-1));return i<0&&(i=0),i>this.values.length-1&&(i=this.values.length-1),i},o.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return t/(this.values.length-1)*e+3},o.prototype._onMouseMove=function(t){var e=this.leftToIndex(this.startSlideX+(t.clientX-this.startClientX));this.setIndex(e),n.preventDefault()},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",n.removeEventListener(document,"mousemove",this.onmousemove),n.removeEventListener(document,"mouseup",this.onmouseup),n.preventDefault()},t.exports=o},function(t,e,i){function n(t,e,i,n){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,n)}n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},n.prototype.setRange=function(t,e,i,n){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0,this._end=e||0,this.setStep(i,n)},n.prototype.setStep=function(t,e){void 0===t||t<=0||(void 0!==e&&(this.prettyStep=e),this._step=!0===this.prettyStep?n.calculatePrettyStep(t):t)},n.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),n=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5))),r=i;return Math.abs(n-t)<=Math.abs(r-t)&&(r=n),Math.abs(o-t)<=Math.abs(r-t)&&(r=o),r<=0&&(r=1),r},n.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},n.prototype.getStep=function(){return this._step},n.prototype.start=function(t){void 0===t&&(t=!1),this._current=this._start-this._start%this._step,t&&this.getCurrent()<this._start&&this.next()},n.prototype.next=function(){this._current+=this._step},n.prototype.end=function(){return this._current>this._end},t.exports=n},function(t,e,i){var n,o=(n=i(6))&&n.__esModule?n:{default:n},r=i(2),s=i(95),a=i(34),l={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},h={dot:l.DOT,"dot-line":l.DOTLINE,"dot-color":l.DOTCOLOR,"dot-size":l.DOTSIZE,line:l.LINE,grid:l.GRID,surface:l.SURFACE,bar:l.BAR,"bar-color":l.BARCOLOR,"bar-size":l.BARSIZE},d=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],u=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],c=void 0;function p(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function f(t,e){return void 0===t||""===t?e:t+(void 0===(i=e)||""===i||"string"!=typeof i?i:i.charAt(0).toUpperCase()+i.slice(1));var i}function g(t,e,i,n){for(var o,r=0;r<i.length;++r)e[f(n,o=i[r])]=t[o]}function m(t,e,i,n){for(var o,r=0;r<i.length;++r)void 0!==t[o=i[r]]&&(e[f(n,o)]=t[o])}function v(t,e){void 0!==t.backgroundColor&&function(t,e){var i="white",n="gray",r=1;if("string"==typeof t)i=t,n="none",r=0;else{if("object"!==(void 0===t?"undefined":(0,o.default)(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(i=t.fill),void 0!==t.stroke&&(n=t.stroke),void 0!==t.strokeWidth&&(r=t.strokeWidth)}e.frame.style.backgroundColor=i,e.frame.style.borderColor=n,e.frame.style.borderWidth=r+"px",e.frame.style.borderStyle="solid"}(t.backgroundColor,e),function(t,e){void 0!==t&&(void 0===e.dataColor&&(e.dataColor={}),"string"==typeof t?(e.dataColor.fill=t,e.dataColor.stroke=t):(t.fill&&(e.dataColor.fill=t.fill),t.stroke&&(e.dataColor.stroke=t.stroke),void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth)))}(t.dataColor,e),function(t,e){if(void 0!==t){var i,n;if("string"==typeof t){if(-1===(i=void 0===(n=h[t])?-1:n))throw new Error("Style '"+t+"' is invalid")}else{if(!function(t){var e=!1;for(var i in l)if(l[i]===t){e=!0;break}return e}(t))throw new Error("Style '"+t+"' is invalid");i=t}e.style=i}}(t.style,e),function(t,e){void 0===t?void 0===c.showLegend&&(e.showLegend=e.style===l.DOTCOLOR||e.style===l.DOTSIZE):e.showLegend=t}(t.showLegend,e),y(t.cameraPosition,e),void 0!==t.tooltip&&(e.showTooltip=t.tooltip),null!=t.onclick&&(e.onclick_callback=t.onclick),void 0!==t.tooltipStyle&&r.selectiveDeepExtend(["tooltipStyle"],e,t)}function y(t,e){var i=t;void 0!==i&&(void 0===e.camera&&(e.camera=new s),e.camera.setArmRotation(i.horizontal,i.vertical),e.camera.setArmLength(i.distance))}t.exports.STYLE=l,t.exports.setDefaults=function(t,e){if(void 0===t||p(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");c=t,g(t,e,d),g(t,e,u,"default"),v(t,e),e.margin=10,e.showGrayBottom=!1,e.showTooltip=!1,e.onclick_callback=null,e.eye=new a(0,0,-1)},t.exports.setOptions=function(t,e){if(void 0!==t){if(void 0===e)throw new Error("No dst passed");if(void 0===c||p(c))throw new Error("DEFAULTS not set for module Settings");m(t,e,d),m(t,e,u,"default"),v(t,e)}},t.exports.setCameraPosition=y},function(t,e,i){var n,o=(n=i(165))&&n.__esModule?n:{default:n},r=i(34);function s(){this.armLocation=new r,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new r,this.offsetMultiplier=.6,this.cameraLocation=new r,this.cameraRotation=new r(.5*Math.PI,0,0),this.calculateCameraOrientation()}s.prototype.setOffset=function(t,e){var i=Math.abs,n=o.default,r=this.armLength*this.offsetMultiplier;i(t)>r&&(t=n(t)*r),i(e)>r&&(e=n(e)*r),this.cameraOffset.x=t,this.cameraOffset.y=e,this.calculateCameraOrientation()},s.prototype.getOffset=function(){return this.cameraOffset},s.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},s.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},s.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},s.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},s.prototype.getArmLength=function(){return this.armLength},s.prototype.getCameraLocation=function(){return this.cameraLocation},s.prototype.getCameraRotation=function(){return this.cameraRotation},s.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x,e=this.cameraRotation.z,i=this.cameraOffset.x,n=this.cameraOffset.y,o=Math.sin,r=Math.cos;this.cameraLocation.x=this.cameraLocation.x+i*r(e)+n*-o(e)*r(t),this.cameraLocation.y=this.cameraLocation.y+i*o(e)+n*r(e)*r(t),this.cameraLocation.z=this.cameraLocation.z+n*o(t)},t.exports=s},function(t,e,i){var n=i(12);function o(t,e,i){this.dataGroup=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=t.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}o.prototype.isLoaded=function(){return this.loaded},o.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},o.prototype.getLabel=function(){return this.graph.filterLabel},o.prototype.getColumn=function(){return this.column},o.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},o.prototype.getValues=function(){return this.values},o.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]},o.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var o=new n(this.dataGroup.getDataSet(),{filter:function(t){return t[i.column]==i.value}}).get();e=this.dataGroup._getDataPoints(o),this.dataPoints[t]=e}return e},o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},o.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t,this.value=this.values[t]},o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var n=this;setTimeout(function(){n.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=o},function(t,e,i){var n=i(35),o=i(44),r=i(10),s=i(2);function a(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=r(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=n(),this.escListener=this.deactivate.bind(this)}o(a.prototype),a.current=null,a.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},a.prototype.activate=function(){a.current&&a.current.deactivate(),a.current=this,this.active=!0,this.dom.overlay.style.display="none",s.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},a.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",s.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},a.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=a},function(t,e,i){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.it={current:"attuale",time:"tempo"},e.it_IT=e.it,e.it_CH=e.it,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl,e.de={current:"Aktuelle",time:"Zeit"},e.de_DE=e.de,e.fr={current:"actuel",time:"heure"},e.fr_FR=e.fr,e.fr_CA=e.fr,e.fr_BE=e.fr,e.es={current:"corriente",time:"hora"},e.es_ES=e.es},function(t,e,i){var n=r(i(29)),o=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(10),a=i(2),l=i(11),h=i(12),d=i(66),u=i(16),c=i(68),p=i(69),f=i(101),g=i(102),m=i(70),v=i(103),y=i(104).default,b="__ungrouped__",w="__background__";function x(t,e){this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(t,e,i){var n=e.order;e.order=t.order,t.order=n},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:d.snap,onDropObjectOnItem:function(t,e,i){i(e)},onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=a.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){if(i._onAddGroups(e.items),i.groupsData&&i.groupsData.length>0){var o=i.groupsData.getDataSet();o.get().forEach(function(t){if(t.nestedGroups){0!=t.showNested&&(t.showNested=!0);var e=[];t.nestedGroups.forEach(function(i){var n=o.get(i);n&&(n.nestedInGroup=t.id,0==t.showNested&&(n.visible=!1),e=e.concat(n))}),o.update(e,n)}})}},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}x.prototype=new u,x.types={background:v,box:f,range:m,point:g},x.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;var o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();var r=new p(w,null,this);r.show(),this.groups[w]=r,this.hammer=new s(this.body.dom.centerContainer),this.hammer.on("hammer.input",(function(t){t.isFirst&&this._onTouch(t)}).bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new s(this.options.rtl?this.body.dom.rightContainer:this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:s.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},x.prototype.setOptions=function(t){if(t){a.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,t),"itemsAlwaysDraggable"in t&&("boolean"==typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,o.default)(t.itemsAlwaysDraggable)&&(a.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===(0,o.default)(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===(0,o.default)(t.margin)&&(a.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===(0,o.default)(t.margin.item)&&a.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"===(0,o.default)(t.editable)&&a.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===(0,o.default)(t.groupEditable)&&a.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));var e=(function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}).bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(e),this.markDirty()}},x.prototype.markDirty=function(t){this.groupIds=[],t&&t.refreshItems&&a.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},x.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},x.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},x.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},x.prototype.setSelection=function(t){var e,i,n,o;for(null==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;e<i;e++)(o=this.items[n=this.selection[e]])&&o.unselect();for(this.selection=[],e=0,i=t.length;e<i;e++)(o=this.items[n=t[e]])&&(this.selection.push(n),o.select())},x.prototype.getSelection=function(){return this.selection.concat([])},x.prototype.getVisibleItems=function(){var t,e,i=this.body.range.getRange();this.options.rtl?(t=this.body.util.toScreen(i.start),e=this.body.util.toScreen(i.end)):(e=this.body.util.toScreen(i.start),t=this.body.util.toScreen(i.end));var n=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var r=this.groups[o],s=r.isVisible?r.visibleItems:[],a=0;a<s.length;a++){var l=s[a];this.options.rtl?l.right<e&&l.right+l.width>t&&n.push(l.id):l.left<t&&l.left+l.width>e&&n.push(l.id)}return n},x.prototype._deselect=function(t){for(var e=this.selection,i=0,n=e.length;i<n;i++)if(e[i]==t){e.splice(i,1);break}},x.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=a.option.asSize,n=this.options,o=n.orientation.item,r=!1,s=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,s.className="vis-itemset",r=this._orderGroups()||r;var l=e.end-e.start,h=l!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth||e.start!=this.lastRangeStart||n.stack!=this.lastStack||n.stackSubgroups!=this.lastStackSubgroups;this.lastVisibleInterval=l,this.lastRangeStart=e.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;var d=this._firstGroup(),u={item:t.item,axis:t.axis},c={item:t.item,axis:t.item.vertical/2},p=0,f=t.axis+t.item.vertical;this.groups[w].redraw(e,c,h);var g={},m=0;if(a.forEach(this.groups,function(t,i){i!==w&&(g[i]=t.redraw(e,t==d?u:c,h,!0),m=g[i].length)}),m>0){for(var v={},y=0;y<m;y++)a.forEach(g,function(t,e){v[e]=t[y]()});a.forEach(this.groups,function(t,e){e!==w&&(r=v[e]||r,p+=t.height)}),p=Math.max(p,f)}return p=Math.max(p,f),s.style.height=i(p),this.props.width=s.offsetWidth,this.props.height=p,this.dom.axis.style.top=i("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,r=this._isResized()||r},x.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation.item?0:this.groupIds.length-1]]||this.groups[b]||null},x.prototype._updateUngrouped=function(){var t,e,i=this.groups[b];if(this.groupsData){if(i)for(e in i.hide(),delete this.groups[b],this.items)if(this.items.hasOwnProperty(e)){(t=this.items[e]).parent&&t.parent.remove(t);var n=this._getGroupId(t.data),o=this.groups[n];o&&o.add(t)||t.hide()}}else if(!i){for(e in i=new c(null,null,this),this.groups[b]=i,this.items)this.items.hasOwnProperty(e)&&i.add(t=this.items[e]);i.show()}},x.prototype.getLabelSet=function(){return this.dom.labelSet},x.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof l||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(a.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;a.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},x.prototype.getItems=function(){return this.itemsData},x.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(a.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof l||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.groupsData;this.groupsData instanceof h&&(n=this.groupsData.getDataSet()),n.get().forEach(function(t){t.nestedGroups&&t.nestedGroups.forEach(function(e){var i=n.get(e);i.nestedInGroup=t.id,0==t.showNested&&(i.visible=!1),n.update(i)})});var o=this.id;a.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},x.prototype.getGroups=function(){return this.groupsData},x.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},x.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},x.prototype._getGroupId=function(t){return"background"==this._getType(t)&&null==t.group?w:this.groupsData?t.group:b},x.prototype._onAdd=x.prototype._onUpdate=function(t){var e=this;t.forEach((function(t){var i,n=e.itemsData.get(t,e.itemOptions),o=e.items[t],r=n?e._getType(n):null,s=x.types[r];if(o&&(s&&o instanceof s?e._updateItem(o,n):(i=o.selected,e._removeItem(o),o=null)),!o&&n){if(!s)throw"rangeoverflow"==r?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+r+'"');(o=new s(n,e.conversion,e.options)).id=t,e._addItem(o),i&&(this.selection.push(t),o.select())}}).bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},x.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var n=i.items[t];n&&(e++,i._removeItem(n))}),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},x.prototype._order=function(){a.forEach(this.groups,function(t){t.order()})},x.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},x.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),o=e.groups[t];if(o)o.setData(i);else{if(t==b||t==w)throw new Error("Illegal group id. "+t+" is a reserved id.");var r=(0,n.default)(e.options);for(var s in a.extend(r,{height:null}),o=new c(t,i,e),e.groups[t]=o,e.items)if(e.items.hasOwnProperty(s)){var l=e.items[s];l.data.group==t&&o.add(l)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})},x.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},x.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!a.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},x.prototype._orderNestedGroups=function(t){var e=[];return t.forEach(function(t){var i=this.groupsData.get(t);if(i.nestedInGroup||e.push(t),i.nestedGroups){var n=this.groupsData.get({filter:function(e){return e.nestedInGroup==t},order:this.options.groupOrder}).map(function(t){return t.id});e=e.concat(n)}},this),e},x.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,i&&i.add(t)},x.prototype._updateItem=function(t,e){t.setData(e);var i=this._getGroupId(t.data),n=this.groups[i];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1},x.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},x.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof m&&e.push(t[i]);return e},x.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},x.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},x.prototype._onDragStart=function(t){if(!this.touchParams.itemIsDragging){var e,i=this.touchParams.item||null,n=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=i.editable&&!i.editable.updateTime&&!i.editable.updateGroup&&!this.options.editable.overrideItems)return;var o=this.touchParams.dragLeftItem,r=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=i,o)e={item:o,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(r)e={item:r,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var s=this._getGroupIndex(i.data.group),a=this.options.itemsAlwaysDraggable.item&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=a.map((function(e){var i=n.items[e],o=n._getGroupIndex(i.data.group);return{item:i,initialX:t.center.x,groupOffset:s-o,data:this._cloneItemData(i.data)}}).bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}},x.prototype._onDragStartAddItem=function(t){var e,i,n=this.options.snap||null;this.options.rtl?i=(e=a.getAbsoluteRight(this.dom.frame))-t.center.x+10:(e=a.getAbsoluteLeft(this.dom.frame),i=t.center.x-e-10);var o=this.body.util.toTime(i),r=this.body.util.getScale(),s=this.body.util.getStep(),l=n?n(o,r,s):o,h={type:"range",start:l,end:l,content:"new item"},d=a.randomUUID();h[this.itemsData._fieldId]=d;var u=this.groupFromTarget(t);u&&(h.group=u.groupId);var c=new m(h,this.conversion,this.options);c.id=d,c.data=this._cloneItemData(h),this._addItem(c),this.touchParams.selectedItem=c;var p={item:c,initialX:t.center.x,data:c.data};this.options.rtl?p.dragLeft=!0:p.dragRight=!0,this.touchParams.itemProps=[p],t.stopPropagation()},x.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e,i=this,n=this.options.snap||null;e=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var o=this.body.util.getScale(),r=this.body.util.getStep(),s=this.touchParams.selectedItem,l=(this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateGroup,h=null;if(l&&s&&null!=s.data.group){var d=i.groupFromTarget(t);d&&(h=this._getGroupIndex(d.groupId))}this.touchParams.itemProps.forEach((function(d){var u,c,p,f,g,m=i.body.util.toTime(t.center.x-e),v=i.body.util.toTime(d.initialX-e);u=this.options.rtl?-(m-v):m-v;var y=this._cloneItemData(d.item.data);if(null==d.item.editable||d.item.editable.updateTime||d.item.editable.updateGroup||i.options.editable.overrideItems){if((this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateTime)if(d.dragLeft)this.options.rtl?null!=y.end&&(p=a.convert(d.data.end,"Date"),g=new Date(p.valueOf()+u),y.end=n?n(g,o,r):g):null!=y.start&&(c=a.convert(d.data.start,"Date"),f=new Date(c.valueOf()+u),y.start=n?n(f,o,r):f);else if(d.dragRight)this.options.rtl?null!=y.start&&(c=a.convert(d.data.start,"Date"),f=new Date(c.valueOf()+u),y.start=n?n(f,o,r):f):null!=y.end&&(p=a.convert(d.data.end,"Date"),g=new Date(p.valueOf()+u),y.end=n?n(g,o,r):g);else if(null!=y.start)if(c=a.convert(d.data.start,"Date").valueOf(),f=new Date(c+u),null!=y.end){var b=(p=a.convert(d.data.end,"Date")).valueOf()-c.valueOf();y.start=n?n(f,o,r):f,y.end=new Date(y.start.valueOf()+b)}else y.start=n?n(f,o,r):f;if(l&&!d.dragLeft&&!d.dragRight&&null!=h&&null!=y.group){var w=h-d.groupOffset;w=Math.max(0,w),w=Math.min(i.groupIds.length-1,w),y.group=i.groupIds[w]}y=this._cloneItemData(y),i.options.onMoving(y,(function(t){t&&d.item.setData(this._cloneItemData(t,"Date"))}).bind(this))}}).bind(this)),this.body.emitter.emit("_change")}},x.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var n=t.parent;n.remove(t),n.order(),t.data.group=i.groupId,i.add(t),i.order()}},x.prototype._onDragEnd=function(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.itemsData.getDataSet(),n=this.touchParams.itemProps;this.touchParams.itemProps=null,n.forEach((function(t){var n=t.item.id;if(null!=e.itemsData.get(n,e.itemOptions)){var o=this._cloneItemData(t.item.data);e.options.onMove(o,function(o){o?(o[i._fieldId]=n,i.update(o)):(t.item.setData(t.data),e.body.emitter.emit("_change"))})}else e.options.onAdd(t.item.data,function(i){e._removeItem(t.item),i&&e.itemsData.getDataSet().add(i),e.body.emitter.emit("_change")})}).bind(this))}},x.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(e&&e.nestedGroups){var i=this.groupsData.getDataSet(),n=i.get(e.groupId);null==n.showNested&&(n.showNested=!0),n.showNested=!n.showNested;var o=i.get(e.nestedGroups).map(function(t){return t.visible=n.showNested,t});i.update(o.concat(n)),n.showNested?(a.removeClassName(e.dom.label,"collapsed"),a.addClassName(e.dom.label,"expanded")):(a.removeClassName(e.dom.label,"expanded"),a.addClassName(e.dom.label,this.options.rtl?"collapsed-rtl":"collapsed"))}},x.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},x.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof h&&(e=this.groupsData.getDataSet());var i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){var n=i.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,r=a.getAbsoluteTop(i.dom.foreground),s=this.groupTouchParams.group.height;if(n){if(r+s<o)return}else if(r+i.height-s>o)return}if(i&&i!=this.groupTouchParams.group){var l=e.get(i.groupId),d=e.get(this.groupTouchParams.group.groupId);d&&l&&(this.options.groupOrderSwap(d,l,e),e.update(d),e.update(l));var u=e.getIds({order:this.options.groupOrder});if(!a.equalArray(u,this.groupTouchParams.originalOrder))for(var c=this.groupTouchParams.originalOrder,p=this.groupTouchParams.group.groupId,f=Math.min(c.length,u.length),g=0,m=0,v=0;g<f;){for(;g+m<f&&g+v<f&&u[g+m]==c[g+v];)g++;if(g+m>=f)break;if(u[g+m]==p)m=1;else if(c[g+v]==p)v=1;else{var y=u.indexOf(c[g+v]),b=e.get(u[g+m]),w=e.get(c[g+v]);this.options.groupOrderSwap(b,w,e),e.update(b),e.update(w);var x=u[g+m];u[g+m]=c[g+v],u[y]=x,g++}}}}},x.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,i=e.groupTouchParams.group.groupId,n=e.groupsData.getDataSet(),o=a.extend({},n.get(i));e.options.onMoveGroup(o,function(t){if(t)t[n._fieldId]=i,n.update(t);else{var o=n.getIds({order:e.options.groupOrder});if(!a.equalArray(o,e.groupTouchParams.originalOrder))for(var r=e.groupTouchParams.originalOrder,s=Math.min(r.length,o.length),l=0;l<s;){for(;l<s&&o[l]==r[l];)l++;if(l>=s)break;var h=o.indexOf(r[l]),d=n.get(o[l]),u=n.get(r[l]);e.options.groupOrderSwap(d,u,n),n.update(d),n.update(u);var c=o[l];o[l]=r[l],o[h]=c,l++}}}),e.body.emitter.emit("groupDragged",{groupId:i})}},x.prototype._onSelectItem=function(t){if(this.options.selectable)if(t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)||t.srcEvent&&t.srcEvent.shiftKey)this._onMultiSelectItem(t);else{var e=this.getSelection(),i=this.itemFromTarget(t);this.setSelection(i?[i.id]:[]);var n=this.getSelection();(n.length>0||e.length>0)&&this.body.emitter.emit("select",{items:n,event:t})}},x.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(e&&e!==this.itemFromRelatedTarget(t)){var i=e.getTitle();if(this.options.showTooltips&&i){null==this.popup&&(this.popup=new y(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);var n=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-a.getAbsoluteLeft(n)+n.offsetLeft,t.clientY-a.getAbsoluteTop(n)+n.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}},x.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);e&&e!==this.itemFromRelatedTarget(t)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))},x.prototype._onMouseMove=function(t){if(this.itemFromTarget(t)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var e=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-a.getAbsoluteLeft(e)+e.offsetLeft,t.clientY-a.getAbsoluteTop(e)+e.offsetTop),this.popup.show()}},x.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)},x.prototype._onUpdateItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this;if(t){var i=e.itemsData.get(t.id);this.options.onUpdate(i,function(t){t&&e.itemsData.getDataSet().update(t)})}}},x.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t),i=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,e)},x.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e,i,n=this,o=this.options.snap||null;this.options.rtl?i=(e=a.getAbsoluteRight(this.dom.frame))-t.center.x:(e=a.getAbsoluteLeft(this.dom.frame),i=t.center.x-e);var r,s,l=this.body.util.toTime(i),h=this.body.util.getScale(),d=this.body.util.getStep();"drop"==t.type?((s=JSON.parse(t.dataTransfer.getData("text"))).content=s.content?s.content:"new item",s.start=s.start?s.start:o?o(l,h,d):l,s.type=s.type||"box",s[this.itemsData._fieldId]=s.id||a.randomUUID(),"range"!=s.type||s.end||(r=this.body.util.toTime(i+this.props.width/5),s.end=o?o(r,h,d):r)):((s={start:o?o(l,h,d):l,content:"new item"})[this.itemsData._fieldId]=a.randomUUID(),"range"===this.options.type&&(r=this.body.util.toTime(i+this.props.width/5),s.end=o?o(r,h,d):r));var u=this.groupFromTarget(t);u&&(s.group=u.groupId),s=this._cloneItemData(s),this.options.onAdd(s,function(e){e&&(n.itemsData.getDataSet().add(e),"drop"==t.type&&n.setSelection([e.id]))})}},x.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[];if(t.srcEvent&&t.srcEvent.shiftKey&&this.options.multiselect){var n=this.itemsData.get(e.id).group,o=void 0;this.options.multiselectPerGroup&&i.length>0&&(o=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&null!=o&&o!=n||i.push(e.id);var r=x._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||o==n)for(var s in i=[],this.items)if(this.items.hasOwnProperty(s)){var a=this.items[s],l=a.data.start;!(l>=r.min&&(void 0!==a.data.end?a.data.end:l)<=r.max)||this.options.multiselectPerGroup&&o!=this.itemsData.get(a.id).group||a instanceof v||i.push(a.id)}}else{var h=i.indexOf(e.id);-1==h?i.push(e.id):i.splice(h,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},x._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},x.prototype.itemFromElement=function(t){for(var e=t;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},x.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)},x.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)},x.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY,i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var n=0;n<i.length;n++){var o=this.groups[i[n]],r=o.dom.foreground,s=a.getAbsoluteTop(r);if(e>s&&e<s+r.offsetHeight)return o;if("top"===this.options.orientation.item){if(n===this.groupIds.length-1&&e>s)return o}else if(0===n&&e<s+r.offset)return o}return null},x.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},x.prototype._cloneItemData=function(t,e){var i=a.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),null!=i.start&&(i.start=a.convert(i.start,e&&e.start||"Date")),null!=i.end&&(i.end=a.convert(i.end,e&&e.end||"Date")),i},t.exports=x},function(t,e,i){e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})},e.stack=function(t,i,n){if(n)for(var o=0;o<t.length;o++)t[o].top=null;for(o=0;o<t.length;o++){var r=t[o];if(r.stack&&null===r.top){r.top=i.axis;do{for(var s=null,a=0,l=t.length;a<l;a++){var h=t[a];if(null!==h.top&&h!==r&&h.stack&&e.collision(r,h,i.item,h.options.rtl)){s=h;break}}null!=s&&(r.top=s.top+s.height+i.item.vertical)}while(s)}}},e.substack=function(t,i,n){for(var o=0;o<t.length;o++)t[o].top=null;var r=n.height;for(o=0;o<t.length;o++){var s=t[o];if(s.stack&&null===s.top){s.top=s.baseTop;do{for(var a=null,l=0,h=t.length;l<h;l++){var d=t[l];if(null!==d.top&&d!==s&&e.collision(s,d,i.item,d.options.rtl)){a=d;break}}null!=a&&(s.top=a.top+a.height+i.item.vertical),s.top+s.height>r&&(r=s.top+s.height)}while(a)}}n.height=r-n.top+.5*i.item.vertical},e.nostack=function(t,i,n,o){for(var r=0;r<t.length;r++)if(null==t[r].data.subgroup)t[r].top=i.item.vertical;else if(void 0!==t[r].data.subgroup&&o){var s=0;for(var a in n)n.hasOwnProperty(a)&&1==n[a].visible&&n[a].index<n[t[r].data.subgroup].index&&(n[t[r].data.subgroup].top=s+=n[a].height);t[r].top=s+.5*i.item.vertical}o||e.stackSubgroups(t,i,n)},e.stackSubgroups=function(t,i,n){for(var o in n)if(n.hasOwnProperty(o)){n[o].top=0;do{var r=null;for(var s in n)if(null!==n[s].top&&s!==o&&n[o].index>n[s].index&&e.collisionByTimes(n[o],n[s])){r=n[s];break}null!=r&&(n[o].top=r.top+r.height)}while(r)}for(var a=0;a<t.length;a++)void 0!==t[a].data.subgroup&&(t[a].top=n[t[a].data.subgroup].top+.5*i.item.vertical)},e.stackSubgroupsWithInnerStack=function(t,i,n){var o=!1,r=[];for(var s in n)n[s].hasOwnProperty("index")?r[n[s].index]=s:r.push(s);for(var a=0;a<r.length;a++)if(n.hasOwnProperty(s=r[a])){for(var l in o=o||n[s].stack,n[s].top=0,n)n[l].visible&&n[s].index>n[l].index&&(n[s].top+=n[l].height);for(var h=t[s],d=0;d<h.length;d++)void 0!==h[d].data.subgroup&&(h[d].top=n[h[d].data.subgroup].top+.5*i.item.vertical,n[s].stack&&(h[d].baseTop=h[d].top));o&&n[s].stack&&e.substack(t[s],i,n[s])}},e.collision=function(t,e,i,n){return n?t.right-i.horizontal+.001<e.right+e.width&&t.right+t.width+i.horizontal-.001>e.right&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top:t.left-i.horizontal+.001<e.left+e.width&&t.left+t.width+i.horizontal-.001>e.left&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top},e.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,i){var n=i(38);function o(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}(o.prototype=new n(null,null,null)).isVisible=function(t){var e=this.options.align,i=this.width*t.getMillisecondsPerPixel();return"right"==e?this.data.start.getTime()>t.start&&this.data.start.getTime()-i<t.end:"left"==e?this.data.start.getTime()+i>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+i/2>t.start&&this.data.start.getTime()-i/2<t.end},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var i=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");i.appendChild(this.dom.dot)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+t,this.dom.line.className="vis-item vis-line"+t,this.dom.dot.className="vis-item vis-dot"+t}},o.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},o.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},o.prototype.repositionY=function(){var t=this.dom.box,e=this.dom.line,i=this.dom.dot;if("top"==this.options.orientation.item)t.style.top=(this.top||0)+"px",e.style.top="0",e.style.height=this.parent.top+this.top+1+"px",e.style.bottom="";else{var n=this.parent.itemSet.props.height,o=n-this.parent.top-this.parent.height+this.top;t.style.top=(this.parent.height-this.top-this.height||0)+"px",e.style.top=n-o+"px",e.style.bottom="0"}i.style.top=-this.props.dot.height/2+"px"},o.prototype.getWidthLeft=function(){return this.width/2},o.prototype.getWidthRight=function(){return this.width/2},t.exports=o},function(t,e,i){var n=i(38);function o(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&null==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}(o.prototype=new n(null,null,null)).isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end},o.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},o.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0},o.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+t,this.dom.dot.className="vis-item vis-dot"+t}},o.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},o.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},o.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},o.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},o.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},o.prototype.getWidthLeft=function(){return this.props.dot.width},o.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=o},function(t,e,i){var n=i(38),o=i(69),r=i(70);function s(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(null==t.start)throw new Error('Property "start" missing in item '+t.id);if(null==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}(s.prototype=new n(null,null,null)).baseClassName="vis-item vis-background",s.prototype.stack=!1,s.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},s.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},s.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0},s.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""))},s.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},s.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1},s.prototype._repaintDomAdditionals=function(){},s.prototype.redraw=function(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}).bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach(function(t){i=t()}),i)},s.prototype.show=r.prototype.show,s.prototype.hide=r.prototype.hide,s.prototype.repositionX=r.prototype.repositionX,s.prototype.repositionY=function(t){var e,i=this.options.orientation.item;if(void 0!==this.data.subgroup){var n=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[n].height+"px",this.dom.box.style.top="top"==i?this.parent.top+this.parent.subgroups[n].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof o?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==i?"0":"",this.dom.box.style.top="top"==i?"0":""):(e=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=e+"px"},t.exports=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,i){(0,n.default)(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,o.default)(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,r=0,s=0;if("flip"==this.overflowMethod){var a=!1,l=!0;this.y-e<this.padding&&(l=!1),this.x+i>o-this.padding&&(a=!0),r=a?this.x-i:this.x,s=l?this.y-e:this.y}else(s=this.y-e)+e+this.padding>n&&(s=n-e-this.padding),s<this.padding&&(s=this.padding),(r=this.x)+i+this.padding>o&&(r=o-i-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="object";e.allOptions={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:o,function:"function"}},align:{string:n},rtl:{boolean:o,undefined:"undefined"},rollingMode:{follow:{boolean:o},offset:{number:r,undefined:"undefined"},__type__:{object:s}},verticalScroll:{boolean:o,undefined:"undefined"},horizontalScroll:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},throttleRedraw:{number:r},clickToUse:{boolean:o},dataAttributes:{string:n,array:"array"},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},overrideItems:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},end:{number:r,date:"date",string:n,moment:"moment"},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},week:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s,function:"function"}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},week:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s,function:"function"}},__type__:{object:s}},moment:{function:"function"},groupOrder:{string:n,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},groupOrderSwap:{function:"function"},height:{string:n,number:r},hiddenDates:{start:{date:"date",number:r,string:n,moment:"moment"},end:{date:"date",number:r,string:n,moment:"moment"},repeat:{string:n},__type__:{object:s,array:"array"}},itemsAlwaysDraggable:{item:{boolean:o,undefined:"undefined"},range:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:s}},limitSize:{boolean:o},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:s}},margin:{axis:{number:r},item:{horizontal:{number:r,undefined:"undefined"},vertical:{number:r,undefined:"undefined"},__type__:{object:s,number:r}},__type__:{object:s,number:r}},max:{date:"date",number:r,string:n,moment:"moment"},maxHeight:{number:r,string:n},maxMinorChars:{number:r},min:{date:"date",number:r,string:n,moment:"moment"},minHeight:{number:r,string:n},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:n,undefined:"undefined"},item:{string:n,undefined:"undefined"},__type__:{string:n,object:s}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},stackSubgroups:{boolean:o},snap:{function:"function",null:"null"},start:{date:"date",number:r,string:n,moment:"moment"},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:n,function:"function"},showTooltips:{boolean:o},tooltip:{followMouse:{boolean:o},overflowMethod:{string:["cap","flip"]},__type__:{object:s}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:o,object:s}},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:s}},type:{string:n},width:{string:n,number:r},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:s}},e.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(t,e,i){var n,o=(n=i(6))&&n.__esModule?n:{default:n},r=i(2),s=i(14),a=i(11),l=i(12),h=i(16),d=i(107),u=i(109),c=i(112),p=i(110),f=i(111),g=i(72);function m(t,e){this.id=r.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=r.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){i._onAddGroups(e.items)},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=r.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(m.prototype=new h)._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new d(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new d(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new c(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new c(this.body,this.options.legend,"right",this.options.groups),this.show()},m.prototype.setOptions=function(t){t&&(void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),r.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),r.mergeOptions(this.options,t,"interpolation"),r.mergeOptions(this.options,t,"drawPoints"),r.mergeOptions(this.options,t,"shaded"),r.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==(0,o.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(t)),this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},m.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},m.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},m.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!(t instanceof a||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(n&&(r.forEach(this.itemListeners,function(t,e){n.off(e,t)}),e=n.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;r.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e)}},m.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){r.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<e.length;n++)this._removeGroup(e[n])}if(t){if(!(t instanceof a||t instanceof l))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;r.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},m.prototype._onUpdate=function(t){this._updateAllGroupData(t)},m.prototype._onAdd=function(t){this._onUpdate(t)},m.prototype._onRemove=function(t){this._onUpdate(t)},m.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},m.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},m.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},m.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},m.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new u(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},m.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var i={},n=this.itemsData.get(),o=this.itemsData._fieldId,s={};t&&t.map(function(t){s[t]=t});for(var a={},l=0;l<n.length;l++){var h=n[l],d=h.group;null==d&&(d="__ungrouped__"),a.hasOwnProperty(d)?a[d]++:a[d]=1}var u={};if(!e&&t)for(d in this.groups)if(this.groups.hasOwnProperty(d)){var c=(m=this.groups[d]).getItems();i[d]=c.filter(function(t){return u[t[o]]=t[o],t[o]!==s[t[o]]});var p=a[d];a[d]-=i[d].length,i[d].length<p&&(i[d][p-1]={})}for(l=0;l<n.length;l++)if(null==(d=(h=n[l]).group)&&(d="__ungrouped__"),e||!t||h[o]===s[h[o]]||!u.hasOwnProperty(h[o])){i.hasOwnProperty(d)||(i[d]=new Array(a[d]));var f=r.bridgeObject(h);f.x=r.convert(h.x,"Date"),f.end=r.convert(h.end,"Date"),f.orginalY=h.y,f.y=Number(h.y),f[o]=h[o];var g=i[d].length-a[d]--;i[d][g]=f}for(d in this.groups)this.groups.hasOwnProperty(d)&&(i.hasOwnProperty(d)||(i[d]=new Array(0)));for(d in i)if(i.hasOwnProperty(d))if(0==i[d].length)this.groups.hasOwnProperty(d)&&this._removeGroup(d);else{var m=void 0;null!=this.groupsData&&(m=this.groupsData.get(d)),null==m&&(m={id:d,content:this.options.defaultGroup+d}),this._updateGroup(m,d),this.groups[d].setItems(i[d])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},m.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;return this.lastVisibleInterval=e,1==t&&(this.svg.style.width=r.option.asSize(3*this.props.width),this.svg.style.left=r.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(t=this._updateGraph()||t,this.forceGraphUpdate=!1):0!=this.lastStart&&0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/(this.body.range.end-this.body.range.start)*(this.body.range.start-this.lastStart)+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),t},m.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}r.insertSort(t,function(t,e){var i=t.zIndex,n=e.zIndex;return void 0===i&&(i=0),void 0===n&&(n=0),i==n?0:i<n?-1:1});for(var n=new Array(t.length),o=0;o<t.length;o++)n[o]=t[o].id;return n},m.prototype._updateGraph=function(){if(s.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},n=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),r=this._getSortedGroupIds();if(r.length>0){var a={};for(this._getRelevantData(r,a,n,o),this._applySampling(r,a),e=0;e<r.length;e++)this._convertXcoordinates(a[r[e]]);if(this._getYRanges(r,a,i),1==this._updateYAxis(r,i))return s.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var l=void 0;for(e=0;e<r.length;e++)t=this.groups[r[e]],!0===this.options.stack&&"line"===this.options.style&&(null!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(null!=l&&(this._stack(a[t.id],a[l.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==l.options.shaded.orientation?(l.options.shaded.orientation="group",l.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=l.id))),l=t)),this._convertYcoordinates(a[r[e]],t);var h={};for(e=0;e<r.length;e++)if("line"===(t=this.groups[r[e]]).options.style&&1==t.options.shaded.enabled){var d=a[r[e]];if(null==d||0==d.length)continue;if(h.hasOwnProperty(r[e])||(h[r[e]]=f.calcPath(d,t)),"group"===t.options.shaded.orientation){var u=t.options.shaded.groupId;if(-1===r.indexOf(u)){console.log(t.id+": Unknown shading group target given:"+u);continue}h.hasOwnProperty(u)||(h[u]=f.calcPath(a[u],this.groups[u])),f.drawShading(h[r[e]],t,h[u],this.framework)}else f.drawShading(h[r[e]],t,void 0,this.framework)}for(p.draw(r,a,this.framework),e=0;e<r.length;e++)if(t=this.groups[r[e]],a[r[e]].length>0)switch(t.options.style){case"line":h.hasOwnProperty(r[e])||(h[r[e]]=f.calcPath(a[r[e]],t)),f.draw(h[r[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||g.draw(a[r[e]],t,this.framework)}}}return s.cleanupElements(this.svgElements),!1},m.prototype._stack=function(t,e){var i,n,o,r;i=0;for(var s=0;s<t.length;s++){o=void 0,r=void 0;for(var a=i;a<e.length;a++){if(e[a].x===t[s].x){o=e[a],r=e[a],i=a;break}if(e[a].x>t[s].x){r=e[a],o=0==a?r:e[a-1],i=a;break}}void 0===r&&(o=e[e.length-1],r=e[e.length-1]),t[s].y=0==(n=r.x-o.x)?t[s].orginalY+r.y:t[s].orginalY+(r.y-o.y)/n*(t[s].x-o.x)+o.y}},m.prototype._getRelevantData=function(t,e,i,n){var o,s,a;if(t.length>0)for(s=0;s<t.length;s++){var l=(o=this.groups[t[s]]).getItems();if(1==o.options.sort){var h=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},d=Math.max(0,r.binarySearchValue(l,i,"x","before",h)),u=Math.min(l.length,r.binarySearchValue(l,n,"x","after",h)+1);u<=0&&(u=l.length);var c=new Array(u-d);for(a=d;a<u;a++)c[a-d]=o.itemsData[a];e[t[s]]=c}else e[t[s]]=o.itemsData}},m.prototype._applySampling=function(t,e){if(t.length>0)for(var i=0;i<t.length;i++)if(1==this.groups[t[i]].options.sampling){var n=e[t[i]];if(n.length>0){var o,r=n.length,s=r/(this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x));o=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(s)));for(var a=new Array(r),l=0;l<r;l+=o)a[Math.round(l/o)]=n[l];e[t[i]]=a.splice(0,Math.round(r/o))}}},m.prototype._getYRanges=function(t,e,i){var n,o,r,s,a=[],l=[];if(t.length>0){for(r=0;r<t.length;r++)s=this.groups[t[r]].options,(n=e[t[r]]).length>0&&(o=this.groups[t[r]],!0===s.stack&&"bar"===s.style?"left"===s.yAxisOrientation?a=a.concat(n):l=l.concat(n):i[t[r]]=o.getYRange(n,t[r]));p.getStackedYRange(a,i,t,"__barStackLeft","left"),p.getStackedYRange(l,i,t,"__barStackRight","right")}},m.prototype._updateYAxis=function(t,e){var i,n,o=!1,r=!1,s=!1,a=1e9,l=1e9,h=-1e9,d=-1e9;if(t.length>0){for(var u=0;u<t.length;u++){var c=this.groups[t[u]];c&&"right"!=c.options.yAxisOrientation?(r=!0,a=1e9,h=-1e9):c&&c.options.yAxisOrientation&&(s=!0,l=1e9,d=-1e9)}for(u=0;u<t.length;u++)e.hasOwnProperty(t[u])&&!0!==e[t[u]].ignore&&(i=e[t[u]].min,n=e[t[u]].max,"right"!=e[t[u]].yAxisOrientation?(r=!0,a=a>i?i:a,h=h<n?n:h):(s=!0,l=l>i?i:l,d=d<n?n:d));1==r&&this.yAxisLeft.setRange(a,h),1==s&&this.yAxisRight.setRange(l,d)}o=this._toggleAxisVisiblity(r,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(s,this.yAxisRight)||o,1==s&&1==r?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==s?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o,o=this.yAxisRight.redraw()||o):o=this.yAxisRight.redraw()||o;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(u=0;u<p.length;u++)-1!=t.indexOf(p[u])&&t.splice(t.indexOf(p[u]),1);return o},m.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},m.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,t[i].screen_end=null!=t[i].end?e(t[i].end)+this.props.width:void 0},m.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var o=0;o<t.length;o++)t[o].screen_y=Math.round(i.convertValue(t[o].y));e.setZeroPosition(Math.min(n,i.convertValue(0)))},t.exports=m},function(t,e,i){var n,o=(n=i(8))&&n.__esModule?n:{default:n},r=i(2),s=i(14),a=i(16),l=i(108);function h(t,e,i,n){this.id=r.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=r.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var o=this;this.body.emitter.on("verticalDrag",function(){o.dom.lineContainer.style.top=o.body.domProps.scrollTop+"px"})}(h.prototype=new a).addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},h.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},h.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},h.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0),r.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}},h.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},h.prototype._redrawGroupIcons=function(){var t;s.prepareElements(this.svgElements);var e=this.options.iconWidth,i=11.5;t="left"===this.options.orientation?4:this.width-e-4;var n=(0,o.default)(this.groups);n.sort(function(t,e){return t<e?-1:1});for(var r=0;r<n.length;r++){var a=n[r];!0!==this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&!0!==this.linegraphOptions.visibility[a]||(this.groups[a].getLegend(e,15,this.framework,t,i),i+=19)}s.cleanupElements(this.svgElements),this.iconsRemoved=!1},h.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(s.prepareElements(this.svgElements),s.cleanupElements(this.svgElements),this.iconsRemoved=!0)},h.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},h.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},h.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},h.prototype.redraw=function(){var t=!1,e=0;for(var i in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(i)&&(!0!==this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&!0!==this.linegraphOptions.visibility[i]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var n=this.props,o=this.dom.frame;o.className="vis-data-axis",this._calculateCharSize();var r=this.options.orientation,s=this.options.showMajorLabels;n.minorLabelHeight=this.options.showMinorLabels?n.minorCharHeight:0,n.majorLabelHeight=s?n.majorCharHeight:0,n.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,"left"===r?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(r)}return t},h.prototype._redrawLabels=function(){var t=this,e=!1;s.prepareElements(this.DOMelements.lines),s.prepareElements(this.DOMelements.labels);var i=this.options.orientation,n=null!=this.options[i].range?this.options[i].range:{},o=!0;null!=n.max&&(this.range.end=n.max,o=!1);var r=!0;null!=n.min&&(this.range.start=n.min,r=!1),this.scale=new l(this.range.start,this.range.end,r,o,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(e){var n=e.y,o=e.major;t.options.showMinorLabels&&!1===o&&t._redrawLabel(n-2,e.val,i,"vis-y-axis vis-minor",t.props.minorCharHeight),o&&n>=0&&t._redrawLabel(n-2,e.val,i,"vis-y-axis vis-major",t.props.majorCharHeight),!0===t.master&&(o?t._redrawLine(n,i,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(n,i,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var a=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(a=this.props.titleCharHeight);var h=!0===this.options.icons?Math.max(this.options.iconWidth,a)+this.options.labelOffsetX+15:a+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-h&&!0===this.options.visible?(this.width=this.maxLabelSize+h,this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-h&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+h),this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),e=!1),e},h.prototype.convertValue=function(t){return this.scale.convertValue(t)},h.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},h.prototype._redrawLabel=function(t,e,i,n,o){var r=s.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=n,r.innerHTML=e,"left"===i?(r.style.left="-"+this.options.labelOffsetX+"px",r.style.textAlign="right"):(r.style.right="-"+this.options.labelOffsetX+"px",r.style.textAlign="left"),r.style.top=t-.5*o+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},h.prototype._redrawLine=function(t,e,i,n,o){if(!0===this.master){var r=s.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i,r.innerHTML="","left"===e?r.style.left=this.width-n+"px":r.style.right=this.width-n+"px",r.style.width=o+"px",r.style.top=t+"px"}},h.prototype._redrawTitle=function(t){if(s.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=s.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&r.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}s.cleanupElements(this.DOMelements.title)},h.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),n=document.createElement("div");n.className="vis-y-axis vis-major vis-measure",n.appendChild(i),this.dom.frame.appendChild(n),this.props.majorCharHeight=n.clientHeight,this.props.majorCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure",r.appendChild(o),this.dom.frame.appendChild(r),this.props.titleCharHeight=r.clientHeight,this.props.titleCharWidth=r.clientWidth,this.dom.frame.removeChild(r)}},t.exports=h},function(t,e,i){function n(t,e,i,n,o,r){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=r,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=s,this.autoScaleStart=i,this.autoScaleEnd=n,this.formattingFunction=a,i||n){var l=this,h=function(t){var e=t-t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx]);return t%(l.magnitudefactor*l.minorSteps[l.minorStepIdx])>l.magnitudefactor*l.minorSteps[l.minorStepIdx]*.5?e+l.magnitudefactor*l.minorSteps[l.minorStepIdx]:e};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=h(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=h(this._end)),this.determineScale()}}n.prototype.setCharHeight=function(t){this.majorCharHeight=t},n.prototype.setHeight=function(t){this.containerHeight=t},n.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var n=0;i<0&&(n=i);for(var o=!1,r=n;Math.abs(r)<=Math.abs(i);r++){this.magnitudefactor=Math.pow(10,r);for(var s=0;s<this.minorSteps.length;s++)if(this.magnitudefactor*this.minorSteps[s]>=e){o=!0,this.minorStepIdx=s;break}if(!0===o)break}},n.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},n.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},n.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},n.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},n.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=this._start+(e-this._start%e)%e;this._end-i>1e-5;i+=e)i!=this._start&&t.push({major:this.is_major(i),y:this.convertValue(i),val:this.formatValue(i)});return t},n.prototype.followScale=function(t){var e=this.minorStepIdx,i=this._start,n=this._end,o=this,r=function(){o.magnitudefactor*=2},s=function(){o.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?r():(r(),r())):(this.minorStepIdx=2,1==e?s():(s(),s())));for(var a=t.convertValue(0),l=t.getStep()*t.scale,h=!1,d=0;!h&&d++<5;){this.scale=l/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var u=this.containerHeight/this.scale;this._start=i,this._end=this._start+u;var c=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign?(this._end+=(a-c)/this.scale,this._start=this._end-u):this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+u):(this._start+=p-f/this.scale,this._end=this._start+u),!this.autoScaleEnd&&this._end>n+1e-5)s(),h=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){s(),h=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&u<n-i?(r(),h=!1):h=!0}}},n.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},n.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=n},function(t,e,i){var n,o=(n=i(6))&&n.__esModule?n:{default:n},r=i(2),s=i(110),a=i(111),l=i(72);function h(t,e,i,n){this.id=e,this.options=r.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}h.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&r.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},h.prototype.getItems=function(){return this.itemsData},h.prototype.setZeroPosition=function(t){this.zeroPosition=t},h.prototype.setOptions=function(t){void 0!==t&&(r.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),r.mergeOptions(this.options,t,"interpolation"),r.mergeOptions(this.options,t,"drawPoints"),r.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==(0,o.default)(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},h.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},h.prototype.getLegend=function(t,e,i,n,o){switch(null!=i&&null!=i||(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),null!=n&&null!=n||(n=0),null!=o&&null!=o||(o=.5*e),this.options.style){case"line":a.drawIcon(this,n,o,t,e,i);break;case"points":case"point":l.drawIcon(this,n,o,t,e,i);break;case"bar":s.drawIcon(this,n,o,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},h.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=h},function(t,e,i){var n=i(14),o=i(72);function r(t,e){}r.drawIcon=function(t,e,i,o,r,s){var a=.5*r,l=n.getSVGElement("rect",s.svgElements,s.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",i-a),l.setAttributeNS(null,"width",o),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var h=Math.round(.3*o),d=t.options.barChart.width/h,u=Math.round(.4*r),c=Math.round(.75*r),p=Math.round((o-2*h)/3);if(n.drawBar(e+.5*h+p,i+a-u-1,h,u,t.className+" vis-bar",s.svgElements,s.svg,t.style),n.drawBar(e+1.5*h+p+2,i+a-c-1,h,c,t.className+" vis-bar",s.svgElements,s.svg,t.style),1==t.options.drawPoints.enabled){var f={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/d,className:t.className};n.drawPoint(e+.5*h+p,i+a-u-1,f,s.svgElements,s.svg),n.drawPoint(e+1.5*h+p+2,i+a-c-1,f,s.svgElements,s.svg)}},r.draw=function(t,e,i){var s,a,l,h,d,u,c=[],p={},f=0;for(d=0;d<t.length;d++)if("bar"===(h=i.groups[t[d]]).options.style&&!0===h.visible&&(void 0===i.options.groups.visibility[t[d]]||!0===i.options.groups.visibility[t[d]]))for(u=0;u<e[t[d]].length;u++)c.push({screen_x:e[t[d]][u].screen_x,screen_end:e[t[d]][u].screen_end,screen_y:e[t[d]][u].screen_y,x:e[t[d]][u].x,end:e[t[d]][u].end,y:e[t[d]][u].y,groupId:t[d],label:e[t[d]][u].label}),f+=1;if(0!==f)for(c.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),r._getDataIntersections(p,c),d=0;d<c.length;d++){var g=null!=(h=i.groups[c[d].groupId]).options.barChart.minWidth?h.options.barChart.minWidth:.1*h.options.barChart.width,m=0;if(void 0===p[a=c[d].screen_x])d+1<c.length&&(s=Math.abs(c[d+1].screen_x-a)),l=r._getSafeDrawData(s,h,g);else{var v=d+(p[a].amount-p[a].resolved);v<c.length&&(s=Math.abs(c[v].screen_x-a)),l=r._getSafeDrawData(s,h,g),p[a].resolved+=1,!0===h.options.stack&&!0!==h.options.excludeFromStacking?c[d].screen_y<h.zeroPosition?(m=p[a].accumulatedNegative,p[a].accumulatedNegative+=h.zeroPosition-c[d].screen_y):(m=p[a].accumulatedPositive,p[a].accumulatedPositive+=h.zeroPosition-c[d].screen_y):!0===h.options.barChart.sideBySide&&(l.width=l.width/p[a].amount,l.offset+=p[a].resolved*l.width-.5*l.width*(p[a].amount+1))}var y=l.width,b=c[d].screen_x;b+=null!=c[d].screen_end?.5*(y=c[d].screen_end-c[d].screen_x):l.offset,n.drawBar(b,c[d].screen_y-m,y,h.zeroPosition-c[d].screen_y,h.className+" vis-bar",i.svgElements,i.svg,h.style),!0===h.options.drawPoints.enabled&&o.draw([{screen_x:c[d].screen_x,screen_y:c[d].screen_y-m,x:c[d].x,y:c[d].y,groupId:c[d].groupId,label:c[d].label}],h,i,l.offset)}},r._getDataIntersections=function(t,e){for(var i,n=0;n<e.length;n++)n+1<e.length&&(i=Math.abs(e[n+1].screen_x-e[n].screen_x)),n>0&&(i=Math.min(i,Math.abs(e[n-1].screen_x-e[n].screen_x))),0===i&&(void 0===t[e[n].screen_x]&&(t[e[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[n].screen_x].amount+=1)},r._getSafeDrawData=function(t,e,i){var n,o;return t<e.options.barChart.width&&t>0?(n=t<i?i:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(n=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:n,offset:o}},r.getStackedYRange=function(t,e,i,n,o){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var s={};r._getDataIntersections(s,t),e[n]=r._getStackedYRange(s,t),e[n].yAxisOrientation=o,i.push(n)}},r._getStackedYRange=function(t,e){for(var i,n=e[0].screen_y,o=e[0].screen_y,r=0;r<e.length;r++)void 0===t[i=e[r].screen_x]?(n=n>e[r].screen_y?e[r].screen_y:n,o=o<e[r].screen_y?e[r].screen_y:o):e[r].screen_y<0?t[i].accumulatedNegative+=e[r].screen_y:t[i].accumulatedPositive+=e[r].screen_y;for(var s in t)t.hasOwnProperty(s)&&(n=(n=n>t[s].accumulatedNegative?t[s].accumulatedNegative:n)>t[s].accumulatedPositive?t[s].accumulatedPositive:n,o=(o=o<t[s].accumulatedNegative?t[s].accumulatedNegative:o)<t[s].accumulatedPositive?t[s].accumulatedPositive:o);return{min:n,max:o}},t.exports=r},function(t,e,i){var n=i(14);function o(t,e){}o.calcPath=function(t,e){if(null!=t&&t.length>0)return 1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t)},o.drawIcon=function(t,e,i,o,r,s){var a,l,h=.5*r,d=n.getSVGElement("rect",s.svgElements,s.svg);d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",i-h),d.setAttributeNS(null,"width",o),d.setAttributeNS(null,"height",2*h),d.setAttributeNS(null,"class","vis-outline"),(a=n.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&a.setAttributeNS(null,"style",t.style),a.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+o)+","+i),1==t.options.shaded.enabled&&((l=n.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"d","top"==t.options.shaded.orientation?"M"+e+", "+(i-h)+"L"+e+","+i+" L"+(e+o)+","+i+" L"+(e+o)+","+(i-h):"M"+e+","+i+" L"+e+","+(i+h)+" L"+(e+o)+","+(i+h)+"L"+(e+o)+","+i),l.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&l.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled&&n.drawPoint(e+.5*o,i,{style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className},s.svgElements,s.svg)},o.drawShading=function(t,e,i,o){if(1==e.options.shaded.enabled){var r,s,a=Number(o.svg.style.height.replace("px","")),l=n.getSVGElement("path",o.svgElements,o.svg),h="L";1==e.options.interpolation.enabled&&(h="C"),s="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?a:Math.min(Math.max(0,e.zeroPosition),a),r="group"==e.options.shaded.orientation&&null!=i&&null!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,h,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,h,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,h,!1)+" V"+s+" H"+t[0][0]+" Z",l.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&l.setAttributeNS(null,"style",e.options.shaded.style),l.setAttributeNS(null,"d",r)}},o.draw=function(t,e,i){if(null!=t&&null!=t){var o=n.getSVGElement("path",i.svgElements,i.svg);o.setAttributeNS(null,"class",e.className),void 0!==e.style&&o.setAttributeNS(null,"style",e.style);var r="L";1==e.options.interpolation.enabled&&(r="C"),o.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,r,!1))}},o.serializePath=function(t,e,i){if(t.length<2)return"";var n,o=e;if(i)for(n=t.length-2;n>0;n--)o+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},o._catmullRomUniform=function(t){var e,i,n,o,r,s,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var l=t.length,h=0;h<l-1;h++)s={screen_x:1/6*((i=t[h]).screen_x+6*(n=t[h+1]).screen_x-(o=h+2<l?t[h+2]:n).screen_x),screen_y:1/6*(i.screen_y+6*n.screen_y-o.screen_y)},a.push([(r={screen_x:(6*i.screen_x-(e=0==h?t[0]:t[h-1]).screen_x+n.screen_x)*(1/6),screen_y:(6*i.screen_y-e.screen_y+n.screen_y)*(1/6)}).screen_x,r.screen_y]),a.push([s.screen_x,s.screen_y]),a.push([n.screen_x,n.screen_y]);return a},o._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var n,o,r,s,a,l,h,d,u,c,p,f,g,m,v,y,b,w,x,_=[];_.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var E=t.length,k=0;k<E-1;k++)n=0==k?t[0]:t[k-1],o=t[k],r=t[k+1],s=k+2<E?t[k+2]:r,h=Math.sqrt(Math.pow(n.screen_x-o.screen_x,2)+Math.pow(n.screen_y-o.screen_y,2)),d=Math.sqrt(Math.pow(o.screen_x-r.screen_x,2)+Math.pow(o.screen_y-r.screen_y,2)),u=Math.sqrt(Math.pow(r.screen_x-s.screen_x,2)+Math.pow(r.screen_y-s.screen_y,2)),m=Math.pow(u,i),y=Math.pow(u,2*i),v=Math.pow(d,i),b=Math.pow(d,2*i),x=Math.pow(h,i),w=Math.pow(h,2*i),(f=3*x*(x+v))>0&&(f=1/f),(g=3*m*(m+v))>0&&(g=1/g),0==(a={screen_x:(-b*n.screen_x+(c=2*w+3*x*v+b)*o.screen_x+w*r.screen_x)*f,screen_y:(-b*n.screen_y+c*o.screen_y+w*r.screen_y)*f}).screen_x&&0==a.screen_y&&(a=o),0==(l={screen_x:(y*o.screen_x+(p=2*y+3*m*v+b)*r.screen_x-b*s.screen_x)*g,screen_y:(y*o.screen_y+p*r.screen_y-b*s.screen_y)*g}).screen_x&&0==l.screen_y&&(l=r),_.push([a.screen_x,a.screen_y]),_.push([l.screen_x,l.screen_y]),_.push([r.screen_x,r.screen_y]);return _},o._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=o},function(t,e,i){var n,o=(n=i(8))&&n.__esModule?n:{default:n},r=i(2),s=i(14),a=i(16);function l(t,e,i,n){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=r.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}(l.prototype=new a).clear=function(){this.groups={},this.amountOfGroups=0},l.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},l.prototype.updateGroup=function(t,e){this.groups[t]=e},l.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},l.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},l.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},l.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},l.prototype.setOptions=function(t){r.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},l.prototype.redraw=function(){var t=0,e=(0,o.default)(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=this.body.domProps.center.height-this.body.domProps.centerContainer.height+4+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var r="";for(i=0;i<e.length;i++)1!=this.groups[n=e[i]].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(r+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=r,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},l.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,o.default)(this.groups);t.sort(function(t,e){return t<e?-1:1}),s.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),n=i,r=this.options.iconSize,a=.75*this.options.iconSize,l=i+.5*a+3;this.svg.style.width=r+5+i+"px";for(var h=0;h<t.length;h++){var d=t[h];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||(this.groups[d].getLegend(r,a,this.framework,n,l),l+=a+this.options.iconSpacing)}}},t.exports=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="object";e.allOptions={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:"dom"},__type__:{object:s,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:n},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:n,number:r},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:s},__type__:{boolean:o,object:s}},style:{string:["line","bar","points"]},barChart:{width:{number:r},minWidth:{number:r},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:s}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:r},__type__:{object:s,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:r},style:{string:["square","circle"]},__type__:{object:s,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:n,number:r},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:n,number:r,undefined:"undefined"},style:{string:n,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},right:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:s}},format:{function:"function"},title:{text:{string:n,number:r,undefined:"undefined"},style:{string:n,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},__type__:{object:s}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:s}},__type__:{object:s,boolean:o}},groups:{visibility:{any:"any"},__type__:{object:s}},autoResize:{boolean:o},throttleRedraw:{number:r},clickToUse:{boolean:o},end:{number:r,date:"date",string:n,moment:"moment"},format:{minorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s}},majorLabels:{millisecond:{string:n,undefined:"undefined"},second:{string:n,undefined:"undefined"},minute:{string:n,undefined:"undefined"},hour:{string:n,undefined:"undefined"},weekday:{string:n,undefined:"undefined"},day:{string:n,undefined:"undefined"},month:{string:n,undefined:"undefined"},year:{string:n,undefined:"undefined"},__type__:{object:s}},__type__:{object:s}},moment:{function:"function"},height:{string:n,number:r},hiddenDates:{start:{date:"date",number:r,string:n,moment:"moment"},end:{date:"date",number:r,string:n,moment:"moment"},repeat:{string:n},__type__:{object:s,array:"array"}},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:s}},max:{date:"date",number:r,string:n,moment:"moment"},maxHeight:{number:r,string:n},maxMinorChars:{number:r},min:{date:"date",number:r,string:n,moment:"moment"},minHeight:{number:r,string:n},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:n},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:"date",number:r,string:n,moment:"moment"},timeAxis:{scale:{string:n,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:s}},width:{string:n,number:r},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},zIndex:{number:r},__type__:{object:s}},e.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(t,e,i){var n,o=(n=i(29))&&n.__esModule?n:{default:n};function r(t){return d=t,function(){var t={};if(u=0,c=d.charAt(0),k(),"strict"===p&&(t.strict=!0,k()),"graph"!==p&&"digraph"!==p||(t.type=p,k()),f===l.IDENTIFIER&&(t.id=p,k()),"{"!=p)throw O("Angle bracket { expected");if(k(),S(t),"}"!=p)throw O("Angle bracket } expected");if(k(),""!==p)throw O("End of file expected");return k(),delete t.node,delete t.edge,delete t.graph,t}()}var s={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},a=(0,o.default)(s);a.color="color.color",a.style="dashes";var l={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},h={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},d="",u=0,c="",p="",f=l.NULL;function g(){c=d.charAt(++u)}function m(){return d.charAt(u+1)}var v=/[a-zA-Z_0-9.:#]/;function y(t){return v.test(t)}function b(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function w(t,e,i){for(var n=e.split("."),o=t;n.length;){var r=n.shift();n.length?(o[r]||(o[r]={}),o=o[r]):o[r]=i}}function x(t,e){for(var i,n,o=null,r=[t],s=t;s.parent;)r.push(s.parent),s=s.parent;if(s.nodes)for(i=0,n=s.nodes.length;i<n;i++)if(e.id===s.nodes[i].id){o=s.nodes[i];break}for(o||(o={id:e.id},t.node&&(o.attr=b(o.attr,t.node))),i=r.length-1;i>=0;i--){var a=r[i];a.nodes||(a.nodes=[]),-1===a.nodes.indexOf(o)&&a.nodes.push(o)}e.attr&&(o.attr=b(o.attr,e.attr))}function _(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=b({},t.edge);e.attr=b(i,e.attr)}}function E(t,e,i,n,o){var r={from:e,to:i,type:n};return t.edge&&(r.attr=b({},t.edge)),r.attr=b(r.attr||{},o),r}function k(){for(f=l.NULL,p="";" "===c||"\t"===c||"\n"===c||"\r"===c;)g();do{var t=!1;if("#"===c){for(var e=u-1;" "===d.charAt(e)||"\t"===d.charAt(e);)e--;if("\n"===d.charAt(e)||""===d.charAt(e)){for(;""!=c&&"\n"!=c;)g();t=!0}}if("/"===c&&"/"===m()){for(;""!=c&&"\n"!=c;)g();t=!0}if("/"===c&&"*"===m()){for(;""!=c;){if("*"===c&&"/"===m()){g(),g();break}g()}t=!0}for(;" "===c||"\t"===c||"\n"===c||"\r"===c;)g()}while(t);if(""!==c){var i=c+m();if(h[i])return f=l.DELIMITER,p=i,g(),void g();if(h[c])return f=l.DELIMITER,p=c,void g();if(y(c)||"-"===c){for(p+=c,g();y(c);)p+=c,g();return"false"===p?p=!1:"true"===p?p=!0:isNaN(Number(p))||(p=Number(p)),void(f=l.IDENTIFIER)}if('"'===c){for(g();""!=c&&('"'!=c||'"'===c&&'"'===m());)'"'===c?(p+=c,g()):"\\"===c&&"n"===m()?(p+="\n",g()):p+=c,g();if('"'!=c)throw O('End of string " expected');return g(),void(f=l.IDENTIFIER)}for(f=l.UNKNOWN;""!=c;)p+=c,g();throw new SyntaxError('Syntax error in part "'+P(p,30)+'"')}f=l.DELIMITER}function S(t){for(;""!==p&&"}"!=p;)C(t),";"===p&&k()}function C(t){var e=T(t);if(e)M(t,e);else if(!function(t){return"node"===p?(k(),t.node=D(),"node"):"edge"===p?(k(),t.edge=D(),"edge"):"graph"===p?(k(),t.graph=D(),"graph"):null}(t)){if(f!=l.IDENTIFIER)throw O("Identifier expected");var i=p;if(k(),"="===p){if(k(),f!=l.IDENTIFIER)throw O("Identifier expected");t[i]=p,k()}else!function(t,e){var i={id:e},n=D();n&&(i.attr=n),x(t,i),M(t,e)}(t,i)}}function T(t){var e=null;if("subgraph"===p&&((e={}).type="subgraph",k(),f===l.IDENTIFIER&&(e.id=p,k())),"{"===p){if(k(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,S(e),"}"!=p)throw O("Angle bracket } expected");k(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function M(t,e){for(;"->"===p||"--"===p;){var i,n=p;k();var o=T(t);if(o)i=o;else{if(f!=l.IDENTIFIER)throw O("Identifier or subgraph expected");x(t,{id:i=p}),k()}_(t,E(t,e,i,n,D())),e=i}}function D(){for(var t=null,e={dashed:!0,solid:!1,dotted:[1,5]};"["===p;){for(k(),t={};""!==p&&"]"!=p;){if(f!=l.IDENTIFIER)throw O("Attribute name expected");var i=p;if(k(),"="!=p)throw O("Equal sign = expected");if(k(),f!=l.IDENTIFIER)throw O("Attribute value expected");var n=p;"style"===i&&(n=e[n]),w(t,i,n),k(),","==p&&k()}if("]"!=p)throw O("Bracket ] expected");k()}return t}function O(t){return new SyntaxError(t+', got "'+P(p,30)+'" (char '+u+")")}function P(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function I(t,e,i){for(var n=e.split("."),o=n.pop(),r=t,s=0;s<n.length;s++){var a=n[s];a in r||(r[a]={}),r=r[a]}return r[o]=i,t}function A(t,e){var i={};for(var n in t)if(t.hasOwnProperty(n)){var o=e[n];Array.isArray(o)?o.forEach(function(e){I(i,e,t[n])}):I(i,"string"==typeof o?o:n,t[n])}return i}e.parseDOT=r,e.DOTToGraph=function(t){var e=r(t),i={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};b(e,A(t.attr,s)),e.image&&(e.shape="image"),i.nodes.push(e)}),e.edges){var n=function(t){var e={from:t.from,to:t.to};return b(e,A(t.attr,a)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(t){var e,o,r,s,a;e=t.from instanceof Object?t.from.nodes:{id:t.from},o=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=n(t);i.edges.push(e)}),r=e,s=o,a=function(e,o){var r=E(i,e.id,o.id,t.type,t.attr),s=n(r);i.edges.push(s)},Array.isArray(r)?r.forEach(function(t){Array.isArray(s)?s.forEach(function(e){a(t,e)}):a(t,s)}):Array.isArray(s)?s.forEach(function(t){a(r,t)}):a(r,s),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=n(t);i.edges.push(e)})})}return e.attr&&(i.options=e.attr),i}},function(t,e,i){e.parseGephi=function(t,e){var i=[],n=[],o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(o.nodes.fixed=e.fixed),void 0!==e.parseColor&&(o.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(o.edges.inheritColor=e.inheritColor));for(var r=t.edges,s=t.nodes,a=0;a<r.length;a++){var l={},h=r[a];l.id=h.id,l.from=h.source,l.to=h.target,l.attributes=h.attributes,l.label=h.label,l.title=void 0!==h.attributes?h.attributes.title:void 0,"Directed"===h.type&&(l.arrows="to"),h.color&&!1===o.inheritColor&&(l.color=h.color),i.push(l)}for(var d=0;d<s.length;d++){var u={},c=s[d];u.id=c.id,u.attributes=c.attributes,u.x=c.x,u.y=c.y,u.label=c.label,u.title=void 0!==c.attributes?c.attributes.title:c.title,u.color=!0===o.nodes.parseColor?c.color:void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0,u.size=c.size,u.fixed=o.nodes.fixed&&void 0!==c.x&&void 0!==c.y,n.push(u)}return{nodes:n,edges:i}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(0)),o=s(i(1)),r=s(i(185));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){(0,n.default)(this,t),this.images={},this.imageBroken={},this.callback=e}return(0,o.default)(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,n=this.images[t];if(n)return n;var o=new r.default;return this.images[t]=o,o.image.onload=function(){i._fixImageCoordinates(o.image),o.init(),i._redrawWithImage(o)},o.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,o)},o.image.src=t,o}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(30)),o=a(i(6)),r=a(i(0)),s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var l=i(2),h=i(48).default,d=i(191).default,u=["bold","ital","boldital","mono"],c=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.default)(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return(0,s.default)(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),h.isValidLabel(t.label)?this.labelDirty=!0:t.label="",null!=t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===(0,o.default)(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;l.forEach(u,function(t){i.fontOptions[t]={}}),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:l.forEach(e,function(t,e){null!=t&&"object"!==(void 0===t?"undefined":(0,o.default)(t))&&(i.fontOptions[e]=t)})}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=l.topMost(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===(void 0===i?"undefined":(0,o.default)(i))){var n=l.topMost(t,["widthConstraint","maximum"]);"number"==typeof n&&(e.maxWdt=Number(n));var r=l.topMost(t,["widthConstraint","minimum"]);"number"==typeof r&&(e.minWdt=Number(r))}var s=l.topMost(t,"heightConstraint");if("number"==typeof s)e.minHgt=Number(s);else if("object"===(void 0===s?"undefined":(0,o.default)(s))){var a=l.topMost(t,["heightConstraint","minimum"]);"number"==typeof a&&(e.minHgt=Number(a));var h=l.topMost(t,["heightConstraint","valign"]);"string"==typeof h&&("top"!==h&&"bottom"!==h||(e.valign=h))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),l.deepExtend(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=h.choosify("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=t?t.top+t.bottom:0)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){void 0!==e&&null!=e.font&&t.push(e.font)}},{key:"getBasicOptions",value:function(e){for(var i={},n=0;n<e.length;++n){var o=e[n],r={};t.parseFontString(r,o)&&(o=r),l.forEach(o,function(t,e){void 0!==t&&(i.hasOwnProperty(e)||(i[e]=-1!==u.indexOf(e)?{}:t))})}return i}},{key:"getFontOption",value:function(e,i,n){for(var o=void 0,r=0;r<e.length;++r){var s=e[r];if(s.hasOwnProperty(i)){if(null==(o=s[i]))continue;var a={};if(t.parseFontString(a,o)&&(o=a),o.hasOwnProperty(n))return o[n]}}if(this.fontOptions.hasOwnProperty(n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},n=["color","size","face","mod","vadjust"],o=0;o<n.length;++o){var r=n[o];i[r]=this.getFontOption(t,e,r)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var n=function(t){var n=u[t],o=e.fontOptions[n],r=e.getFontOptions(i,n);l.forEach(r,function(t,e){o[e]=t}),o.size=Number(o.size),o.vadjust=Number(o.vadjust)},o=0;o<u.length;++o)n(o)}},{key:"draw",value:function(t,e,i,n,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,n,o,e,i,r),this._drawBackground(t),this._drawText(t,e,this.size.yLine,r,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments[4],s=this._setAlignment(t,e,i,o),a=(0,n.default)(s,2);e=a[0],i=a[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var l=0;l<this.lineCount;l++){var h=this.lines[l];if(h&&h.blocks){var d=0;this.isEdgeLabel||"center"===this.fontOptions.align?d+=(this.size.width-h.width)/2:"right"===this.fontOptions.align&&(d+=this.size.width-h.width);for(var u=0;u<h.blocks.length;u++){var c=h.blocks[u];t.font=c.font;var p=this._getColor(c.color,r,c.strokeColor),f=(0,n.default)(p,2),g=f[0],m=f[1];c.strokeWidth>0&&(t.lineWidth=c.strokeWidth,t.strokeStyle=m,t.lineJoin="round"),t.fillStyle=g,c.strokeWidth>0&&t.strokeText(c.text,e+d,i+c.vadjust),t.fillText(c.text,e+d,i+c.vadjust),d+=c.width}i+=h.height}}}},{key:"_setAlignment",value:function(t,e,i,n){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(e=0,i=0,"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"):t.textBaseline=n,[e,i]}},{key:"_getColor",value:function(t,e,i){var n=t||"#000000",o=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var r=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));n=l.overrideOpacity(n,r),o=l.overrideOpacity(o,r)}return[n,o]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=n-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,n){var o=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},r={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,e,i));var s="";return void 0!==r.mod&&""!==r.mod&&(s+=r.mod+" "),t.font=(s+=r.size+"px "+r.face).replace(/"/g,""),r.font=t.font,r.height=r.size,r}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,n){return new d(t,this,e,i).process(n)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var n=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}();e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(30)),o=s(i(0)),r=s(i(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=i(2),l=i(119).default,h=function(){function t(e,i,n){(0,o.default)(this,t),this.body=i,this.labelModule=n,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,r.default)(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,n,o){t.strokeStyle=this.getColor(t,e,i,n),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,o):this._drawLine(t,e,o)}},{key:"_drawLine",value:function(t,e,i,o,r){if(this.from!=this.to)this._line(t,e,i,o,r);else{var s=this._getCircleData(t),a=(0,n.default)(s,3);this._circle(t,e,a[0],a[1],a[2])}}},{key:"_drawDashedLine",value:function(t,e,i,o,r){t.lineCap="round";var s=[5,5];if(!0===Array.isArray(e.dashes)&&(s=e.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var a=this._getCircleData(t),l=(0,n.default)(a,3);this._circle(t,e,l[0],l[1],l[2])}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,s);else{var h=this._getCircleData(t),d=(0,n.default)(h,3);this._circle(t,e,d[0],d[1],d[2])}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var o=this._getCircleData(t).slice(0,2),r=(0,n.default)(o,2),s=r[0],a=r[1];e=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:s,y:a,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,n=this.from,o=this.options.selfReferenceSize;return void 0!==t&&void 0===n.shape.width&&n.shape.resize(t),n.shape.width>n.shape.height?(e=n.x+.5*n.shape.width,i=n.y-o):(e=n.x+o,i=n.y-.5*n.shape.height),[e,i,o]}},{key:"_pointOnCircle",value:function(t,e,i,n){var o=2*n*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var n=i.x,o=i.y,r=i.low,s=i.high,a=i.direction,l=0,h=this.options.selfReferenceSize,d=void 0,u=void 0,c=void 0,p=.5*(r+s);r<=s&&l<10&&(d=this._pointOnCircle(n,o,h,p=.5*(r+s)),u=Math.atan2(t.y-d.y,t.x-d.x),c=t.distanceToBorder(e,u)-Math.sqrt(Math.pow(d.x-t.x,2)+Math.pow(d.y-t.y,2)),!(Math.abs(c)<.05));)c>0?a>0?r=p:s=p:a>0?s=p:r=p,l++;return d.t=p,d}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i,n){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var o=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=void 0,s=void 0;return r=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(r=a.overrideOpacity(this.from.options.color.border,e.opacity),s=a.overrideOpacity(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?s=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),o.addColorStop(0,r),o.addColorStop(1,s),o}return a.overrideOpacity("to"===e.inheritsColor?this.to.options.color.border:this.from.options.color.border,e.opacity)}return a.overrideOpacity(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,n,o){this.enableShadow(t,e),t.beginPath(),t.arc(i,n,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,o,r,s,a,l){var h=0;if(this.from!=this.to)h=this._getDistanceToEdge(t,e,i,o,r,s,a);else{var d=this._getCircleData(void 0),u=(0,n.default)(d,3),c=u[2],p=u[0]-r,f=u[1]-s;h=Math.abs(Math.sqrt(p*p+f*f)-c)}return h}},{key:"_getDistanceToLine",value:function(t,e,i,n,o,r){var s=i-t,a=n-e,l=((o-t)*s+(r-e)*a)/(s*s+a*a);l>1?l=1:l<0&&(l=0);var h=t+l*s-o,d=e+l*a-r;return Math.sqrt(h*h+d*d)}},{key:"getArrowData",value:function(t,e,i,o,r,s){var a=void 0,l=void 0,h=void 0,d=void 0,u=void 0,c=void 0,p=void 0,f=s.width;if("from"===e?(h=this.from,d=this.to,u=.1,c=s.fromArrowScale,p=s.fromArrowType):"to"===e?(h=this.to,d=this.from,u=-.1,c=s.toArrowScale,p=s.toArrowType):(h=this.to,d=this.from,c=s.middleArrowScale,p=s.middleArrowType),h!=d)if("middle"!==e)if(!0===this.options.smooth.enabled){l=this.findBorderPosition(h,t,{via:i});var g=this.getPoint(Math.max(0,Math.min(1,l.t+u)),i);a=Math.atan2(l.y-g.y,l.x-g.x)}else a=Math.atan2(h.y-d.y,h.x-d.x),l=this.findBorderPosition(h,t);else a=Math.atan2(h.y-d.y,h.x-d.x),l=this.getPoint(.5,i);else{var m=this._getCircleData(t),v=(0,n.default)(m,3),y=v[0],b=v[1],w=v[2];"from"===e?a=-2*(l=this.findBorderPosition(this.from,t,{x:y,y:b,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===e?a=-2*(l=this.findBorderPosition(this.from,t,{x:y,y:b,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(l=this._pointOnCircle(y,b,w,.175),a=3.9269908169872414)}"middle"===e&&c<0&&(f*=-1);var x=15*c+3*f;return{point:l,core:{x:l.x-.9*x*Math.cos(a),y:l.y-.9*x*Math.sin(a)},angle:a,length:x,type:p}}},{key:"drawArrowHead",value:function(t,e,i,n,o){t.strokeStyle=this.getColor(t,e,i,n),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,l.draw(t,o),this.enableShadow(t,e),t.fill(),this.disableShadow(t,e)}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e.default=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(3)),o=l(i(4)),r=l(i(5)),s=l(i(0)),a=l(i(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"transform",value:function(t,e){t instanceof Array||(t=[t]);for(var i=e.point.x,n=e.point.y,o=e.angle,r=e.length,s=0;s<t.length;++s){var a=t[s],l=a.x*Math.cos(o)-a.y*Math.sin(o),h=a.x*Math.sin(o)+a.y*Math.cos(o);a.x=i+r*l,a.y=n+r*h}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),d=function(t){function e(){return(0,s.default)(this,e),(0,o.default)(this,(e.__proto__||(0,n.default)(e)).apply(this,arguments))}return(0,r.default)(e,h),(0,a.default)(e,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];h.transform(i,e),h.drawPath(t,i)}}]),e}(),u=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};h.transform(i,e),t.circle(i.x,i.y,.4*e.length)}}]),t}(),c=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];h.transform(i,e),h.drawPath(t,i)}}]),t}(),p=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"circle":u.draw(t,e);break;case"bar":c.draw(t,e);break;case"arrow":default:d.draw(t,e)}}}]),t}();e.default=p},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o),this.randomSeed=5}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(e,i);this.barnesHutTree=o;for(var r=0;r<n;r++)(t=e[i[r]]).options.mass>0&&this._getForceContributions(o.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){var i,n,o;t.childrenCount>0&&(i=t.centerOfMass.x-e.x,n=t.centerOfMass.y-e.y,(o=Math.sqrt(i*i+n*n))*t.calcSize>this.thetaInversed?this._calculateForces(o,i,n,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(o,i,n,e,t))}},{key:"_calculateForces",value:function(t,e,i,n,o){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var r=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(t,3),s=i*r;this.physicsBody.forces[n.id].x+=e*r,this.physicsBody.forces[n.id].y+=s}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,n=e.length,o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,l=1;l<n;l++){var h=t[e[l]],d=h.x,u=h.y;h.options.mass>0&&(d<o&&(o=d),d>s&&(s=d),u<r&&(r=u),u>a&&(a=u))}var c=Math.abs(s-o)-Math.abs(a-r);c>0?(r-=.5*c,a+=.5*c):(o+=.5*c,s-=.5*c);var p=Math.max(1e-5,Math.abs(s-o)),f=.5*p,g=.5*(o+s),m=.5*(r+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:g-f,maxX:g+f,minY:m-f,maxY:m+f},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(var y=0;y<n;y++)(i=t[e[y]]).options.mass>0&&this._placeInTree(v.root,i);return v}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,n=t.mass+e.options.mass,o=1/n;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=o,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=o,t.mass=n;var r=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<r?r:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var n=t.children.NW.range;this._placeInRegion(t,e,n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE")}},{key:"_placeInRegion",value:function(t,e,i){var n=t.children[i];switch(n.childrenCount){case 0:n.children.data=e,n.childrenCount=1,this._updateBranchMass(n,e);break;case 1:n.children.data.x===e.x&&n.children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(n),this._placeInTree(n,e));break;case 4:this._placeInTree(n,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,n=void 0,o=void 0,r=void 0,s=.5*t.size;switch(e){case"NW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY,r=t.range.minY+s;break;case"NE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY,r=t.range.minY+s;break;case"SW":i=t.range.minX,n=t.range.minX+s,o=t.range.minY+s,r=t.range.maxY;break;case"SE":i=t.range.minX+s,n=t.range.maxX,o=t.range.minY+s,r=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,n=void 0,o=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<r.length;a++)t=-(n=o[r[a]]).x,e=-n.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,n)}},{key:"_calculateForces",value:function(t,e,i,n,o){var r=0===t?0:this.options.centralGravity/t;n[o.id].x=e*r,n[o.id].y=i*r}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s="object",a=["arrow","circle","bar"],l={configure:{enabled:{boolean:o},filter:{boolean:o,string:n,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:o},__type__:{object:s,boolean:o,string:n,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:r},type:{string:a},__type__:{object:s,boolean:o}},__type__:{string:["from","to","middle"],object:s}},arrowStrikethrough:{boolean:o},chosen:{label:{boolean:o,function:"function"},edge:{boolean:o,function:"function"},__type__:{object:s,boolean:o}},color:{color:{string:n},highlight:{string:n},hover:{string:n},inherit:{string:["from","to","both"],boolean:o},opacity:{number:r},__type__:{object:s,string:n}},dashes:{boolean:o,array:"array"},font:{color:{string:n},size:{number:r},face:{string:n},background:{string:n},strokeWidth:{number:r},strokeColor:{string:n},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:r},multi:{boolean:o,string:n},bold:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},boldital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},ital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},mono:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},__type__:{object:s,string:n}},hidden:{boolean:o},hoverWidth:{function:"function",number:r},label:{string:n,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:r,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:s}},selectionWidth:{function:"function",number:r},selfReferenceSize:{number:r},shadow:{enabled:{boolean:o},color:{string:n},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:r},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:s,boolean:o}},title:{string:n,undefined:"undefined"},width:{number:r},widthConstraint:{maximum:{number:r},__type__:{object:s,boolean:o,number:r}},value:{number:r,undefined:"undefined"},__type__:{object:s}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:s}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:r},y:{number:r},zoom:{number:r},__type__:{object:s}},bindToWindow:{boolean:o},__type__:{object:s,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:r},zoomView:{boolean:o},__type__:{object:s}},layout:{randomSeed:{undefined:"undefined",number:r},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:r},nodeSpacing:{number:r},treeSpacing:{number:r},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:s,boolean:o}},__type__:{object:s}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:s,boolean:o,function:"function"}},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:s,boolean:o}},nodes:{borderWidth:{number:r},borderWidthSelected:{number:r,undefined:"undefined"},brokenImage:{string:n,undefined:"undefined"},chosen:{label:{boolean:o,function:"function"},node:{boolean:o,function:"function"},__type__:{object:s,boolean:o}},color:{border:{string:n},background:{string:n},highlight:{border:{string:n},background:{string:n},__type__:{object:s,string:n}},hover:{border:{string:n},background:{string:n},__type__:{object:s,string:n}},__type__:{object:s,string:n}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:s,boolean:o}},font:{align:{string:n},color:{string:n},size:{number:r},face:{string:n},background:{string:n},strokeWidth:{number:r},strokeColor:{string:n},vadjust:{number:r},multi:{boolean:o,string:n},bold:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},boldital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},ital:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},mono:{color:{string:n},size:{number:r},face:{string:n},mod:{string:n},vadjust:{number:r},__type__:{object:s,string:n}},__type__:{object:s,string:n}},group:{string:n,number:r,undefined:"undefined"},heightConstraint:{minimum:{number:r},valign:{string:n},__type__:{object:s,boolean:o,number:r}},hidden:{boolean:o},icon:{face:{string:n},code:{string:n},size:{number:r},color:{string:n},__type__:{object:s}},id:{string:n,number:r},image:{selected:{string:n,undefined:"undefined"},unselected:{string:n,undefined:"undefined"},__type__:{object:s,string:n}},label:{string:n,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:r,undefined:"undefined"},margin:{top:{number:r},right:{number:r},bottom:{number:r},left:{number:r},__type__:{object:s,number:r}},mass:{number:r},physics:{boolean:o},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:o},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:s,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:s}},shadow:{enabled:{boolean:o},color:{string:n},size:{number:r},x:{number:r},y:{number:r},__type__:{object:s,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:o,array:"array"},borderRadius:{number:r},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:s}},size:{number:r},title:{string:n,dom:"dom",undefined:"undefined"},value:{number:r,undefined:"undefined"},widthConstraint:{minimum:{number:r},maximum:{number:r},__type__:{object:s,boolean:o,number:r}},x:{number:r},y:{number:r},__type__:{object:s}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},forceAtlas2Based:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:s}},repulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},hierarchicalRepulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:s}},maxVelocity:{number:r},minVelocity:{number:r},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:r},updateInterval:{number:r},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:s,boolean:o}},timestep:{number:r},adaptiveTimestep:{boolean:o},__type__:{object:s,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:n},locales:{__any__:{any:"any"},__type__:{object:s}},height:{string:n},width:{string:n},__type__:{object:s}};l.groups.__any__=l.nodes,l.manipulation.controlNodeStyle=l.nodes,e.allOptions=l,e.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(t,e,i){var n=i(2);n.extend(e,i(159)),n.extend(e,i(177)),n.extend(e,i(181))},function(t,e,i){i(49),i(60),t.exports=i(136)},function(t,e,i){var n=i(126),o=i(127),r=i(31),s=i(25);t.exports=i(79)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(54),o=i(39),r=i(59),s={};i(26)(s,i(13)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(s,{next:o(1,i)}),r(t,e+" Iterator")}},function(t,e,i){var n=i(20),o=i(27),r=i(33);t.exports=i(21)?Object.defineProperties:function(t,e){o(t);for(var i,s=r(e),a=s.length,l=0;a>l;)n.f(t,i=s[l++],e[i]);return t}},function(t,e,i){var n=i(25),o=i(132),r=i(133);t.exports=function(t){return function(e,i,s){var a,l=n(e),h=o(l.length),d=r(s,h);if(t&&i!=i){for(;h>d;)if((a=l[d++])!=a)return!0}else for(;h>d;d++)if((t||d in l)&&l[d]===i)return t||d||0;return!t&&-1}}},function(t,e,i){var n=i(55),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,i){var n=i(55),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):r(t,e)}},function(t,e,i){var n=i(18).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(55),o=i(51);t.exports=function(t){return function(e,i){var r,s,a=String(o(e)),l=n(i),h=a.length;return l<0||l>=h?t?"":void 0:(r=a.charCodeAt(l))<55296||r>56319||l+1===h||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):r:t?a.slice(l,l+2):s-56320+(r-55296<<10)+65536}}},function(t,e,i){var n=i(27),o=i(137);t.exports=i(7).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){var n=i(86),o=i(13)("iterator"),r=i(31);t.exports=i(7).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[n(t)]}},function(t,e,i){i(139);var n=i(7).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(17);n(n.S,"Object",{create:i(54)})},function(t,e,i){i(141),t.exports=i(7).Object.keys},function(t,e,i){var n=i(41),o=i(33);i(87)("keys",function(){return function(t){return o(n(t))}})},function(t,e,i){t.exports={default:i(143),__esModule:!0}},function(t,e,i){i(60),i(49),t.exports=i(61).f("iterator")},function(t,e,i){t.exports={default:i(145),__esModule:!0}},function(t,e,i){i(146),i(151),i(152),i(153),t.exports=i(7).Symbol},function(t,e,i){var n=i(18),o=i(22),r=i(21),s=i(17),a=i(83),l=i(147).KEY,h=i(28),d=i(57),u=i(59),c=i(40),p=i(13),f=i(61),g=i(62),m=i(148),v=i(149),y=i(27),b=i(25),w=i(53),x=i(39),_=i(54),E=i(150),k=i(89),S=i(20),C=i(33),T=k.f,M=S.f,D=E.f,O=n.Symbol,P=n.JSON,I=P&&P.stringify,A=p("_hidden"),N=p("toPrimitive"),R={}.propertyIsEnumerable,L=d("symbol-registry"),z=d("symbols"),B=d("op-symbols"),F=Object.prototype,j="function"==typeof O,H=n.QObject,V=!H||!H.prototype||!H.prototype.findChild,W=r&&h(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=T(F,e);n&&delete F[e],M(t,e,i),n&&t!==F&&M(F,e,n)}:M,U=function(t){var e=z[t]=_(O.prototype);return e._k=t,e},Y=j&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},G=function(t,e,i){return t===F&&G(B,e,i),y(t),e=w(e,!0),y(i),o(z,e)?(i.enumerable?(o(t,A)&&t[A][e]&&(t[A][e]=!1),i=_(i,{enumerable:x(0,!1)})):(o(t,A)||M(t,A,x(1,{})),t[A][e]=!0),W(t,e,i)):M(t,e,i)},q=function(t,e){y(t);for(var i,n=m(e=b(e)),o=0,r=n.length;r>o;)G(t,i=n[o++],e[i]);return t},X=function(t){var e=R.call(this,t=w(t,!0));return!(this===F&&o(z,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(z,t)||o(this,A)&&this[A][t])||e)},$=function(t,e){if(t=b(t),e=w(e,!0),t!==F||!o(z,e)||o(B,e)){var i=T(t,e);return!i||!o(z,e)||o(t,A)&&t[A][e]||(i.enumerable=!0),i}},K=function(t){for(var e,i=D(b(t)),n=[],r=0;i.length>r;)o(z,e=i[r++])||e==A||e==l||n.push(e);return n},Z=function(t){for(var e,i=t===F,n=D(i?B:b(t)),r=[],s=0;n.length>s;)!o(z,e=n[s++])||i&&!o(F,e)||r.push(z[e]);return r};j||(a((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(i){this===F&&e.call(B,i),o(this,A)&&o(this[A],t)&&(this[A][t]=!1),W(this,t,x(1,i))};return r&&V&&W(F,t,{configurable:!0,set:e}),U(t)}).prototype,"toString",function(){return this._k}),k.f=$,S.f=G,i(88).f=E.f=K,i(42).f=X,i(63).f=Z,r&&!i(52)&&a(F,"propertyIsEnumerable",X,!0),f.f=function(t){return U(p(t))}),s(s.G+s.W+s.F*!j,{Symbol:O});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),J=0;Q.length>J;)p(Q[J++]);for(var tt=C(p.store),et=0;tt.length>et;)g(tt[et++]);s(s.S+s.F*!j,"Symbol",{for:function(t){return o(L,t+="")?L[t]:L[t]=O(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!j,"Object",{create:function(t,e){return void 0===e?_(t):q(_(t),e)},defineProperty:G,defineProperties:q,getOwnPropertyDescriptor:$,getOwnPropertyNames:K,getOwnPropertySymbols:Z}),P&&s(s.S+s.F*(!j||h(function(){var t=O();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!Y(t)){for(var e,i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);return"function"==typeof(e=n[1])&&(i=e),!i&&v(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!Y(e))return e}),n[1]=e,I.apply(P,n)}}}),O.prototype[N]||i(26)(O.prototype,N,O.prototype.valueOf),u(O,"Symbol"),u(Math,"Math",!0),u(n.JSON,"JSON",!0)},function(t,e,i){var n=i(40)("meta"),o=i(32),r=i(22),s=i(20).f,a=0,l=Object.isExtensible||function(){return!0},h=!i(28)(function(){return l(Object.preventExtensions({}))}),d=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},u=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[n].i},getWeak:function(t,e){if(!r(t,n)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[n].w},onFreeze:function(t){return h&&u.NEED&&l(t)&&!r(t,n)&&d(t),t}}},function(t,e,i){var n=i(33),o=i(63),r=i(42);t.exports=function(t){var e=n(t),i=o.f;if(i)for(var s,a=i(t),l=r.f,h=0;a.length>h;)l.call(t,s=a[h++])&&e.push(s);return e}},function(t,e,i){var n=i(50);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(25),o=i(88).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==r.call(t)?function(t){try{return o(t)}catch(e){return s.slice()}}(t):o(n(t))}},function(t,e){},function(t,e,i){i(62)("asyncIterator")},function(t,e,i){i(62)("observable")},function(t,e,i){(function(t){t.exports=function(){var e,i;function n(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var i in e)d(e,i)&&(t[i]=e[i]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,i,n){return Me(t,e,i,n,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function f(t){if(null==t._isValid){var e=p(t),n=i.call(e.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function g(t){var e=c(NaN);return null!=t?u(p(e),t):p(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var m=n.momentProperties=[];function v(t,e){var i,n,o;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=p(e)),s(e._locale)||(t._locale=e._locale),m.length>0)for(i=0;i<m.length;i++)s(o=e[n=m[i]])||(t[n]=o);return t}var y=!1;function b(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,n.updateOffset(this),y=!1)}function w(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=x(e)),i}function E(t,e,i){var n,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(n=0;n<o;n++)(i&&t[n]!==e[n]||!i&&_(t[n])!==_(e[n]))&&s++;return s+r}function k(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var i=!0;return u(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var o,r=[],s=0;s<arguments.length;s++){if(o="","object"==typeof arguments[s]){for(var a in o+="\n["+s+"] ",arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[s];r.push(o)}k(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)},e)}var C,T={};function M(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),T[t]||(k(e),T[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t,e){var i,n=u({},t);for(i in e)d(e,i)&&(r(t[i])&&r(e[i])?(n[i]={},u(n[i],t[i]),u(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)d(t,i)&&!d(e,i)&&r(t[i])&&(n[i]=u({},n[i]));return n}function P(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,C=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)d(t,e)&&i.push(e);return i};var I={};function A(t,e){var i=t.toLowerCase();I[i]=I[i+"s"]=I[e]=t}function N(t){return"string"==typeof t?I[t]||I[t.toLowerCase()]:void 0}function R(t){var e,i,n={};for(i in t)d(t,i)&&(e=N(i))&&(n[e]=t[i]);return n}var L={};function z(t,e){L[t]=e}function B(t,e,i){var n=""+Math.abs(t);return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,e-n.length)).toString().substr(1)+n}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},V={};function W(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(V[t]=o),e&&(V[e[0]]=function(){return B(o.apply(this,arguments),e[1],e[2])}),i&&(V[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function U(t,e){return t.isValid()?(e=Y(e,t.localeData()),H[e]=H[e]||function(t){var e,i,n,o=t.match(F);for(e=0,i=o.length;e<i;e++)o[e]=V[o[e]]?V[o[e]]:(n=o[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,r="";for(n=0;n<i;n++)r+=D(o[n])?o[n].call(e,t):o[n];return r}}(e),H[e](t)):t.localeData().invalidDate()}function Y(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;i>=0&&j.test(t);)t=t.replace(j,n),j.lastIndex=0,i-=1;return t}var G=/\d/,q=/\d\d/,X=/\d{3}/,$=/\d{4}/,K=/[+-]?\d{6}/,Z=/\d\d?/,Q=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,it=/[+-]?\d{1,6}/,nt=/\d+/,ot=/[+-]?\d+/,rt=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,lt={};function ht(t,e,i){lt[t]=D(e)?e:function(t,n){return t&&i?i:e}}function dt(t,e){return d(lt,t)?lt[t](e._strict,e._locale):new RegExp(ut(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o})))}function ut(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ct={};function pt(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),a(e)&&(n=function(t,i){i[e]=_(t)}),i=0;i<t.length;i++)ct[t[i]]=n}function ft(t,e){pt(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function gt(t,e,i){null!=e&&d(ct,t)&&ct[t](e,i._a,i,t)}var mt=0,vt=1,yt=2,bt=3,wt=4,xt=5,_t=6,Et=7,kt=8;function St(t){return Ct(t)?366:365}function Ct(t){return t%4==0&&t%100!=0||t%400==0}W("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),A("year","y"),z("year",1),ht("Y",ot),ht("YY",Z,q),ht("YYYY",et,$),ht("YYYYY",it,K),ht("YYYYYY",it,K),pt(["YYYYY","YYYYYY"],mt),pt("YYYY",function(t,e){e[mt]=2===t.length?n.parseTwoDigitYear(t):_(t)}),pt("YY",function(t,e){e[mt]=n.parseTwoDigitYear(t)}),pt("Y",function(t,e){e[mt]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var Tt,Mt=Dt("FullYear",!0);function Dt(t,e){return function(i){return null!=i?(Pt(this,t,i),n.updateOffset(this,e),this):Ot(this,t)}}function Ot(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Pt(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&Ct(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),It(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function It(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=(e%12+12)%12;return t+=(e-i)/12,1===i?Ct(t)?29:28:31-i%7%2}Tt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),W("MMMM",0,0,function(t){return this.localeData().months(this,t)}),A("month","M"),z("month",8),ht("M",Z),ht("MM",Z,q),ht("MMM",function(t,e){return e.monthsShortRegex(t)}),ht("MMMM",function(t,e){return e.monthsRegex(t)}),pt(["M","MM"],function(t,e){e[vt]=_(t)-1}),pt(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[vt]=o:p(i).invalidMonth=t});var At=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Nt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Lt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(!a(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),It(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function zt(t){return null!=t?(Lt(this,t),n.updateOffset(this,!0),this):Ot(this,"Month")}var Bt=at,Ft=at;function jt(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],r=[];for(e=0;e<12;e++)i=c([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)n[e]=ut(n[e]),o[e]=ut(o[e]);for(e=0;e<24;e++)r[e]=ut(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ht(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Vt(t,e,i){var n=7+e-i;return-(7+Ht(t,0,n).getUTCDay()-e)%7+n-1}function Wt(t,e,i,n,o){var r,s,a=1+7*(e-1)+(7+i-n)%7+Vt(t,n,o);return a<=0?s=St(r=t-1)+a:a>St(t)?(r=t+1,s=a-St(t)):(r=t,s=a),{year:r,dayOfYear:s}}function Ut(t,e,i){var n,o,r=Vt(t.year(),e,i),s=Math.floor((t.dayOfYear()-r-1)/7)+1;return s<1?n=s+Yt(o=t.year()-1,e,i):s>Yt(t.year(),e,i)?(n=s-Yt(t.year(),e,i),o=t.year()+1):(o=t.year(),n=s),{week:n,year:o}}function Yt(t,e,i){var n=Vt(t,e,i),o=Vt(t+1,e,i);return(St(t)-n+o)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),z("week",5),z("isoWeek",5),ht("w",Z),ht("ww",Z,q),ht("W",Z),ht("WW",Z,q),ft(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=_(t)}),W("d",0,"do","day"),W("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),W("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),W("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),ht("d",Z),ht("e",Z),ht("E",Z),ht("dd",function(t,e){return e.weekdaysMinRegex(t)}),ht("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ht("dddd",function(t,e){return e.weekdaysRegex(t)}),ft(["dd","ddd","dddd"],function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:p(i).invalidWeekday=t}),ft(["d","e","E"],function(t,e,i,n){e[n]=_(t)});var Gt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$t=at,Kt=at,Zt=at;function Qt(){function t(t,e){return e.length-t.length}var e,i,n,o,r,s=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=c([2e3,1]).day(e),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),r=this.weekdays(i,""),s.push(n),a.push(o),l.push(r),h.push(n),h.push(o),h.push(r);for(s.sort(t),a.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)a[e]=ut(a[e]),l[e]=ut(l[e]),h[e]=ut(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Jt(){return this.hours()%12||12}function te(t,e){W(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ee(t,e){return e._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Jt),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+Jt.apply(this)+B(this.minutes(),2)}),W("hmmss",0,0,function(){return""+Jt.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),te("a",!0),te("A",!1),A("hour","h"),z("hour",13),ht("a",ee),ht("A",ee),ht("H",Z),ht("h",Z),ht("k",Z),ht("HH",Z,q),ht("hh",Z,q),ht("kk",Z,q),ht("hmm",Q),ht("hmmss",J),ht("Hmm",Q),ht("Hmmss",J),pt(["H","HH"],bt),pt(["k","kk"],function(t,e,i){var n=_(t);e[bt]=24===n?0:n}),pt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),pt(["h","hh"],function(t,e,i){e[bt]=_(t),p(i).bigHour=!0}),pt("hmm",function(t,e,i){var n=t.length-2;e[bt]=_(t.substr(0,n)),e[wt]=_(t.substr(n)),p(i).bigHour=!0}),pt("hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[bt]=_(t.substr(0,n)),e[wt]=_(t.substr(n,2)),e[xt]=_(t.substr(o)),p(i).bigHour=!0}),pt("Hmm",function(t,e,i){var n=t.length-2;e[bt]=_(t.substr(0,n)),e[wt]=_(t.substr(n))}),pt("Hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[bt]=_(t.substr(0,n)),e[wt]=_(t.substr(n,2)),e[xt]=_(t.substr(o))});var ie,ne=Dt("Hours",!0),oe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Nt,monthsShort:Rt,week:{dow:0,doy:6},weekdays:Gt,weekdaysMin:Xt,weekdaysShort:qt,meridiemParse:/[ap]\.?m?\.?/i},re={},se={};function ae(t){return t?t.toLowerCase().replace("_","-"):t}function le(e){var i=null;if(!re[e]&&void 0!==t&&t&&t.exports)try{i=ie._abbr,function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),he(i)}catch(n){}return re[e]}function he(t,e){var i;return t&&(i=s(e)?ue(t):de(t,e))&&(ie=i),ie._abbr}function de(t,e){if(null!==e){var i=oe;if(e.abbr=t,null!=re[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=re[t]._config;else if(null!=e.parentLocale){if(null==re[e.parentLocale])return se[e.parentLocale]||(se[e.parentLocale]=[]),se[e.parentLocale].push({name:t,config:e}),null;i=re[e.parentLocale]._config}return re[t]=new P(O(i,e)),se[t]&&se[t].forEach(function(t){de(t.name,t.config)}),he(t),re[t]}return delete re[t],null}function ue(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ie;if(!o(t)){if(e=le(t))return e;t=[t]}return function(t){for(var e,i,n,o,r=0;r<t.length;){for(e=(o=ae(t[r]).split("-")).length,i=(i=ae(t[r+1]))?i.split("-"):null;e>0;){if(n=le(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&E(o,i,!0)>=e-1)break;e--}r++}return null}(t)}function ce(t){var e,i=t._a;return i&&-2===p(t).overflow&&(e=i[vt]<0||i[vt]>11?vt:i[yt]<1||i[yt]>It(i[mt],i[vt])?yt:i[bt]<0||i[bt]>24||24===i[bt]&&(0!==i[wt]||0!==i[xt]||0!==i[_t])?bt:i[wt]<0||i[wt]>59?wt:i[xt]<0||i[xt]>59?xt:i[_t]<0||i[_t]>999?_t:-1,p(t)._overflowDayOfYear&&(e<mt||e>yt)&&(e=yt),p(t)._overflowWeeks&&-1===e&&(e=Et),p(t)._overflowWeekday&&-1===e&&(e=kt),p(t).overflow=e),t}function pe(t,e,i){return null!=t?t:null!=e?e:i}function fe(t){var e,i,o,r,s=[];if(!t._d){for(o=function(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[yt]&&null==t._a[vt]&&function(t){var e,i,n,o,r,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,s=4,i=pe(e.GG,t._a[mt],Ut(De(),1,4).year),n=pe(e.W,1),((o=pe(e.E,1))<1||o>7)&&(l=!0);else{r=t._locale._week.dow,s=t._locale._week.doy;var h=Ut(De(),r,s);i=pe(e.gg,t._a[mt],h.year),n=pe(e.w,h.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||e.e>6)&&(l=!0)):o=r}n<1||n>Yt(i,r,s)?p(t)._overflowWeeks=!0:null!=l?p(t)._overflowWeekday=!0:(a=Wt(i,n,o,r,s),t._a[mt]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(r=pe(t._a[mt],o[mt]),(t._dayOfYear>St(r)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),i=Ht(r,0,t._dayOfYear),t._a[vt]=i.getUTCMonth(),t._a[yt]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[bt]&&0===t._a[wt]&&0===t._a[xt]&&0===t._a[_t]&&(t._nextDay=!0,t._a[bt]=0),t._d=(t._useUTC?Ht:function(t,e,i,n,o,r,s){var a=new Date(t,e,i,n,o,r,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[bt]=24),t._w&&void 0!==t._w.d&&t._w.d!==t._d.getDay()&&(p(t).weekdayMismatch=!0)}}var ge=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,me=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/Z|[+-]\d\d(?::?\d\d)?/,ye=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],be=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],we=/^\/?Date\((\-?\d+)/i;function xe(t){var e,i,n,o,r,s,a=t._i,l=ge.exec(a)||me.exec(a);if(l){for(p(t).iso=!0,e=0,i=ye.length;e<i;e++)if(ye[e][1].exec(l[1])){o=ye[e][0],n=!1!==ye[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,i=be.length;e<i;e++)if(be[e][1].exec(l[3])){r=(l[2]||" ")+be[e][0];break}if(null==r)return void(t._isValid=!1)}if(!n&&null!=r)return void(t._isValid=!1);if(l[4]){if(!ve.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=o+(r||"")+(s||""),Ce(t)}else t._isValid=!1}var _e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ee(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var ke={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Se(t){var e,i,n,o,r,s,a=_e.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(a){var l=(e=a[3],i=a[2],n=a[5],o=a[6],r=a[7],s=[Ee(a[4]),Rt.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(o,10)],r&&s.push(parseInt(r,10)),s);if(!function(t,e,i){return!t||qt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(p(i).weekdayMismatch=!0,i._isValid=!1,!1)}(a[1],l,t))return;t._a=l,t._tzm=function(t,e,i){if(t)return ke[t];if(a[9])return 0;var n=parseInt(a[10],10),o=n%100;return(n-o)/100*60+o}(a[8]),t._d=Ht.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function Ce(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],p(t).empty=!0;var e,i,o,r,s,a=""+t._i,l=a.length,h=0;for(o=Y(t._f,t._locale).match(F)||[],e=0;e<o.length;e++)(i=(a.match(dt(r=o[e],t))||[])[0])&&((s=a.substr(0,a.indexOf(i))).length>0&&p(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),h+=i.length),V[r]?(i?p(t).empty=!1:p(t).unusedTokens.push(r),gt(r,i,t)):t._strict&&!i&&p(t).unusedTokens.push(r);p(t).charsLeftOver=l-h,a.length>0&&p(t).unusedInput.push(a),t._a[bt]<=12&&!0===p(t).bigHour&&t._a[bt]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[bt]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[bt],t._meridiem),fe(t),ce(t)}else Se(t);else xe(t)}function Te(t){var e=t._i,i=t._f;return t._locale=t._locale||ue(t._l),null===e||void 0===i&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new b(ce(e)):(l(e)?t._d=e:o(i)?function(t){var e,i,n,o,r;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Ce(e),f(e)&&(r+=p(e).charsLeftOver,r+=10*p(e).unusedTokens.length,p(e).score=r,(null==n||r<n)&&(n=r,i=e));u(t,i||e)}(t):i?Ce(t):function(t){var e=t._i;s(e)?t._d=new Date(n.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=we.exec(t._i);null===e?(xe(t),!1===t._isValid&&(delete t._isValid,Se(t),!1===t._isValid&&(delete t._isValid,n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=h(e.slice(0),function(t){return parseInt(t,10)}),fe(t)):r(e)?function(t){if(!t._d){var e=R(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),fe(t)}}(t):a(e)?t._d=new Date(e):n.createFromInputFallback(t)}(t),f(t)||(t._d=null),t))}function Me(t,e,i,n,s){var a,l={};return!0!==i&&!1!==i||(n=i,i=void 0),(r(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||o(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=i,l._i=t,l._f=e,l._strict=n,(a=new b(ce(Te(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function De(t,e,i,n){return Me(t,e,i,n,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var Oe=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Pe=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()});function Ie(t,e){var i,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return De();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ne(t){var e=R(t),i=e.year||0,n=e.quarter||0,o=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Tt.call(Ae,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Ae.length;++n)if(t[Ae[n]]){if(i)return!1;parseFloat(t[Ae[n]])!==_(t[Ae[n]])&&(i=!0)}return!0}(e),this._milliseconds=+d+1e3*h+6e4*l+1e3*a*60*60,this._days=+s+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=ue(),this._bubble()}function Re(t){return t instanceof Ne}function Le(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ze(t,e){W(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+B(~~(t/60),2)+e+B(~~t%60,2)})}ze("Z",":"),ze("ZZ",""),ht("Z",st),ht("ZZ",st),pt(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Fe(st,t)});var Be=/([\+\-]|\d\d)/gi;function Fe(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Be)||["-",0,0],o=60*n[1]+_(n[2]);return 0===o?0:"+"===n[0]?o:-o}function je(t,e){var i,o;return e._isUTC?(i=e.clone(),o=(w(t)||l(t)?t.valueOf():De(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),n.updateOffset(i,!1),i):De(t).local()}function He(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ve(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var We=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ue=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ye(t,e){var i,n,o,r,s,l,h=t,u=null;return Re(t)?h={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(h={},e?h[e]=t:h.milliseconds=t):(u=We.exec(t))?(i="-"===u[1]?-1:1,h={y:0,d:_(u[yt])*i,h:_(u[bt])*i,m:_(u[wt])*i,s:_(u[xt])*i,ms:_(Le(1e3*u[_t]))*i}):(u=Ue.exec(t))?h={y:Ge(u[2],i="-"===u[1]?-1:1),M:Ge(u[3],i),w:Ge(u[4],i),d:Ge(u[5],i),h:Ge(u[6],i),m:Ge(u[7],i),s:Ge(u[8],i)}:null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(r=De(h.from),s=De(h.to),o=r.isValid()&&s.isValid()?(s=je(s,r),r.isBefore(s)?l=qe(r,s):((l=qe(s,r)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(h={}).ms=o.milliseconds,h.M=o.months),n=new Ne(h),Re(t)&&d(t,"_locale")&&(n._locale=t._locale),n}function Ge(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function qe(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Xe(t,e){return function(i,n){var o;return null===n||isNaN(+n)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=i,i=n,n=o),$e(this,Ye(i="string"==typeof i?+i:i,n),t),this}}function $e(t,e,i,o){var r=e._milliseconds,s=Le(e._days),a=Le(e._months);t.isValid()&&(o=null==o||o,a&&Lt(t,Ot(t,"Month")+a*i),s&&Pt(t,"Date",Ot(t,"Date")+s*i),r&&t._d.setTime(t._d.valueOf()+r*i),o&&n.updateOffset(t,s||a))}Ye.fn=Ne.prototype,Ye.invalid=function(){return Ye(NaN)};var Ke=Xe(1,"add"),Ze=Xe(-1,"subtract");function Qe(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Je(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ue(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ti=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function ei(){return this._locale}function ii(t,e){W(0,[t,t.length],0,e)}function ni(t,e,i,n,o){var r;return null==t?Ut(this,n,o).year:(e>(r=Yt(t,n,o))&&(e=r),(function(t,e,i,n,o){var r=Wt(t,e,i,n,o),s=Ht(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}).call(this,t,e,i,n,o))}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ii("gggg","weekYear"),ii("ggggg","weekYear"),ii("GGGG","isoWeekYear"),ii("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),ht("G",ot),ht("g",ot),ht("GG",Z,q),ht("gg",Z,q),ht("GGGG",et,$),ht("gggg",et,$),ht("GGGGG",it,K),ht("ggggg",it,K),ft(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=_(t)}),ft(["gg","GG"],function(t,e,i,o){e[o]=n.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),A("quarter","Q"),z("quarter",7),ht("Q",G),pt("Q",function(t,e){e[vt]=3*(_(t)-1)}),W("D",["DD",2],"Do","date"),A("date","D"),z("date",9),ht("D",Z),ht("DD",Z,q),ht("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),pt(["D","DD"],yt),pt("Do",function(t,e){e[yt]=_(t.match(Z)[0])});var oi=Dt("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),z("dayOfYear",4),ht("DDD",tt),ht("DDDD",X),pt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=_(t)}),W("m",["mm",2],0,"minute"),A("minute","m"),z("minute",14),ht("m",Z),ht("mm",Z,q),pt(["m","mm"],wt);var ri=Dt("Minutes",!1);W("s",["ss",2],0,"second"),A("second","s"),z("second",15),ht("s",Z),ht("ss",Z,q),pt(["s","ss"],xt);var si,ai=Dt("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),z("millisecond",16),ht("S",tt,G),ht("SS",tt,q),ht("SSS",tt,X),si="SSSS";si.length<=9;si+="S")ht(si,nt);function li(t,e){e[_t]=_(1e3*("0."+t))}for(si="S";si.length<=9;si+="S")pt(si,li);var hi=Dt("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var di=b.prototype;function ui(t){return t}di.add=Ke,di.calendar=function(t,e){var i=t||De(),o=je(i,this).startOf("day"),r=n.calendarFormat(this,o)||"sameElse",s=e&&(D(e[r])?e[r].call(this,i):e[r]);return this.format(s||this.localeData().calendar(r,this,De(i)))},di.clone=function(){return new b(this)},di.diff=function(t,e,i){var n,o,r;if(!this.isValid())return NaN;if(!(n=je(t,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=N(e)){case"year":r=Qe(this,n)/12;break;case"month":r=Qe(this,n);break;case"quarter":r=Qe(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-o)/864e5;break;case"week":r=(this-n-o)/6048e5;break;default:r=this-n}return i?r:x(r)},di.endOf=function(t){return void 0===(t=N(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},di.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=U(this,t);return this.localeData().postformat(e)},di.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||De(t).isValid())?Ye({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.fromNow=function(t){return this.from(De(),t)},di.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||De(t).isValid())?Ye({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},di.toNow=function(t){return this.to(De(),t)},di.get=function(t){return D(this[t=N(t)])?this[t]():this},di.invalidAt=function(){return p(this).overflow},di.isAfter=function(t,e){var i=w(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=N(s(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},di.isBefore=function(t,e){var i=w(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=N(s(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},di.isBetween=function(t,e,i,n){return("("===(n=n||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))},di.isSame=function(t,e){var i,n=w(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(e||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},di.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},di.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},di.isValid=function(){return f(this)},di.lang=ti,di.locale=Je,di.localeData=ei,di.max=Pe,di.min=Oe,di.parsingFlags=function(){return u({},p(this))},di.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:L[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=R(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(D(this[t=N(t)]))return this[t](e);return this},di.startOf=function(t){switch(t=N(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},di.subtract=Ze,di.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},di.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},di.toDate=function(){return new Date(this.valueOf())},di.toISOString=function(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?U(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(Date.prototype.toISOString)?this.toDate().toISOString():U(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},di.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},di.toJSON=function(){return this.isValid()?this.toISOString():null},di.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},di.unix=function(){return Math.floor(this.valueOf()/1e3)},di.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},di.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},di.year=Mt,di.isLeapYear=function(){return Ct(this.year())},di.weekYear=function(t){return ni.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},di.isoWeekYear=function(t){return ni.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},di.quarter=di.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},di.month=zt,di.daysInMonth=function(){return It(this.year(),this.month())},di.week=di.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},di.isoWeek=di.isoWeeks=function(t){var e=Ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},di.weeksInYear=function(){var t=this.localeData()._week;return Yt(this.year(),t.dow,t.doy)},di.isoWeeksInYear=function(){return Yt(this.year(),1,4)},di.date=oi,di.day=di.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},di.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},di.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},di.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},di.hour=di.hours=ne,di.minute=di.minutes=ri,di.second=di.seconds=ai,di.millisecond=di.milliseconds=hi,di.utcOffset=function(t,e,i){var o,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Fe(st,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(o=He(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==t&&(!e||this._changeInProgress?$e(this,Ye(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:He(this)},di.utc=function(t){return this.utcOffset(0,t)},di.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(He(this),"m")),this},di.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Fe(rt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},di.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)},di.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},di.isLocal=function(){return!!this.isValid()&&!this._isUTC},di.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},di.isUtc=Ve,di.isUTC=Ve,di.zoneAbbr=function(){return this._isUTC?"UTC":""},di.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},di.dates=S("dates accessor is deprecated. Use date instead.",oi),di.months=S("months accessor is deprecated. Use month instead",zt),di.years=S("years accessor is deprecated. Use year instead",Mt),di.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),di.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Te(t))._a){var e=t._isUTC?c(t._a):De(t._a);this._isDSTShifted=this.isValid()&&E(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var ci=P.prototype;function pi(t,e,i,n){var o=ue(),r=c().set(n,e);return o[i](r,t)}function fi(t,e,i){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return pi(t,e,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=pi(t,n,i,"month");return o}function gi(t,e,i,n){"boolean"==typeof t?(a(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,a(e)&&(i=e,e=void 0),e=e||"");var o,r=ue(),s=t?r._week.dow:0;if(null!=i)return pi(e,(i+s)%7,n,"day");var l=[];for(o=0;o<7;o++)l[o]=pi(e,(o+s)%7,n,"day");return l}ci.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return D(n)?n.call(e,i):n},ci.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},ci.invalidDate=function(){return this._invalidDate},ci.ordinal=function(t){return this._ordinal.replace("%d",t)},ci.preparse=ui,ci.postformat=ui,ci.relativeTime=function(t,e,i,n){var o=this._relativeTime[i];return D(o)?o(t,e,i,n):o.replace(/%d/i,t)},ci.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return D(i)?i(e):i.replace(/%s/i,e)},ci.set=function(t){var e,i;for(i in t)D(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ci.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||At).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},ci.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[At.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ci.monthsParse=function(t,e,i){var n,o,r;if(this._monthsParseExact)return(function(t,e,i){var n,o,r,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=c([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(o=Tt.call(this._shortMonthsParse,s))?o:null:-1!==(o=Tt.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=Tt.call(this._shortMonthsParse,s))?o:-1!==(o=Tt.call(this._longMonthsParse,s))?o:null:-1!==(o=Tt.call(this._longMonthsParse,s))?o:-1!==(o=Tt.call(this._shortMonthsParse,s))?o:null}).call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=c([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},ci.monthsRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||jt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ft),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},ci.monthsShortRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||jt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Bt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},ci.week=function(t){return Ut(t,this._week.dow,this._week.doy).week},ci.firstDayOfYear=function(){return this._week.doy},ci.firstDayOfWeek=function(){return this._week.dow},ci.weekdays=function(t,e){return t?o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},ci.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},ci.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},ci.weekdaysParse=function(t,e,i){var n,o,r;if(this._weekdaysParseExact)return(function(t,e,i){var n,o,r,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=c([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(o=Tt.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=Tt.call(this._weekdaysParse,s))?o:-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:-1!==(o=Tt.call(this._weekdaysParse,s))?o:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Tt.call(this._minWeekdaysParse,s))?o:-1!==(o=Tt.call(this._weekdaysParse,s))?o:-1!==(o=Tt.call(this._shortWeekdaysParse,s))?o:null}).call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=c([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},ci.weekdaysRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=$t),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},ci.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ci.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Zt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ci.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},ci.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},he("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",he),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ue);var mi=Math.abs;function vi(t,e,i,n){var o=Ye(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function yi(t){return t<0?Math.floor(t):Math.ceil(t)}function bi(t){return 4800*t/146097}function wi(t){return 146097*t/4800}function xi(t){return function(){return this.as(t)}}var _i=xi("ms"),Ei=xi("s"),ki=xi("m"),Si=xi("h"),Ci=xi("d"),Ti=xi("w"),Mi=xi("M"),Di=xi("y");function Oi(t){return function(){return this.isValid()?this._data[t]:NaN}}var Pi=Oi("milliseconds"),Ii=Oi("seconds"),Ai=Oi("minutes"),Ni=Oi("hours"),Ri=Oi("days"),Li=Oi("months"),zi=Oi("years"),Bi=Math.round,Fi={ss:44,s:45,m:45,h:22,d:26,M:11},ji=Math.abs;function Hi(t){return(t>0)-(t<0)||+t}function Vi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=ji(this._milliseconds)/1e3,n=ji(this._days),o=ji(this._months);t=x(i/60),e=x(t/60),i%=60,t%=60;var r=x(o/12),s=o%=12,a=n,l=e,h=t,d=i?i.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var c=u<0?"-":"",p=Hi(this._months)!==Hi(u)?"-":"",f=Hi(this._days)!==Hi(u)?"-":"",g=Hi(this._milliseconds)!==Hi(u)?"-":"";return c+"P"+(r?p+r+"Y":"")+(s?p+s+"M":"")+(a?f+a+"D":"")+(l||h||d?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(d?g+d+"S":"")}var Wi=Ne.prototype;return Wi.isValid=function(){return this._isValid},Wi.abs=function(){var t=this._data;return this._milliseconds=mi(this._milliseconds),this._days=mi(this._days),this._months=mi(this._months),t.milliseconds=mi(t.milliseconds),t.seconds=mi(t.seconds),t.minutes=mi(t.minutes),t.hours=mi(t.hours),t.months=mi(t.months),t.years=mi(t.years),this},Wi.add=function(t,e){return vi(this,t,e,1)},Wi.subtract=function(t,e){return vi(this,t,e,-1)},Wi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=N(t))||"year"===t)return i=this._months+bi(e=this._days+n/864e5),"month"===t?i:i/12;switch(e=this._days+Math.round(wi(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Wi.asMilliseconds=_i,Wi.asSeconds=Ei,Wi.asMinutes=ki,Wi.asHours=Si,Wi.asDays=Ci,Wi.asWeeks=Ti,Wi.asMonths=Mi,Wi.asYears=Di,Wi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN},Wi._bubble=function(){var t,e,i,n,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*yi(wi(a)+s),s=0,a=0),l.milliseconds=r%1e3,t=x(r/1e3),l.seconds=t%60,e=x(t/60),l.minutes=e%60,i=x(e/60),l.hours=i%24,s+=x(i/24),a+=o=x(bi(s)),s-=yi(wi(o)),n=x(a/12),a%=12,l.days=s,l.months=a,l.years=n,this},Wi.clone=function(){return Ye(this)},Wi.get=function(t){return t=N(t),this.isValid()?this[t+"s"]():NaN},Wi.milliseconds=Pi,Wi.seconds=Ii,Wi.minutes=Ai,Wi.hours=Ni,Wi.days=Ri,Wi.weeks=function(){return x(this.days()/7)},Wi.months=Li,Wi.years=zi,Wi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=Ye(t).abs(),o=Bi(n.as("s")),r=Bi(n.as("m")),s=Bi(n.as("h")),a=Bi(n.as("d")),l=Bi(n.as("M")),h=Bi(n.as("y")),d=o<=Fi.ss&&["s",o]||o<Fi.s&&["ss",o]||r<=1&&["m"]||r<Fi.m&&["mm",r]||s<=1&&["h"]||s<Fi.h&&["hh",s]||a<=1&&["d"]||a<Fi.d&&["dd",a]||l<=1&&["M"]||l<Fi.M&&["MM",l]||h<=1&&["y"]||["yy",h];return d[2]=e,d[3]=+t>0,d[4]=i,(function(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}).apply(null,d)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Wi.toISOString=Vi,Wi.toString=Vi,Wi.toJSON=Vi,Wi.locale=Je,Wi.localeData=ei,Wi.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vi),Wi.lang=ti,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ht("x",ot),ht("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),pt("x",function(t,e,i){i._d=new Date(_(t))}),n.version="2.19.1",e=De,n.fn=di,n.min=function(){return Ie("isBefore",[].slice.call(arguments,0))},n.max=function(){return Ie("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=c,n.unix=function(t){return De(1e3*t)},n.months=function(t,e){return fi(t,e,"months")},n.isDate=l,n.locale=he,n.invalid=g,n.duration=Ye,n.isMoment=w,n.weekdays=function(t,e,i){return gi(t,e,i,"weekdays")},n.parseZone=function(){return De.apply(null,arguments).parseZone()},n.localeData=ue,n.isDuration=Re,n.monthsShort=function(t,e){return fi(t,e,"monthsShort")},n.weekdaysMin=function(t,e,i){return gi(t,e,i,"weekdaysMin")},n.defineLocale=de,n.updateLocale=function(t,e){if(null!=e){var i,n=oe;null!=re[t]&&(n=re[t]._config),(i=new P(e=O(n,e))).parentLocale=re[t],re[t]=i,he(t)}else null!=re[t]&&(null!=re[t].parentLocale?re[t]=re[t].parentLocale:null!=re[t]&&delete re[t]);return re[t]},n.locales=function(){return C(re)},n.weekdaysShort=function(t,e,i){return gi(t,e,i,"weekdaysShort")},n.normalizeUnits=N,n.relativeTimeRounding=function(t){return void 0===t?Bi:"function"==typeof t&&(Bi=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==Fi[t]&&(void 0===e?Fi[t]:(Fi[t]=e,"s"===t&&(Fi.ss=e-1),!0))},n.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},n.prototype=di,n}()}).call(e,i(155)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=156},function(t,e,i){(function(e){var i,n="undefined"!=typeof window?window:void 0!==e?e:null;if(n&&n.crypto&&crypto.getRandomValues){var o=new Uint8Array(16);i=function(){return crypto.getRandomValues(o),o}}if(!i){var r=new Array(16);i=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}for(var s=[],a={},l=0;l<256;l++)s[l]=(l+256).toString(16).substr(1),a[s[l]]=l;function h(t,e){var i=e||0;return s[t[i++]]+s[t[i++]]+s[t[i++]]+s[t[i++]]+"-"+s[t[i++]]+s[t[i++]]+"-"+s[t[i++]]+s[t[i++]]+"-"+s[t[i++]]+s[t[i++]]+"-"+s[t[i++]]+s[t[i++]]+s[t[i++]]+s[t[i++]]+s[t[i++]]+s[t[i++]]}var d=i(),u=[1|d[0],d[1],d[2],d[3],d[4],d[5]],c=16383&(d[6]<<8|d[7]),p=0,f=0;function g(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var s=0;s<16;s++)e[o+s]=r[s];return e||h(r)}var m=g;m.v1=function(t,e,i){var n=e&&i||0,o=e||[],r=void 0!==(t=t||{}).clockseq?t.clockseq:c,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),a=void 0!==t.nsecs?t.nsecs:f+1,l=s-p+(a-f)/1e4;if(l<0&&void 0===t.clockseq&&(r=r+1&16383),(l<0||s>p)&&void 0===t.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=s,f=a,c=r;var d=(1e4*(268435455&(s+=122192928e5))+a)%4294967296;o[n++]=d>>>24&255,o[n++]=d>>>16&255,o[n++]=d>>>8&255,o[n++]=255&d;var g=s/4294967296*1e4&268435455;o[n++]=g>>>8&255,o[n++]=255&g,o[n++]=g>>>24&15|16,o[n++]=g>>>16&255,o[n++]=r>>>8|128,o[n++]=255&r;for(var m=t.node||u,v=0;v<6;v++)o[n+v]=m[v];return e||h(o)},m.v4=g,m.parse=function(t,e,i){var n=e&&i||0,o=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){o<16&&(e[n+o++]=a[t])});o<16;)e[n+o++]=0;return e},m.unparse=h,t.exports=m}).call(e,i(158))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Graph3d=i(161),e.graph3d={Camera:i(95),Filter:i(96),Point2d:i(91),Point3d:i(34),Slider:i(92),StepNumber:i(93)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){var n=i(7),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,i){var n,o=(n=i(90))&&n.__esModule?n:{default:n},r=i(44),s=i(2),a=i(34),l=i(91),h=i(92),d=i(93),u=i(94),c=i(15).default,p=i(15).printStyle,f=i(172).allOptions,g=i(173);function m(t,e,i){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.dataGroup=new g,this.dataPoints=null,this.create(),u.setDefaults(m.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(i),this.setData(e)}function v(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function y(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}m.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(t){return t},yValueLabel:function(t){return t},zValueLabel:function(t){return t},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:void 0,animationInterval:1e3,animationPreload:!1,animationAutoStart:void 0,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(m.STYLE=u.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:void 0,backgroundColor:void 0,xBarWidth:void 0,yBarWidth:void 0,valueMin:void 0,valueMax:void 0,xMin:void 0,xMax:void 0,xStep:void 0,yMin:void 0,yMax:void 0,yStep:void 0,zMin:void 0,zMax:void 0,zStep:void 0},r(m.prototype),m.prototype._setScale=function(){this.scale=new a(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x,e=this.yRange.center()*this.scale.y,i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,i)},m.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},m.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),n=t.x*this.scale.x,o=t.y*this.scale.y,r=t.z*this.scale.z,s=e.x,l=e.y,h=e.z,d=Math.sin(i.x),u=Math.cos(i.x),c=Math.sin(i.y),p=Math.cos(i.y),f=Math.sin(i.z),g=Math.cos(i.z);return new a(p*(f*(o-l)+g*(n-s))-c*(r-h),d*(p*(r-h)+c*(f*(o-l)+g*(n-s)))+u*(g*(o-l)-f*(n-s)),u*(p*(r-h)+c*(f*(o-l)+g*(n-s)))-d*(g*(o-l)-f*(n-s)))},m.prototype._convertTranslationToScreen=function(t){var e,i,n=this.eye.z,o=t.x,r=t.y,s=t.z;return this.showPerspective?(e=n/s*(o-this.eye.x),i=n/s*(r-this.eye.y)):(e=o*(-n/this.camera.getArmLength()),i=r*(-n/this.camera.getArmLength())),new l(this.currentXCenter+e*this.frame.canvas.clientWidth,this.currentYCenter-i*this.frame.canvas.clientWidth)},m.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.trans=this._convertPointToTranslation(i.point),i.screen=this._convertTranslationToScreen(i.trans);var n=this._convertPointToTranslation(i.bottom);i.dist=this.showPerspective?n.length():-n.z}t.sort(function(t,e){return e.dist-t.dist})},m.prototype._initializeRanges=function(){var t=this.dataGroup;this.xRange=t.xRange,this.yRange=t.yRange,this.zRange=t.zRange,this.valueRange=t.valueRange,this.xStep=t.xStep,this.yStep=t.yStep,this.zStep=t.zStep,this.xBarWidth=t.xBarWidth,this.yBarWidth=t.yBarWidth,this.colX=t.colX,this.colY=t.colY,this.colZ=t.colZ,this.colValue=t.colValue,this._setScale()},m.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var n=new a;n.x=t[i][this.colX]||0,n.y=t[i][this.colY]||0,n.z=t[i][this.colZ]||0,n.data=t[i],void 0!==this.colValue&&(n.value=t[i][this.colValue]||0);var o={};o.point=n,o.bottom=new a(n.x,n.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},m.prototype._getDataPoints=function(t){var e,i,n,o,r=[];if(this.style===m.STYLE.GRID||this.style===m.STYLE.SURFACE){var s=this.dataGroup.getDistinctValues(this.colX,t),a=this.dataGroup.getDistinctValues(this.colY,t);r=this.getDataPoints(t);var l=[];for(n=0;n<r.length;n++){var h=s.indexOf((o=r[n]).point.x),d=a.indexOf(o.point.y);void 0===l[h]&&(l[h]=[]),l[h][d]=o}for(e=0;e<l.length;e++)for(i=0;i<l[e].length;i++)l[e][i]&&(l[e][i].pointRight=e<l.length-1?l[e+1][i]:void 0,l[e][i].pointTop=i<l[e].length-1?l[e][i+1]:void 0,l[e][i].pointCross=e<l.length-1&&i<l[e].length-1?l[e+1][i+1]:void 0)}else if(this._checkValueField(t),r=this.getDataPoints(t),this.style===m.STYLE.LINE)for(n=0;n<r.length;n++)n>0&&(r[n-1].pointNext=r[n]);return r},m.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this;s.addEventListener(this.frame.canvas,"mousedown",function(t){e._onMouseDown(t)}),s.addEventListener(this.frame.canvas,"touchstart",function(t){e._onTouchStart(t)}),s.addEventListener(this.frame.canvas,"mousewheel",function(t){e._onWheel(t)}),s.addEventListener(this.frame.canvas,"mousemove",function(t){e._onTooltip(t)}),s.addEventListener(this.frame.canvas,"click",function(t){e._onClick(t)}),this.containerElement.appendChild(this.frame)},m.prototype._setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},m.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},m.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},m.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},m.prototype._resizeCenter=function(){this.currentXCenter="%"===this.xCenter.charAt(this.xCenter.length-1)?parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.xCenter),this.currentYCenter="%"===this.yCenter.charAt(this.yCenter.length-1)?parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.yCenter)},m.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},m.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style),this._initializeRanges(),this._redrawFilter()},m.prototype.setData=function(t){null!=t&&(this._readData(t),this.redraw(),this.animationStart())},m.prototype.setOptions=function(t){void 0!==t&&(!0===c.validate(t,f)&&console.log("%cErrors have been found in the supplied options object.",p),this.animationStop(),u.setOptions(t,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},m.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case m.STYLE.BAR:t=m.prototype._redrawBarGraphPoint;break;case m.STYLE.BARCOLOR:t=m.prototype._redrawBarColorGraphPoint;break;case m.STYLE.BARSIZE:t=m.prototype._redrawBarSizeGraphPoint;break;case m.STYLE.DOT:t=m.prototype._redrawDotGraphPoint;break;case m.STYLE.DOTLINE:t=m.prototype._redrawDotLineGraphPoint;break;case m.STYLE.DOTCOLOR:t=m.prototype._redrawDotColorGraphPoint;break;case m.STYLE.DOTSIZE:t=m.prototype._redrawDotSizeGraphPoint;break;case m.STYLE.SURFACE:t=m.prototype._redrawSurfaceGraphPoint;break;case m.STYLE.GRID:t=m.prototype._redrawGridGraphPoint;break;case m.STYLE.LINE:t=m.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t},m.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},m.prototype._getContext=function(){var t=this.frame.canvas.getContext("2d");return t.lineJoin="round",t.lineCap="round",t},m.prototype._redrawClear=function(){var t=this.frame.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},m.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},m.prototype._getLegendWidth=function(){return this.style===m.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===m.STYLE.BARSIZE?this.xBarWidth:20},m.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==m.STYLE.LINE&&this.style!==m.STYLE.BARSIZE){var t=this.style===m.STYLE.BARSIZE||this.style===m.STYLE.DOTSIZE,e=this.style===m.STYLE.DOTSIZE||this.style===m.STYLE.DOTCOLOR||this.style===m.STYLE.BARCOLOR,i=Math.max(.25*this.frame.clientHeight,100),n=this.margin,o=this._getLegendWidth(),r=this.frame.clientWidth-this.margin,s=r-o,a=n+i,h=this._getContext();if(h.lineWidth=1,h.font="14px arial",!1===t){var u,c=i;for(u=0;u<c;u++){var p=this._hsv2rgb((u-0)/(c-0)*240,1,1);h.strokeStyle=p,h.beginPath(),h.moveTo(s,n+u),h.lineTo(r,n+u),h.stroke()}h.strokeStyle=this.axisColor,h.strokeRect(s,n,o,i)}else{var f;this.style===m.STYLE.DOTSIZE&&(f=o*(this.dotSizeMinFraction/this.dotSizeMaxFraction)),h.strokeStyle=this.axisColor,h.fillStyle=this.dataColor.fill,h.beginPath(),h.moveTo(s,n),h.lineTo(r,n),h.lineTo(s+f,a),h.lineTo(s,a),h.closePath(),h.fill(),h.stroke()}var g,v,y=e?this.valueRange.min:this.zRange.min,b=e?this.valueRange.max:this.zRange.max,w=new d(y,b,(b-y)/5,!0);for(w.start(!0);!w.end();)u=a-(w.getCurrent()-y)/(b-y)*i,g=new l(s-5,u),v=new l(s,u),this._line(h,g,v),h.textAlign="right",h.textBaseline="middle",h.fillStyle=this.axisColor,h.fillText(w.getCurrent(),s-10,u),w.next();h.textAlign="right",h.textBaseline="top",h.fillText(this.legendLabel,r,a+this.margin)}},m.prototype._redrawFilter=function(){var t=this.dataGroup.dataFilter,e=this.frame.filter;if(e.innerHTML="",t){var i=new h(e,{visible:this.showAnimationControls});e.slider=i,e.style.padding="10px",i.setValues(t.values),i.setPlayInterval(this.animationInterval);var n=this;i.setOnChangeCallback(function(){var t=n.dataGroup.dataFilter,e=i.getIndex();t.selectValue(e),n.dataPoints=t._getDataPoints(),n.redraw()})}else e.slider=void 0},m.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},m.prototype._redrawInfo=function(){var t=this.dataGroup.getInfo();if(void 0!==t){var e=this._getContext();e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top",e.fillText(t,this.margin,this.margin)}},m.prototype._line=function(t,e,i,n){void 0!==n&&(t.strokeStyle=n),t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.stroke()},m.prototype.drawAxisLabelX=function(t,e,i,n,o){void 0===o&&(o=0);var r=this._convert3Dto2D(e);Math.cos(2*n)>0?(t.textAlign="center",t.textBaseline="top",r.y+=o):Math.sin(2*n)<0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,r.x,r.y)},m.prototype.drawAxisLabelY=function(t,e,i,n,o){void 0===o&&(o=0);var r=this._convert3Dto2D(e);Math.cos(2*n)<0?(t.textAlign="center",t.textBaseline="top",r.y+=o):Math.sin(2*n)>0?(t.textAlign="right",t.textBaseline="middle"):(t.textAlign="left",t.textBaseline="middle"),t.fillStyle=this.axisColor,t.fillText(i,r.x,r.y)},m.prototype.drawAxisLabelZ=function(t,e,i,n){void 0===n&&(n=0);var o=this._convert3Dto2D(e);t.textAlign="right",t.textBaseline="middle",t.fillStyle=this.axisColor,t.fillText(i,o.x-n,o.y)},m.prototype._line3d=function(t,e,i,n){var o=this._convert3Dto2D(e),r=this._convert3Dto2D(i);this._line(t,o,r,n)},m.prototype._redrawAxis=function(){var t,e,i,n,o,r,s,h,u=this._getContext();u.font=24/this.camera.getArmLength()+"px arial";var c,p,f,g=.025/this.scale.x,m=.025/this.scale.y,v=5/this.camera.getArmLength(),y=this.camera.getArmRotation().horizontal,b=new l(Math.cos(y),Math.sin(y)),w=this.xRange,x=this.yRange,_=this.zRange;for(u.lineWidth=1,(i=new d(w.min,w.max,this.xStep,void 0===this.defaultXStep)).start(!0);!i.end();){var E=i.getCurrent();if(this.showGrid?(t=new a(E,x.min,_.min),e=new a(E,x.max,_.min),this._line3d(u,t,e,this.gridColor)):this.showXAxis&&(t=new a(E,x.min,_.min),e=new a(E,x.min+g,_.min),this._line3d(u,t,e,this.axisColor),t=new a(E,x.max,_.min),e=new a(E,x.max-g,_.min),this._line3d(u,t,e,this.axisColor)),this.showXAxis){c=new a(E,r=b.x>0?x.min:x.max,_.min);var k="  "+this.xValueLabel(E)+"  ";this.drawAxisLabelX(u,c,k,y,v)}i.next()}for(u.lineWidth=1,(i=new d(x.min,x.max,this.yStep,void 0===this.defaultYStep)).start(!0);!i.end();){var S=i.getCurrent();if(this.showGrid?(t=new a(w.min,S,_.min),e=new a(w.max,S,_.min),this._line3d(u,t,e,this.gridColor)):this.showYAxis&&(t=new a(w.min,S,_.min),e=new a(w.min+m,S,_.min),this._line3d(u,t,e,this.axisColor),t=new a(w.max,S,_.min),e=new a(w.max-m,S,_.min),this._line3d(u,t,e,this.axisColor)),this.showYAxis){c=new a(o=b.y>0?w.min:w.max,S,_.min);var C="  "+this.yValueLabel(S)+"  ";this.drawAxisLabelY(u,c,C,y,v)}i.next()}if(this.showZAxis){for(u.lineWidth=1,(i=new d(_.min,_.max,this.zStep,void 0===this.defaultZStep)).start(!0),o=b.x>0?w.min:w.max,r=b.y<0?x.min:x.max;!i.end();){var T=i.getCurrent(),M=new a(o,r,T),D=this._convert3Dto2D(M);e=new l(D.x-v,D.y),this._line(u,D,e,this.axisColor);var O=this.zValueLabel(T)+" ";this.drawAxisLabelZ(u,M,O,5),i.next()}u.lineWidth=1,t=new a(o,r,_.min),e=new a(o,r,_.max),this._line3d(u,t,e,this.axisColor)}this.showXAxis&&(u.lineWidth=1,p=new a(w.min,x.min,_.min),f=new a(w.max,x.min,_.min),this._line3d(u,p,f,this.axisColor),p=new a(w.min,x.max,_.min),f=new a(w.max,x.max,_.min),this._line3d(u,p,f,this.axisColor)),this.showYAxis&&(u.lineWidth=1,t=new a(w.min,x.min,_.min),e=new a(w.min,x.max,_.min),this._line3d(u,t,e,this.axisColor),t=new a(w.max,x.min,_.min),e=new a(w.max,x.max,_.min),this._line3d(u,t,e,this.axisColor));var P=this.xLabel;P.length>0&&this.showXAxis&&(h=.1/this.scale.y,n=new a(o=(w.max+3*w.min)/4,r=b.x>0?x.min-h:x.max+h,_.min),this.drawAxisLabelX(u,n,P,y));var I=this.yLabel;I.length>0&&this.showYAxis&&(s=.1/this.scale.x,n=new a(o=b.y>0?w.min-s:w.max+s,r=(x.max+3*x.min)/4,_.min),this.drawAxisLabelY(u,n,I,y));var A=this.zLabel;A.length>0&&this.showZAxis&&(n=new a(o=b.x>0?w.min:w.max,r=b.y<0?x.min:x.max,(_.max+3*_.min)/4),this.drawAxisLabelZ(u,n,A,30))},m.prototype._hsv2rgb=function(t,e,i){var n,o,r,s,a,l;switch(s=i*e,a=Math.floor(t/60),l=s*(1-Math.abs(t/60%2-1)),a){case 0:n=s,o=l,r=0;break;case 1:n=l,o=s,r=0;break;case 2:n=0,o=s,r=l;break;case 3:n=0,o=l,r=s;break;case 4:n=l,o=0,r=s;break;case 5:n=s,o=0,r=l;break;default:n=0,o=0,r=0}return"RGB("+parseInt(255*n)+","+parseInt(255*o)+","+parseInt(255*r)+")"},m.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},m.prototype._redrawBar=function(t,e,i,n,o,r){var s,l=this,h=e.point,d=this.zRange.min,u=[{point:new a(h.x-i,h.y-n,h.z)},{point:new a(h.x+i,h.y-n,h.z)},{point:new a(h.x+i,h.y+n,h.z)},{point:new a(h.x-i,h.y+n,h.z)}],c=[{point:new a(h.x-i,h.y-n,d)},{point:new a(h.x+i,h.y-n,d)},{point:new a(h.x+i,h.y+n,d)},{point:new a(h.x-i,h.y+n,d)}];u.forEach(function(t){t.screen=l._convert3Dto2D(t.point)}),c.forEach(function(t){t.screen=l._convert3Dto2D(t.point)});var p=[{corners:u,center:a.avg(c[0].point,c[2].point)},{corners:[u[0],u[1],c[1],c[0]],center:a.avg(c[1].point,c[0].point)},{corners:[u[1],u[2],c[2],c[1]],center:a.avg(c[2].point,c[1].point)},{corners:[u[2],u[3],c[3],c[2]],center:a.avg(c[3].point,c[2].point)},{corners:[u[3],u[0],c[0],c[3]],center:a.avg(c[0].point,c[3].point)}];e.surfaces=p;for(var f=0;f<p.length;f++){var g=this._convertPointToTranslation((s=p[f]).center);s.dist=this.showPerspective?g.length():-g.z}p.sort(function(t,e){return e.dist-t.dist||(t.corners===u?1:e.corners===u?-1:0)}),t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=r,t.fillStyle=o;for(var m=2;m<p.length;m++)this._polygon(t,(s=p[m]).corners)},m.prototype._polygon=function(t,e,i,n){if(!(e.length<2)){void 0!==i&&(t.fillStyle=i),void 0!==n&&(t.strokeStyle=n),t.beginPath(),t.moveTo(e[0].screen.x,e[0].screen.y);for(var o=1;o<e.length;++o){var r=e[o];t.lineTo(r.screen.x,r.screen.y)}t.closePath(),t.fill(),t.stroke()}},m.prototype._drawCircle=function(t,e,i,n,o){var r=this._calcRadius(e,o);t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=n,t.fillStyle=i,t.beginPath(),t.arc(e.screen.x,e.screen.y,r,0,2*Math.PI,!0),t.fill(),t.stroke()},m.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(e,1,1),border:this._hsv2rgb(e,1,.8)}},m.prototype._getColorsColor=function(t){var e,i;if("string"==typeof t.point.value)e=t.point.value,i=t.point.value;else{var n=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(n,1,1),i=this._hsv2rgb(n,1,.8)}return{fill:e,border:i}},m.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},m.prototype._calcRadius=function(t,e){var i;return void 0===e&&(e=this._dotSize()),(i=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()))<0&&(i=0),i},m.prototype._redrawBarGraphPoint=function(t,e){var i=this.xBarWidth/2,n=this.yBarWidth/2,o=this._getColorsRegular(e);this._redrawBar(t,e,i,n,o.fill,o.border)},m.prototype._redrawBarColorGraphPoint=function(t,e){var i=this.xBarWidth/2,n=this.yBarWidth/2,o=this._getColorsColor(e);this._redrawBar(t,e,i,n,o.fill,o.border)},m.prototype._redrawBarSizeGraphPoint=function(t,e){var i=(e.point.value-this.valueRange.min)/this.valueRange.range(),n=this.xBarWidth/2*(.8*i+.2),o=this.yBarWidth/2*(.8*i+.2),r=this._getColorsSize();this._redrawBar(t,e,n,o,r.fill,r.border)},m.prototype._redrawDotGraphPoint=function(t,e){var i=this._getColorsRegular(e);this._drawCircle(t,e,i.fill,i.border)},m.prototype._redrawDotLineGraphPoint=function(t,e){var i=this._convert3Dto2D(e.bottom);t.lineWidth=1,this._line(t,i,e.screen,this.gridColor),this._redrawDotGraphPoint(t,e)},m.prototype._redrawDotColorGraphPoint=function(t,e){var i=this._getColorsColor(e);this._drawCircle(t,e,i.fill,i.border)},m.prototype._redrawDotSizeGraphPoint=function(t,e){var i=this._dotSize(),n=(e.point.value-this.valueRange.min)/this.valueRange.range(),o=i*this.dotSizeMinFraction,r=o+(i*this.dotSizeMaxFraction-o)*n,s=this._getColorsSize();this._drawCircle(t,e,s.fill,s.border,r)},m.prototype._redrawSurfaceGraphPoint=function(t,e){var i=e.pointRight,n=e.pointTop,o=e.pointCross;if(void 0!==e&&void 0!==i&&void 0!==n&&void 0!==o){var r,s,l=!0;if(this.showGrayBottom||this.showShadow){var h=a.subtract(o.trans,e.trans),d=a.subtract(n.trans,i.trans),u=a.crossProduct(h,d),c=u.length();l=u.z>0}if(l){var p,f=240*(1-((e.point.z+i.point.z+n.point.z+o.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(p=Math.min(1+u.x/c/2,1),s=r=this._hsv2rgb(f,1,p)):(r=this._hsv2rgb(f,1,p=1),s=this.axisColor)}else r="gray",s=this.axisColor;t.lineWidth=this._getStrokeWidth(e),this._polygon(t,[e,i,o,n],r,s)}},m.prototype._drawGridLine=function(t,e,i){if(void 0!==e&&void 0!==i){var n=240*(1-((e.point.z+i.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e),t.strokeStyle=this._hsv2rgb(n,1,1),this._line(t,e.screen,i.screen)}},m.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight),this._drawGridLine(t,e,e.pointTop)},m.prototype._redrawLineGraphPoint=function(t,e){void 0!==e.pointNext&&(t.lineWidth=this._getStrokeWidth(e),t.strokeStyle=this.dataColor.stroke,this._line(t,e.screen,e.pointNext.screen))},m.prototype._redrawDataGraph=function(){var t,e=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),t=0;t<this.dataPoints.length;t++)this._pointDrawingMethod.call(this,e,this.dataPoints[t])},m.prototype._storeMousePosition=function(t){this.startMouseX=v(t),this.startMouseY=y(t),this._startCameraOffset=this.camera.getOffset()},m.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},s.addEventListener(document,"mousemove",e.onmousemove),s.addEventListener(document,"mouseup",e.onmouseup),s.preventDefault(t)}},m.prototype._onMouseMove=function(t){this.moving=!0,t=t||window.event;var e=parseFloat(v(t))-this.startMouseX,i=parseFloat(y(t))-this.startMouseY;if(t&&!0===t.ctrlKey)this.camera.setOffset((this._startCameraOffset.x||0)-e/(.5*this.frame.clientWidth)*this.camera.armLength*.8,(this._startCameraOffset.y||0)+i/(.5*this.frame.clientHeight)*this.camera.armLength*.8),this._storeMousePosition(t);else{var n=this.startArmRotation.horizontal+e/200,o=this.startArmRotation.vertical+i/200,r=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(n))<r&&(n=Math.round(n/Math.PI)*Math.PI-.001),Math.abs(Math.cos(n))<r&&(n=(Math.round(n/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(o))<r&&(o=Math.round(o/Math.PI)*Math.PI),Math.abs(Math.cos(o))<r&&(o=(Math.round(o/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(n,o)}this.redraw();var a=this.getCameraPosition();this.emit("cameraPositionChange",a),s.preventDefault(t)},m.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,s.removeEventListener(document,"mousemove",this.onmousemove),s.removeEventListener(document,"mouseup",this.onmouseup),s.preventDefault(t)},m.prototype._onClick=function(t){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect(),i=v(t)-e.left,n=y(t)-e.top,o=this._dataPointFromXY(i,n);o&&this.onclick_callback(o.point.data)}s.preventDefault(t)}},m.prototype._onTooltip=function(t){var e=this.frame.getBoundingClientRect(),i=v(t)-e.left,n=y(t)-e.top;if(this.showTooltip)if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){var o=this._dataPointFromXY(i,n);o!==this.tooltip.dataPoint&&(o?this._showTooltip(o):this._hideTooltip())}else{var r=this;this.tooltipTimeout=setTimeout(function(){r.tooltipTimeout=null;var t=r._dataPointFromXY(i,n);t&&r._showTooltip(t)},300)}},m.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},s.addEventListener(document,"touchmove",e.ontouchmove),s.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},m.prototype._onTouchMove=function(t){this._onMouseMove(t)},m.prototype._onTouchEnd=function(t){this.touchDown=!1,s.removeEventListener(document,"touchmove",this.ontouchmove),s.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},m.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength();this.camera.setArmLength(i*(1-e/10)),this.redraw(),this._hideTooltip()}var n=this.getCameraPosition();this.emit("cameraPositionChange",n),s.preventDefault(t)},m.prototype._insideTriangle=function(t,e){var i=e[0],n=e[1],o=e[2];function r(t){return t>0?1:t<0?-1:0}var s=r((n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x)),a=r((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x)),l=r((i.x-o.x)*(t.y-o.y)-(i.y-o.y)*(t.x-o.x));return!(0!=s&&0!=a&&s!=a||0!=a&&0!=l&&a!=l||0!=s&&0!=l&&s!=l)},m.prototype._dataPointFromXY=function(t,e){var i,n=null,o=null,r=null,s=new l(t,e);if(this.style===m.STYLE.BAR||this.style===m.STYLE.BARCOLOR||this.style===m.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){var a=(n=this.dataPoints[i]).surfaces;if(a)for(var h=a.length-1;h>=0;h--){var d=a[h].corners,u=[d[2].screen,d[3].screen,d[0].screen];if(this._insideTriangle(s,[d[0].screen,d[1].screen,d[2].screen])||this._insideTriangle(s,u))return n}}else for(i=0;i<this.dataPoints.length;i++){var c=(n=this.dataPoints[i]).screen;if(c){var p=Math.abs(t-c.x),f=Math.abs(e-c.y),g=Math.sqrt(p*p+f*f);(null===r||g<r)&&g<100&&(r=g,o=n)}}return o},m.prototype.hasBars=function(t){return t==m.STYLE.BAR||t==m.STYLE.BARCOLOR||t==m.STYLE.BARSIZE},m.prototype._showTooltip=function(t){var e,i,n;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,n=this.tooltip.dom.dot):(e=document.createElement("div"),(0,o.default)(e.style,{},this.tooltipStyle.content),e.style.position="absolute",i=document.createElement("div"),(0,o.default)(i.style,{},this.tooltipStyle.line),i.style.position="absolute",n=document.createElement("div"),(0,o.default)(n.style,{},this.tooltipStyle.dot),n.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:n}}),this._hideTooltip(),this.tooltip.dataPoint=t,e.innerHTML="function"==typeof this.showTooltip?this.showTooltip(t.point):"<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(n);var r=e.offsetWidth,s=e.offsetHeight,a=i.offsetHeight,l=n.offsetWidth,h=n.offsetHeight,d=t.screen.x-r/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-r),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-a+"px",e.style.left=d+"px",e.style.top=t.screen.y-a-s+"px",n.style.left=t.screen.x-l/2+"px",n.style.top=t.screen.y-h/2+"px"},m.prototype._hideTooltip=function(){if(this.tooltip)for(var t in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},m.prototype.setCameraPosition=function(t){u.setCameraPosition(t,this),this.redraw()},m.prototype.setSize=function(t,e){this._setSize(t,e),this.redraw()},t.exports=m},function(t,e,i){i(163),t.exports=i(7).Object.assign},function(t,e,i){var n=i(17);n(n.S+n.F,"Object",{assign:i(164)})},function(t,e,i){var n=i(33),o=i(63),r=i(42),s=i(41),a=i(78),l=Object.assign;t.exports=!l||i(28)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=s(t),l=arguments.length,h=1,d=o.f,u=r.f;l>h;)for(var c,p=a(arguments[h++]),f=d?n(p).concat(d(p)):n(p),g=f.length,m=0;g>m;)u.call(p,c=f[m++])&&(i[c]=p[c]);return i}:l},function(t,e,i){t.exports={default:i(166),__esModule:!0}},function(t,e,i){i(167),t.exports=i(7).Math.sign},function(t,e,i){var n=i(17);n(n.S,"Math",{sign:i(168)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){t.exports={default:i(170),__esModule:!0}},function(t,e,i){i(171);var n=i(7).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(17);n(n.S+n.F*!i(21),"Object",{defineProperty:i(20).f})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n="string",o="boolean",r="number",s={fill:{string:n},stroke:{string:n},strokeWidth:{number:r},__type__:{string:n,object:"object",undefined:"undefined"}};e.allOptions={animationAutoStart:{boolean:o,undefined:"undefined"},animationInterval:{number:r},animationPreload:{boolean:o},axisColor:{string:n},backgroundColor:s,xBarWidth:{number:r,undefined:"undefined"},yBarWidth:{number:r,undefined:"undefined"},cameraPosition:{distance:{number:r},horizontal:{number:r},vertical:{number:r},__type__:{object:"object"}},xCenter:{string:n},yCenter:{string:n},dataColor:s,dotSizeMinFraction:{number:r},dotSizeMaxFraction:{number:r},dotSizeRatio:{number:r},filterLabel:{string:n},gridColor:{string:n},onclick:{function:"function"},keepAspectRatio:{boolean:o},xLabel:{string:n},yLabel:{string:n},zLabel:{string:n},legendLabel:{string:n},xMin:{number:r,undefined:"undefined"},yMin:{number:r,undefined:"undefined"},zMin:{number:r,undefined:"undefined"},xMax:{number:r,undefined:"undefined"},yMax:{number:r,undefined:"undefined"},zMax:{number:r,undefined:"undefined"},showAnimationControls:{boolean:o,undefined:"undefined"},showGrid:{boolean:o},showLegend:{boolean:o,undefined:"undefined"},showPerspective:{boolean:o},showShadow:{boolean:o},showXAxis:{boolean:o},showYAxis:{boolean:o},showZAxis:{boolean:o},xStep:{number:r,undefined:"undefined"},yStep:{number:r,undefined:"undefined"},zStep:{number:r,undefined:"undefined"},style:{number:r,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:o,function:"function"},tooltipStyle:{content:{color:{string:n},background:{string:n},border:{string:n},borderRadius:{string:n},boxShadow:{string:n},padding:{string:n},__type__:{object:"object"}},line:{borderLeft:{string:n},height:{string:n},width:{string:n},__type__:{object:"object"}},dot:{border:{string:n},borderRadius:{string:n},height:{string:n},width:{string:n},__type__:{object:"object"}},__type__:{object:"object"}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:r,undefined:"undefined"},valueMin:{number:r,undefined:"undefined"},verticalRatio:{number:r},height:{string:n},width:{string:n},__type__:{object:"object"}}},function(t,e,i){var n=i(11),o=i(12),r=i(174),s=i(96),a=i(94),l=i(34);function h(){this.dataTable=null}h.prototype.initializeData=function(t,e,i){if(void 0!==e){var r;if(Array.isArray(e)&&(e=new n(e)),!(e instanceof n||e instanceof o))throw new Error("Array, DataSet, or DataView expected");if(0!=(r=e.get()).length){this.style=i,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=e,this.dataTable=r;var a=this;this._onChange=function(){t.setData(a.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var l=t.hasBars(i);if(l&&(this.xBarWidth=void 0!==t.defaultXBarWidth?t.defaultXBarWidth:this.getSmallestDifference(r,this.colX)||1,this.yBarWidth=void 0!==t.defaultYBarWidth?t.defaultYBarWidth:this.getSmallestDifference(r,this.colY)||1),this._initializeRange(r,this.colX,t,l),this._initializeRange(r,this.colY,t,l),this._initializeRange(r,this.colZ,t,!1),r[0].hasOwnProperty("style")){this.colValue="style";var h=this.getColumnRange(r,this.colValue);this._setRangeDefaults(h,t.defaultValueMin,t.defaultValueMax),this.valueRange=h}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new s(this,"filter",t),this.dataFilter.setOnLoadCallback(function(){t.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},h.prototype._collectRangeSettings=function(t,e){if(-1==["x","y","z"].indexOf(t))throw new Error("Column '"+t+"' invalid");var i=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+i+"Min"],max:e["default"+i+"Max"],step:e["default"+i+"Step"],range_label:t+"Range",step_label:t+"Step"}},h.prototype._initializeRange=function(t,e,i,n){var o=this._collectRangeSettings(e,i),r=this.getColumnRange(t,e);n&&"z"!=e&&r.expand(o.barWidth/2),this._setRangeDefaults(r,o.min,o.max),this[o.range_label]=r,this[o.step_label]=void 0!==o.step?o.step:r.range()/5},h.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);for(var i=[],n=0;n<e.length;n++){var o=e[n][t]||0;-1===i.indexOf(o)&&i.push(o)}return i.sort(function(t,e){return t-e})},h.prototype.getSmallestDifference=function(t,e){for(var i=this.getDistinctValues(t,e),n=null,o=1;o<i.length;o++){var r=i[o]-i[o-1];(null==n||n>r)&&(n=r)}return n},h.prototype.getColumnRange=function(t,e){for(var i=new r,n=0;n<t.length;n++)i.adjust(t[n][e]);return i},h.prototype.getNumberOfRows=function(){return this.dataTable.length},h.prototype._setRangeDefaults=function(t,e,i){void 0!==e&&(t.min=e),void 0!==i&&(t.max=i),t.max<=t.min&&(t.max=t.min+1)},h.prototype.getDataTable=function(){return this.dataTable},h.prototype.getDataSet=function(){return this.dataSet},h.prototype.getDataPoints=function(t){for(var e=[],i=0;i<t.length;i++){var n=new l;n.x=t[i][this.colX]||0,n.y=t[i][this.colY]||0,n.z=t[i][this.colZ]||0,n.data=t[i],void 0!==this.colValue&&(n.value=t[i][this.colValue]||0);var o={};o.point=n,o.bottom=new l(n.x,n.y,this.zRange.min),o.trans=void 0,o.screen=void 0,e.push(o)}return e},h.prototype.initDataAsMatrix=function(t){var e,i,n,o,r=this.getDistinctValues(this.colX,t),s=this.getDistinctValues(this.colY,t),a=this.getDataPoints(t),l=[];for(n=0;n<a.length;n++){var h=r.indexOf((o=a[n]).point.x),d=s.indexOf(o.point.y);void 0===l[h]&&(l[h]=[]),l[h][d]=o}for(e=0;e<l.length;e++)for(i=0;i<l[e].length;i++)l[e][i]&&(l[e][i].pointRight=e<l.length-1?l[e+1][i]:void 0,l[e][i].pointTop=i<l[e].length-1?l[e][i+1]:void 0,l[e][i].pointCross=e<l.length-1&&i<l[e].length-1?l[e+1][i+1]:void 0);return a},h.prototype.getInfo=function(){var t=this.dataFilter;if(t)return t.getLabel()+": "+t.getSelectedValue()},h.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},h.prototype._getDataPoints=function(t){var e=[];if(this.style===a.STYLE.GRID||this.style===a.STYLE.SURFACE)e=this.initDataAsMatrix(t);else if(this._checkValueField(t),e=this.getDataPoints(t),this.style===a.STYLE.LINE)for(var i=0;i<e.length;i++)i>0&&(e[i-1].pointNext=e[i]);return e},h.prototype._checkValueField=function(t){if(this.style===a.STYLE.BARCOLOR||this.style===a.STYLE.BARSIZE||this.style===a.STYLE.DOTCOLOR||this.style===a.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},t.exports=h},function(t,e,i){function n(){this.min=void 0,this.max=void 0}n.prototype.adjust=function(t){void 0!==t&&((void 0===this.min||this.min>t)&&(this.min=t),(void 0===this.max||this.max<t)&&(this.max=t))},n.prototype.combine=function(t){this.add(t.min),this.add(t.max)},n.prototype.expand=function(t){if(void 0!==t){var e=this.min-t,i=this.max+t;if(e>i)throw new Error("Passed expansion value makes range invalid");this.min=e,this.max=i}},n.prototype.range=function(){return this.max-this.min},n.prototype.center=function(){return(this.min+this.max)/2},t.exports=n},function(t,e,i){var n,o;void 0===(o="function"==typeof(n=function(){var t=null;return function e(i,n){var o=n||{preventDefault:!1};if(i.Manager){var r=i,s=function(t,i){var n=Object.create(o);return i&&r.assign(n,i),e(new r(t,n),n)};return r.assign(s,r),s.Manager=function(t,i){var n=Object.create(o);return i&&r.assign(n,i),e(new r.Manager(t,n),n)},s}var a=Object.create(i),l=i.element;function h(t){return t.match(/[^ ]+/g)}function d(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0};var n=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof n&&(e.srcEvent.stopPropagation=function(){n(),e.stopPropagation()}),e.firstTarget=t;for(var o=t;o&&!i;){var r=o.hammer;if(r)for(var s,a=0;a<r.length;a++)if(s=r[a]._handlers[e.type])for(var l=0;l<s.length&&!i;l++)s[l](e);o=o.parentNode}}return l.hammer||(l.hammer=[]),l.hammer.push(a),i.on("hammer.input",function(e){!0!==o.preventDefault&&o.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),a._handlers={},a.on=function(t,e){return h(t).forEach(function(t){var n=a._handlers[t];n||(a._handlers[t]=n=[],i.on(t,d)),n.push(e)}),a},a.off=function(t,e){return h(t).forEach(function(t){var n=a._handlers[t];n&&((n=e?n.filter(function(t){return t!==e}):[]).length>0?a._handlers[t]=n:(i.off(t,d),delete a._handlers[t]))}),a},a.emit=function(e,n){t=n.target,i.emit(e,n)},a.destroy=function(){var t=i.element.hammer,e=t.indexOf(a);-1!==e&&t.splice(e,1),t.length||delete i.element.hammer,a._handlers={},i.destroy()},a}})?n.apply(e,[]):n)||(t.exports=o)},function(t,e,i){var n;!function(o,r,s,a){var l,h=["","webkit","Moz","MS","ms","o"],d=r.createElement("div"),u="function",c=Math.round,p=Math.abs,f=Date.now;function g(t,e,i){return setTimeout(_(t,i),e)}function m(t,e,i){return!!Array.isArray(t)&&(v(t,i[e],i),!0)}function v(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function y(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=o.console&&(o.console.warn||o.console.log);return r&&r.call(o.console,n,i),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==a&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var b=y(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&t[n[o]]===a)&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),w=y(function(t,e){return b(t,e,!0)},"merge","Use `assign`.");function x(t,e,i){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,i&&l(n,i)}function _(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==u?t.apply(e&&e[0]||a,e):t}function k(t,e){return t===a?e:t}function S(t,e,i){v(D(e),function(e){t.addEventListener(e,i,!1)})}function C(t,e,i){v(D(e),function(e){t.removeEventListener(e,i,!1)})}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function M(t,e){return t.indexOf(e)>-1}function D(t){return t.trim().split(/\s+/g)}function O(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function I(t,e,i){for(var n=[],o=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];O(o,s)<0&&n.push(t[r]),o[r]=s,r++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function A(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),r=0;r<h.length;){if((n=(i=h[r])?i+o:e)in t)return n;r++}return a}var N=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var L="ontouchstart"in o,z=A(o,"PointerEvent")!==a,B=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=25,j=1,H=4,V=8,W=1,U=2,Y=4,G=8,q=16,X=U|Y,$=G|q,K=X|$,Z=["x","y"],Q=["clientX","clientY"];function J(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&i.handler(e)},this.init()}function tt(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=e&j&&n-o==0,s=e&(H|V)&&n-o==0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=et(e)),o>1&&!i.firstMultiple?i.firstMultiple=et(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,l=s?s.center:r.center,h=e.center=it(n);e.timeStamp=f(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=st(l,h),e.distance=rt(l,h),function(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};e.eventType!==j&&r.eventType!==H||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}(i,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var d,u,c=nt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,e.scale=s?(d=s.pointers,rt((u=n)[0],u[1],Q)/rt(d[0],d[1],Q)):1,e.rotation=s?function(t,e){return st(n[1],n[0],Q)+st(t[1],t[0],Q)}(s.pointers):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,o,r,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=V&&(l>F||s.velocity===a)){var h=e.deltaX-s.deltaX,d=e.deltaY-s.deltaY,u=nt(l,h,d);n=u.x,o=u.y,i=p(u.x)>p(u.y)?u.x:u.y,r=ot(h,d),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}(i,e);var g=t.element;T(e.srcEvent.target,g)&&(g=e.srcEvent.target),e.target=g}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function et(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:c(t.pointers[i].clientX),clientY:c(t.pointers[i].clientY)},i++;return{timeStamp:f(),pointers:e,center:it(e),deltaX:t.deltaX,deltaY:t.deltaY}}function it(t){var e=t.length;if(1===e)return{x:c(t[0].clientX),y:c(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:c(i/e),y:c(n/e)}}function nt(t,e,i){return{x:e/t||0,y:i/t||0}}function ot(t,e){return t===e?W:p(t)>=p(e)?t<0?U:Y:e<0?G:q}function rt(t,e,i){i||(i=Z);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function st(t,e,i){return i||(i=Z),180*Math.atan2(e[i[1]]-t[i[1]],e[i[0]]-t[i[0]])/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(R(this.element),this.evWin,this.domHandler)}};var at={mousedown:j,mousemove:2,mouseup:H},lt="mousedown",ht="mousemove mouseup";function dt(){this.evEl=lt,this.evWin=ht,this.pressed=!1,J.apply(this,arguments)}x(dt,J,{handler:function(t){var e=at[t.type];e&j&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=H),this.pressed&&(e&H&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ut={pointerdown:j,pointermove:2,pointerup:H,pointercancel:V,pointerout:V},ct={2:"touch",3:"pen",4:"mouse",5:"kinect"},pt="pointerdown",ft="pointermove pointerup pointercancel";function gt(){this.evEl=pt,this.evWin=ft,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(pt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),x(gt,J,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=ut[n],r=ct[t.pointerType]||t.pointerType,s="touch"==r,a=O(e,t.pointerId,"pointerId");o&j&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):o&(H|V)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))}});var mt={touchstart:j,touchmove:2,touchend:H,touchcancel:V},vt="touchstart",yt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=vt,this.evWin=yt,this.started=!1,J.apply(this,arguments)}x(bt,J,{handler:function(t){var e=mt[t.type];if(e===j&&(this.started=!0),this.started){var i=(function(t,e){var i=P(t.touches),n=P(t.changedTouches);return e&(H|V)&&(i=I(i.concat(n),"identifier",!0)),[i,n]}).call(this,t,e);e&(H|V)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var wt={touchstart:j,touchmove:2,touchend:H,touchcancel:V},xt="touchstart touchmove touchend touchcancel";function _t(){this.evTarget=xt,this.targetIds={},J.apply(this,arguments)}x(_t,J,{handler:function(t){var e=wt[t.type],i=(function(t,e){var i=P(t.touches),n=this.targetIds;if(e&(2|j)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,r,s=P(t.changedTouches),a=[],l=this.target;if(r=i.filter(function(t){return T(t.target,l)}),e===j)for(o=0;o<r.length;)n[r[o].identifier]=!0,o++;for(o=0;o<s.length;)n[s[o].identifier]&&a.push(s[o]),e&(H|V)&&delete n[s[o].identifier],o++;return a.length?[I(r.concat(a),"identifier",!0),a]:void 0}).call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var Et=2500;function kt(){J.apply(this,arguments);var t=_(this.handler,this);this.touch=new _t(this.manager,t),this.mouse=new dt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function St(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)},Et)}}x(kt,J,{handler:function(t,e,i){var n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if("touch"==i.pointerType)(function(t,e){t&j?(this.primaryTouch=e.changedPointers[0].identifier,St.call(this,e)):t&(H|V)&&St.call(this,e)}).call(this,e,i);else if(n&&(function(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(e-o.x),s=Math.abs(i-o.y);if(r<=25&&s<=25)return!0}return!1}).call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ct=A(d.style,"touchAction"),Tt=Ct!==a,Mt=function(){if(!Tt)return!1;var t={},e=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||o.CSS.supports("touch-action",i)}),t}();function Dt(t,e){this.manager=t,this.set(e)}Dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Tt&&this.manager.element.style&&Mt[t]&&(this.manager.element.style[Ct]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(M(t,"none"))return"none";var e=M(t,"pan-x"),i=M(t,"pan-y");return e&&i?"none":e||i?e?"pan-x":"pan-y":M(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=M(n,"none")&&!Mt.none,r=M(n,"pan-y")&&!Mt["pan-y"],s=M(n,"pan-x")&&!Mt["pan-x"];if(o&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!r)return o||r&&i&X||s&&i&$?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ot=1,Pt=2,It=4,At=8,Nt=At,Rt=16;function Lt(t){this.options=l({},this.defaults,t||{}),this.id=N++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=Ot,this.simultaneous={},this.requireFail=[]}function zt(t){return t&Rt?"cancel":t&At?"end":t&It?"move":t&Pt?"start":""}function Bt(t){return t==q?"down":t==G?"up":t==U?"left":t==Y?"right":""}function Ft(t,e){var i=e.manager;return i?i.get(t):t}function jt(){Lt.apply(this,arguments)}function Ht(){jt.apply(this,arguments),this.pX=null,this.pY=null}function Vt(){jt.apply(this,arguments)}function Wt(){Lt.apply(this,arguments),this._timer=null,this._input=null}function Ut(){jt.apply(this,arguments)}function Yt(){jt.apply(this,arguments)}function Gt(){Lt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function qt(t,e){return(e=e||{}).recognizers=k(e.recognizers,qt.defaults.preset),new Xt(t,e)}function Xt(t,e){var i;this.options=l({},qt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(z?gt:B?_t:L?kt:dt))(i,tt),this.touchAction=new Dt(this,this.options.touchAction),$t(this,!0),v(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function $t(t,e){var i,n=t.element;n.style&&(v(t.options.cssProps,function(o,r){i=A(n.style,r),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={}))}Lt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ft(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=Ft(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O(e,t=Ft(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=Ft(t,this);var e=O(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<At&&n(e.options.event+zt(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=At&&n(e.options.event+zt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Ot)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Nt|Rt|32)&&(this.state=Ot),this.state=this.process(e),this.state&(Pt|It|At|Rt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},x(jt,Lt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Pt|It),o=this.attrTest(t);return n&&(i&V||!o)?e|Rt:n||o?i&H?e|At:e&Pt?e|It:Pt:32}}),x(Ht,jt,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var t=this.options.direction,e=[];return t&X&&e.push("pan-y"),t&$&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&X?(o=0===r?W:r<0?U:Y,i=r!=this.pX,n=Math.abs(t.deltaX)):(o=0===s?W:s<0?G:q,i=s!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return jt.prototype.attrTest.call(this,t)&&(this.state&Pt||!(this.state&Pt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Bt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),x(Vt,jt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Pt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),x(Wt,Lt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(H|V)&&!o)this.reset();else if(t.eventType&j)this.reset(),this._timer=g(function(){this.state=Nt,this.tryEmit()},e.time,this);else if(t.eventType&H)return Nt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Nt&&(t&&t.eventType&H?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),x(Ut,jt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Pt)}}),x(Yt,jt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|$,pointers:1},getTouchAction:function(){return Ht.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(X|$)?e=t.overallVelocity:i&X?e=t.overallVelocityX:i&$&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&H},emit:function(t){var e=Bt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),x(Gt,Lt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&j&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=H)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||rt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&r?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Nt,this.tryEmit()},e.interval,this),Pt):Nt}return 32},failTimeout:function(){return this._timer=g(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Nt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),qt.VERSION="2.0.7",qt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ut,{enable:!1}],[Vt,{enable:!1},["rotate"]],[Yt,{direction:X}],[Ht,{direction:X},["swipe"]],[Gt],[Gt,{event:"doubletap",taps:2},["tap"]],[Wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Xt.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&Nt)&&(o=e.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],2===e.stopped||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(Pt|It|At)&&(o=e.curRecognizer=i),r++}},get:function(t){if(t instanceof Lt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=O(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var i=this.handlers;return v(D(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==a){var i=this.handlers;return v(D(t),function(t){e?i[t]&&i[t].splice(O(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=r.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&$t(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(qt,{INPUT_START:j,INPUT_MOVE:2,INPUT_END:H,INPUT_CANCEL:V,STATE_POSSIBLE:Ot,STATE_BEGAN:Pt,STATE_CHANGED:It,STATE_ENDED:At,STATE_RECOGNIZED:Nt,STATE_CANCELLED:Rt,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:U,DIRECTION_RIGHT:Y,DIRECTION_UP:G,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:$,DIRECTION_ALL:K,Manager:Xt,Input:J,TouchAction:Dt,TouchInput:_t,MouseInput:dt,PointerEventInput:gt,TouchMouseInput:kt,SingleTouchInput:bt,Recognizer:Lt,AttrRecognizer:jt,Tap:Gt,Pan:Ht,Swipe:Yt,Pinch:Vt,Rotate:Ut,Press:Wt,on:S,off:C,each:v,merge:w,extend:b,assign:l,inherit:x,bindFn:_,prefixed:A}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=qt,(n=(function(){return qt}).call(e,i,e,t))===a||(t.exports=n)}(window,document)},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Timeline=i(178),e.Graph2d=i(180),e.timeline={Core:i(65),DateUtil:i(36),Range:i(64),stack:i(100),TimeStep:i(66),components:{items:{Item:i(38),BackgroundItem:i(103),BoxItem:i(101),PointItem:i(102),RangeItem:i(70)},BackgroundGroup:i(69),Component:i(16),CurrentTime:i(67),CustomTime:i(46),DataAxis:i(107),DataScale:i(108),GraphGroup:i(109),Group:i(68),ItemSet:i(99),Legend:i(112),LineGraph:i(106),TimeAxis:i(45)}},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){var n=i(9),o=i(2),r=i(11),s=i(12),a=i(64),l=i(65),h=i(45),d=i(67),u=i(46),c=i(99),p=i(15).printStyle,f=i(105).allOptions,g=i(105).configureOptions,m=i(71).default,v=i(15).default;function y(t,e,i,l){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof r||i instanceof s)&&i instanceof Object){var u=l;l=i,i=u}l&&l.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:n,width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),!l||l&&void 0===l.rtl){this.dom.root.style.visibility="hidden";for(var f,g=this.dom.root;!f&&g;)f=window.getComputedStyle(g,null).direction,g=g.parentElement;this.options.rtl=f&&"rtl"==f.toLowerCase()}else this.options.rtl=l.rtl;this.options.rollingMode=l&&l.rollingMode,this.options.onInitialDrawComplete=l&&l.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return p.timeAxis.step.scale},getStep:function(){return p.timeAxis.step.step},toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new a(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new d(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new c(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(t){p.emit("click",p.getEventProperties(t))},this.dom.root.ondblclick=function(t){p.emit("doubleClick",p.getEventProperties(t))},this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))},this.dom.root.onmouseover=function(t){p.emit("mouseOver",p.getEventProperties(t))},window.PointerEvent?(this.dom.root.onpointerdown=function(t){p.emit("mouseDown",p.getEventProperties(t))},this.dom.root.onpointermove=function(t){p.emit("mouseMove",p.getEventProperties(t))},this.dom.root.onpointerup=function(t){p.emit("mouseUp",p.getEventProperties(t))}):(this.dom.root.onmousemove=function(t){p.emit("mouseMove",p.getEventProperties(t))},this.dom.root.onmousedown=function(t){p.emit("mouseDown",p.getEventProperties(t))},this.dom.root.onmouseup=function(t){p.emit("mouseUp",p.getEventProperties(t))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!p.initialFitDone)if(p.initialFitDone=!0,null!=p.options.start||null!=p.options.end){if(null==p.options.start||null==p.options.end)var t=p.getItemRange();p.setWindow(null!=p.options.start?p.options.start:t.min,null!=p.options.end?p.options.end:t.max,{animation:!1})}else p.fit({animation:!1});!p.initialDrawDone&&p.initialRangeChangeDone&&(p.initialDrawDone=!0,p.dom.root.style.visibility="visible",p.options.onInitialDrawComplete&&setTimeout(function(){return p.options.onInitialDrawComplete()},0))}}),l&&this.setOptions(l),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}function b(t){return o.convert(t.data.start,"Date").valueOf()}function w(t){return o.convert(null!=t.data.end?t.data.end:t.data.start,"Date").valueOf()}function x(t,e){var i=t.props.leftContainer.height,n=t.props.left.height,o=e.parent,r=o.top,s=!0,a=t.timeAxis.options.orientation.axis,l=function(){return"bottom"==a?o.height-e.top-e.height:e.top},h=-1*t._getScrollTop(),d=r+l(),u=e.height;return d<h?r+i<=r+l()+u&&(r+=l()-t.itemSet.options.margin.item.vertical):d+u>h+i?r+=l()+u-i+t.itemSet.options.margin.item.vertical:s=!1,{shouldScroll:s,scrollOffset:r=Math.min(r,n-i),itemTop:d}}(y.prototype=new l)._createConfigurator=function(){return new m(this,this.dom.container,g)},y.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},y.prototype.setOptions=function(t){if(!0===v.validate(t,f)&&console.log("%cErrors have been found in the supplied options object.",p),l.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var e=this.itemsData;if(e){var i=this.getSelection();this.setItems(null),this.setItems(e),this.setSelection(i)}}},y.prototype.setItems=function(t){var e;e=t?t instanceof r||t instanceof s?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},y.prototype.setGroups=function(t){var e;if(t){var i=function(t){return!1!==t.visible};e=t instanceof r||t instanceof s?new s(t,{filter:i}):new r(t.filter(i))}else e=null;this.groupsData=e,this.itemSet.setGroups(e)},y.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},y.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},y.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},y.prototype.focus=function(t,e){if(this.itemsData&&null!=t){var i=Array.isArray(t)?t:[t],n=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),o=null,r=null;if(n.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===o||e<o)&&(o=e),(null===r||i>r)&&(r=i)}),null!==o&&null!==r){var s=this,a=this.itemSet.items[i[0]],l=-1*this._getScrollTop(),h=null,d=function(){var t=x(s,a);t.shouldScroll&&t.itemTop!=h.itemTop&&(s._setScrollTop(-t.scrollOffset),s._redraw())},u=(o+r)/2,c=Math.max(this.range.end-this.range.start,1.1*(r-o)),p=!e||void 0===e.animation||e.animation;p||(h={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(u-c/2,u+c/2,{animation:p},function(){d(),setTimeout(d,100)},function(t,e,i){var n=x(s,a);if(h||(h=n),h.itemTop!=n.itemTop||h.shouldScroll){h.itemTop!=n.itemTop&&n.shouldScroll&&(h=n,l=-1*s._getScrollTop());var o=h.scrollOffset;s._setScrollTop(-(i?o:l+(o-l)*t)),e||s._redraw()}})}}},y.prototype.fit=function(t,e){var i,n=!t||void 0===t.animation||t.animation,o=this.itemsData&&this.itemsData.getDataSet();1===o.length&&void 0===o.get()[0].end?(i=this.getDataRange(),this.moveTo(i.min.valueOf(),{animation:n},e)):(i=this.getItemRange(),this.range.setRange(i.min,i.max,{animation:n},e))},y.prototype.getItemRange=function(){var t=this.getDataRange(),e=null!==t.min?t.min.valueOf():null,i=null!==t.max?t.max.valueOf():null,n=null,r=null;if(null!=e&&null!=i){var s=i-e;s<=0&&(s=10);var a=s/this.props.center.width,l={},h=0;if(o.forEach(this.itemSet.items,function(t,e){t.groupShowing&&(l[e]=t.redraw(!0),h=l[e].length)}),h>0)for(var d=0;d<h;d++)o.forEach(l,function(t){t[d]()});if(o.forEach(this.itemSet.items,(function(t){var o,s,l=b(t),h=w(t);this.options.rtl?(o=l-(t.getWidthRight()+10)*a,s=h+(t.getWidthLeft()+10)*a):(o=l-(t.getWidthLeft()+10)*a,s=h+(t.getWidthRight()+10)*a),o<e&&(e=o,n=t),s>i&&(i=s,r=t)}).bind(this)),n&&r){var u=n.getWidthLeft()+10,c=r.getWidthRight()+10,p=this.props.center.width-u-c;p>0&&(this.options.rtl?(e=b(n)-c*s/p,i=w(r)+u*s/p):(e=b(n)-u*s/p,i=w(r)+c*s/p))}}return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},y.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var n=o.convert(i.start,"Date").valueOf(),r=o.convert(null!=i.end?i.end:i.start,"Date").valueOf();(null===t||n<t)&&(t=n),(null===e||r>e)&&(e=r)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e,i=t.center?t.center.x:t.clientX,n=t.center?t.center.y:t.clientY;e=this.options.rtl?o.getAbsoluteRight(this.dom.centerContainer)-i:i-o.getAbsoluteLeft(this.dom.centerContainer);var r=n-o.getAbsoluteTop(this.dom.centerContainer),s=this.itemSet.itemFromTarget(t),a=this.itemSet.groupFromTarget(t),l=u.customTimeFromTarget(t),h=this.itemSet.options.snap||null,d=this.body.util.getScale(),c=this.body.util.getStep(),p=this._toTime(e),f=h?h(p,d,c):p,g=o.getTarget(t),m=null;return null!=s?m="item":null!=l?m="custom-time":o.hasParent(g,this.timeAxis.dom.foreground)?m="axis":this.timeAxis2&&o.hasParent(g,this.timeAxis2.dom.foreground)?m="axis":o.hasParent(g,this.itemSet.dom.labelSet)?m="group-label":o.hasParent(g,this.currentTime.bar)?m="current-time":o.hasParent(g,this.dom.center)&&(m="background"),{event:t,item:s?s.id:null,group:a?a.groupId:null,what:m,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:e,y:r,time:p,snappedTime:f}},y.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},t.exports=y},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(19)),o=s(i(0)),r=s(i(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=i(10),l=i(37),h=i(2),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,o.default)(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,r.default)(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i=void 0,o=this._isColorString(t);if(void 0!==o&&(t=o),!0===h.isString(t)){if(!0===h.isValidRGB(t)){var r=t.substr(4).substr(0,t.length-5).split(",");i={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===h.isValidRGBA(t)){var s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===h.isValidHex(t)){var a=h.hexToRGB(t);i={r:a.r,g:a.g,b:a.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var l=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:l}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,n.default)(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e&&(this.previousColor=h.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!0===e&&(this.initialColor=h.extend({},t)),this.color=t;var i=h.RGBToHSV(t.r,t.g,t.b),n=2*Math.PI,o=this.r*i.s,r=this.centerCoordinates.x+o*Math.sin(n*i.h),s=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=h.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=h.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=h.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(n){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(n){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var i=this;this.opacityRange.onchange=function(){i._setOpacity(this.value)},this.opacityRange.oninput=function(){i._setOpacity(this.value)},this.brightnessRange.onchange=function(){i._setBrightness(this.value)},this.brightnessRange.oninput=function(){i._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new a(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),l.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var n=void 0,o=void 0,r=void 0,s=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var a=2*Math.PI/360,l=1/this.r,d=void 0;for(r=0;r<360;r++)for(s=0;s<this.r;s++)n=this.centerCoordinates.x+s*Math.sin(a*r),o=this.centerCoordinates.y+s*Math.cos(a*r),d=h.HSVToRGB(r*(1/360),s*l,1),t.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",t.fillRect(n-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=.5*this.colorPickerDiv.clientHeight,n=.5*this.colorPickerDiv.clientWidth,o=t.center.x-e.left-n,r=t.center.y-e.top-i,s=Math.atan2(o,r),a=.98*Math.min(Math.sqrt(o*o+r*r),n),l=Math.cos(s)*a+i,d=Math.sin(s)*a+n;this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=d-.5*this.colorPickerSelector.clientWidth+"px";var u=s/(2*Math.PI);u=u<0?u+1:u;var c=a/this.r,p=h.RGBToHSV(this.color.r,this.color.g,this.color.b);p.h=u,p.s=c;var f=h.HSVToRGB(p.h,p.s,p.v);f.a=this.color.a,this.color=f,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e.default=d},function(t,e,i){var n=i(9),o=i(2),r=i(11),s=i(12),a=i(64),l=i(65),h=i(45),d=i(67),u=i(46),c=i(106),p=i(15).printStyle,f=i(113).allOptions,g=i(113).configureOptions,m=i(71).default,v=i(15).default;function y(t,e,i,l){if(!(Array.isArray(i)||i instanceof r||i instanceof s)&&i instanceof Object){var u=l;l=i,i=u}l&&l.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:n,width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new a(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body),this.components.push(this.timeAxis),this.currentTime=new d(this.body),this.components.push(this.currentTime),this.linegraph=new c(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){p.emit("click",p.getEventProperties(t))}),this.on("doubletap",function(t){p.emit("doubleClick",p.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))},l&&this.setOptions(l),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}(y.prototype=new l).setOptions=function(t){!0===v.validate(t,f)&&console.log("%cErrors have been found in the supplied options object.",p),l.prototype.setOptions.call(this,t)},y.prototype.setItems=function(t){var e,i=null==this.itemsData;e=t?t instanceof r||t instanceof s?t:new r(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i&&(null!=this.options.start||null!=this.options.end?this.setWindow(null!=this.options.start?this.options.start:null,null!=this.options.end?this.options.end:null,{animation:!1}):this.fit({animation:!1}))},y.prototype.setGroups=function(t){var e;e=t?t instanceof r||t instanceof s?t:new r(t):null,this.groupsData=e,this.linegraph.setGroups(e)},y.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},y.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t])},y.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var n=0;n<this.linegraph.groups[i].itemsData.length;n++){var r=o.convert(this.linegraph.groups[i].itemsData[n].x,"Date").valueOf();t=null==t?r:t>r?r:t,e=null==e?r:e<r?r:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},y.prototype.getEventProperties=function(t){var e=t.center?t.center.y:t.clientY,i=(t.center?t.center.x:t.clientX)-o.getAbsoluteLeft(this.dom.centerContainer),n=e-o.getAbsoluteTop(this.dom.centerContainer),r=this._toTime(i),s=u.customTimeFromTarget(t),a=o.getTarget(t),l=null;o.hasParent(a,this.timeAxis.dom.foreground)?l="axis":this.timeAxis2&&o.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":o.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?l="data-axis":o.hasParent(a,this.linegraph.yAxisRight.dom.frame)?l="data-axis":o.hasParent(a,this.linegraph.legendLeft.dom.frame)?l="legend":o.hasParent(a,this.linegraph.legendRight.dom.frame)?l="legend":null!=s?l="custom-time":o.hasParent(a,this.currentTime.bar)?l="current-time":o.hasParent(a,this.dom.center)&&(l="background");var h=[],d=this.linegraph.yAxisLeft,c=this.linegraph.yAxisRight;return!d.hidden&&this.itemsData.length>0&&h.push(d.screenToValue(n)),!c.hidden&&this.itemsData.length>0&&h.push(c.screenToValue(n)),{event:t,what:l,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:i,y:n,time:r,value:h}},y.prototype._createConfigurator=function(){return new m(this,this.dom.container,g)},t.exports=y},function(t,e,i){e.util=i(2),e.DOMutil=i(14),e.DataSet=i(11),e.DataView=i(12),e.Queue=i(43),e.Network=i(182),e.network={Images:i(116),dotparser:i(114),gephiParser:i(115),allOptions:i(122)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)},e.moment=i(9),e.Hammer=i(10),e.keycharm=i(35)},function(t,e,i){i(183);var n=i(44),o=i(2),r=i(114),s=i(115),a=i(97),l=i(184),h=i(116).default,d=i(186).default,u=i(187).default,c=i(214).default,p=i(220).default,f=i(227).default,g=i(229).default,m=i(230).default,v=i(231).default,y=i(232).default,b=i(234).default,w=i(235).default,x=i(237).default,_=i(71).default,E=i(15).default,k=i(15).printStyle,S=i(122),C=S.allOptions,T=S.configureOptions,M=i(238).default;function D(t,e,i){var n=this;if(!(this instanceof D))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:l,clickToUse:!1},o.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new h(function(){return n.body.emitter.emit("_requestRedraw")}),this.groups=new d,this.canvas=new m(this.body),this.selectionHandler=new b(this.body,this.canvas),this.interactionHandler=new y(this.body,this.canvas,this.selectionHandler),this.view=new v(this.body,this.canvas),this.renderer=new g(this.body,this.canvas),this.physics=new p(this.body),this.layoutEngine=new w(this.body),this.clustering=new f(this.body),this.manipulation=new x(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new u(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new c(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new M(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}n(D.prototype),D.prototype.setOptions=function(t){var e=this;if(void 0!==t){if(!0===E.validate(t,C)&&console.log("%cErrors have been found in the supplied options object.",k),o.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new _(this,this.body.container,T,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};o.deepExtend(i.nodes,this.nodesHandler.options),o.deepExtend(i.edges,this.edgesHandler.options),o.deepExtend(i.layout,this.layoutEngine.options),o.deepExtend(i.interaction,this.selectionHandler.options),o.deepExtend(i.interaction,this.renderer.options),o.deepExtend(i.interaction,this.interactionHandler.options),o.deepExtend(i.manipulation,this.manipulation.options),o.deepExtend(i.physics,this.physics.options),o.deepExtend(i.global,this.canvas.options),o.deepExtend(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new a(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},D.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],r=t[o.fromId],s=t[o.toId],a=void 0!==r&&void 0!==s;!this.clustering._isClusteredEdge(n)&&!1===o.options.hidden&&a&&!1===r.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(o.id)}},D.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},D.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=r.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=s.parseGephi(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},D.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&delete this.body.nodes[t];for(var e in this.body.edges)this.body.edges.hasOwnProperty(e)&&delete this.body.edges[e];o.recursiveDOMDelete(this.body.container)},D.prototype._updateValueRange=function(t){var e,i=void 0,n=void 0,o=0;for(e in t)if(t.hasOwnProperty(e)){var r=t[e].getValue();void 0!==r&&(i=void 0===i?r:Math.min(r,i),n=void 0===n?r:Math.max(r,n),o+=r)}if(void 0!==i&&void 0!==n)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,n,o)},D.prototype.isActive=function(){return!this.activator||this.activator.active},D.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},D.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},D.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},D.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},D.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},D.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},D.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},D.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},D.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},D.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},D.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},D.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},D.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},D.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},D.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},D.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},D.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},D.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},D.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},D.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},D.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},D.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},D.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},D.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},D.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},D.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},D.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},D.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},D.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},D.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},D.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},D.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},D.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},D.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},D.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},D.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},D.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},D.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},D.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},D.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},D.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},D.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},D.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},D.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},D.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},D.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=D},function(t,e,i){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),e+=.275*(i*=1.15);var n=2*i,o=n/2,r=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-o*o);this.moveTo(t,e-(s-r)),this.lineTo(t+o,e+r),this.lineTo(t-o,e+r),this.lineTo(t,e-(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),e-=.275*(i*=1.15);var n=2*i,o=n/2,r=Math.sqrt(3)/6*n,s=Math.sqrt(n*n-o*o);this.moveTo(t,e+(s-r)),this.lineTo(t+o,e-r),this.lineTo(t-o,e-r),this.lineTo(t,e+(s-r)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),e+=.1*(i*=.82);for(var n=0;n<10;n++){var o=n%2==0?1.3*i:.5*i;this.lineTo(t+o*Math.sin(2*n*Math.PI/10),e-o*Math.cos(2*n*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,n,o){var r=Math.PI/180;i-2*o<0&&(o=i/2),n-2*o<0&&(o=n/2),this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,270*r,360*r,!1),this.lineTo(t+i,e+n-o),this.arc(t+i-o,e+n-o,o,0,90*r,!1),this.lineTo(t+o,e+n),this.arc(t+o,e+n-o,o,90*r,180*r,!1),this.lineTo(t,e+o),this.arc(t+o,e+o,o,180*r,270*r,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,i,n){var o=i/2*.5522848,r=n/2*.5522848,s=t+i,a=e+n,l=t+i/2,h=e+n/2;this.beginPath(),this.moveTo(t,h),this.bezierCurveTo(t,h-r,l-o,e,l,e),this.bezierCurveTo(l+o,e,s,h-r,s,h),this.bezierCurveTo(s,h+r,l+o,a,l,a),this.bezierCurveTo(l-o,a,t,h+r,t,h),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,n){var o=n*(1/3),r=i/2*.5522848,s=o/2*.5522848,a=t+i,l=e+o,h=t+i/2,d=e+o/2,u=e+(n-o/2),c=e+n;this.beginPath(),this.moveTo(a,d),this.bezierCurveTo(a,d+s,h+r,l,h,l),this.bezierCurveTo(h-r,l,t,d+s,t,d),this.bezierCurveTo(t,d-s,h-r,e,h,e),this.bezierCurveTo(h+r,e,a,d-s,a,d),this.lineTo(a,u),this.bezierCurveTo(a,u+s,h+r,c,h,c),this.bezierCurveTo(h-r,c,t,u+s,t,u),this.lineTo(t,d)},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,n,o){this.beginPath(),this.moveTo(t,e);for(var r=o.length,s=i-t,a=n-e,l=a/s,h=Math.sqrt(s*s+a*a),d=0,u=!0,c=0,p=o[0];h>=.1;)(p=o[d++%r])>h&&(p=h),c=Math.sqrt(p*p/(1+l*l)),t+=c=s<0?-c:c,e+=l*c,!0===u?this.lineTo(t,e):this.moveTo(t,e),h-=p,u=!u},CanvasRenderingContext2D.prototype.hexagon=function(t,e,i){this.beginPath();var n=2*Math.PI/6;this.moveTo(t+i,e);for(var o=1;o<6;o++)this.lineTo(t+i*Math.cos(n*o),e+i*Math.sin(n*o));this.closePath()})},function(t,e,i){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"\xc1tras",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},e.it_IT=e.it,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl,e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},e["pt-BR"]=e["pt-br"],e.pt_BR=e["pt-br"],e.pt_br=e["pt-br"],e.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},e.ru_RU=e.ru,e.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},e.zh_CN=e.cn},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,n.default)(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,o.default)(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),n=Math.floor(e/4),o=Math.floor(e/8),r=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),l=Math.floor(t/8),h=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,n],[s,n,l,o],[5*l,n,h,r]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var n=this.coordinates[i-1],o=this.coordinates[i];t.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,n,o,r){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,n,o,r)}else t.drawImage(this.image,i,n,o,r)}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=function(){function t(){(0,n.default)(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}return(0,o.default)(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)t.hasOwnProperty(i)&&-1===e.indexOf(i)&&this.add(i,t[i])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.groups[t];if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++,(i={}).color=this.groups[this.groupsArray[n]],this.groups[t]=i}else{var o=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(i={}).color=this.defaultGroups[o],this.groups[t]=i}return i}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(11),l=i(12),h=i(47).default,d=function(){function t(e,i,o,r){var a=this;if((0,n.default)(this,t),this.body=e,this.images=i,this.groups=o,this.layoutEngine=r,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){a.add(e.items)},update:function(t,e){a.update(e.items,e.data,e.oldData)},remove:function(t,e){a.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){return e===t?.5:Math.max(0,1/(e-t)*(n-t))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=s.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(t.nodesListeners,function(e,i){t.body.data.nodes&&t.body.data.nodes.off(i,e)}),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(h.parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i].needsRefresh());if(void 0!==t.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.nodes;if(t instanceof a||t instanceof l)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new a,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new a}if(i&&s.forEach(this.nodesListeners,function(t,e){i.off(e,t)}),this.body.nodes={},this.body.data.nodes){var n=this;s.forEach(this.nodesListeners,function(t,e){n.body.data.nodes.on(e,t)});var o=this.body.data.nodes.getIds();this.add(o,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=[],o=0;o<t.length;o++){var r=this.body.data.nodes.get(i=t[o]),s=this.create(r);n.push(s),this.body.nodes[i]=s}this.layoutEngine.positionInitially(n),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var n=this.body.nodes,o=!1,r=0;r<t.length;r++){var s=t[r],a=n[s],l=e[r];void 0!==a?a.setOptions(l)&&(o=!0):(o=!0,a=this.create(l),n[s]=a)}o||void 0===i||(o=e.some(function(t,e){var n=i[e];return n&&n.level!==t.level})),this.body.emitter.emit(!0===o?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.forEach(this.body.nodes,function(i,n){var o=t.body.data.nodes.get(n);void 0!==o&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(o))})}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Array.isArray(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var n=this.body.nodes[t[i]];e[t[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[t]){var o=this.body.nodes[t];e[t]={x:Math.round(o.x),y:Math.round(o.y)}}}else for(var r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];e[this.body.nodeIndices[r]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var n=this.body.nodes[i];e._data[i].x==Math.round(n.x)&&e._data[i].y==Math.round(n.y)||t.push({id:n.id,x:Math.round(n.x),y:Math.round(n.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var n=this.body.nodes[t],o={},r=0;r<n.edges.length;r++){var s=n.edges[r];"to"!==e&&s.toId==n.id?void 0===o[s.fromId]&&(i.push(s.fromId),o[s.fromId]=!0):"from"!==e&&s.fromId==n.id&&void 0===o[s.toId]&&(i.push(s.toId),o[s.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],n=0;n<i.edges.length;n++)e.push(i.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var n=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){n.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e.default=d},function(t,e,i){t.exports={default:i(189),__esModule:!0}},function(t,e,i){i(49),i(60),t.exports=i(190)},function(t,e,i){var n=i(86),o=i(13)("iterator"),r=i(31);t.exports=i(7).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(n(e))}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(192).default,a=i(48).default,l=function(){function t(e,i,o,r){var a=this;(0,n.default)(this,t),this.ctx=e,this.parent=i,this.lines=new s(function(t,i){if(void 0===t)return 0;var n=a.parent.getFormattingValues(e,o,r,i),s=0;return""!==t&&(s=a.ctx.measureText(t).width),{width:s,values:n}})}return(0,o.default)(t,[{key:"process",value:function(t){if(!a.isValidLabel(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),n=i.length;if(e.multi)for(var o=0;o<n;o++){var r=this.splitBlocks(i[o],e.multi);if(void 0!==r)if(0!==r.length){if(e.maxWdt>0)for(var s=0;s<r.length;s++)this.splitStringIntoLines(r[s].text,r[s].mod,!0);else for(var l=0;l<r.length;l++)this.lines.append(r[l].text,r[l].mod);this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var h=0;h<n;h++)this.splitStringIntoLines(i[h]);else for(var d=0;d<n;d++)this.lines.newLine(i[d]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var n=t.charAt(i.position);/[ \t]/.test(n)?i.mono?i.add(n):i.spacing=!0:/</.test(n)?i.mono||i.bold||!/<b>/.test(t.substr(i.position,3))?i.mono||i.ital||!/<i>/.test(t.substr(i.position,3))?!i.mono&&/<code>/.test(t.substr(i.position,6))?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono"),i.position+=5):!i.mono&&"bold"===i.mod()&&/<\/b>/.test(t.substr(i.position,4))?(i.emitBlock(),i.bold=!1,i.modStack.shift(),i.position+=3):!i.mono&&"ital"===i.mod()&&/<\/i>/.test(t.substr(i.position,4))?(i.emitBlock(),i.ital=!1,i.modStack.shift(),i.position+=3):"mono"===i.mod()&&/<\/code>/.test(t.substr(i.position,7))?(i.emitBlock(),i.mono=!1,i.modStack.shift(),i.position+=6):i.add(n):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital"),i.position+=2):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold"),i.position+=2):/&/.test(n)?/&lt;/.test(t.substr(i.position,4))?(i.add("<"),i.position+=3):/&amp;/.test(t.substr(i.position,5))?(i.add("&"),i.position+=4):i.add("&"):i.add(n),i.position++}return i.emitBlock(),e}},{key:"splitMarkdownBlocks",value:function(t){for(var e=[],i={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":i.bold&&i.ital?"boldital":i.bold?"bold":i.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(e.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(t){" "===t&&(i.spacing=!0),i.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}};i.position<t.length;){var n=t.charAt(i.position);/[ \t]/.test(n)?(i.mono?i.add(n):i.spacing=!0,i.beginable=!0):/\\/.test(n)?i.position<t.length+1&&(i.position++,n=t.charAt(i.position),/ \t/.test(n)?i.spacing=!0:(i.add(n),i.beginable=!1)):i.mono||i.bold||!i.beginable&&!i.spacing||!/\*/.test(n)?i.mono||i.ital||!i.beginable&&!i.spacing||!/\_/.test(n)?!i.mono&&(i.beginable||i.spacing)&&/`/.test(n)?(i.emitBlock(),i.mono=!0,i.modStack.unshift("mono")):!i.mono&&"bold"===i.mod()&&/\*/.test(n)?i.position===t.length-1||/[.,_` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.bold=!1,i.modStack.shift()):i.add(n):!i.mono&&"ital"===i.mod()&&/\_/.test(n)?i.position===t.length-1||/[.,*` \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.ital=!1,i.modStack.shift()):i.add(n):i.mono&&"mono"===i.mod()&&/`/.test(n)?i.position===t.length-1||/[.,*_ \t\n]/.test(t.charAt(i.position+1))?(i.emitBlock(),i.mono=!1,i.modStack.shift()):i.add(n):(i.add(n),i.beginable=!1):(i.emitBlock(),i.ital=!0,i.modStack.unshift("ital")):(i.emitBlock(),i.bold=!0,i.modStack.unshift("bold")),i.position++}return i.emitBlock(),e}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var n=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(n))break;e=n,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(t.slice(0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");n.length>0;){var o=this.getLongestFit(n);if(0===o){var r=n[0],s=this.getLongestFitWord(r);this.lines.newLine(r.slice(0,s),e),n[0]=r.slice(s)}else{var a=o;" "===n[o-1]?o--:" "===n[a]&&a++;var l=n.slice(0,o).join("");o==n.length&&i?this.lines.append(l,e):this.lines.newLine(l,e),n=n.slice(a)}}}}]),t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(90)),o=s(i(0)),r=s(i(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(e){(0,o.default)(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,r.default)(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var o=e;void 0!==e&&""!==e||(o=" ");var r=this.measureText(o,i),s=(0,n.default)({},r.values);s.text=e,s.width=r.width,s.mod=i,void 0!==e&&""!==e||(s.width=0),this.lines[t].blocks.push(s),this.lines[t].width+=s.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var n=0;n<e.blocks.length;n++){var o=e.blocks[n];i<o.height&&(i=o.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var n=this.lines[i];n.width>t&&(t=n.width),e+=n.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var o={};(0,n.default)(o,i),o.blocks=[];for(var r=void 0,s=[],a=0;a<i.blocks.length;a++){var l=i.blocks[a];0!==l.width?s.push(l):void 0===r&&(r=l)}0===s.length&&void 0!==r&&s.push(r),o.blocks=s,t.push(o)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(23));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r));return a._setMargins(r),a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),t.roundRect(this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}},{key:"updateBoundingBox",value:function(t,e,i,n,o){this._updateBoundingBox(t,e,i,n,o),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),e}();e.default=d},function(t,e,i){i(195),t.exports=i(7).Object.getPrototypeOf},function(t,e,i){var n=i(41),o=i(85);i(87)("getPrototypeOf",function(){return function(t){return o(n(t))}})},function(t,e,i){t.exports={default:i(197),__esModule:!0}},function(t,e,i){i(198),t.exports=i(7).Object.setPrototypeOf},function(t,e,i){var n=i(17);n(n.S,"Object",{setPrototypeOf:i(199).set})},function(t,e,i){var n=i(32),o=i(27),r=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i(80)(Function.call,i(89).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,i){return r(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:r}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(73));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r));return a._setMargins(r),a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,n,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(73));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r,a,l){(0,o.default)(this,e);var h=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r));return h.setImages(a,l),h}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var o=2*this.options.size;return this.width=o,this.height=o,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,o,r){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),t.save(),t.clip(),this._drawImageAtPosition(t,r),t.restore(),this._drawImageLabel(t,e,i,n,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(23));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r));return a._setMargins(r),a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),t.database(e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(24));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"diamond",4,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(24));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"circle",2,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(23));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var n=this.getDimensionsFromLabel(t,e,i);this.height=2*n.height,this.width=n.width+n.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,r),t.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,n,o),this.labelModule.draw(t,e,i,n,o)}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,n=.5*this.height,o=Math.sin(e)*i,r=Math.cos(e)*n;return i*n/Math.sqrt(o*o+r*r)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(23));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r));return a._setMargins(r),a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,n,o,r),void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(t,e,i,n,o,r){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(n?"bold ":"")+s+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,r),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,r)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(73));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r,a,l){(0,o.default)(this,e);var h=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r));return h.setImages(a,l),h}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var o=2*this.options.size;return this.width=o,void(this.height=o)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,n,o,r){this.switchImages(n),this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(t.lineWidth=Math.min(this.width,(n?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),t.beginPath(),t.strokeStyle=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,t.fillStyle=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,r),t.closePath()),this._drawImageAtPosition(t,r),this._drawImageLabel(t,e,i,n,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this._updateBoundingBox(t,e),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(24));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"square",2,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(24));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"hexagon",4,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(24));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"star",4,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(23));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){(0,o.default)(this,e);var a=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r));return a._setMargins(r),a}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,n,o,r){this.resize(t,n,o),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(t,r),this.updateBoundingBox(e,i,t,n,o)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(24));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"triangle",3,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(24));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"draw",value:function(t,e,i,n,o,r){this._drawShape(t,"triangleDown",3,e,i,n,o,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(11),l=i(12),h=i(74).default,d=function(){function t(e,i,o){var r=this;(0,n.default)(this,t),this.body=e,this.images=i,this.groups=o,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,n){return e===t?.5:Math.max(0,1/(e-t)*(n-t))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},s.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var n=!1;for(var o in t.body.edges)if(t.body.edges.hasOwnProperty(o)){var r=t.body.edges[o],s=t.body.data.edges._data[o];if(void 0!==s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(r.setOptions(void 0===e?{smooth:!1}:{smooth:{type:e}}),n=!0)}}!0===i&&!0===n&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){s.forEach(t.edgesListeners,function(e,i){t.body.data.edges&&t.body.data.edges.off(i,e)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){h.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.edges;if(t instanceof a||t instanceof l)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new a,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new a}if(n&&s.forEach(this.edgesListeners,function(t,e){n.off(e,t)}),this.body.edges={},this.body.data.edges){s.forEach(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var o=this.body.data.edges.getIds();this.add(o,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,n=this.body.data.edges,o=0;o<t.length;o++){var r=t[o],s=i[r];s&&s.disconnect();var a=n.get(r,{showInternalIds:!0});i[r]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,n=!1,o=0;o<t.length;o++){var r=t[o],s=i.get(r),a=e[r];void 0!==a?(a.disconnect(),n=a.setOptions(s)||n,a.connect()):(this.body.edges[r]=this.create(s),n=!0)}!0===n?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;s.forEach(t,function(t){var e=i[t];void 0!==e&&e.remove()}),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;s.forEach(this.body.edges,function(e,i){var n=t.body.data.edges._data[i];void 0!==n&&e.setOptions(n)})}},{key:"create",value:function(t){return new h(t,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var n=i[t];n.from=null,n.to=null,n.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];s.forEach(this.body.edges,function(i,n){var o=t.body.nodes[i.toId],r=t.body.nodes[i.fromId];void 0!==o&&!0===o.isCluster||void 0!==r&&!0===r.isCluster||void 0!==o&&void 0!==r||e.push(n)}),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.edges,e=[];this.body.data.edges.forEach(function(i,n){void 0===t[n]&&e.push(n)}),this.add(e,!0)}}]),t}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=d(i(30)),o=d(i(3)),r=d(i(0)),s=d(i(1)),a=d(i(4)),l=d(i(5)),h=d(i(216));function d(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,i,n){return(0,r.default)(this,e),(0,a.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,i,n))}return(0,l.default)(e,h.default),(0,s.default)(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i[0],i[1])}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,n=void 0,o=void 0,r=void 0,s=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(n=this.from.y,r=this.to.y,i=this.from.x-s*t,o=this.to.x+s*t):(n=this.from.y-s*e,r=this.to.y+s*e,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:r}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,r,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),l=(0,n.default)(a,2),h=l[0],d=l[1];return this._getDistanceToBezierEdge(t,e,i,o,r,s,h,d)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=(0,n.default)(e,2),o=i[0],r=i[1],s=t,a=[];a[0]=Math.pow(1-s,3),a[1]=3*s*Math.pow(1-s,2),a[2]=3*Math.pow(s,2)*(1-s),a[3]=Math.pow(s,3);var l=a[0]*this.fromPoint.x+a[1]*o.x+a[2]*r.x+a[3]*this.toPoint.x,h=a[0]*this.fromPoint.y+a[1]*o.y+a[2]*r.y+a[3]*this.toPoint.y;return{x:l,y:h}}}]),e}();e.default=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(75));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,n,o,r,s,a){var l=1e9,h=void 0,d=void 0,u=void 0,c=void 0,p=void 0,f=t,g=e,m=[0,0,0,0];for(d=1;d<10;d++)u=.1*d,m[0]=Math.pow(1-u,3),m[1]=3*u*Math.pow(1-u,2),m[2]=3*Math.pow(u,2)*(1-u),m[3]=Math.pow(u,3),c=m[0]*t+m[1]*s.x+m[2]*a.x+m[3]*i,p=m[0]*e+m[1]*s.y+m[2]*a.y+m[3]*n,d>0&&(l=(h=this._getDistanceToLine(f,g,c,p,o,r))<l?h:l),f=c,g=p;return l}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=d(i(30)),o=d(i(3)),r=d(i(0)),s=d(i(1)),a=d(i(4)),l=d(i(5)),h=d(i(75));function d(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,i,n){(0,r.default)(this,e);var s=(0,a.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t,i,n));return s._boundFunction=function(){s.positionBezierNode()},s.body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return(0,l.default)(e,h.default),(0,s.default)(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics?{physics:!1}:this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,i=t,o=void 0,r=void 0;if(this.from===this.to){var s=this._getCircleData(this.from),a=(0,n.default)(s,3),l=a[0],h=a[1],d=a[2],u=2*Math.PI*(1-i);o=l+d*Math.sin(u),r=h+d-d*(1-Math.cos(u))}else o=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,r=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:o,y:r}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){return this._getDistanceToBezierEdge(t,e,i,n,o,r,this.via)}}]),e}();e.default=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(75));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,n=this.options.smooth.type,o=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var s=void 0,a=void 0;s=a=o<=r?i*r:i*o,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a),t=this.from.x+s,e=this.from.y+a,"discrete"===n&&(o<=r?t=o<i*r?this.from.x:t:e=r<i*o?this.from.y:e)}else if("straightCross"===n){var l=(1-i)*o,h=(1-i)*r;o<=r?(l=0,this.from.y<this.to.y&&(h=-h)):(this.from.x<this.to.x&&(l=-l),h=0),t=this.to.x+l,e=this.to.y+h}else if("horizontal"===n){var d=(1-i)*o;this.from.x<this.to.x&&(d=-d),t=this.to.x+d,e=this.from.y}else if("vertical"===n){var u=(1-i)*r;this.from.y<this.to.y&&(u=-u),t=this.from.x,e=this.to.y+u}else if("curvedCW"===n){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var c=Math.sqrt(o*o+r*r),p=Math.PI,f=(Math.atan2(r,o)+(.5*i+.5)*p)%(2*p);t=this.from.x+(.5*i+.5)*c*Math.sin(f),e=this.from.y+(.5*i+.5)*c*Math.cos(f)}else if("curvedCCW"===n){o=this.to.x-this.from.x,r=this.from.y-this.to.y;var g=Math.sqrt(o*o+r*r),m=Math.PI,v=(Math.atan2(r,o)+(.5*-i+.5)*m)%(2*m);t=this.from.x+(.5*i+.5)*g*Math.sin(v),e=this.from.y+(.5*i+.5)*g*Math.cos(v)}else{var y=void 0,b=void 0;y=b=o<=r?i*r:i*o,this.from.x>this.to.x&&(y=-y),this.from.y>=this.to.y&&(b=-b),t=this.from.x+y,e=this.from.y+b,o<=r?t=this.from.x<=this.to.x?this.to.x<t?this.to.x:t:this.to.x>t?this.to.x:t:e=this.from.y>=this.to.y?this.to.y>e?this.to.y:e:this.to.y<e?this.to.y:e}return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,n,o,r,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t,n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,o=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:o}}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(118));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,n=this.from;t.id===this.from.id&&(i=this.from,n=this.to);var o=Math.atan2(i.y-n.y,i.x-n.x),r=i.x-n.x,s=i.y-n.y,a=Math.sqrt(r*r+s*s),l=(a-t.distanceToBorder(e,o))/a,h={};return h.x=(1-l)*n.x+l*i.x,h.y=(1-l)*n.y+l*i.y,h}},{key:"_getDistanceToEdge",value:function(t,e,i,n,o,r){return this._getDistanceToLine(t,e,i,n,o,r)}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(8)),o=s(i(0)),r=s(i(1));function s(t){return t&&t.__esModule?t:{default:t}}var a=i(120).default,l=i(221).default,h=i(222).default,d=i(223).default,u=i(224).default,c=i(121).default,p=i(225).default,f=i(226).default,g=i(2),m=i(119).default,v=function(){function t(e){(0,o.default)(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},g.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,r.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===t.ready&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(!1===t?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===t?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,g.selectiveNotDeepExtend(["stabilization"],this.options,t),g.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new p(this.body,this.physicsBody,t=this.options.forceAtlas2Based),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new f(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(this.nodesSolver=new l(this.body,this.physicsBody,t=this.options.repulsion),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new c(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new h(this.body,this.physicsBody,t=this.options.hierarchicalRepulsion),this.edgesSolver=new u(this.body,this.physicsBody,t),this.gravitySolver=new c(this.body,this.physicsBody,t)):(this.nodesSolver=new a(this.body,this.physicsBody,t=this.options.barnesHut),this.edgesSolver=new d(this.body,this.physicsBody,t),this.gravitySolver=new c(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[n].id);for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var r=this.physicsBody.physicsNodeIndices[o];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=(0,n.default)(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var r=t[o];void 0!==e[r]?!0===e[r].options.physics&&(this.referenceState[r]={positions:{x:e[r].x,y:e[r].y}},i[r].x=this.previousStates[r].vx,i[r].y=this.previousStates[r].vy,e[r].x=this.previousStates[r].x,e[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=this.body.nodes,i=this.referenceState;for(var n in this.referenceState)if(this.referenceState.hasOwnProperty(n)&&void 0!==e[n]&&(t=e[n].y-i[n].positions.y,Math.sqrt(Math.pow(e[n].x-i[n].positions.x,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,n=0;n<t.length;n++){var o=this._performStep(t[n]);e=Math.max(e,o),i+=o}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var n=this.options.maxVelocity||1e9;return Math.abs(t)>n&&(t=t>0?n:-n),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t],n=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:n.x,vy:n.y},!1===e.options.fixed.x?(n.x=this.calculateComponentVelocity(n.x,i.x,e.options.mass),e.x+=n.x*this.timestep):(i.x=0,n.x=0),!1===e.options.fixed.y?(n.y=this.calculateComponentVelocity(n.y,i.y,e.options.mass),e.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(t.hasOwnProperty(e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return t._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var n=0;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;i(),e()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],n=this.body.nodes[i],o=this.physicsBody.forces[i],r=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),s=Math.min(Math.max(5,r),15),a=3*s,l=g.HSVToHex((180-180*Math.min(1,Math.max(0,.03*r)))/360,1,1),h={x:n.x+20*o.x,y:n.y+20*o.y};t.lineWidth=s,t.strokeStyle=l,t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(h.x,h.y),t.stroke();var d=Math.atan2(o.y,o.x);t.fillStyle=l,m.draw(t,{type:"arrow",point:h,angle:d,length:a}),t.fill()}}}]),t}();e.default=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,o,r,s,a,l=this.body.nodes,h=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,u=this.options.nodeDistance,c=-2/3/u,p=0;p<h.length-1;p++){s=l[h[p]];for(var f=p+1;f<h.length;f++)t=(a=l[h[f]]).x-s.x,e=a.y-s.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*Math.random()),i<2*u&&(r=i<.5*u?1:c*i+4/3,o=e*(r/=i),d[s.id].x-=n=t*r,d[s.id].y-=o,d[a.id].x+=n,d[a.id].y+=o)}}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,n,o,r,s,a,l,h,d=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,p=this.options.nodeDistance;for(l=0;l<u.length-1;l++)for(s=d[u[l]],h=l+1;h<u.length;h++)s.level===(a=d[u[h]]).level&&(t=a.x-s.x,e=a.y-s.y,r=(i=Math.sqrt(t*t+e*e))<p?-Math.pow(.05*i,2)+Math.pow(.05*p,2):0,0===i?i=.01:r/=i,o=e*r,c[s.id].x-=n=t*r,c[s.id].y-=o,c[a.id].x+=n,c[a.id].y+=o)}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,n=this.body.edges,o=void 0,r=void 0,s=0;s<i.length;s++)!0===(e=n[i[s]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(r=e.from,this._calculateSpringForce(e.to,o=e.edgeType.via,.5*(t=void 0===e.options.length?this.options.springLength:e.options.length)),this._calculateSpringForce(o,r,.5*t)):this._calculateSpringForce(e.from,e.to,t=void 0===e.options.length?1.5*this.options.springLength:e.options.length))}},{key:"_calculateSpringForce",value:function(t,e,i){var n=t.x-e.x,o=t.y-e.y,r=Math.max(Math.sqrt(n*n+o*o),.01),s=this.options.springConstant*(i-r)/r,a=n*s,l=o*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=l),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=l)}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return(0,o.default)(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,n,o,r,s,a,l,h,d=this.body.edges,u=this.physicsBody.physicsEdgeIndices,c=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,f=0;f<c.length;f++){var g=c[f];p[g].springFx=0,p[g].springFy=0}for(var m=0;m<u.length;m++)!0===(e=d[u[m]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,n=e.from.y-e.to.y,a=Math.sqrt(i*i+n*n),o=i*(s=this.options.springConstant*(t-(a=0===a?.01:a))/a),r=n*s,e.to.level!=e.from.level?(void 0!==p[e.toId]&&(p[e.toId].springFx-=o,p[e.toId].springFy-=r),void 0!==p[e.fromId]&&(p[e.fromId].springFx+=o,p[e.fromId].springFy+=r)):(void 0!==p[e.toId]&&(p[e.toId].x-=.5*o,p[e.toId].y-=.5*r),void 0!==p[e.fromId]&&(p[e.fromId].x+=.5*o,p[e.fromId].y+=.5*r)));s=1;for(var v=0;v<c.length;v++){var y=c[v];l=Math.min(s,Math.max(-s,p[y].springFx)),h=Math.min(s,Math.max(-s,p[y].springFy)),p[y].x+=l,p[y].y+=h}for(var b=0,w=0,x=0;x<c.length;x++){var _=c[x];b+=p[_].x,w+=p[_].y}for(var E=b/c.length,k=w/c.length,S=0;S<c.length;S++){var C=c[S];p[C].x-=E,p[C].y-=k}}}]),t}();e.default=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(120));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_calculateForces",value:function(t,e,i,n,o){0===t&&(e=t=.1*Math.random()),this.overlapAvoidanceFactor<1&&n.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,t-n.shape.radius));var r=this.options.gravitationalConstant*o.mass*n.options.mass*(n.edges.length+1)/Math.pow(t,2),s=i*r;this.physicsBody.forces[n.id].x+=e*r,this.physicsBody.forces[n.id].y+=s}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(3)),o=h(i(0)),r=h(i(1)),s=h(i(4)),a=h(i(5)),l=h(i(121));function h(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,r){return(0,o.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r))}return(0,a.default)(e,l.default),(0,r.default)(e,[{key:"_calculateForces",value:function(t,e,i,n,o){if(t>0){var r=this.options.centralGravity*(o.edges.length+1)*o.options.mass;n[o.id].x=e*r,n[o.id].y=i*r}}}]),e}();e.default=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(8)),o=a(i(6)),r=a(i(0)),s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var l=i(2),h=i(76).default,d=i(228).default,u=i(74).default,c=i(47).default,p=function(){function t(e){var i=this;(0,r.default)(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={},i.clusteredEdges={}})}return(0,s.default)(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===(void 0===t?"undefined":(0,o.default)(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>=t&&i.push(r.id)}for(var s=0;s<i.length;s++)this.clusterByConnection(i[s],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var n={},o={};l.forEach(this.body.nodes,function(i,r){var s=h.cloneOptions(i);!0===e.joinCondition(s)&&(n[r]=i,l.forEach(i.edges,function(e){void 0===t.clusteredEdges[e.id]&&(o[e.id]=e)}))}),this._cluster(n,o,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var r=[],s={},a=void 0,l=void 0,d=void 0,u=function(o){var u={},c={},g=i.body.nodeIndices[o],m=i.body.nodes[g];if(void 0===s[g]){d=0,l=[];for(var v=0;v<m.edges.length;v++)void 0===i.clusteredEdges[(a=m.edges[v]).id]&&(a.toId!==a.fromId&&d++,l.push(a));if(d===t){p=function(t){if(null==e.joinCondition)return!0;var i=h.cloneOptions(t);return e.joinCondition(i)};for(var y=!0,b=0;b<l.length;b++){var w=i._getConnectedId(a=l[b],g);if(!p(m)){y=!1;break}c[a.id]=a,u[g]=m,u[w]=i.body.nodes[w],s[g]=!0}if((0,n.default)(u).length>0&&(0,n.default)(c).length>0&&!0===y)if(void 0!==(f=function(){for(var t=0;t<r.length;++t)for(var e in u)if(void 0!==r[t].nodes[e])return r[t]}())){for(var x in u)void 0===f.nodes[x]&&(f.nodes[x]=u[x]);for(var _ in c)void 0===f.edges[_]&&(f.edges[_]=c[_])}else r.push({nodes:u,edges:c})}}},c=0;c<this.body.nodeIndices.length;c++){var p,f;u(c)}for(c=0;c<r.length;c++)this._cluster(r[c].nodes,r[c].edges,e,!1);!0===o&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[t];void 0===(e=this._checkOptions(e,o)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);var r={},s={},a=o.id,l=h.cloneOptions(o);r[a]=o;for(var d=0;d<o.edges.length;d++){var u=o.edges[d];if(void 0===this.clusteredEdges[u.id]){var c=this._getConnectedId(u,a);if(void 0===this.clusteredNodes[c])if(c!==a)if(void 0===e.joinCondition)s[u.id]=u,r[c]=this.body.nodes[c];else{var p=h.cloneOptions(this.body.nodes[c]);!0===e.joinCondition(l,p)&&(s[u.id]=u,r[c]=this.body.nodes[c])}else s[u.id]=u}}var f=(0,n.default)(r).map(function(t){return r[t].id});for(g in r)if(r.hasOwnProperty(g))for(var g=r[g],m=0;m<g.edges.length;m++){var v=g.edges[m];f.indexOf(this._getConnectedId(v,g.id))>-1&&(s[v.id]=v)}this._cluster(r,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,o){for(var r=void 0,s=void 0,a=void 0,l=void 0,h=void 0,d=void 0,u=(0,n.default)(t),c=[],p=0;p<u.length;p++){a=t[s=u[p]];for(var f=0;f<a.edges.length;f++)void 0===this.clusteredEdges[(r=a.edges[f]).id]&&(r.toId==r.fromId?e[r.id]=r:r.toId==s?(l=i.id,d=h=r.fromId):(h=i.id,d=l=r.toId),void 0===t[d]&&c.push({edge:r,fromId:h,toId:l}))}for(var g=[],m=function(t){for(var e=0;e<g.length;e++){var i=g[e];if(t.fromId===i.fromId&&t.toId===i.toId||t.fromId===i.toId&&t.toId===i.fromId)return i}return null},v=0;v<c.length;v++){var y=c[v],b=y.edge,w=m(y);null===w?(w=this._createClusteredEdge(y.fromId,y.toId,b,o),g.push(w)):w.clusteringEdgeReplacingIds.push(b.id),this.body.edges[b.id].edgeReplacedById=w.id,this._backupEdgeOptions(b),b.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var s in t)t.hasOwnProperty(s)&&void 0!==this.clusteredNodes[s]&&r.push(s);for(var a=0;a<r.length;++a)delete t[r[a]];if(0!=(0,n.default)(t).length&&(1!=(0,n.default)(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var u=l.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var c=[];for(var p in t)if(t.hasOwnProperty(p)){var f=h.cloneOptions(t[p]);c.push(f)}var g=[];for(var m in e)if(e.hasOwnProperty(m)&&"clusterEdge:"!==m.substr(0,12)){var v=h.cloneOptions(e[m],"edge");g.push(v)}if(!(u=i.processProperties(u,c,g)))throw new Error("The processProperties function does not return properties!")}void 0===u.id&&(u.id="cluster:"+l.randomUUID());var y=u.id;void 0===u.label&&(u.label="cluster");var b=void 0;void 0===u.x&&(b=this._getClusterPosition(t),u.x=b.x),void 0===u.y&&(void 0===b&&(b=this._getClusterPosition(t)),u.y=b.y),u.id=y;var w=this.body.functions.createNode(u,d);w.containedNodes=t,w.containedEdges=e,w.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[u.id]=w,this._clusterEdges(t,e,u,i.clusterEdgeProperties),u.id=void 0,!0===o&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=(0,n.default)(t),i=t[e[0]].x,o=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].y,a=void 0,l=1;l<e.length;l++)i=(a=t[e[l]]).x<i?a.x:i,o=a.x>o?a.x:o,r=a.y<r?a.y:r,s=a.y>s?a.y:s;return{x:.5*(i+o),y:.5*(r+s)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[t];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var o=this.findNode(t),r=o.indexOf(t)-1;if(r>=0){var s=o[r],a=this.body.nodes[s];return a._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var h=n.containedNodes,d=n.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var u={},c={x:n.x,y:n.y};for(var p in h)if(h.hasOwnProperty(p)){var f=this.body.nodes[p];u[p]={x:f.x,y:f.y}}var g=e.releaseFunction(c,u);for(var m in h)if(h.hasOwnProperty(m)){var v=this.body.nodes[m];void 0!==g[m]&&(v.x=void 0===g[m].x?n.x:g[m].x,v.y=void 0===g[m].y?n.y:g[m].y)}}else l.forEach(h,function(t){!1===t.options.fixed.x&&(t.x=n.x),!1===t.options.fixed.y&&(t.y=n.y)});for(var y in h)if(h.hasOwnProperty(y)){var b=this.body.nodes[y];b.vx=n.vx,b.vy=n.vy,b.setOptions({physics:!0}),delete this.clusteredNodes[y]}for(var w=[],x=0;x<n.edges.length;x++)w.push(n.edges[x]);for(var _=0;_<w.length;_++){for(var E=w[_],k=this._getConnectedId(E,t),S=this.clusteredNodes[k],C=0;C<E.clusteringEdgeReplacingIds.length;C++){var T=E.clusteringEdgeReplacingIds[C],M=this.body.edges[T];if(void 0!==M)if(void 0!==S){var D=this.body.nodes[S.clusterId];D.containedEdges[M.id]=M,delete d[M.id];var O=M.fromId,P=M.toId;M.toId==k?P=S.clusterId:O=S.clusterId,this._createClusteredEdge(O,P,M,D.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(M)}E.remove()}for(var I in d)d.hasOwnProperty(I)&&this._restoreEdge(d[I]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var n in i)i.hasOwnProperty(n)&&e.push(this.body.nodes[n].id)}return e}},{key:"findNode",value:function(t){for(var e=[],i=0,n=void 0;void 0!==this.clusteredNodes[t]&&i<100;){if(void 0===(n=this.body.nodes[t]))return[];e.push(n.id),t=this.clusteredNodes[t].clusterId,i++}return void 0===(n=this.body.nodes[t])?[]:(e.push(n.id),e.reverse(),e)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(e);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return e.reverse(),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],n=[],o=0;e.length>0&&o<100;){var r=e.pop();if(void 0!==r){var s=this.body.edges[r];if(void 0!==s){o++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)n.push(r);else for(var l=0;l<a.length;++l){var h=a[l];-1===e.indexOf(a)&&-1===i.indexOf(a)&&e.push(h)}i.push(r)}}}return n}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:t.fromId}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,n=0,o=0;o<this.body.nodeIndices.length;o++){var r=this.body.nodes[this.body.nodeIndices[o]];r.edges.length>n&&(n=r.edges.length),t+=r.edges.length,e+=Math.pow(r.edges.length,2),i+=1}t/=i;var s=(e/=i)-Math.pow(t,2),a=Math.sqrt(s),l=Math.floor(t+2*a);return l>n&&(l=n),l}},{key:"_createClusteredEdge",value:function(t,e,i,n,o){var r=h.cloneOptions(i,"edge");l.deepExtend(r,n),r.from=t,r.to=e,r.id="clusterEdge:"+l.randomUUID(),void 0!==o&&l.deepExtend(r,o);var s=this.body.functions.createEdge(r);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,i,n){if(e instanceof u){var o={};o[e.id]=e,e=o}if(t instanceof c){var r={};r[t.id]=t,t=r}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var s in void 0===n&&(n=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,n),e)if(e.hasOwnProperty(s)&&void 0!==this.body.edges[s]){var a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(var l in t)t.hasOwnProperty(l)&&(this.clusteredNodes[l]={clusterId:i.id,node:this.body.nodes[l]},this.body.nodes[l].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return l.forEach(t,function(t){e(t)&&i.push(t)}),i}},{key:"_updateState",value:function(){var t=this,e=void 0,i=[],o=[],r=function(e){l.forEach(t.body.nodes,function(t){!0===t.isCluster&&e(t)})};for(e in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(e)&&void 0===this.body.nodes[e]&&i.push(e);r(function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]});for(var s=0;s<i.length;s++)delete this.clusteredNodes[i[s]];l.forEach(this.clusteredEdges,function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()||o.push(e)}),r(function(t){l.forEach(t.containedEdges,function(t,e){t.endPointsValid()||-1!==o.indexOf(e)||o.push(e)})}),l.forEach(this.body.edges,function(e,i){var n=!0,r=e.clusteringEdgeReplacingIds;if(void 0!==r){var s=0;l.forEach(r,function(e){var i=t.body.edges[e];void 0!==i&&i.endPointsValid()&&(s+=1)}),n=s>0}e.endPointsValid()&&n||o.push(i)}),r(function(e){l.forEach(o,function(i){delete e.containedEdges[i],l.forEach(e.edges,function(n,r){n.id!==i?n.clusteringEdgeReplacingIds=t._filter(n.clusteringEdgeReplacingIds,function(t){return-1===o.indexOf(t)}):e.edges[r]=null}),e.edges=t._filter(e.edges,function(t){return null!==t})})}),l.forEach(o,function(e){delete t.clusteredEdges[e]}),l.forEach(o,function(e){delete t.body.edges[e]});var a=(0,n.default)(this.body.edges);l.forEach(a,function(e){var i=t.body.edges[e],n=t._isClusteredNode(i.fromId)||t._isClusteredNode(i.toId);if(n!==t._isClusteredEdge(i.id)){if(!n)throw new Error("remove edge from clustering not implemented!");var o=t._getClusterNodeForNode(i.fromId);void 0!==o&&t._clusterEdges(t.body.nodes[i.fromId],i,o);var r=t._getClusterNodeForNode(i.toId);void 0!==r&&t._clusterEdges(t.body.nodes[i.toId],i,r)}});for(var h=!1,d=!0,u=function(){var e=[];r(function(t){var i=(0,n.default)(t.containedNodes).length,o=!0===t.options.allowSingleNodeCluster;(o&&i<1||!o&&i<2)&&e.push(t.id)});for(var i=0;i<e.length;++i)t.openCluster(e[i],{},!1);d=e.length>0,h=h||d};d;)u();h&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();e.default=p},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(3)),o=l(i(0)),r=l(i(1)),s=l(i(4)),a=l(i(5));function l(t){return t&&t.__esModule?t:{default:t}}var h=i(2),d=i(47).default,u=function(t){function e(t,i,r,a,l,h){(0,o.default)(this,e);var d=(0,s.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t,i,r,a,l,h));return d.isCluster=!0,d.containedNodes={},d.containedEdges={},d}return(0,a.default)(e,d),(0,r.default)(e,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],h.forEach(i.edges,function(t){delete e.containedEdges[t.id]}),h.forEach(i.containedNodes,function(t,i){e.containedNodes[i]=t}),i.containedNodes={},h.forEach(i.containedEdges,function(t,i){e.containedEdges[i]=t}),i.containedEdges={},h.forEach(i.edges,function(t){h.forEach(e.edges,function(i){var n=i.clusteringEdgeReplacingIds.indexOf(t.id);-1!==n&&(h.forEach(t.clusteringEdgeReplacingIds,function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id}),i.clusteringEdgeReplacingIds.splice(n,1))})}),i.edges=[]}}]),e}();e.default=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=function(){function t(e,i){var o;(0,n.default)(this,t),void 0!==window&&(o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===o?function(t){t()}:o,this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},s.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===t.renderingActive&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){void 0!==t&&s.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,t)}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i=void 0,n=window;return!0===this.requiresTimeout?i=n.setTimeout(t,e):n.requestAnimationFrame&&(i=n.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var e=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,n),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(e),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),!0===t&&e.clearRect(0,0,i,n)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var n in e)e.hasOwnProperty(n)&&((i=e[n]).resize(t),i.updateBoundingBox(t,i.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.nodes,n=this.body.nodeIndices,o=void 0,r=[],s=20,a=this.canvas.DOMtoCanvas({x:-s,y:-s}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+s,y:this.canvas.frame.canvas.clientHeight+s}),h={top:a.y,left:a.x,bottom:l.y,right:l.x},d=0;d<n.length;d++)(o=i[n[d]]).isSelected()?r.push(n[d]):!0===e?o.draw(t):!0===o.isBoundingBoxOverlappingWith(h)?o.draw(t):o.updateBoundingBox(t,o.selected);for(var u=0;u<r.length;u++)(o=i[r[u]]).draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,n=void 0,o=0;o<i.length;o++)!0===(n=e[i[o]]).connected&&n.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e.default=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(10),a=i(37),l=i(2),h=function(){function t(e){(0,n.default)(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;void 0!==t&&l.selectiveDeepExtend(["width","height","autoResize"],this.options,t),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),l.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),l.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_ALL}),a.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new s(this.frame),a.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,n=this.frame.canvas.width,o=this.frame.canvas.height,r=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(r),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e.default=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(76).default,l=function(){function t(e,i){var o=this;(0,n.default)(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,o.default)(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=void 0,n=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),!0===e){var o=0;for(var r in this.body.nodes)if(this.body.nodes.hasOwnProperty(r)){var s=this.body.nodes[r];!0===s.predefinedPosition&&(o+=1)}if(o>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=a.getRange(this.body.nodes,t.nodes);var l=this.body.nodeIndices.length;n=12.662/(l+7.4147)+.0964822;var h=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);n*=h}else{this.body.emitter.emit("_resizeNodes"),i=a.getRange(this.body.nodes,t.nodes);var d=1.1*Math.abs(i.maxX-i.minX),u=1.1*Math.abs(i.maxY-i.minY),c=this.canvas.frame.canvas.clientWidth/d,p=this.canvas.frame.canvas.clientHeight/u;n=c<=p?c:p}n>1?n=1:0===n&&(n=1);var f=a.findCenter(i),g={position:f,scale:n,animation:t.animation};this.moveTo(g)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){void 0!==t?(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)):t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(e.x-t.position.x)*this.targetScale+t.offset.x,y:this.sourceTranslation.y+(e.y-t.position.y)*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=this.body.view.translation;this.body.view.translation={x:n.x+(i.x-t)*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+(i.y-e)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=s.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2),a=i(233).default,l=i(104).default,h=function(){function t(e,i,o){(0,n.default)(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.navigationHandler=new a(e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},s.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,o.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){void 0!==t&&(s.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),s.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(s.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=s.parseColor(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-s.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-s.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center);this.checkSelectionChanges(e,t,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.selectionHandler.getSelection(),o=!1;o=!0===i?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var r=this.selectionHandler.getSelection(),s=this._determineDifference(n,r),a=this._determineDifference(r,n);s.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,n),o=!0),s.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,n),o=!0),a.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",e,t),o=!0),a.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",e,t),o=!0),!0===o&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&i.push(o)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=s.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n],r={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(r)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",t,i);var o=i.x-this.drag.pointer.x,r=i.y-this.drag.pointer.y;n.forEach(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+o)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+r))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.view.translation={x:this.drag.translation.x+(i.x-this.drag.pointer.x),y:this.drag.translation.y+(i.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*t.scale,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var o=this.body.view.translation,r=t/i,s=(1-r)*e.x+o.x*r,a=(1-r)*e.y+o.y*r;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",i<t?{direction:"+",scale:this.body.view.scale,pointer:e}:{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,n=e/10;e<0&&(n/=1-n),i*=1+n;var o=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,o)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),n=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(n=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===n&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),n={left:e,top:i,right:e,bottom:i},o=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,s="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,h=this.body.nodes,d=void 0,u=[],c=0;c<a.length;c++)!0===(d=h[a[c]]).isOverlappingWith(n)&&void 0!==d.getTitle()&&u.push(a[c]);u.length>0&&(this.popupObj=h[u[u.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){for(var p=this.body.edgeIndices,f=this.body.edges,g=void 0,m=[],v=0;v<p.length;v++)!0===(g=f[p[v]]).isOverlappingWith(n)&&!0===g.connected&&void 0!==g.getTitle()&&m.push(p[v]);m.length>0&&(this.popupObj=f[m[m.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==o&&(void 0===this.popup&&(this.popup=new l(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var n=this.selectionHandler.getNodeAt(t);i=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e.default=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(10),a=i(37),l=i(35),h=function(){function t(e,i){var o=this;(0,n.default)(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){o.activated=!0,o.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){o.activated=!1,o.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==o.keycharm&&o.keycharm.destroy()}),this.options={}}return(0,o.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var n=0;n<e.length;n++){this.navigationDOM[e[n]]=document.createElement("div"),this.navigationDOM[e[n]].className="vis-button vis-"+e[n],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[n]]);var o=new s(this.navigationDOM[e[n]]);a.onTouch(o,"_fit"===i[n]?this._fit.bind(this):this.bindToRedraw.bind(this,i[n])),this.navigationHammers.push(o)}var r=new s(this.canvas.frame);a.onRelease(r,function(){t._stopMovement()}),this.navigationHammers.push(r),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,n=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:n,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),e=this.body.view.translation,i=t/this.body.view.scale,n=(1-i)*this.canvas.canvasViewCenter.x+e.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+e.y*i;this.body.view.scale=t,this.body.view.translation={x:n,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=l(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}();e.default=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(47).default,a=i(74).default,l=i(2),h=function(){function t(e,i){var o=this;(0,n.default)(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}return(0,o.default)(t,[{key:"setOptions",value:function(t){void 0!==t&&l.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"_generateClickEvent",value:function(t,e,i,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this._initBaseEvent(e,i);if(!0===o)r.nodes=[],r.edges=[];else{var s=this.getSelection();r.nodes=s.nodes,r.edges=s.edges}void 0!==n&&(r.previousSelection=n),"click"==t&&(r.items=this.getClickedItems(i)),this.body.emitter.emit(t,r)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==t&&(t instanceof s&&!0===e&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0)}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var o=this.body.nodeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),n=this._getAllNodesOverlappingWith(i);return n.length>0?!0===e?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var o=this.body.edgeIndices[n];i[o].isOverlappingWith(t)&&e.push(o)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),n=10,o=null,r=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],l=r[a];if(l.connected){var h=l.from.x,d=l.from.y,u=l.to.x,c=l.to.y,p=l.edgeType.getDistanceToEdge(h,d,u,c,i.x,i.y);p<n&&(o=a,n=p)}}return null!==o?!0===e?this.body.edges[o]:o:void 0}},{key:"_addToSelection",value:function(t){t instanceof s?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof s?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof s?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof s?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}},{key:"emitHoverEvent",value:function(t,e,i){var n=this._initBaseEvent(t,e),o=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof s?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var n=!1;for(var o in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(o)&&(void 0===i||i instanceof s&&i.id!=o||i instanceof a)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(var r in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(r)&&(!0===n?(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]):(void 0===i||i instanceof a&&i.id!=r||i instanceof s&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[r]),delete this.hoverObj.edges[r],n=!0));void 0!==i&&(n=n||this.emitHoverEvent(t,e,i),i instanceof s&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)),!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(!0===this.options.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=void 0,n=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){var o=this.body.nodes[n=t.nodes[i]];if(!o)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(o,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){var r=this.body.edges[n=t.edges[i]];if(!r)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(r)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],n=this.body.nodeIndices,o=this.body.nodes,r=n.length-1;r>=0;r--){var s=o[n[r]].getItemsOnPoint(e);i.push.apply(i,s)}for(var a=this.body.edgeIndices,l=this.body.edges,h=a.length-1;h>=0;h--){var d=l[a[h]].getItemsOnPoint(e);i.push.apply(i,d)}return i}}]),t}();e.default=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(30)),o=l(i(6)),r=l(i(8)),s=l(i(0)),a=l(i(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=i(2),d=i(76).default,u=i(236),c=u.HorizontalStrategy,p=u.VerticalStrategy,f=function(){function t(){(0,s.default)(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,a.default)(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(n){if(void 0!==i[n])return i[n];var o=e.levels[n];if(e.childrenReference[n]){var r=e.childrenReference[n];if(r.length>0)for(var s=0;s<r.length;s++)o=Math.max(o,t(r[s]))}return i[n]=o,o}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)t.hasOwnProperty(i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var n in t)t.hasOwnProperty(n)&&void 0!==this.levels[n]&&(this.levels[n]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,n=-1e9,o=1e9,r=-1e9;for(var s in this.trees)if(this.trees.hasOwnProperty(s)&&this.trees[s]===e){var a=t[s];i=Math.min(a.x,i),n=Math.max(a.x,n),o=Math.min(a.y,o),r=Math.max(a.y,r)}return{min_x:i,max_x:n,min_y:o,max_y:r}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],n=this.parentReference[e.id];if(void 0===i||void 0===n)return!1;for(var o=0;o<i.length;o++)for(var r=0;r<n.length;r++)if(i[o]==n[r])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return(0,r.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,n=this.distributionOrdering[e];for(var o in n)if(n[o]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),g=function(){function t(e){(0,s.default)(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,a.default)(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,n=i.enabled;if(h.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),h.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),!0===i.enabled)return!0===n&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===n)return this.body.emitter.emit("refresh"),h.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===(0,o.default)(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var n=t.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(i=n.type),this.optionsBackup.edges={smooth:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection},t.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:i,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var e=t.length+50,i=0;i<t.length;i++){var n=t[i],o=2*Math.PI*this.seededRandom();void 0===n.x&&(n.x=e*Math.cos(o)),void 0===n.y&&(n.y=e*Math.sin(o))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){var n=0,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>150){for(var r=t.length;t.length>150&&n<=10;){var s=t.length;if((n+=1)%3==0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),s==t.length&&n%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var a=0;a<t.length;a++){var l=this.body.nodes[t[a]];!1===l.predefinedPosition&&(l.x+=70*(.5-this.seededRandom()),l.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=d.getRangeCore(this.body.nodes,this.body.nodeIndices),e=d.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var n=this.body.nodes[this.body.nodeIndices[i]];n.x-=e.x,n.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,i=!1,n=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new f,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):n=!0);if(!0===n&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var o=this.options.hierarchical.sortMethod;"hubsize"===o?this._determineLevelsByHubsize():"directed"===o?this._determineLevelsDirected():"custom"===o&&this._determineLevelsCustomCallback()}for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.hierarchical.ensureLevel(r);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},o=function(e,i){var n=t.hierarchical.trees;for(var o in n)n.hasOwnProperty(o)&&n[o]===e&&t.direction.shift(o,i)},r=function e(i,n){if(!n[i.id]&&(n[i.id]=!0,t.hierarchical.childrenReference[i.id])){var o=t.hierarchical.childrenReference[i.id];if(o.length>0)for(var r=0;r<o.length;r++)e(t.body.nodes[o[r]],n)}},s=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,o=1e9,r=1e9,s=1e9,a=-1e9;for(var l in e)if(e.hasOwnProperty(l)){var h=t.body.nodes[l],d=t.hierarchical.levels[h.id],u=t.direction.getPosition(h),c=t._getSpaceAroundNode(h,e),p=(0,n.default)(c,2),f=p[0],g=p[1];o=Math.min(f,o),r=Math.min(g,r),d<=i&&(s=Math.min(u,s),a=Math.max(u,a))}return[s,a,o,r]},a=function(e,i){var n=t.hierarchical.getMaxLevel(e.id),o=t.hierarchical.getMaxLevel(i.id);return Math.min(n,o)},l=function(e,i,n){for(var o=t.hierarchical,r=0;r<i.length;r++){var s=o.distributionOrdering[i[r]];if(s.length>1)for(var a=0;a<s.length-1;a++){var l=s[a],h=s[a+1];o.hasSameParent(l,h)&&o.inSameSubNetwork(l,h)&&e(l,h,n)}}},h=function(i,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=t.direction.getPosition(i),h=t.direction.getPosition(n),d=Math.abs(h-l),u=t.options.hierarchical.nodeSpacing;if(d>u){var c={},p={};r(i,c),r(n,p);var f=a(i,n),g=s(c,f),m=s(p,f),v=g[1],y=m[0],b=m[2],w=Math.abs(v-y);if(w>u){var x=v-y+u;x<-b+u&&(x=-b+u),x<0&&(t._shiftBlock(n.id,x),e=!0,!0===o&&t._centerParent(n))}}},d=function(o,a){for(var l=a.id,h=a.edges,d=t.hierarchical.levels[a.id],u=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,c={},p=[],f=0;f<h.length;f++){var g=h[f];if(g.toId!=g.fromId){var m=g.toId==l?g.from:g.to;c[h[f].id]=m,t.hierarchical.levels[m.id]<d&&p.push(g)}}var v=function(e,i){for(var n=0,o=0;o<i.length;o++)if(void 0!==c[i[o].id]){var r=t.direction.getPosition(c[i[o].id])-e;n+=r/Math.sqrt(r*r+u)}return n},y=function(e,i){for(var n=0,o=0;o<i.length;o++)if(void 0!==c[i[o].id]){var r=t.direction.getPosition(c[i[o].id])-e;n-=u*Math.pow(r*r+u,-1.5)}return n},b=function(e,i){for(var n=t.direction.getPosition(a),o={},r=0;r<e;r++){var s=v(n,i),l=y(n,i);if(void 0!==o[n-=Math.max(-40,Math.min(40,Math.round(s/l)))])break;o[n]=r}return n},w=b(o,p);!function(n){var o=t.direction.getPosition(a);if(void 0===i[a.id]){var l={};r(a,l),i[a.id]=l}var h=s(i[a.id]),d=h[2],u=n-o,c=0;u>0?c=Math.min(u,h[3]-t.options.hierarchical.nodeSpacing):u<0&&(c=-Math.min(-u,d-t.options.hierarchical.nodeSpacing)),0!=c&&(t._shiftBlock(a.id,c),e=!0)}(w),function(i){var o=t.direction.getPosition(a),r=t._getSpaceAroundNode(a),s=(0,n.default)(r,2),l=s[0],h=i-o,d=o;h>0?d=Math.min(o+(s[1]-t.options.hierarchical.nodeSpacing),i):h<0&&(d=Math.max(o-(l-t.options.hierarchical.nodeSpacing),i)),d!==o&&(t.direction.setPosition(a,d),e=!0)}(w=b(o,h))};!0===this.options.hierarchical.blockShifting&&(function(i){var n=t.hierarchical.getLevels();n=n.reverse();for(var o=0;o<5&&(e=!1,l(h,n,!0),!0===e);o++);}(),function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var n=t.hierarchical.getLevels();n=n.reverse();for(var o=0;o<20;o++){e=!1;for(var r=0;r<n.length;r++)for(var s=t.hierarchical.distributionOrdering[n[r]],a=0;a<s.length;a++)d(1e3,s[a]);if(!0!==e)break}}(),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=e.reverse();for(var i=0;i<e.length;i++)for(var n=t.hierarchical.distributionOrdering[e[i]],o=0;o<n.length;o++)t._centerParent(n[o])}(),function(){for(var e=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e}(),i=0,n=0;n<e.length-1;n++)o(n+1,i+=e[n].max-e[n+1].min+t.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var n=this.hierarchical.levels[t.id];if(void 0!==n){var o=this.hierarchical.distributionIndex[t.id],r=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[n],a=1e9,l=1e9;if(0!==o){var h=s[o-1];(!0===i&&void 0===e[h.id]||!1===i)&&(a=r-this.direction.getPosition(h))}if(o!=s.length-1){var d=s[o+1];if(!0===i&&void 0===e[d.id]||!1===i){var u=this.direction.getPosition(d);l=Math.min(l,u-r)}}return[a,l]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var o=e[i],r=this.body.nodes[o],s=this.hierarchical.childrenReference[o];if(void 0!==s){var a=this._getCenterPosition(s),l=this.direction.getPosition(r),h=this._getSpaceAroundNode(r),d=(0,n.default)(h,2),u=d[0],c=d[1],p=l-a;(p<0&&Math.abs(p)<c-this.options.hierarchical.nodeSpacing||p>0&&Math.abs(p)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,a)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(t.hasOwnProperty(e)){var i=(0,r.default)(t[e]);i=this._indexArrayToNodes(i),this.direction.sort(i);for(var n=0,o=0;o<i.length;o++){var s=i[o];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,l=a*n;n>0&&(l=this.direction.getPosition(i[o-1])+a),this.direction.setPosition(s,l,e),this._validatePositionAndContinue(s,e,l),n++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i=this.hierarchical.childrenReference[t];if(void 0!==i){for(var n=[],o=0;o<i.length;o++)n.push(this.body.nodes[i[o]]);this.direction.sort(n);for(var r=0;r<n.length;r++){var s=n[r],a=this.hierarchical.levels[s.id];if(!(a>e&&void 0===this.positionedNodes[s.id]))return;var l,h=this.options.hierarchical.nodeSpacing;l=0===r?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(n[r-1])+h,this.direction.setPosition(s,l,a),this._validatePositionAndContinue(s,a,l)}var d=this._getCenterPosition(n);this.direction.setPosition(this.body.nodes[t],d,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-n<this.options.hierarchical.nodeSpacing){var o=n+this.options.hierarchical.nodeSpacing-i,r=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(r.withChild,o)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){var n=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i=this.body.nodes[e],n),void 0===t[n]&&(t[n]={}),t[n][e]=i}return t}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return h.forEach(t.edges,function(t){-1!==e.body.edgeIndices.indexOf(t.id)&&i.push(t)}),i}},{key:"_getHubSizes",value:function(){var t=this,e={};h.forEach(this.body.nodeIndices,function(i){var n=t._getActiveEdges(t.body.nodes[i]).length;e[n]=!0});var i=[];return h.forEach(e,function(t){i.push(Number(t))}),i.sort(function(t,e){return e-t}),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),n=function(n){var o=i[n];if(0===o)return"break";h.forEach(t.body.nodeIndices,function(i){o===t._getActiveEdges(t.body.nodes[i]).length&&t._crawlNetwork(e,i)})},o=0;o<i.length&&"break"!==n(o);++o);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork(function(e,i,n){var o=t.hierarchical.levels[e.id];void 0===o&&(o=t.hierarchical.levels[e.id]=1e5);var r=(d.cloneOptions(e,"node"),d.cloneOptions(i,"node"),void d.cloneOptions(n,"edge"));t.hierarchical.levels[i.id]=o+r}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t=this;this._crawlNetwork(function(e,i,n){var o=t.hierarchical.levels[e.id],r=t.hierarchical.levels[i.id];(function(e){return h.forEach(t.body.edges,function(t){if(t.toId===e.fromId&&t.fromId===e.toId)return!0}),!1})(n)&&void 0!==o&&void 0!==r||(void 0===o&&(o=t.hierarchical.levels[e.id]=1e4),t.hierarchical.levels[i.id]=n.toId==i.id?o+1:o-1)}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork(function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments[1],n={},o=function i(o,r){if(void 0===n[o.id]){t.hierarchical.setTreeIndex(o,r),n[o.id]=!0;for(var s=void 0,a=t._getActiveEdges(o),l=0;l<a.length;l++){var h=a[l];!0===h.connected&&o.id!=(s=h.toId==o.id?h.from:h.to).id&&(e(o,s,h),i(s,r))}}};if(void 0===i)for(var r=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];if(void 0===n[a]){var l=this.body.nodes[a];o(l,r),r+=1}}else{var h=this.body.nodes[i];if(void 0===h)return void console.error("Node not found:",i);o(h)}}},{key:"_shiftBlock",value:function(t,e){var i=this,n={};!function t(o){if(!n[o]){n[o]=!0,i.direction.shift(o,e);var r=i.hierarchical.childrenReference[o];if(void 0!==r)for(var s=0;s<r.length;s++)t(r[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,n={};return function t(e,n){var o=i.hierarchical.parentReference[n];if(void 0!==o)for(var r=0;r<o.length;r++){var s=o[r];e[s]=!0,t(e,s)}}(n,t),function t(e,n){var o=i.hierarchical.parentReference[n];if(void 0!==o)for(var r=0;r<o.length;r++){var s=o[r];if(void 0!==e[s])return{foundParent:s,withChild:n};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:n}}(n,e)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new p(this):new c(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,n=0;n<t.length;n++){var o=this.direction.getPosition(void 0!==t[n].id?t[n]:this.body.nodes[t[n]]);e=Math.min(e,o),i=Math.max(i,o)}return.5*(e+i)}}]),t}();e.default=g},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalStrategy=e.HorizontalStrategy=void 0;var n=l(i(3)),o=l(i(4)),r=l(i(5)),s=l(i(0)),a=l(i(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){(0,s.default)(this,t)}return(0,a.default)(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),d=function(t){function e(t){(0,s.default)(this,e);var i=(0,o.default)(this,(e.__proto__||(0,n.default)(e)).call(this));return i.layout=t,i}return(0,r.default)(e,h),(0,a.default)(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.x||void 0===e.x?0:t.x-e.x})}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),e}(),u=function(t){function e(t){(0,s.default)(this,e);var i=(0,o.default)(this,(e.__proto__||(0,n.default)(e)).call(this));return i.layout=t,i}return(0,r.default)(e,h),(0,a.default)(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){t.sort(function(t,e){return void 0===t.y||void 0===e.y?0:t.y-e.y})}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),e}();e.HorizontalStrategy=u,e.VerticalStrategy=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(8)),o=l(i(19)),r=l(i(6)),s=l(i(0)),a=l(i(1));function l(t){return t&&t.__esModule?t:{default:t}}var h=i(2),d=i(10),u=i(37),c=function(){function t(e,i,n){var o=this;(0,s.default)(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},h.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){o._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,a.default)(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(this.options.locale=void 0!==e.locale?e.locale:i.locale,this.options.locales=void 0!==e.locales?e.locales:i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,h.deepExtend(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,n=this.options.locales[this.options.locale],o=!1;!1!==this.options.addNode&&(this._createAddNodeButton(n),o=!0),!1!==this.options.addEdge&&(!0===o?this._createSeperator(1):o=!0,this._createAddEdgeButton(n)),1===t&&"function"==typeof this.options.editNode?(!0===o?this._createSeperator(2):o=!0,this._createEditNodeButton(n)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===o?this._createSeperator(3):o=!0,this._createEditEdgeButton(n)),0!==i&&(t>0&&!1!==this.options.deleteNode?(!0===o&&this._createSeperator(4),this._createDeleteButton(n)):0===t&&!1!==this.options.deleteEdge&&(!0===o&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=h.deepExtend({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,r.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var e=this.body.edges[this.edgeBeingEditedId],i=this._getNewTargetNode(e.from.x,e.from.y),n=this._getNewTargetNode(e.to.x,e.to.y);this.temporaryIds.nodes.push(i.id),this.temporaryIds.nodes.push(n.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(t){var o=e.edgeType.findBorderPositions(t);!1===i.selected&&(i.x=o.from.x,i.y=o.from.y),!1===n.selected&&(n.x=o.to.x,n.y=o.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from,o.to)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),n=void 0;if(e.length>0){for(var o=0;o<e.length;o++)if(!0===this.body.nodes[e[o]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var r={nodes:e,edges:i};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(r,function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=h.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+h.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var n=this.body.functions.createNode(i);return n.shape.boundingBox={left:t,right:t,top:e,bottom:e},n}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},h.recursiveDOMDelete(this.editModeDiv);var t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(h.recursiveDOMDelete(this.editModeDiv),h.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),h.recursiveDOMDelete(this.manipulationDiv),h.recursiveDOMDelete(this.editModeDiv),h.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){var e=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=n,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+(0,o.default)((0,n.default)(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++)this.body.emitter.off(this.temporaryEventFunctions[t].event,this.temporaryEventFunctions[t].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new d(t,{});u.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==n&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=h.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.selectionHandler._pointerToPositionObject(this.lastTouch),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=i.isOverlappingWith(e),s=n.isOverlappingWith(e);!0===r?(this.selectedControlNode=i,o.edgeType.from=i):!0===s&&(this.selectedControlNode=n,o.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.body.view.translation={x:this.lastTouch.translation.x+(e.x-this.lastTouch.x),y:this.lastTouch.translation.y+(e.y-this.lastTouch.y)},this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=o.length-1;s>=0;s--)if(o[s]!==this.selectedControlNode.id){r=this.body.nodes[o[s]];break}void 0!==r&&void 0!==this.selectedControlNode?!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(r.id,n.to.id):this._performEditEdge(n.from.id,r.id):(n.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=h.extend({},this.body.view.translation);var e=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==e)if(!0===e.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(e.x,e.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var n=this.body.functions.createEdge({id:"connectionEdge"+h.randomUUID(),from:e.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[n.id]=n,this.body.edgeIndices.push(n.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(n.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(e.x-this.lastTouch.x),y:this.lastTouch.translation.y+(e.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var o=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=o.length-1;s>=0;s--)if(-1===this.temporaryIds.nodes.indexOf(o[s])){r=this.body.nodes[o[s]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(n,r.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){this.selectionHandler._generateClickEvent("dragStart",t,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:h.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!=t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,n={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,n={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges._data[this.edgeBeingEditedId].label},o=this.options.editEdge;if("object"===(void 0===o?"undefined":(0,r.default)(o))&&(o=o.editWithoutDrag),"function"==typeof o){if(2!==o.length)throw new Error("The function for edit does not support two arguments (data, callback)");o(n,function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[n.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e.default=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(30)),o=a(i(0)),r=a(i(1)),s=a(i(239));function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,i,n){(0,o.default)(this,t),this.body=e,this.springLength=i,this.springConstant=n,this.distanceSolver=new s.default}return(0,r.default)(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var r=.01,s=1,a=0,l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),h=5,d=1e9,u=0,c=0,p=0,f=0,g=0;d>r&&a<l;){a+=1;var m=this._getHighestEnergyNode(i),v=(0,n.default)(m,4);for(u=v[0],c=v[2],p=v[3],f=d=v[1],g=0;f>s&&g<h;){g+=1,this._moveNode(u,c,p);var y=this._getEnergy(u),b=(0,n.default)(y,3);f=b[0],c=b[1],p=b[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=0,r=e[0],s=0,a=0,l=0;l<e.length;l++){var h=e[l];if(!1===i[h].predefinedPosition||!0===i[h].isCluster&&!0===t||!0===i[h].options.fixed.x||!0===i[h].options.fixed.y){var d=this._getEnergy(h),u=(0,n.default)(d,3),c=u[0];o<c&&(o=c,r=h,s=u[1],a=u[2])}}return[r,o,s,a]}},{key:"_getEnergy",value:function(t){var e=(0,n.default)(this.E_sums[t],2),i=e[0],o=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),i,o]}},{key:"_moveNode",value:function(t,e,i){for(var n=this.body.nodeIndices,o=this.body.nodes,r=0,s=0,a=0,l=o[t].x,h=o[t].y,d=this.K_matrix[t],u=this.L_matrix[t],c=0;c<n.length;c++){var p=n[c];if(p!==t){var f=o[p].x,g=o[p].y,m=d[p],v=u[p],y=1/Math.pow(Math.pow(l-f,2)+Math.pow(h-g,2),1.5);r+=m*(1-v*Math.pow(h-g,2)*y),s+=m*(v*(l-f)*(h-g)*y),a+=m*(1-v*Math.pow(l-f,2)*y)}}var b=(e/r+i/s)/(s/r-a/s);o[t].x+=-(s*b+e)/r,o[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var n=0;n<e.length;n++){this.L_matrix[e[n]]={};for(var o=0;o<e.length;o++)this.L_matrix[e[n]][e[o]]=i*t[e[n]][e[o]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var n=0;n<e.length;n++){this.K_matrix[e[n]]={};for(var o=0;o<e.length;o++)this.K_matrix[e[n]][e[o]]=i*Math.pow(t[e[n]][e[o]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var n=0;n<t.length;n++){for(var o=t[n],r=e[o].x,s=e[o].y,a=0,l=0,h=n;h<t.length;h++){var d=t[h];if(d!==o){var u=e[d].x,c=e[d].y,p=1/Math.sqrt(Math.pow(r-u,2)+Math.pow(s-c,2));this.E_matrix[o][h]=[this.K_matrix[o][d]*(r-u-this.L_matrix[o][d]*(r-u)*p),this.K_matrix[o][d]*(s-c-this.L_matrix[o][d]*(s-c)*p)],this.E_matrix[d][n]=this.E_matrix[o][h],a+=this.E_matrix[o][h][0],l+=this.E_matrix[o][h][1]}}this.E_sums[o]=[a,l]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[t],o=this.K_matrix[t],r=this.L_matrix[t],s=i[t].x,a=i[t].y,l=0,h=0,d=0;d<e.length;d++){var u=e[d];if(u!==t){var c=n[d],p=c[0],f=c[1],g=i[u].x,m=i[u].y,v=1/Math.sqrt(Math.pow(s-g,2)+Math.pow(a-m,2)),y=o[u]*(s-g-r[u]*(s-g)*v),b=o[u]*(a-m-r[u]*(a-m)*v);n[d]=[y,b],l+=y,h+=b;var w=this.E_sums[u];w[0]+=y-p,w[1]+=b-f}}this.E_sums[t]=[l,h]}}]),t}();e.default=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,n.default)(this,t)}return(0,o.default)(t,[{key:"getDistances",value:function(t,e,i){for(var n={},o=t.edges,r=0;r<e.length;r++){var s={};n[e[r]]=s;for(var a=0;a<e.length;a++)s[e[a]]=r==a?0:1e9}for(var l=0;l<i.length;l++){var h=o[i[l]];!0===h.connected&&void 0!==n[h.fromId]&&void 0!==n[h.toId]&&(n[h.fromId][h.toId]=1,n[h.toId][h.fromId]=1)}for(var d=e.length,u=0;u<d;u++)for(var c=e[u],p=n[c],f=0;f<d-1;f++)for(var g=e[f],m=n[g],v=f+1;v<d;v++){var y=e[v],b=n[y],w=Math.min(m[y],m[c]+p[y]);m[y]=w,b[g]=w}return n}}]),t}();e.default=s}])},t.exports=n()},h63A:function(t,e,i){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r="undefined"==typeof window?null:window,s=r?r.navigator:null,a=t(""),l=t({}),h=t(function(){}),d="undefined"==typeof HTMLElement?"undefined":t(HTMLElement),u=function(t){return t&&t.instanceString&&p(t.instanceString)?t.instanceString():null},c=function(e){return null!=e&&t(e)==a},p=function(e){return null!=e&&t(e)===h},f=function(t){return Array.isArray?Array.isArray(t):null!=t&&t instanceof Array},g=function(e){return null!=e&&t(e)===l&&!f(e)&&e.constructor===Object},m=function(e){return null!=e&&t(e)===t(1)&&!isNaN(e)},v=function(t){return"undefined"===d?void 0:null!=t&&t instanceof HTMLElement},y=function(t){return b(t)||w(t)},b=function(t){return"collection"===u(t)&&t._private.single},w=function(t){return"collection"===u(t)&&!t._private.single},x=function(t){return"core"===u(t)},_=function(t){return"stylesheet"===u(t)},E=function(t){return null==t||!(""!==t&&!t.match(/^\s+$/))},k=function(e){return function(e){return null!=e&&t(e)===l}(e)&&p(e.then)},S=function(){return s&&s.userAgent.match(/msie|trident|edge/i)},C=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var i=function i(){var n,o=arguments,r=e.apply(this,o),s=i.cache;return(n=s[r])||(n=s[r]=t.apply(this,o)),n};return i.cache={},i},T=C(function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),M=C(function(t){return t.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),D=C(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),O=function(t){return E(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},P="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",I=function(t,e){return t<e?-1:t>e?1:0},A=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,i=1;i<e.length;i++){var n=e[i];if(null!=n)for(var o=Object.keys(n),r=0;r<o.length;r++){var s=o[r];t[s]=n[s]}}return t},N=function(t){return(f(t)?t:null)||function(t){return R[t.toLowerCase()]}(t)||function(t){var e,i,n;if((4===t.length||7===t.length)&&"#"===t[0])return 4===t.length?(e=parseInt(t[1]+t[1],16),i=parseInt(t[2]+t[2],16),n=parseInt(t[3]+t[3],16)):(e=parseInt(t[1]+t[2],16),i=parseInt(t[3]+t[4],16),n=parseInt(t[5]+t[6],16)),[e,i,n]}(t)||function(t){var e,i=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(i){e=[];for(var n=[],o=1;o<=3;o++){var r=i[o];if("%"===r[r.length-1]&&(n[o]=!0),r=parseFloat(r),n[o]&&(r=r/100*255),r<0||r>255)return;e.push(Math.floor(r))}if((n[1]||n[2]||n[3])&&!(n[1]&&n[2]&&n[3]))return;var s=i[4];if(void 0!==s){if((s=parseFloat(s))<0||s>1)return;e.push(s)}}return e}(t)||function(t){var e,i,n,o,r,s,a,l;function h(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var d=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(d){if((i=parseInt(d[1]))<0?i=(360- -1*i%360)%360:i>360&&(i%=360),i/=360,(n=parseFloat(d[2]))<0||n>100)return;if(n/=100,(o=parseFloat(d[3]))<0||o>100)return;if(o/=100,void 0!==(r=d[4])&&((r=parseFloat(r))<0||r>1))return;if(0===n)s=a=l=Math.round(255*o);else{var u=o<.5?o*(1+n):o+n-o*n,c=2*o-u;s=Math.round(255*h(c,u,i+1/3)),a=Math.round(255*h(c,u,i)),l=Math.round(255*h(c,u,i-1/3))}e=[s,a,l,r]}return e}(t)},R={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L=function(t){for(var e=t.map,i=t.keys,n=i.length,o=0;o<n;o++){var r=i[o];if(g(r))throw Error("Tried to set map with object key");o<i.length-1?(null==e[r]&&(e[r]={}),e=e[r]):e[r]=t.value}},z=function(t){for(var e=t.map,i=t.keys,n=i.length,o=0;o<n;o++){var r=i[o];if(g(r))throw Error("Tried to get map with object key");if(null==(e=e[r]))return e}return e},B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},F=NaN,j="[object Symbol]",H=/^\s+|\s+$/g,V=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,U=/^0o[0-7]+$/i,Y=parseInt,G="object"==typeof B&&B&&B.Object===Object&&B,q="object"==typeof self&&self&&self.Object===Object&&self,X=G||q||Function("return this")(),$=Object.prototype.toString,K=Math.max,Z=Math.min,Q=function(){return X.Date.now()};function J(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function tt(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&$.call(t)==j}(t))return F;if(J(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=J(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(H,"");var i=W.test(t);return i||U.test(t)?Y(t.slice(2),i?2:8):V.test(t)?F:+t}var et=function(t,e,i){var n,o,r,s,a,l,h=0,d=!1,u=!1,c=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var i=n,r=o;return n=o=void 0,h=e,s=t.apply(r,i)}function f(t){var i=t-l;return void 0===l||i>=e||i<0||u&&t-h>=r}function g(){var t=Q();if(f(t))return m(t);a=setTimeout(g,function(t){var i=e-(t-l);return u?Z(i,r-(t-h)):i}(t))}function m(t){return a=void 0,c&&n?p(t):(n=o=void 0,s)}function v(){var t=Q(),i=f(t);if(n=arguments,o=this,l=t,i){if(void 0===a)return function(t){return h=t,a=setTimeout(g,e),d?p(t):s}(l);if(u)return a=setTimeout(g,e),p(l)}return void 0===a&&(a=setTimeout(g,e)),s}return e=tt(e)||0,J(i)&&(d=!!i.leading,r=(u="maxWait"in i)?K(tt(i.maxWait)||0,e):r,c="trailing"in i?!!i.trailing:c),v.cancel=function(){void 0!==a&&clearTimeout(a),h=0,n=l=o=a=void 0},v.flush=function(){return void 0===a?s:m(Q())},v},it=r?r.performance:null,nt=it&&it.now?function(){return it.now()}:function(){return Date.now()},ot=function(){if(r){if(r.requestAnimationFrame)return function(t){r.requestAnimationFrame(t)};if(r.mozRequestAnimationFrame)return function(t){r.mozRequestAnimationFrame(t)};if(r.webkitRequestAnimationFrame)return function(t){r.webkitRequestAnimationFrame(t)};if(r.msRequestAnimationFrame)return function(t){r.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(nt())},1e3/60)}}(),rt=function(t){return ot(t)},st=nt,at=function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;!(e=t.next()).done;)i=33*i^e.value;return i>>>0},lt=function(t){return(33*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381)^t)>>>0},ht=function(t,e){var i={value:0,done:!1},n=0,o=t.length;return at({next:function(){return n<o?i.value=t[n++]:i.done=!0,i}},e)},dt=function(t,e){var i={value:0,done:!1},n=0,o=t.length;return at({next:function(){return n<o?i.value=t.charCodeAt(n++):i.done=!0,i}},e)},ut=function(){return ct(arguments)},ct=function(t){for(var e,i=0;i<t.length;i++){var n=t[i];e=0===i?dt(n):dt(n,e)}return e},pt=!0,ft=null!=console.warn,gt=null!=console.trace,mt=Number.MAX_SAFE_INTEGER||9007199254740991,vt=function(){return!0},yt=function(){return!1},bt=function(){return 0},wt=function(){},xt=function(t){throw new Error(t)},_t=function(t){if(void 0===t)return pt;pt=!!t},Et=function(t){_t()&&(ft?console.warn(t):(console.log(t),gt&&console.trace()))},kt=function(t){return null==t?t:f(t)?t.slice():g(t)?function(t){return A({},t)}(t):t},St=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},Ct={},Tt=function(){return Ct},Mt=function(t){var e=Object.keys(t);return function(i){for(var n={},o=0;o<e.length;o++){var r=e[o],s=null==i?void 0:i[r];n[r]=void 0===s?t[r]:s}return n}},Dt=function(t,e,i){for(var n=t.length;n>=0&&(t[n]!==e||(t.splice(n,1),i));n--);},Ot=function(t){t.splice(0,t.length)},Pt=function(t,e,i){return i&&(e=D(i,e)),t[e]},It=function(t,e,i,n){i&&(e=D(i,e)),t[e]=n},At="undefined"!=typeof Map?Map:function(){function t(){e(this,t),this._obj={}}return n(t,[{key:"set",value:function(t,e){return this._obj[t]=e,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return void 0!==this._obj[t]}},{key:"get",value:function(t){return this._obj[t]}}]),t}(),Nt=function(){function t(i){if(e(this,t),this._obj=Object.create(null),this.size=0,null!=i){var n;n=null!=i.instanceString&&i.instanceString()===this.instanceString()?i.toArray():i;for(var o=0;o<n.length;o++)this.add(n[o])}}return n(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var e=this._obj;1!==e[t]&&(e[t]=1,this.size++)}},{key:"delete",value:function(t){var e=this._obj;1===e[t]&&(e[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(e){return t.has(e)})}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}}]),t}(),Rt="undefined"!==("undefined"==typeof Set?"undefined":t(Set))?Set:Nt,Lt=function(t,e,i){if(i=!(void 0!==i&&!i),void 0!==t&&void 0!==e&&x(t)){var n=e.group;if(null==n&&(n=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===n||"edges"===n){this.length=1,this[0]=this;var o=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,pannable:void 0===e.pannable?"edges"===n:!!e.pannable,active:!1,classes:new Rt,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null}};if(null==o.position.x&&(o.position.x=0),null==o.position.y&&(o.position.y=0),e.renderedPosition){var r=e.renderedPosition,s=t.pan(),a=t.zoom();o.position={x:(r.x-s.x)/a,y:(r.y-s.y)/a}}var l=[];f(e.classes)?l=e.classes:c(e.classes)&&(l=e.classes.split(/\s+/));for(var h=0,d=l.length;h<d;h++){var u=l[h];u&&""!==u&&o.classes.add(u)}this.createEmitter();var p=e.style||e.css;p&&(Et("Setting a `style` bypass at element creation is deprecated"),this.style(p)),(void 0===i||i)&&this.restore()}else xt("An element must be of type `nodes` or `edges`; you specified `"+n+"`")}else xt("An element must have a core reference and parameters set")},zt=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,i,n){var o;g(e)&&!y(e)&&(e=(o=e).roots||o.root,i=o.visit,n=o.directed),n=2!==arguments.length||p(i)?n:i,i=p(i)?i:function(){};for(var r,s=this._private.cy,a=e=c(e)?this.filter(e):e,l=[],h=[],d={},u={},f={},m=0,v=this.byGroup(),b=v.nodes,w=v.edges,x=0;x<a.length;x++){var _=a[x],E=_.id();_.isNode()&&(l.unshift(_),t.bfs&&(f[E]=!0,h.push(_)),u[E]=0)}var k=function(){var e=t.bfs?l.shift():l.pop(),o=e.id();if(t.dfs){if(f[o])return"continue";f[o]=!0,h.push(e)}var s,a=u[o],c=d[o],p=null!=c?c.source():null,g=null!=c?c.target():null,v=null==c?void 0:e.same(p)?g[0]:p[0];if(!0===(s=i(e,c,v,m++,a)))return r=e,"break";if(!1===s)return"break";for(var y=e.connectedEdges().filter(function(t){return(!n||t.source().same(e))&&w.has(t)}),x=0;x<y.length;x++){var _=y[x],E=_.connectedNodes().filter(function(t){return!t.same(e)&&b.has(t)}),k=E.id();0===E.length||f[k]||(l.push(E=E[0]),t.bfs&&(f[k]=!0,h.push(E)),d[k]=_,u[k]=u[o]+1)}};t:for(;0!==l.length;)switch(k()){case"continue":continue;case"break":break t}for(var S=s.collection(),C=0;C<h.length;C++){var T=h[C],M=d[T.id()];null!=M&&S.merge(M),S.merge(T)}return{path:s.collection(S),found:s.collection(r)}}},Bt={breadthFirstSearch:zt({bfs:!0}),depthFirstSearch:zt({dfs:!0})};Bt.bfs=Bt.breadthFirstSearch,Bt.dfs=Bt.depthFirstSearch;var Ft=function(t,e){return function(t,e){(function(){var e,i,n,o,r,s,a,l,h,d,u,c,p,f,g;n=Math.floor,d=Math.min,i=function(t,e){return t<e?-1:t>e?1:0},h=function(t,e,o,r,s){var a;if(null==o&&(o=0),null==s&&(s=i),o<0)throw new Error("lo must be non-negative");for(null==r&&(r=t.length);o<r;)s(e,t[a=n((o+r)/2)])<0?r=a:o=a+1;return[].splice.apply(t,[o,o-o].concat(e)),e},s=function(t,e,n){return null==n&&(n=i),t.push(e),f(t,0,t.length-1,n)},r=function(t,e){var n,o;return null==e&&(e=i),n=t.pop(),t.length?(o=t[0],t[0]=n,g(t,0,e)):o=n,o},l=function(t,e,n){var o;return null==n&&(n=i),o=t[0],t[0]=e,g(t,0,n),o},a=function(t,e,n){var o;return null==n&&(n=i),t.length&&n(t[0],e)<0&&(e=(o=[t[0],e])[0],t[0]=o[1],g(t,0,n)),e},o=function(t,e){var o,r,s,a,l;for(null==e&&(e=i),a=[],o=0,r=(s=(function(){l=[];for(var e=0,i=n(t.length/2);0<=i?e<i:e>i;0<=i?e++:e--)l.push(e);return l}).apply(this).reverse()).length;o<r;o++)a.push(g(t,s[o],e));return a},p=function(t,e,n){var o;if(null==n&&(n=i),-1!==(o=t.indexOf(e)))return f(t,0,o,n),g(t,o,n)},u=function(t,e,n){var r,s,l,h;if(null==n&&(n=i),!(r=t.slice(0,e)).length)return r;for(o(r,n),s=0,l=(h=t.slice(e)).length;s<l;s++)a(r,h[s],n);return r.sort(n).reverse()},c=function(t,e,n){var s,a,l,u,c,p,f,g,m;if(null==n&&(n=i),10*e<=t.length){if(!(l=t.slice(0,e).sort(n)).length)return l;for(a=l[l.length-1],u=0,p=(f=t.slice(e)).length;u<p;u++)n(s=f[u],a)<0&&(h(l,s,0,null,n),l.pop(),a=l[l.length-1]);return l}for(o(t,n),m=[],c=0,g=d(e,t.length);0<=g?c<g:c>g;0<=g?++c:--c)m.push(r(t,n));return m},f=function(t,e,n,o){var r,s,a;for(null==o&&(o=i),r=t[n];n>e&&o(r,s=t[a=n-1>>1])<0;)t[n]=s,n=a;return t[n]=r},g=function(t,e,n){var o,r,s,a,l;for(null==n&&(n=i),r=t.length,l=e,s=t[e],o=2*e+1;o<r;)(a=o+1)<r&&!(n(t[o],t[a])<0)&&(o=a),t[e]=t[o],o=2*(e=o)+1;return t[e]=s,f(t,l,e,n)},e=function(){function t(t){this.cmp=null!=t?t:i,this.nodes=[]}return t.push=s,t.pop=r,t.replace=l,t.pushpop=a,t.heapify=o,t.updateItem=p,t.nlargest=u,t.nsmallest=c,t.prototype.push=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pop=function(){return r(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return l(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return o(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return p(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),t.exports=e}).call(B)}(e={exports:{}}),e.exports}(),jt=Mt({root:null,weight:function(t){return 1},directed:!1}),Ht={dijkstra:function(t){if(!g(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var i=jt(t),n=i.root,o=i.weight,r=i.directed,s=this,a=o,l=c(n)?this.filter(n)[0]:n[0],h={},d={},u={},p=this.byGroup(),f=p.nodes,m=p.edges;m.unmergeBy(function(t){return t.isLoop()});for(var v=function(t){return h[t.id()]},y=function(t,e){h[t.id()]=e,b.updateItem(t)},b=new Ft(function(t,e){return v(t)-v(e)}),w=0;w<f.length;w++){var x=f[w];h[x.id()]=x.same(l)?0:1/0,b.push(x)}for(var _=function(t,e){for(var i,n=(r?t.edgesTo(e):t.edgesWith(e)).intersect(m),o=1/0,s=0;s<n.length;s++){var l=n[s],h=a(l);(h<o||!i)&&(o=h,i=l)}return{edge:i,dist:o}};b.size()>0;){var E=b.pop(),k=v(E),S=E.id();if(u[S]=k,k!==1/0)for(var C=E.neighborhood().intersect(f),T=0;T<C.length;T++){var M=C[T],D=M.id(),O=_(E,M),P=k+O.dist;P<v(M)&&(y(M,P),d[D]={node:E,edge:O.edge})}}return{distanceTo:function(t){var e=c(t)?f.filter(t)[0]:t[0];return u[e.id()]},pathTo:function(t){var e=c(t)?f.filter(t)[0]:t[0],i=[],n=e,o=n.id();if(e.length>0)for(i.unshift(e);d[o];){var r=d[o];i.unshift(r.edge),i.unshift(r.node),o=(n=r.node).id()}return s.spawn(i)}}}},Vt={kruskal:function(t){t=t||function(t){return 1};for(var e=this.byGroup(),i=e.nodes,n=e.edges,o=i.length,r=new Array(o),s=i,a=function(t){for(var e=0;e<r.length;e++)if(r[e].has(t))return e},l=0;l<o;l++)r[l]=this.spawn(i[l]);for(var h=n.sort(function(e,i){return t(e)-t(i)}),d=0;d<h.length;d++){var u=h[d],c=u.source()[0],p=u.target()[0],f=a(c),g=a(p),m=r[f],v=r[g];f!==g&&(s.merge(u),m.merge(v),r.splice(g,1))}return s}},Wt=Mt({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),Ut={aStar:function(t){var e=this.cy(),i=Wt(t),n=i.root,o=i.goal,r=i.heuristic,s=i.directed,a=i.weight;n=e.collection(n)[0],o=e.collection(o)[0];var l,h,d=n.id(),u=o.id(),c={},p={},f={},g=new Ft(function(t,e){return p[t.id()]-p[e.id()]}),m=new Rt,v={},y={},b=function(t,e){g.push(t),m.add(e)};b(n,d),c[d]=0,p[d]=r(n);for(var w=0;g.size()>0;){if(h=(l=g.pop()).id(),m.delete(h),w++,h===u){for(var x=[],_=o,E=u,k=y[E];x.unshift(_),null!=k&&x.unshift(k),null!=(_=v[E]);)k=y[E=_.id()];return{found:!0,distance:c[h],path:this.spawn(x),steps:w}}f[h]=!0;for(var S=l._private.edges,C=0;C<S.length;C++){var T=S[C];if(this.hasElementWithId(T.id())&&(!s||T.data("source")===h)){var M=T.source(),D=T.target(),O=M.id()!==h?M:D,P=O.id();if(this.hasElementWithId(P)&&!f[P]){var I=c[h]+a(T);m.has(P)?I<c[P]&&(c[P]=I,p[P]=I+r(O),v[P]=l):(c[P]=I,p[P]=I+r(O),b(O,P),v[P]=l,y[P]=T)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},Yt=Mt({weight:function(t){return 1},directed:!1}),Gt={floydWarshall:function(t){for(var e=this.cy(),i=Yt(t),n=i.directed,o=i.weight,r=this.byGroup(),s=r.nodes,a=r.edges,l=s.length,h=l*l,d=function(t){return s.indexOf(t)},u=function(t){return s[t]},p=new Array(h),f=0;f<h;f++){var g=f%l;p[f]=(f-g)/l===g?0:1/0}for(var m=new Array(h),v=new Array(h),y=0;y<a.length;y++){var b=a[y],w=b.source()[0],x=b.target()[0];if(w!==x){var _=d(w),E=d(x),k=_*l+E,S=o(b);if(p[k]>S&&(p[k]=S,m[k]=E,v[k]=b),!n){var C=E*l+_;!n&&p[C]>S&&(p[C]=S,m[C]=_,v[C]=b)}}}for(var T=0;T<l;T++)for(var M=0;M<l;M++)for(var D=M*l+T,O=0;O<l;O++){var P=M*l+O,I=T*l+O;p[D]+p[I]<p[P]&&(p[P]=p[D]+p[I],m[P]=m[D])}var A=function(t){return d(function(t){return(c(t)?e.filter(t):t)[0]}(t))};return{distance:function(t,e){var i=A(t),n=A(e);return p[i*l+n]},path:function(t,i){var n=A(t),o=A(i),r=u(n);if(n===o)return r.collection();if(null==m[n*l+o])return e.collection();var s=e.collection();for(s.merge(r);n!==o;)s.merge(v[n*l+(n=m[n*l+o])]),s.merge(u(n));return s}}}},qt=Mt({weight:function(t){return 1},directed:!1,root:null}),Xt={bellmanFord:function(t){var e=this,i=qt(t),n=i.directed,o=i.root,r=i.weight,s=this,a=this.cy(),l=this.byGroup(),h=l.edges,d=l.nodes,u=d.length,p=new At,f=!1;o=a.collection(o)[0],h.unmergeBy(function(t){return t.isLoop()});for(var g=h.length,m=function(t){var e=p.get(t.id());return e||(e={},p.set(t.id(),e)),e},v=function(t){return(c(t)?a.$(t):t)[0]},y=0;y<u;y++){var b=d[y],w=m(b);w.dist=b.same(o)?0:1/0,w.pred=null,w.edge=null}for(var x=!1,_=function(t,e,i,n,o,r){var s=n.dist+r;s<o.dist&&!i.same(n.edge)&&(o.dist=s,o.pred=t,o.edge=i,x=!0)},E=1;E<u;E++){x=!1;for(var k=0;k<g;k++){var S=h[k],C=S.source(),T=S.target(),M=r(S),D=m(C),O=m(T);_(C,0,S,D,O,M),n||_(T,0,S,O,D,M)}if(!x)break}if(x)for(var P=0;P<g;P++){var I=h[P],A=I.source(),N=I.target(),R=r(I),L=m(A).dist,z=m(N).dist;if(L+R<z||!n&&z+R<L){Et("Graph contains a negative weight cycle for Bellman-Ford"),f=!0;break}}return{distanceTo:function(t){return m(v(t)).dist},pathTo:function(t){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=[],r=v(t);;){if(null==r)return e.spawn();var a=m(r),l=a.edge,h=a.pred;if(n.unshift(r[0]),r.same(i)&&n.length>0)break;null!=l&&n.unshift(l),r=h}return s.spawn(n)},hasNegativeWeightCycle:f,negativeWeightCycles:[]}}},$t=Math.sqrt(2),Kt=function(t,e,i){0===i.length&&xt("Karger-Stein must be run on a connected (sub)graph");for(var n=i[t],o=e[n[1]],r=e[n[2]],s=i,a=s.length-1;a>=0;a--){var l=s[a],h=l[1],d=l[2];(e[h]===o&&e[d]===r||e[h]===r&&e[d]===o)&&s.splice(a,1)}for(var u=0;u<s.length;u++){var c=s[u];c[1]===r?(s[u]=c.slice(),s[u][1]=o):c[2]===r&&(s[u]=c.slice(),s[u][2]=o)}for(var p=0;p<e.length;p++)e[p]===r&&(e[p]=o);return s},Zt=function(t,e,i,n){for(;i>n;){var o=Math.floor(Math.random()*e.length);e=Kt(o,t,e),i--}return e},Qt={kargerStein:function(){var t=this.byGroup(),e=t.nodes,i=t.edges;i.unmergeBy(function(t){return t.isLoop()});var n=e.length,o=i.length,r=Math.ceil(Math.pow(Math.log(n)/Math.LN2,2)),s=Math.floor(n/$t);if(!(n<2)){for(var a=[],l=0;l<o;l++){var h=i[l];a.push([l,e.indexOf(h.source()),e.indexOf(h.target())])}for(var d=1/0,u=[],c=new Array(n),p=new Array(n),f=new Array(n),g=function(t,e){for(var i=0;i<n;i++)e[i]=t[i]},m=0;m<=r;m++){for(var v=0;v<n;v++)p[v]=v;var y=Zt(p,a.slice(),n,s),b=y.slice();g(p,f);var w=Zt(p,y,s,2),x=Zt(f,b,s,2);w.length<=x.length&&w.length<d?(d=w.length,u=w,g(p,c)):x.length<=w.length&&x.length<d&&(d=x.length,u=x,g(f,c))}for(var _=this.spawn(u.map(function(t){return i[t[0]]})),E=this.spawn(),k=this.spawn(),S=c[0],C=0;C<c.length;C++){var T=e[C];c[C]===S?E.merge(T):k.merge(T)}return{cut:_,partition1:E,partition2:k}}xt("At least 2 nodes are required for Karger-Stein algorithm")}},Jt=function(t,e,i){return{x:t.x*e+i.x,y:t.y*e+i.y}},te=function(t,e,i){return{x:(t.x-i.x)/e,y:(t.y-i.y)/e}},ee=function(t){return{x:t[0],y:t[1]}},ie=function(t,e){return Math.atan2(e,t)-Math.PI/2},ne=Math.log2||function(t){return Math.log(t)/Math.log(2)},oe=function(t){return t>0?1:t<0?-1:0},re=function(t,e){return Math.sqrt(se(t,e))},se=function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},ae=function(t){for(var e=t.length,i=0,n=0;n<e;n++)i+=t[n];for(var o=0;o<e;o++)t[o]=t[o]/i;return t},le=function(t,e,i,n){return(1-n)*(1-n)*t+2*(1-n)*n*e+n*n*i},he=function(t,e,i,n){return{x:le(t.x,e.x,i.x,n),y:le(t.y,e.y,i.y,n)}},de=function(t,e,i){return Math.max(t,Math.min(i,e))},ue=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},ce=function(t,e){t.x1=Math.min(t.x1,e.x1),t.x2=Math.max(t.x2,e.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,e.y1),t.y2=Math.max(t.y2,e.y2),t.h=t.y2-t.y1},pe=function(t,e,i){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,i),t.y2=Math.max(t.y2,i),t.h=t.y2-t.y1},fe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},ge=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},me=function(t,e){t.x1+=e.x,t.x2+=e.x,t.y1+=e.y,t.y2+=e.y},ve=function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},ye=function(t,e,i){return t.x1<=e&&e<=t.x2&&t.y1<=i&&i<=t.y2},be=function(t,e){return ye(t,e.x,e.y)},we=function(t,e){return ye(t,e.x1,e.y1)&&ye(t,e.x2,e.y2)},xe=function(t,e,i,n,o,r,s){var a,l=Fe(o,r),h=o/2,d=r/2,u=n-d-s;if((a=Ae(t,e,i,n,i-h+l-s,u,i+h-l+s,u,!1)).length>0)return a;var c=i+h+s;if((a=Ae(t,e,i,n,c,n-d+l-s,c,n+d-l+s,!1)).length>0)return a;var p=n+d+s;if((a=Ae(t,e,i,n,i-h+l-s,p,i+h-l+s,p,!1)).length>0)return a;var f,g=i-h-s;if((a=Ae(t,e,i,n,g,n-d+l-s,g,n+d-l+s,!1)).length>0)return a;var m=i-h+l,v=n-d+l;if((f=Pe(t,e,i,n,m,v,l+s)).length>0&&f[0]<=m&&f[1]<=v)return[f[0],f[1]];var y=i+h-l,b=n-d+l;if((f=Pe(t,e,i,n,y,b,l+s)).length>0&&f[0]>=y&&f[1]<=b)return[f[0],f[1]];var w=i+h-l,x=n+d-l;if((f=Pe(t,e,i,n,w,x,l+s)).length>0&&f[0]>=w&&f[1]>=x)return[f[0],f[1]];var _=i-h+l,E=n+d-l;return(f=Pe(t,e,i,n,_,E,l+s)).length>0&&f[0]<=_&&f[1]>=E?[f[0],f[1]]:[]},_e=function(t,e,i,n,o,r,s){var a=s,l=Math.min(i,o),h=Math.max(i,o),d=Math.min(n,r),u=Math.max(n,r);return l-a<=t&&t<=h+a&&d-a<=e&&e<=u+a},Ee=function(t,e,i,n,o,r,s,a,l){var h=Math.min(i,s,o)-l,d=Math.max(i,s,o)+l,u=Math.min(n,a,r)-l,c=Math.max(n,a,r)+l;return!(t<h||t>d||e<u||e>c)},ke=function(t,e,i,n,o,r,s,a){var l=[];!function(t,e,i,n,o){var r,s,a,l,h,d,u,c;a=-27*(n/=t)+(e/=t)*(9*(i/=t)-e*e*2),r=(s=(3*i-e*e)/9)*s*s+(a/=54)*a,o[1]=0,u=e/3,r>0?(h=(h=a+Math.sqrt(r))<0?-Math.pow(-h,1/3):Math.pow(h,1/3),d=(d=a-Math.sqrt(r))<0?-Math.pow(-d,1/3):Math.pow(d,1/3),o[0]=-u+h+d,o[4]=o[2]=-(u+=(h+d)/2),u=Math.sqrt(3)*(-d+h)/2,o[3]=u,o[5]=-u):(o[5]=o[3]=0,0===r?(c=a<0?-Math.pow(-a,1/3):Math.pow(a,1/3),o[0]=2*c-u,o[4]=o[2]=-(c+u)):(l=(s=-s)*s*s,l=Math.acos(a/Math.sqrt(l)),c=2*Math.sqrt(s),o[0]=-u+c*Math.cos(l/3),o[2]=-u+c*Math.cos((l+2*Math.PI)/3),o[4]=-u+c*Math.cos((l+4*Math.PI)/3)))}(1*i*i-4*i*o+2*i*s+4*o*o-4*o*s+s*s+n*n-4*n*r+2*n*a+4*r*r-4*r*a+a*a,9*i*o-3*i*i-3*i*s-6*o*o+3*o*s+9*n*r-3*n*n-3*n*a-6*r*r+3*r*a,3*i*i-6*i*o+i*s-i*t+2*o*o+2*o*t-s*t+3*n*n-6*n*r+n*a-n*e+2*r*r+2*r*e-a*e,1*i*o-i*i+i*t-o*t+n*r-n*n+n*e-r*e,l);for(var h=[],d=0;d<6;d+=2)Math.abs(l[d+1])<1e-7&&l[d]>=0&&l[d]<=1&&h.push(l[d]);h.push(1),h.push(0);for(var u,c,p,f=-1,g=0;g<h.length;g++)u=Math.pow(1-h[g],2)*i+2*(1-h[g])*h[g]*o+h[g]*h[g]*s,c=Math.pow(1-h[g],2)*n+2*(1-h[g])*h[g]*r+h[g]*h[g]*a,p=Math.pow(u-t,2)+Math.pow(c-e,2),f>=0?p<f&&(f=p):f=p;return f},Se=function(t,e,i,n,o,r){var s=[t-i,e-n],a=[o-i,r-n],l=a[0]*a[0]+a[1]*a[1],h=s[0]*s[0]+s[1]*s[1],d=s[0]*a[0]+s[1]*a[1],u=d*d/l;return d<0?h:u>l?(t-o)*(t-o)+(e-r)*(e-r):h-u},Ce=function(t,e,i){for(var n,o,r,s,a=0,l=0;l<i.length/2;l++)if(o=i[2*l+1],l+1<i.length/2?(r=i[2*(l+1)],s=i[2*(l+1)+1]):(r=i[2*(l+1-i.length/2)],s=i[2*(l+1-i.length/2)+1]),(n=i[2*l])==t&&r==t);else{if(!(n>=t&&t>=r||n<=t&&t<=r))continue;(t-n)/(r-n)*(s-o)+o>e&&a++}return a%2!=0},Te=function(t,e,i,n,o,r,s,a,l){var h,d=new Array(i.length);null!=a[0]?(h=Math.atan(a[1]/a[0]),a[0]<0?h+=Math.PI/2:h=-h-Math.PI/2):h=a;for(var u,c=Math.cos(-h),p=Math.sin(-h),f=0;f<d.length/2;f++)d[2*f]=r/2*(i[2*f]*c-i[2*f+1]*p),d[2*f+1]=s/2*(i[2*f+1]*c+i[2*f]*p),d[2*f]+=n,d[2*f+1]+=o;if(l>0){var g=De(d,-l);u=Me(g)}else u=d;return Ce(t,e,u)},Me=function(t){for(var e,i,n,o,r=new Array(t.length/2),s=0;s<t.length/4;s++){s<t.length/4-1?(e=t[4*(s+1)],i=t[4*(s+1)+1],n=t[4*(s+1)+2],o=t[4*(s+1)+3]):(e=t[0],i=t[1],n=t[2],o=t[3]);var a=Ae(t[4*s],t[4*s+1],t[4*s+2],t[4*s+3],e,i,n,o,!0);r[2*s]=a[0],r[2*s+1]=a[1]}return r},De=function(t,e){for(var i,n,o,r,s=new Array(2*t.length),a=0;a<t.length/2;a++){a<t.length/2-1?(o=t[2*(a+1)],r=t[2*(a+1)+1]):(o=t[0],r=t[1]);var l=r-(n=t[2*a+1]),h=-(o-(i=t[2*a])),d=Math.sqrt(l*l+h*h),u=l/d,c=h/d;s[4*a]=i+u*e,s[4*a+1]=n+c*e,s[4*a+2]=o+u*e,s[4*a+3]=r+c*e}return s},Oe=function(t,e,i,n,o,r,s){return t-=o,e-=r,(t/=i/2+s)*t+(e/=n/2+s)*e<=1},Pe=function(t,e,i,n,o,r,s){var a=[i-t,n-e],l=[t-o,e-r],h=a[0]*a[0]+a[1]*a[1],d=2*(l[0]*a[0]+l[1]*a[1]),u=d*d-4*h*(l[0]*l[0]+l[1]*l[1]-s*s);if(u<0)return[];var c=(-d+Math.sqrt(u))/(2*h),p=(-d-Math.sqrt(u))/(2*h),f=Math.min(c,p),g=Math.max(c,p),m=[];if(f>=0&&f<=1&&m.push(f),g>=0&&g<=1&&m.push(g),0===m.length)return[];var v=m[0]*a[0]+t,y=m[0]*a[1]+e;return m.length>1?m[0]==m[1]?[v,y]:[v,y,m[1]*a[0]+t,m[1]*a[1]+e]:[v,y]},Ie=function(t,e,i){return e<=t&&t<=i||i<=t&&t<=e?t:t<=e&&e<=i||i<=e&&e<=t?e:i},Ae=function(t,e,i,n,o,r,s,a,l){var h=t-o,d=i-t,u=s-o,c=e-r,p=n-e,f=a-r,g=u*c-f*h,m=d*c-p*h,v=f*d-u*p;if(0!==v){var y=g/v,b=m/v;return-.001<=y&&y<=1.001&&-.001<=b&&b<=1.001?[t+y*d,e+y*p]:l?[t+y*d,e+y*p]:[]}return 0===g||0===m?Ie(t,i,s)===s?[s,a]:Ie(t,i,o)===o?[o,r]:Ie(o,s,i)===i?[i,n]:[]:[]},Ne=function(t,e,i,n,o,r,s,a){var l,h,d,u,c=[],p=new Array(i.length),f=!0;if(null==r&&(f=!1),f){for(var g=0;g<p.length/2;g++)p[2*g]=i[2*g]*r+n,p[2*g+1]=i[2*g+1]*s+o;if(a>0){var m=De(p,-a);h=Me(m)}else h=p}else h=i;for(var v=0;v<h.length/2;v++)v<h.length/2-1?(d=h[2*(v+1)],u=h[2*(v+1)+1]):(d=h[0],u=h[1]),0!==(l=Ae(t,e,n,o,h[2*v],h[2*v+1],d,u)).length&&c.push(l[0],l[1]);return c},Re=function(t,e,i){var n=[t[0]-e[0],t[1]-e[1]],o=Math.sqrt(n[0]*n[0]+n[1]*n[1]),r=(o-i)/o;return r<0&&(r=1e-5),[e[0]+r*n[0],e[1]+r*n[1]]},Le=function(t,e){var i=Be(t,e);return ze(i)},ze=function(t){for(var e,i,n=t.length/2,o=1/0,r=1/0,s=-1/0,a=-1/0,l=0;l<n;l++)e=t[2*l],i=t[2*l+1],o=Math.min(o,e),s=Math.max(s,e),r=Math.min(r,i),a=Math.max(a,i);for(var h=2/(s-o),d=2/(a-r),u=0;u<n;u++)e=t[2*u]=t[2*u]*h,i=t[2*u+1]=t[2*u+1]*d,o=Math.min(o,e),s=Math.max(s,e),r=Math.min(r,i),a=Math.max(a,i);if(r<-1)for(var c=0;c<n;c++)i=t[2*c+1]=t[2*c+1]+(-1-r);return t},Be=function(t,e){var i=1/t*2*Math.PI,n=t%2==0?Math.PI/2+i/2:Math.PI/2;n+=e;for(var o,r=new Array(2*t),s=0;s<t;s++)o=s*i+n,r[2*s]=Math.cos(o),r[2*s+1]=Math.sin(-o);return r},Fe=function(t,e){return Math.min(t/4,e/4,8)},je=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},He=Mt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),Ve={pageRank:function(t){for(var e=He(t),i=e.dampingFactor,n=e.precision,o=e.iterations,r=e.weight,s=this._private.cy,a=this.byGroup(),l=a.nodes,h=a.edges,d=l.length,u=h.length,c=new Array(d*d),p=new Array(d),f=(1-i)/d,g=0;g<d;g++){for(var m=0;m<d;m++)c[g*d+m]=0;p[g]=0}for(var v=0;v<u;v++){var y=h[v],b=y.data("source"),w=y.data("target");if(b!==w){var x=l.indexOfId(b),_=l.indexOfId(w),E=r(y);c[_*d+x]+=E,p[x]+=E}}for(var k=1/d+f,S=0;S<d;S++)if(0===p[S])for(var C=0;C<d;C++)c[C*d+S]=k;else for(var T=0;T<d;T++){var M=T*d+S;c[M]=c[M]/p[S]+f}for(var D,O=new Array(d),P=new Array(d),I=0;I<d;I++)O[I]=1;for(var A=0;A<o;A++){for(var N=0;N<d;N++)P[N]=0;for(var R=0;R<d;R++)for(var L=0;L<d;L++)P[R]+=c[R*d+L]*O[L];ae(P),D=O,O=P,P=D;for(var z=0,B=0;B<d;B++){var F=D[B]-O[B];z+=F*F}if(z<n)break}return{rank:function(t){return t=s.collection(t)[0],O[l.indexOf(t)]}}}},We=Mt({root:null,weight:function(t){return 1},directed:!1,alpha:0}),Ue={degreeCentralityNormalized:function(t){t=We(t);var e=this.cy(),i=this.nodes(),n=i.length;if(t.directed){for(var o={},r={},s=0,a=0,l=0;l<n;l++){var h=i[l],d=h.id();t.root=h;var u=this.degreeCentrality(t);s<u.indegree&&(s=u.indegree),a<u.outdegree&&(a=u.outdegree),o[d]=u.indegree,r[d]=u.outdegree}return{indegree:function(t){return 0==s?0:(c(t)&&(t=e.filter(t)),o[t.id()]/s)},outdegree:function(t){return 0===a?0:(c(t)&&(t=e.filter(t)),r[t.id()]/a)}}}for(var p={},f=0,g=0;g<n;g++){var m=i[g];t.root=m;var v=this.degreeCentrality(t);f<v.degree&&(f=v.degree),p[m.id()]=v.degree}return{degree:function(t){return 0===f?0:(c(t)&&(t=e.filter(t)),p[t.id()]/f)}}},degreeCentrality:function(t){t=We(t);var e=this.cy(),i=this,n=t.root,o=t.weight,r=t.directed,s=t.alpha;if(n=e.collection(n)[0],r){for(var a=n.connectedEdges(),l=a.filter(function(t){return t.target().same(n)&&i.has(t)}),h=a.filter(function(t){return t.source().same(n)&&i.has(t)}),d=l.length,u=h.length,c=0,p=0,f=0;f<l.length;f++)c+=o(l[f]);for(var g=0;g<h.length;g++)p+=o(h[g]);return{indegree:Math.pow(d,1-s)*Math.pow(c,s),outdegree:Math.pow(u,1-s)*Math.pow(p,s)}}for(var m=n.connectedEdges().intersection(i),v=m.length,y=0,b=0;b<m.length;b++)y+=o(m[b]);return{degree:Math.pow(v,1-s)*Math.pow(y,s)}}};Ue.dc=Ue.degreeCentrality,Ue.dcn=Ue.degreeCentralityNormalised=Ue.degreeCentralityNormalized;var Ye=Mt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ge={closenessCentralityNormalized:function(t){for(var e=Ye(t),i=e.harmonic,n=e.weight,o=e.directed,r=this.cy(),s={},a=0,l=this.nodes(),h=this.floydWarshall({weight:n,directed:o}),d=0;d<l.length;d++){for(var u=0,p=l[d],f=0;f<l.length;f++)if(d!==f){var g=h.distance(p,l[f]);u+=i?1/g:g}i||(u=1/u),a<u&&(a=u),s[p.id()]=u}return{closeness:function(t){return 0==a?0:(t=c(t)?r.filter(t)[0].id():t.id(),s[t]/a)}}},closenessCentrality:function(t){var e=Ye(t),i=e.root,n=e.weight,o=e.directed,r=e.harmonic;i=this.filter(i)[0];for(var s=this.dijkstra({root:i,weight:n,directed:o}),a=0,l=this.nodes(),h=0;h<l.length;h++){var d=l[h];if(!d.same(i)){var u=s.distanceTo(d);a+=r?1/u:u}}return r?a:1/a}};Ge.cc=Ge.closenessCentrality,Ge.ccn=Ge.closenessCentralityNormalised=Ge.closenessCentralityNormalized;var qe=Mt({weight:null,directed:!1}),Xe={betweennessCentrality:function(t){for(var e=qe(t),i=e.directed,n=e.weight,o=null!=n,r=this.cy(),s=this.nodes(),a={},l={},h=0,d=function(t,e){l[t]=e,e>h&&(h=e)},u=function(t){return l[t]},c=0;c<s.length;c++){var p=s[c],f=p.id();a[f]=i?p.outgoers().nodes():p.openNeighborhood().nodes(),d(f,0)}for(var g=function(t){for(var e=s[t].id(),i=[],l={},h={},c={},p=new Ft(function(t,e){return c[t]-c[e]}),f=0;f<s.length;f++){var g=s[f].id();l[g]=[],h[g]=0,c[g]=1/0}for(h[e]=1,c[e]=0,p.push(e);!p.empty();){var m=p.pop();if(i.push(m),o)for(var v=0;v<a[m].length;v++){var y,b=a[m][v],w=r.getElementById(m);y=w.edgesTo(b).length>0?w.edgesTo(b)[0]:b.edgesTo(w)[0];var x=n(y);b=b.id(),c[b]>c[m]+x&&(c[b]=c[m]+x,p.nodes.indexOf(b)<0?p.push(b):p.updateItem(b),h[b]=0,l[b]=[]),c[b]==c[m]+x&&(h[b]=h[b]+h[m],l[b].push(m))}else for(var _=0;_<a[m].length;_++){var E=a[m][_].id();c[E]==1/0&&(p.push(E),c[E]=c[m]+1),c[E]==c[m]+1&&(h[E]=h[E]+h[m],l[E].push(m))}}for(var k={},S=0;S<s.length;S++)k[s[S].id()]=0;for(;i.length>0;)for(var C=i.pop(),T=0;T<l[C].length;T++){var M=l[C][T];k[M]=k[M]+h[M]/h[C]*(1+k[C]),C!=s[t].id()&&d(C,u(C)+k[C])}},m=0;m<s.length;m++)g(m);var v={betweenness:function(t){var e=r.collection(t).id();return u(e)},betweennessNormalized:function(t){if(0==h)return 0;var e=r.collection(t).id();return u(e)/h}};return v.betweennessNormalised=v.betweennessNormalized,v}};Xe.bc=Xe.betweennessCentrality;var $e=Mt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Ke=function(t,e){for(var i=0,n=0;n<e.length;n++)i+=e[n](t);return i},Ze=function(t,e){for(var i,n=0;n<e;n++){i=0;for(var o=0;o<e;o++)i+=t[o*e+n];for(var r=0;r<e;r++)t[r*e+n]=t[r*e+n]/i}},Qe=function(t,e,i){for(var n=new Array(i*i),o=0;o<i;o++){for(var r=0;r<i;r++)n[o*i+r]=0;for(var s=0;s<i;s++)for(var a=0;a<i;a++)n[o*i+a]+=t[o*i+s]*e[s*i+a]}return n},Je=function(t,e,i){for(var n=t.slice(0),o=1;o<i;o++)t=Qe(t,n,e);return t},ti=function(t,e,i){for(var n=new Array(e*e),o=0;o<e*e;o++)n[o]=Math.pow(t[o],i);return Ze(n,e),n},ei=function(t,e,i,n){for(var o=0;o<i;o++)if(Math.round(t[o]*Math.pow(10,n))/Math.pow(10,n)!=Math.round(e[o]*Math.pow(10,n))/Math.pow(10,n))return!1;return!0},ii=function(t,e){for(var i=0;i<t.length;i++)if(!e[i]||t[i].id()!==e[i].id())return!1;return!0},ni=function(t){for(var e=this.nodes(),i=this.edges(),n=this.cy(),o=function(t){return $e(t)}(t),r={},s=0;s<e.length;s++)r[e[s].id()]=s;for(var a,l=e.length,h=l*l,d=new Array(h),u=0;u<h;u++)d[u]=0;for(var c=0;c<i.length;c++){var p=i[c],f=r[p.source().id()],g=r[p.target().id()],m=Ke(p,o.attributes);d[f*l+g]+=m,d[g*l+f]+=m}!function(t,e,i){for(var n=0;n<e;n++)t[n*e+n]=i}(d,l,o.multFactor),Ze(d,l);for(var v=!0,y=0;v&&y<o.maxIterations;)v=!1,a=Je(d,l,o.expandFactor),d=ti(a,l,o.inflateFactor),ei(d,a,h,4)||(v=!0),y++;return function(t){for(var e=0;e<t.length;e++)for(var i=0;i<t.length;i++)e!=i&&ii(t[e],t[i])&&t.splice(i,1);return t}(function(t,e,i,n){for(var o=[],r=0;r<e;r++){for(var s=[],a=0;a<e;a++)Math.round(1e3*t[r*e+a])/1e3>0&&s.push(i[a]);0!==s.length&&o.push(n.collection(s))}return o}(d,l,e,n))},oi={markovClustering:ni,mcl:ni},ri=function(t){return t},si=function(t,e){return Math.abs(e-t)},ai=function(t,e,i){return t+si(e,i)},li=function(t,e,i){return t+Math.pow(i-e,2)},hi=function(t){return Math.sqrt(t)},di=function(t,e,i){return Math.max(t,si(e,i))},ui=function(t,e,i,n,o){for(var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ri,s=n,a=0;a<t;a++)s=o(s,e(a),i(a));return r(s)},ci={euclidean:function(t,e,i){return t>=2?ui(t,e,i,0,li,hi):ui(t,e,i,0,ai)},squaredEuclidean:function(t,e,i){return ui(t,e,i,0,li)},manhattan:function(t,e,i){return ui(t,e,i,0,ai)},max:function(t,e,i){return ui(t,e,i,-1/0,di)}};function pi(t,e,i,n,o,r){var s;return s=p(t)?t:ci[t]||ci.euclidean,0===e&&p(t)?s(o,r):s(e,i,n,o,r)}ci["squared-euclidean"]=ci.squaredEuclidean,ci.squaredeuclidean=ci.squaredEuclidean;var fi=Mt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),gi=function(t){return fi(t)},mi=function(t,e,i,n,o){var r="kMedoids"!==o?function(t){return i[t]}:function(t){return n[t](i)};return pi(t,n.length,r,function(t){return n[t](e)},i,e)},vi=function(t,e,i){for(var n=i.length,o=new Array(n),r=new Array(n),s=new Array(e),a=null,l=0;l<n;l++)o[l]=t.min(i[l]).value,r[l]=t.max(i[l]).value;for(var h=0;h<e;h++){a=[];for(var d=0;d<n;d++)a[d]=Math.random()*(r[d]-o[d])+o[d];s[h]=a}return s},yi=function(t,e,i,n,o){for(var r=1/0,s=0,a=0;a<e.length;a++){var l=mi(i,t,e[a],n,o);l<r&&(r=l,s=a)}return s},bi=function(t,e,i){for(var n=[],o=null,r=0;r<e.length;r++)i[(o=e[r]).id()]===t&&n.push(o);return n},wi=function(t,e,i){for(var n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)if(Math.abs(t[n][o]-e[n][o])>i)return!1;return!0},xi=function(t,e,i){for(var n=0;n<i;n++)if(t===e[n])return!0;return!1},_i=function(t,e){var i=new Array(e);if(t.length<50)for(var n=0;n<e;n++){for(var o=t[Math.floor(Math.random()*t.length)];xi(o,i,n);)o=t[Math.floor(Math.random()*t.length)];i[n]=o}else for(var r=0;r<e;r++)i[r]=t[Math.floor(Math.random()*t.length)];return i},Ei=function(t,e,i){for(var n=0,o=0;o<e.length;o++)n+=mi("manhattan",e[o],t,i,"kMedoids");return n},ki=function(t,e,i,n,o){for(var r,s,a=0;a<e.length;a++)for(var l=0;l<t.length;l++)n[a][l]=Math.pow(i[a][l],o.m);for(var h=0;h<t.length;h++)for(var d=0;d<o.attributes.length;d++){r=0,s=0;for(var u=0;u<e.length;u++)r+=n[u][h]*o.attributes[d](e[u]),s+=n[u][h];t[h][d]=r/s}},Si=function(t,e,i,n,o){for(var r=0;r<t.length;r++)e[r]=t[r].slice();for(var s,a,l,h=2/(o.m-1),d=0;d<i.length;d++)for(var u=0;u<n.length;u++){s=0;for(var c=0;c<i.length;c++)a=mi(o.distance,n[u],i[d],o.attributes,"cmeans"),l=mi(o.distance,n[u],i[c],o.attributes,"cmeans"),s+=Math.pow(a/l,h);t[u][d]=1/s}},Ci=function(t){var e,i,n,o,r=this.cy(),s=this.nodes(),a=gi(t);n=new Array(s.length);for(var l=0;l<s.length;l++)n[l]=new Array(a.k);i=new Array(s.length);for(var h=0;h<s.length;h++)i[h]=new Array(a.k);for(var d=0;d<s.length;d++){for(var u=0,c=0;c<a.k;c++)i[d][c]=Math.random(),u+=i[d][c];for(var p=0;p<a.k;p++)i[d][p]=i[d][p]/u}e=new Array(a.k);for(var f=0;f<a.k;f++)e[f]=new Array(a.attributes.length);o=new Array(s.length);for(var g=0;g<s.length;g++)o[g]=new Array(a.k);for(var m=!0,v=0;m&&v<a.maxIterations;)m=!1,ki(e,s,i,o,a),Si(i,n,e,s,a),wi(i,n,a.sensitivityThreshold)||(m=!0),v++;return{clusters:function(t,e,i,n){for(var o,r,s=new Array(i.k),a=0;a<s.length;a++)s[a]=[];for(var l=0;l<e.length;l++){o=-1/0,r=-1;for(var h=0;h<e[0].length;h++)e[l][h]>o&&(o=e[l][h],r=h);s[r].push(t[l])}for(var d=0;d<s.length;d++)s[d]=n.collection(s[d]);return s}(s,i,a,r),degreeOfMembership:i}},Ti={kMeans:function(e){var i,n=this.cy(),o=this.nodes(),r=null,s=gi(e),a=new Array(s.k),l={};i=s.testMode?"number"==typeof s.testCentroids?vi(o,s.k,s.attributes):"object"===t(s.testCentroids)?s.testCentroids:vi(o,s.k,s.attributes):vi(o,s.k,s.attributes);for(var h,d=!0,u=0;d&&u<s.maxIterations;){for(var c=0;c<o.length;c++)l[(r=o[c]).id()]=yi(r,i,s.distance,s.attributes,"kMeans");d=!1;for(var p=0;p<s.k;p++){var f=bi(p,o,l);if(0!==f.length){for(var g=s.attributes.length,m=i[p],v=new Array(g),y=new Array(g),b=0;b<g;b++){y[b]=0;for(var w=0;w<f.length;w++)y[b]+=s.attributes[b](r=f[w]);v[b]=y[b]/f.length,h=s.sensitivityThreshold,Math.abs(m[b]-v[b])<=h||(d=!0)}i[p]=v,a[p]=n.collection(f)}}u++}return a},kMedoids:function(e){var i,n,o=this.cy(),r=this.nodes(),s=null,a=gi(e),l=new Array(a.k),h={},d=new Array(a.k);a.testMode?"number"==typeof a.testCentroids||(i="object"===t(a.testCentroids)?a.testCentroids:_i(r,a.k)):i=_i(r,a.k);for(var u=!0,c=0;u&&c<a.maxIterations;){for(var p=0;p<r.length;p++)h[(s=r[p]).id()]=yi(s,i,a.distance,a.attributes,"kMedoids");u=!1;for(var f=0;f<i.length;f++){var g=bi(f,r,h);if(0!==g.length){d[f]=Ei(i[f],g,a.attributes);for(var m=0;m<g.length;m++)(n=Ei(g[m],g,a.attributes))<d[f]&&(d[f]=n,i[f]=g[m],u=!0);l[f]=o.collection(g)}}c++}return l},fuzzyCMeans:Ci,fcm:Ci},Mi=Mt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Di={single:"min",complete:"max"},Oi=function(t,e,i,n,o){for(var r,s=0,a=1/0,l=o.attributes,h=function(t,e){return pi(o.distance,l.length,function(e){return l[e](t)},function(t){return l[t](e)},t,e)},d=0;d<t.length;d++){var u=t[d].key,c=i[u][n[u]];c<a&&(s=u,a=c)}if("threshold"===o.mode&&a>=o.threshold||"dendrogram"===o.mode&&1===t.length)return!1;var p,f=e[s],g=e[n[s]];p="dendrogram"===o.mode?{left:f,right:g,key:f.key}:{value:f.value.concat(g.value),key:f.key},t[f.index]=p,t.splice(g.index,1),e[f.key]=p;for(var m=0;m<t.length;m++){var v=t[m];f.key===v.key?r=1/0:"min"===o.linkage?(r=i[f.key][v.key],i[f.key][v.key]>i[g.key][v.key]&&(r=i[g.key][v.key])):"max"===o.linkage?(r=i[f.key][v.key],i[f.key][v.key]<i[g.key][v.key]&&(r=i[g.key][v.key])):r="mean"===o.linkage?(i[f.key][v.key]*f.size+i[g.key][v.key]*g.size)/(f.size+g.size):"dendrogram"===o.mode?h(v.value,f.value):h(v.value[0],f.value[0]),i[f.key][v.key]=i[v.key][f.key]=r}for(var y=0;y<t.length;y++){var b=t[y].key;if(n[b]===f.key||n[b]===g.key){for(var w=b,x=0;x<t.length;x++){var _=t[x].key;i[b][_]<i[b][w]&&(w=_)}n[b]=w}t[y].index=y}return f.key=g.key=f.index=g.index=null,!0},Pi=function t(e,i,n){e&&(e.value?i.push(e.value):(e.left&&t(e.left,i,n),e.right&&t(e.right,i,n)))},Ii=function(t){for(var e=this.cy(),i=this.nodes(),n=function(t){var e=Mi(t),i=Di[e.linkage];return null!=i&&(e.linkage=i),e}(t),o=n.attributes,r=function(t,e){return pi(n.distance,o.length,function(e){return o[e](t)},function(t){return o[t](e)},t,e)},s=[],a=[],l=[],h=[],d=0;d<i.length;d++){var u={value:"dendrogram"===n.mode?i[d]:[i[d]],key:d,index:d};s[d]=u,h[d]=u,a[d]=[],l[d]=0}for(var c=0;c<s.length;c++)for(var p=0;p<=c;p++){var f;f="dendrogram"===n.mode?c===p?1/0:r(s[c].value,s[p].value):c===p?1/0:r(s[c].value[0],s[p].value[0]),a[c][p]=f,a[p][c]=f,f<a[c][l[c]]&&(l[c]=p)}for(var g,m=Oi(s,h,a,l,n);m;)m=Oi(s,h,a,l,n);return"dendrogram"===n.mode?(g=function t(e,i,n){if(!e)return[];var o=[],r=[],s=[];return 0===i?(e.left&&Pi(e.left,o,n),e.right&&Pi(e.right,r,n),s=o.concat(r),[n.collection(s)]):1===i?e.value?[n.collection(e.value)]:(e.left&&Pi(e.left,o,n),e.right&&Pi(e.right,r,n),[n.collection(o),n.collection(r)]):e.value?[n.collection(e.value)]:(e.left&&(o=t(e.left,i-1,n)),e.right&&(r=t(e.right,i-1,n)),o.concat(r))}(s[0],n.dendrogramDepth,e),n.addDendrogram&&function t(e,i){if(!e)return"";if(e.left&&e.right){var n=t(e.left,i),o=t(e.right,i),r=i.add({group:"nodes",data:{id:n+","+o}});return i.add({group:"edges",data:{source:n,target:r.id()}}),i.add({group:"edges",data:{source:o,target:r.id()}}),r.id()}return e.value?e.value.id():void 0}(s[0],e)):(g=new Array(s.length),s.forEach(function(t,i){t.key=t.index=null,g[i]=e.collection(t.value)})),g},Ai={hierarchicalClustering:Ii,hca:Ii},Ni=Mt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Ri=function(t,e,i,n){var o=function(t,e){return n[e](t)};return-pi(t,n.length,function(t){return o(e,t)},function(t){return o(i,t)},e,i)},Li=function(t,e,i){for(var n=[],o=0;o<t;o++){for(var r=-1,s=-1/0,a=0;a<i.length;a++){var l=i[a];e[o*t+l]>s&&(r=l,s=e[o*t+l])}r>0&&n.push(r)}for(var h=0;h<i.length;h++)n[i[h]]=i[h];return n},zi=function(t){for(var e,i,n,o,r,s,a=this.cy(),l=this.nodes(),h=function(t){var e=t.damping,i=t.preference;.5<=e&&e<1||xt("Damping must range on [0.5, 1).  Got: ".concat(e));var n=["median","mean","min","max"];return n.some(function(t){return t===i})||m(i)||xt("Preference must be one of [".concat(n.map(function(t){return"'".concat(t,"'")}).join(", "),"] or a number.  Got: ").concat(i)),Ni(t)}(t),d={},u=0;u<l.length;u++)d[l[u].id()]=u;i=(e=l.length)*e,n=new Array(i);for(var c=0;c<i;c++)n[c]=-1/0;for(var p=0;p<e;p++)for(var f=0;f<e;f++)p!==f&&(n[p*e+f]=Ri(h.distance,l[p],l[f],h.attributes));o=function(t,e){return"median"===e?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];n?t=t.slice(e,i):(i<t.length&&t.splice(i,t.length-i),e>0&&t.splice(0,e));for(var s=0,a=t.length-1;a>=0;a--){var l=t[a];r?isFinite(l)||(t[a]=-1/0,s++):t.splice(a,1)}o&&t.sort(function(t,e){return t-e});var h=t.length,d=Math.floor(h/2);return h%2!=0?t[d+1+s]:(t[d-1+s]+t[d+s])/2}(t):"mean"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=0,o=0,r=e;r<i;r++){var s=t[r];isFinite(s)&&(n+=s,o++)}return n/o}(t):"min"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=1/0,o=e;o<i;o++){var r=t[o];isFinite(r)&&(n=Math.min(r,n))}return n}(t):"max"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=-1/0,o=e;o<i;o++){var r=t[o];isFinite(r)&&(n=Math.max(r,n))}return n}(t):e}(n,h.preference);for(var g=0;g<e;g++)n[g*e+g]=o;r=new Array(i);for(var v=0;v<i;v++)r[v]=0;s=new Array(i);for(var y=0;y<i;y++)s[y]=0;for(var b=new Array(e),w=new Array(e),x=new Array(e),_=0;_<e;_++)b[_]=0,w[_]=0,x[_]=0;for(var E,k=new Array(e*h.minIterations),S=0;S<k.length;S++)k[S]=0;for(E=0;E<h.maxIterations;E++){for(var C=0;C<e;C++){for(var T=-1/0,M=-1/0,D=-1,O=0,P=0;P<e;P++)b[P]=r[C*e+P],(O=s[C*e+P]+n[C*e+P])>=T?(M=T,T=O,D=P):O>M&&(M=O);for(var I=0;I<e;I++)r[C*e+I]=(1-h.damping)*(n[C*e+I]-T)+h.damping*b[I];r[C*e+D]=(1-h.damping)*(n[C*e+D]-M)+h.damping*b[D]}for(var A=0;A<e;A++){for(var N=0,R=0;R<e;R++)b[R]=s[R*e+A],w[R]=Math.max(0,r[R*e+A]),N+=w[R];N-=w[A],w[A]=r[A*e+A],N+=w[A];for(var L=0;L<e;L++)s[L*e+A]=(1-h.damping)*Math.min(0,N-w[L])+h.damping*b[L];s[A*e+A]=(1-h.damping)*(N-w[A])+h.damping*b[A]}for(var z=0,B=0;B<e;B++){var F=s[B*e+B]+r[B*e+B]>0?1:0;k[E%h.minIterations*e+B]=F,z+=F}if(z>0&&(E>=h.minIterations-1||E==h.maxIterations-1)){for(var j=0,H=0;H<e;H++){x[H]=0;for(var V=0;V<h.minIterations;V++)x[H]+=k[V*e+H];0!==x[H]&&x[H]!==h.minIterations||j++}if(j===e)break}}for(var W=function(t,e,i){for(var n=[],o=0;o<t;o++)e[o*t+o]+i[o*t+o]>0&&n.push(o);return n}(e,r,s),U=function(t,e,i){for(var n=Li(t,e,i),o=0;o<i.length;o++){for(var r=[],s=0;s<n.length;s++)n[s]===i[o]&&r.push(s);for(var a=-1,l=-1/0,h=0;h<r.length;h++){for(var d=0,u=0;u<r.length;u++)d+=e[r[u]*t+r[h]];d>l&&(a=h,l=d)}i[o]=r[a]}return Li(t,e,i)}(e,n,W),Y={},G=0;G<W.length;G++)Y[W[G]]=[];for(var q=0;q<l.length;q++){var X=U[d[l[q].id()]];null!=X&&Y[X].push(l[q])}for(var $=new Array(W.length),K=0;K<W.length;K++)$[K]=a.collection(Y[W[K]]);return $},Bi={};[Bt,Ht,Vt,Ut,Gt,Xt,Qt,Ve,Ue,Ge,Xe,oi,Ti,Ai,{affinityPropagation:zi,ap:zi}].forEach(function(t){A(Bi,t)});var Fi=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Fi.prototype={fulfill:function(t){return ji(this,1,"fulfillValue",t)},reject:function(t){return ji(this,2,"rejectReason",t)},then:function(t,e){var i=new Fi;return this.onFulfilled.push(Wi(t,i,"fulfill")),this.onRejected.push(Wi(e,i,"reject")),Hi(this),i.proxy}};var ji=function(t,e,i,n){return 0===t.state&&(t.state=e,t[i]=n,Hi(t)),t},Hi=function(t){1===t.state?Vi(t,"onFulfilled",t.fulfillValue):2===t.state&&Vi(t,"onRejected",t.rejectReason)},Vi=function(t,e,i){if(0!==t[e].length){var n=t[e];t[e]=[];var o=function(){for(var t=0;t<n.length;t++)n[t](i)};"function"==typeof setImmediate?setImmediate(o):setTimeout(o,0)}},Wi=function(t,e,i){return function(n){if("function"!=typeof t)e[i].call(e,n);else{var o;try{o=t(n)}catch(t){return void e.reject(t)}Ui(e,o)}}},Ui=function e(i,n){if(i!==n&&i.proxy!==n){var o;if("object"===t(n)&&null!==n||"function"==typeof n)try{o=n.then}catch(t){return void i.reject(t)}if("function"!=typeof o)i.fulfill(n);else{var r=!1;try{o.call(n,function(t){r||(r=!0,t===n?i.reject(new TypeError("circular thenable chain")):e(i,t))},function(t){r||(r=!0,i.reject(t))})}catch(t){r||i.reject(t)}}}else i.reject(new TypeError("cannot resolve promise with itself"))};Fi.all=function(t){return new Fi(function(e,i){for(var n=new Array(t.length),o=0,r=function(i,r){n[i]=r,++o===t.length&&e(n)},s=0;s<t.length;s++)!function(e){var n=t[e];null!=n&&null!=n.then?n.then(function(t){r(e,t)},function(t){i(t)}):r(e,n)}(s)})},Fi.resolve=function(t){return new Fi(function(e,i){e(t)})},Fi.reject=function(t){return new Fi(function(e,i){i(t)})};var Yi="undefined"!=typeof Promise?Promise:Fi,Gi=function(t,e,i){var n=x(t),o=!n,r=this._private=A({duration:1e3},e,i);if(r.target=t,r.style=r.style||r.css,r.started=!1,r.playing=!1,r.hooked=!1,r.applying=!1,r.progress=0,r.completes=[],r.frames=[],r.complete&&p(r.complete)&&r.completes.push(r.complete),o){var s=t.position();r.startPosition=r.startPosition||{x:s.x,y:s.y},r.startStyle=r.startStyle||t.cy().style().getAnimationStartStyle(t,r.style)}if(n){var a=t.pan();r.startPan={x:a.x,y:a.y},r.startZoom=t.zoom()}this.length=1,this[0]=this},qi=Gi.prototype;A(qi,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),y(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,i=e.playing;return void 0===t?e.progress:(i&&this.pause(),e.progress=t,e.started=!1,i&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var i=function(e,i){var n=t[e];null!=n&&(t[e]=t[i],t[i]=n)};if(i("zoom","startZoom"),i("pan","startPan"),i("position","startPosition"),t.style)for(var n=0;n<t.style.length;n++){var o=t.style[n],r=o.name,s=t.startStyle[r];t.startStyle[r]=o,t.style[n]=s}return e&&this.play(),this},promise:function(t){var e,i=this._private;switch(t){case"frame":e=i.frames;break;default:case"complete":case"completed":e=i.completes}return new Yi(function(t,i){e.push(function(){t()})})}}),qi.complete=qi.completed,qi.run=qi.play,qi.running=qi.playing;var Xi={};[{animated:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var e=t[0];return e?e._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var e=0;e<t.length;e++)t[e]._private.animation.queue=[];return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var i=void 0!==this.length,n=i?this:[this],o=this._private.cy||this,r=!i,s=!r;if(!o.styleEnabled())return this;var a=o.style();if(t=A({},t,e),0===Object.keys(t).length)return new Gi(n[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(s&&(t.style=a.getPropsList(t.style||t.css),t.css=void 0),s&&null!=t.renderedPosition){var l=t.renderedPosition,h=o.pan(),d=o.zoom();t.position=te(l,d,h)}if(r&&null!=t.panBy){var u=t.panBy,c=o.pan();t.pan={x:c.x+u.x,y:c.y+u.y}}var p=t.center||t.centre;if(r&&null!=p){var f=o.getCenterPan(p.eles,t.zoom);null!=f&&(t.pan=f)}if(r&&null!=t.fit){var m=t.fit,v=o.getFitViewport(m.eles||m.boundingBox,m.padding);null!=v&&(t.pan=v.pan,t.zoom=v.zoom)}if(r&&g(t.zoom)){var y=o.getZoomedViewport(t.zoom);null!=y&&(y.zoomed&&(t.zoom=y.zoom),y.panned&&(t.pan=y.pan))}return new Gi(n[0],t)}},animate:function(){return function(t,e){var i=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=A({},t,e));for(var n=0;n<i.length;n++){var o=i[n],r=o.animated()&&(void 0===t.queue||t.queue);o.animation(t,r?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var i=void 0!==this.length?this:[this],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var o=0;o<i.length;o++){for(var r=i[o]._private,s=r.animation.current,a=0;a<s.length;a++)e&&(s[a]._private.duration=0);t&&(r.animation.queue=[]),e||(r.animation.current=[])}return n.notify("draw"),this}}},{data:function(t){return t=A({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}},t),function(e,i){var n=t,o=void 0!==this.length,r=o?this:[this],s=o?this[0]:this;if(c(e)){var a;if(n.allowGetting&&void 0===i)return s&&(n.beforeGet(s),a=s._private[n.field][e]),a;if(n.allowSetting&&void 0!==i&&!n.immutableKeys[e]){var l=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}({},e,i);n.beforeSet(this,l);for(var h=0,d=r.length;h<d;h++){var u=r[h];n.canSet(u)&&(u._private[n.field][e]=i)}n.updateStyle&&this.updateStyle(),n.onSet(this),n.settingTriggersEvent&&this[n.triggerFnName](n.settingEvent)}}else if(n.allowSetting&&g(e)){var f,m,v=e,y=Object.keys(v);n.beforeSet(this,v);for(var b=0;b<y.length;b++)if(m=v[f=y[b]],!n.immutableKeys[f])for(var w=0;w<r.length;w++){var x=r[w];n.canSet(x)&&(x._private[n.field][f]=m)}n.updateStyle&&this.updateStyle(),n.onSet(this),n.settingTriggersEvent&&this[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&p(e))this.on(n.bindingEvent,e);else if(n.allowGetting&&void 0===e){var _;return s&&(n.beforeGet(s),_=s._private[n.field]),_}return this}},removeData:function(t){return t=A({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var i=t,n=void 0!==this.length?this:[this];if(c(e)){for(var o=e.split(/\s+/),r=o.length,s=0;s<r;s++){var a=o[s];if(!E(a)&&!i.immutableKeys[a])for(var l=0,h=n.length;l<h;l++)n[l]._private[i.field][a]=void 0}i.triggerEvent&&this[i.triggerFnName](i.event)}else if(void 0===e){for(var d=0,u=n.length;d<u;d++)for(var p=n[d]._private[i.field],f=Object.keys(p),g=0;g<f.length;g++){var m=f[g];!i.immutableKeys[m]&&(p[m]=void 0)}i.triggerEvent&&this[i.triggerFnName](i.event)}return this}}},{eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var i=this,n=Array.prototype.slice.call(arguments,0);return new Yi(function(t,e){var o=n.concat([function(e){i.off.apply(i,r),t(e)}]),r=o.concat([]);i.on.apply(i,o)})}}}].forEach(function(t){A(Xi,t)});var $i={animate:Xi.animate(),animation:Xi.animation(),animated:Xi.animated(),clearQueue:Xi.clearQueue(),delay:Xi.delay(),delayAnimation:Xi.delayAnimation(),stop:Xi.stop()},Ki={classes:function(t){if(void 0===t){var e=[];return this[0]._private.classes.forEach(function(t){return e.push(t)}),e}f(t)||(t=(t||"").match(/\S+/g)||[]);for(var i=[],n=new Rt(t),o=0;o<this.length;o++){for(var r=this[o],s=r._private,a=s.classes,l=!1,h=0;h<t.length;h++)if(!a.has(t[h])){l=!0;break}l||(l=a.size!==t.length),l&&(s.classes=n,i.push(r))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),this},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){f(t)||(t=t.match(/\S+/g)||[]);for(var i=void 0===e,n=[],o=0,r=this.length;o<r;o++)for(var s=this[o],a=s._private.classes,l=!1,h=0;h<t.length;h++){var d=t[h],u=a.has(d),c=!1;e||i&&!u?(a.add(d),c=!0):(!e||i&&u)&&(a.delete(d),c=!0),!l&&c&&(n.push(s),l=!0)}return n.length>0&&this.spawn(n).updateStyle().emit("class"),this},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var i=this;if(null==e)e=250;else if(0===e)return i;return i.addClass(t),setTimeout(function(){i.removeClass(t)},e),i}};Ki.className=Ki.classNames=Ki.classes;var Zi={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:P,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Zi.variable="(?:[\\w-]|(?:\\\\"+Zi.metaChar+"))+",Zi.value=Zi.string+"|"+Zi.number,Zi.className=Zi.variable,Zi.id=Zi.variable,function(){var t,e,i;for(t=Zi.comparatorOp.split("|"),i=0;i<t.length;i++)Zi.comparatorOp+="|@"+(e=t[i]);for(t=Zi.comparatorOp.split("|"),i=0;i<t.length;i++)(e=t[i]).indexOf("!")>=0||"="!==e&&(Zi.comparatorOp+="|\\!"+e)}();var Qi=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(t,e){return function(t,e){return-1*I(t,e)}(t.selector,e.selector)}),Ji=function(){for(var t,e={},i=0;i<Qi.length;i++)e[(t=Qi[i]).selector]=t.matches;return e}(),tn="("+Qi.map(function(t){return t.selector}).join("|")+")",en=function(t){return t.replace(new RegExp("\\\\("+Zi.metaChar+")","g"),function(t,e){return e})},nn=function(t,e,i){t[t.length-1]=i},on=[{name:"group",query:!0,regex:"("+Zi.group+")",populate:function(t,e,i){var n=o(i,1)[0];e.checks.push({type:0,value:"*"===n?n:n+"s"})}},{name:"state",query:!0,regex:tn,populate:function(t,e,i){var n=o(i,1)[0];e.checks.push({type:7,value:n})}},{name:"id",query:!0,regex:"\\#("+Zi.id+")",populate:function(t,e,i){var n=o(i,1)[0];e.checks.push({type:8,value:en(n)})}},{name:"className",query:!0,regex:"\\.("+Zi.className+")",populate:function(t,e,i){var n=o(i,1)[0];e.checks.push({type:9,value:en(n)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Zi.variable+")\\s*\\]",populate:function(t,e,i){var n=o(i,1)[0];e.checks.push({type:4,field:en(n)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Zi.variable+")\\s*("+Zi.comparatorOp+")\\s*("+Zi.value+")\\s*\\]",populate:function(t,e,i){var n=o(i,3),r=n[0],s=n[1],a=n[2];a=null!=new RegExp("^"+Zi.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),e.checks.push({type:3,field:en(r),operator:s,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Zi.boolOp+")\\s*("+Zi.variable+")\\s*\\]",populate:function(t,e,i){var n=o(i,2),r=n[0];e.checks.push({type:5,field:en(n[1]),operator:r})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Zi.meta+")\\s*("+Zi.comparatorOp+")\\s*("+Zi.number+")\\s*\\]\\]",populate:function(t,e,i){var n=o(i,3),r=n[1],s=n[2];e.checks.push({type:6,field:en(n[0]),operator:r,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Zi.separator,populate:function(t,e){var i=t.currentSubject,n=t.edgeCount,o=t.compoundCount,r=t[t.length-1];return null!=i&&(r.subject=i,t.currentSubject=null),r.edgeCount=n,r.compoundCount=o,t.edgeCount=0,t.compoundCount=0,t[t.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Zi.directedEdge,populate:function(t,e){if(null==t.currentSubject){var i={checks:[]},n={checks:[]};return i.checks.push({type:11,source:e,target:n}),nn(t,0,i),t.edgeCount++,n}var o={checks:[]},r={checks:[]};return o.checks.push({type:12,source:e,target:r}),nn(t,0,o),t.edgeCount++,r}},{name:"undirectedEdge",separator:!0,regex:Zi.undirectedEdge,populate:function(t,e){if(null==t.currentSubject){var i={checks:[]},n={checks:[]};return i.checks.push({type:10,nodes:[e,n]}),nn(t,0,i),t.edgeCount++,n}var o={checks:[]},r={checks:[]};return o.checks.push({type:14,node:e,neighbor:r}),nn(t,0,o),r}},{name:"child",separator:!0,regex:Zi.child,populate:function(t,e){if(null==t.currentSubject){var i={checks:[]},n={checks:[]};return i.checks.push({type:15,parent:t[t.length-1],child:n}),nn(t,0,i),t.compoundCount++,n}if(t.currentSubject===e){var o={checks:[]},r={checks:[]},s={checks:[]},a={checks:[]},l={checks:[]};return o.checks.push({type:19,left:t[t.length-1],right:r,subject:s}),s.checks=e.checks,e.checks=[{type:20}],l.checks.push({type:20}),r.checks.push({type:17,parent:l,child:a}),nn(t,0,o),t.currentSubject=s,t.compoundCount++,a}var h={checks:[]},d={checks:[]},u=[{type:17,parent:h,child:d}];return h.checks=e.checks,e.checks=u,t.compoundCount++,d}},{name:"descendant",separator:!0,regex:Zi.descendant,populate:function(t,e){if(null==t.currentSubject){var i={checks:[]},n={checks:[]};return i.checks.push({type:16,ancestor:t[t.length-1],descendant:n}),nn(t,0,i),t.compoundCount++,n}if(t.currentSubject===e){var o={checks:[]},r={checks:[]},s={checks:[]},a={checks:[]},l={checks:[]};return o.checks.push({type:19,left:t[t.length-1],right:r,subject:s}),s.checks=e.checks,e.checks=[{type:20}],l.checks.push({type:20}),r.checks.push({type:18,ancestor:l,descendant:a}),nn(t,0,o),t.currentSubject=s,t.compoundCount++,a}var h={checks:[]},d={checks:[]},u=[{type:18,ancestor:h,descendant:d}];return h.checks=e.checks,e.checks=u,t.compoundCount++,d}},{name:"subject",modifier:!0,regex:Zi.subject,populate:function(t,e){if(null!=t.currentSubject&&t.currentSubject!==e)return Et("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var i=t[t.length-1].checks[0],n=null==i?null:i.type;11===n?i.type=13:10===n&&(i.type=14,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];on.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var rn=function(t){for(var e,i,n,o=0;o<on.length;o++){var r=on[o],s=r.name,a=t.match(r.regexObj);if(null!=a){i=a,e=r,n=s,t=t.substring(a[0].length);break}}return{expr:e,match:i,name:n,remaining:t}},sn={parse:function(t){var e=this.inputText=t,i=this[0]={checks:[]};for(this.length=1,e=function(t){var e=t.match(/^\s+/);return e&&(t=t.substring(e[0].length)),t}(e);;){var n=rn(e);if(null==n.expr)return Et("The selector `"+t+"`is invalid"),!1;var o=n.match.slice(1),r=n.expr.populate(this,i,o);if(!1===r)return!1;if(null!=r&&(i=r),(e=n.remaining).match(/^\s*$/))break}var s=this[this.length-1];null!=this.currentSubject&&(s.subject=this.currentSubject),s.edgeCount=this.edgeCount,s.compoundCount=this.compoundCount;for(var a=0;a<this.length;a++){var l=this[a];if(l.compoundCount>0&&l.edgeCount>0)return Et("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return Et("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&Et("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var t=function(t){return null==t?"":t},e=function(e){return c(e)?'"'+e+'"':t(e)},i=function(t){return" "+t+" "},n=function(n,r){var s=n.value;switch(n.type){case 0:var a=t(s);return a.substring(0,a.length-1);case 3:return"["+n.field+i(t(n.operator))+e(s)+"]";case 5:var l=n.field;return"["+t(n.operator)+l+"]";case 4:return"["+n.field+"]";case 6:return"[["+n.field+i(t(n.operator))+e(s)+"]]";case 7:return s;case 8:return"#"+s;case 9:return"."+s;case 17:case 15:return o(n.parent,r)+i(">")+o(n.child,r);case 18:case 16:return o(n.ancestor,r)+" "+o(n.descendant,r);case 19:var h=o(n.left,r),d=o(n.subject,r),u=o(n.right,r);return h+(h.length>0?" ":"")+d+u;case 20:return""}},o=function(t,e){return t.checks.reduce(function(i,o,r){return i+(e===t&&0===r?"$":"")+n(o,e)},"")},r="",s=0;s<this.length;s++){var a=this[s];r+=o(a,a.subject),this.length>1&&s<this.length-1&&(r+=", ")}return this.toStringCache=r,r}},an=function(t,e,i){var n,o,r,s=c(t),a=m(t),l=c(i),h=!1,d=!1,u=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),d=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),h=!0),(s||l||h)&&(o=s||a?""+t:"",r=""+i),h&&(t=o=o.toLowerCase(),i=r=r.toLowerCase()),e){case"*=":n=o.indexOf(r)>=0;break;case"$=":n=o.indexOf(r,o.length-r.length)>=0;break;case"^=":n=0===o.indexOf(r);break;case"=":n=t===i;break;case">":u=!0,n=t>i;break;case">=":u=!0,n=t>=i;break;case"<":u=!0,n=t<i;break;case"<=":u=!0,n=t<=i;break;default:n=!1}return!d||null==t&&u||(n=!n),n},ln=function(t,e){return t.data(e)},hn=[],dn=function(t,e){return t.checks.every(function(t){return hn[t.type](t,e)})};hn[0]=function(t,e){var i=t.value;return"*"===i||i===e.group()},hn[7]=function(t,e){return function(t,e){return Ji[t](e)}(t.value,e)},hn[8]=function(t,e){var i=t.value;return e.id()===i},hn[9]=function(t,e){return e.hasClass(t.value)},hn[6]=function(t,e){var i=t.field,n=t.operator,o=t.value;return an(function(t,e){return t[i]()}(e),n,o)},hn[3]=function(t,e){var i=t.operator,n=t.value;return an(ln(e,t.field),i,n)},hn[5]=function(t,e){ln(e,t.field)},hn[4]=function(t,e){return void 0!==ln(e,t.field)},hn[10]=function(t,e){var i=t.nodes[0],n=t.nodes[1],o=e.source(),r=e.target();return dn(i,o)&&dn(n,r)||dn(n,o)&&dn(i,r)},hn[14]=function(t,e){return dn(t.node,e)&&e.neighborhood().some(function(e){return e.isNode()&&dn(t.neighbor,e)})},hn[11]=function(t,e){return dn(t.source,e.source())&&dn(t.target,e.target())},hn[12]=function(t,e){return dn(t.source,e)&&e.outgoers().some(function(e){return e.isNode()&&dn(t.target,e)})},hn[13]=function(t,e){return dn(t.target,e)&&e.incomers().some(function(e){return e.isNode()&&dn(t.source,e)})},hn[15]=function(t,e){return dn(t.child,e)&&dn(t.parent,e.parent())},hn[17]=function(t,e){return dn(t.parent,e)&&e.children().some(function(e){return dn(t.child,e)})},hn[16]=function(t,e){return dn(t.descendant,e)&&e.ancestors().some(function(e){return dn(t.ancestor,e)})},hn[18]=function(t,e){return dn(t.ancestor,e)&&e.descendants().some(function(e){return dn(t.descendant,e)})},hn[19]=function(t,e){return dn(t.subject,e)&&dn(t.left,e)&&dn(t.right,e)},hn[20]=function(){return!0},hn[1]=function(t,e){return t.value.has(e)},hn[2]=function(t,e){return(0,t.value)(e)};var un=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==t||c(t)&&t.match(/^\s*$/)||(y(t)?this.addQuery({checks:[{type:1,value:t.collection()}]}):p(t)?this.addQuery({checks:[{type:2,value:t}]}):c(t)?this.parse(t)||(this.invalid=!0):xt("A selector must be created from a string; found ",t))},cn=un.prototype;[sn,{matches:function(t){for(var e=0;e<this.length;e++)if(dn(this[e],t))return!0;return!1},filter:function(t){var e=this;if(1===e.length&&1===e[0].checks.length&&8===e[0].checks[0].type)return t.getElementById(e[0].checks[0].value).collection();var i=function(t){for(var i=0;i<e.length;i++)if(dn(e[i],t))return!0;return!1};return null==e.text()&&(i=function(){return!0}),t.filter(i)}}].forEach(function(t){return A(cn,t)}),cn.text=function(){return this.inputText},cn.size=function(){return this.length},cn.eq=function(t){return this[t]},cn.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},cn.addQuery=function(t){this[this.length++]=t},cn.selector=cn.toString;var pn={allAre:function(t){var e=new un(t);return this.every(function(t){return e.matches(t)})},is:function(t){var e=new un(t);return this.some(function(t){return e.matches(t)})},some:function(t,e){for(var i=0;i<this.length;i++)if(e?t.apply(e,[this[i],i,this]):t(this[i],i,this))return!0;return!1},every:function(t,e){for(var i=0;i<this.length;i++)if(!(e?t.apply(e,[this[i],i,this]):t(this[i],i,this)))return!1;return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length;return e===t.length&&(1===e?this[0]===t[0]:this.every(function(e){return t.hasElementWithId(e.id())}))},anySame:function(t){return t=this.cy().collection(t),this.some(function(e){return t.hasElementWithId(e.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every(function(t){return e.hasElementWithId(t.id())})},contains:function(t){t=this.cy().collection(t);var e=this;return t.every(function(t){return e.hasElementWithId(t.id())})}};pn.allAreNeighbours=pn.allAreNeighbors,pn.has=pn.contains,pn.equal=pn.equals=pn.same;var fn,gn,mn=function(t,e){return function(i,n,o,r){var s,a=i;if(null==a?s="":y(a)&&1===a.length&&(s=a.id()),1===this.length&&s){var l=this[0]._private,h=l.traversalCache=l.traversalCache||{},d=h[e]=h[e]||[],u=dt(s);return d[u]||(d[u]=t.call(this,i,n,o,r))}return t.call(this,i,n,o,r)}},vn={parent:function(t){var e=[];if(1===this.length){var i=this[0]._private.parent;if(i)return i}for(var n=0;n<this.length;n++){var o=this[n]._private.parent;o&&e.push(o)}return this.spawn(e,{unique:!0}).filter(t)},parents:function(t){for(var e=[],i=this.parent();i.nonempty();){for(var n=0;n<i.length;n++)e.push(i[n]);i=i.parent()}return this.spawn(e,{unique:!0}).filter(t)},commonAncestors:function(t){for(var e,i=0;i<this.length;i++){var n=this[i].parents();e=(e=e||n).intersect(n)}return e.filter(t)},orphans:function(t){return this.stdFilter(function(t){return t.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(t){return t.isChild()}).filter(t)},children:mn(function(t){for(var e=[],i=0;i<this.length;i++)for(var n=this[i]._private.children,o=0;o<n.length;o++)e.push(n[o]);return this.spawn(e,{unique:!0}).filter(t)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];return function t(i){for(var n=0;n<i.length;n++){var o=i[n];e.push(o),o.children().nonempty()&&t(o.children())}}(this.children()),this.spawn(e,{unique:!0}).filter(t)}};function yn(t,e,i,n){for(var o=[],r=new Rt,s=t.cy().hasCompoundNodes(),a=0;a<t.length;a++){var l=t[a];i?o.push(l):s&&n(o,r,l)}for(;o.length>0;){var h=o.shift();e(h),r.add(h.id()),s&&n(o,r,h)}return t}function bn(t,e,i){if(i.isParent())for(var n=i._private.children,o=0;o<n.length;o++){var r=n[o];e.has(r.id())||t.push(r)}}function wn(t,e,i){if(i.isChild()){var n=i._private.parent;e.has(n.id())||t.push(n)}}function xn(t,e,i){wn(t,e,i),bn(t,e,i)}vn.forEachDown=function(t){return yn(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],bn)},vn.forEachUp=function(t){return yn(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],wn)},vn.forEachUpAndDown=function(t){return yn(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],xn)},vn.ancestors=vn.parents,(fn=gn={data:Xi.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Xi.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Xi.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Xi.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Xi.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Xi.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=fn.data,fn.removeAttr=fn.removeData;var _n,En,kn=gn,Sn={};function Cn(t){return function(e){if(void 0===e&&(e=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var i=0,n=this[0],o=n._private.edges,r=0;r<o.length;r++){var s=o[r];!e&&s.isLoop()||(i+=t(n,s))}return i}}}function Tn(t,e){return function(i){for(var n,o=this.nodes(),r=0;r<o.length;r++){var s=o[r][t](i);void 0===s||void 0!==n&&!e(s,n)||(n=s)}return n}}A(Sn,{degree:Cn(function(t,e){return e.source().same(e.target())?2:1}),indegree:Cn(function(t,e){return e.target().same(t)?1:0}),outdegree:Cn(function(t,e){return e.source().same(t)?1:0})}),A(Sn,{minDegree:Tn("degree",function(t,e){return t<e}),maxDegree:Tn("degree",function(t,e){return t>e}),minIndegree:Tn("indegree",function(t,e){return t<e}),maxIndegree:Tn("indegree",function(t,e){return t>e}),minOutdegree:Tn("outdegree",function(t,e){return t<e}),maxOutdegree:Tn("outdegree",function(t,e){return t>e})}),A(Sn,{totalDegree:function(t){for(var e=0,i=this.nodes(),n=0;n<i.length;n++)e+=i[n].degree(t);return e}});var Mn=function(t,e,i){for(var n=0;n<t.length;n++){var o=t[n];if(!o.locked()){var r=o._private.position,s={x:null!=e.x?e.x-r.x:0,y:null!=e.y?e.y-r.y:0};!o.isParent()||0===s.x&&0===s.y||o.children().shift(s,i),o.shiftCachedBoundingBox(s)}}},Dn={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){Mn(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};(_n=En={position:Xi.data(Dn),silentPosition:Xi.data(A({},Dn,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){Mn(t,e,!0)}})),positions:function(t,e){if(g(t))e?this.silentPosition(t):this.position(t);else if(p(t)){var i=t,n=this.cy();n.startBatch();for(var o=0;o<this.length;o++){var r,s=this[o];(r=i(s,o))&&(e?s.silentPosition(r):s.position(r))}n.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,i){var n;if(g(t)?(n={x:m(t.x)?t.x:0,y:m(t.y)?t.y:0},i=e):c(t)&&m(e)&&((n={x:0,y:0})[t]=e),null!=n){var o=this.cy();o.startBatch();for(var r=0;r<this.length;r++){var s=this[r],a=s.position(),l={x:a.x+n.x,y:a.y+n.y};i?s.silentPosition(l):s.position(l)}o.endBatch()}return this},silentShift:function(t,e){return g(t)?this.shift(t,!0):c(t)&&m(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var i=this[0],n=this.cy(),o=n.zoom(),r=n.pan(),s=g(t)?t:void 0,a=void 0!==s||void 0!==e&&c(t);if(i&&i.isNode()){if(!a){var l=i.position();return s=Jt(l,o,r),void 0===t?s:s[t]}for(var h=0;h<this.length;h++){var d=this[h];void 0!==e?d.position(t,(e-r[t])/o):void 0!==s&&d.position(te(s,o,r))}}else if(!a)return;return this},relativePosition:function(t,e){var i=this[0],n=this.cy(),o=g(t)?t:void 0,r=void 0!==o||void 0!==e&&c(t),s=n.hasCompoundNodes();if(i&&i.isNode()){if(!r){var a=i.position(),l=s?i.parent():null,h=l&&l.length>0;h&&(l=l[0]);var d=h?l.position():{x:0,y:0};return o={x:a.x-d.x,y:a.y-d.y},void 0===t?o:o[t]}for(var u=0;u<this.length;u++){var p=this[u],f=s?p.parent():null,m=f&&f.length>0;m&&(f=f[0]);var v=m?f.position():{x:0,y:0};void 0!==e?p.position(t,e+v[t]):void 0!==o&&p.position({x:o.x+v.x,y:o.y+v.y})}}else if(!r)return;return this}}).modelPosition=_n.point=_n.position,_n.modelPositions=_n.points=_n.positions,_n.renderedPoint=_n.renderedPosition,_n.relativePoint=_n.relativePosition;var On,Pn,In=En;On=Pn={},Pn.renderedBoundingBox=function(t){var e=this.boundingBox(t),i=this.cy(),n=i.zoom(),o=i.pan(),r=e.x1*n+o.x,s=e.x2*n+o.x,a=e.y1*n+o.y,l=e.y2*n+o.y;return{x1:r,x2:s,y1:a,y2:l,w:s-r,h:l-a}},Pn.dirtyCompoundBoundsCache=function(){var t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(t){if(t.isParent()){var e=t._private;e.compoundBoundsClean=!1,e.bbCache=null,t.emitAndNotify("bounds")}}),this):this},Pn.updateCompoundBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function i(t){if(t.isParent()){var e=t._private,i=t.children(),n="include"===t.pstyle("compound-sizing-wrt-labels").value,o={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},r=i.filter(function(t){return"element"===t.pstyle("display").value}).boundingBox({includeLabels:n,includeOverlays:!1,useCache:!1}),s=e.position;0!==r.w&&0!==r.h||((r={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue}).x1=s.x-r.w/2,r.x2=s.x+r.w/2,r.y1=s.y-r.h/2,r.y2=s.y+r.h/2);var a=o.width.left.value;"px"===o.width.left.units&&o.width.val>0&&(a=100*a/o.width.val);var l=o.width.right.value;"px"===o.width.right.units&&o.width.val>0&&(l=100*l/o.width.val);var h=o.height.top.value;"px"===o.height.top.units&&o.height.val>0&&(h=100*h/o.height.val);var d=o.height.bottom.value;"px"===o.height.bottom.units&&o.height.val>0&&(d=100*d/o.height.val);var u=v(o.width.val-r.w,a,l),c=u.biasDiff,p=u.biasComplementDiff,f=v(o.height.val-r.h,h,d),g=f.biasDiff,m=f.biasComplementDiff;e.autoPadding=function(t,e,i,n){if("%"!==i.units)return"px"===i.units?i.pfValue:0;switch(n){case"width":return t>0?i.pfValue*t:0;case"height":return e>0?i.pfValue*e:0;case"average":return t>0&&e>0?i.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?i.pfValue*e:i.pfValue*t:0;case"max":return t>0&&e>0?t>e?i.pfValue*t:i.pfValue*e:0;default:return 0}}(r.w,r.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(r.w,o.width.val),s.x=(-c+r.x1+r.x2+p)/2,e.autoHeight=Math.max(r.h,o.height.val),s.y=(-g+r.y1+r.y2+m)/2}function v(t,e,i){var n=0,o=0,r=e+i;return t>0&&r>0&&(n=e/r*t,o=i/r*t),{biasDiff:n,biasComplementDiff:o}}}for(var n=0;n<this.length;n++){var o=this[n],r=o._private;r.compoundBoundsClean||(i(o),e.batching()||(r.compoundBoundsClean=!0))}return this};var An=function(t){return t===1/0||t===-1/0?0:t},Nn=function(t,e,i,n,o){n-e!=0&&o-i!=0&&null!=e&&null!=i&&null!=n&&null!=o&&(t.x1=e<t.x1?e:t.x1,t.x2=n>t.x2?n:t.x2,t.y1=i<t.y1?i:t.y1,t.y2=o>t.y2?o:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Rn=function(t,e){return null==e?t:Nn(t,e.x1,e.y1,e.x2,e.y2)},Ln=function(t,e,i){return Pt(t,e,i)},zn=function(t,e,i){if(!e.cy().headless()){var n,o,r=e._private,s=r.rstyle,a=s.arrowWidth/2;if("none"!==e.pstyle(i+"-arrow-shape").value){"source"===i?(n=s.srcX,o=s.srcY):"target"===i?(n=s.tgtX,o=s.tgtY):(n=s.midX,o=s.midY);var l=r.arrowBounds=r.arrowBounds||{},h=l[i]=l[i]||{};h.x1=n-a,h.y1=o-a,h.x2=n+a,h.y2=o+a,h.w=h.x2-h.x1,h.h=h.y2-h.y1,fe(h,1),Nn(t,h.x1,h.y1,h.x2,h.y2)}}},Bn=function(t,e,i){if(!e.cy().headless()){var n,o=e._private,r=o.rstyle;if(e.pstyle((n=i?i+"-":"")+"label").strValue){var s,a,l,h,d=e.pstyle("text-halign"),u=e.pstyle("text-valign"),c=Ln(r,"labelWidth",i),p=Ln(r,"labelHeight",i),f=Ln(r,"labelX",i),g=Ln(r,"labelY",i),m=e.pstyle(n+"text-margin-x").pfValue,v=e.pstyle(n+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle(n+"text-rotation"),w=e.pstyle("text-outline-width").pfValue,x=e.pstyle("text-border-width").pfValue/2,_=e.pstyle("text-background-padding").pfValue,E=p,k=c,S=k/2,C=E/2;if(y)s=f-S,a=f+S,l=g-C,h=g+C;else{switch(d.value){case"left":s=f-k,a=f;break;case"center":s=f-S,a=f+S;break;case"right":s=f,a=f+k}switch(u.value){case"top":l=g-E,h=g;break;case"center":l=g-C,h=g+C;break;case"bottom":l=g,h=g+E}}s+=m-Math.max(w,x)-_,a+=m+Math.max(w,x)+_,l+=v-Math.max(w,x)-_,h+=v+Math.max(w,x)+_;var T=i||"main",M=o.labelBounds,D=M[T]=M[T]||{};D.x1=s,D.y1=l,D.x2=a,D.y2=h,D.w=a-s,D.h=h-l,fe(D,1);var O=y&&"autorotate"===b.strValue;if(O||null!=b.pfValue&&0!==b.pfValue){var P=O?Ln(o.rstyle,"labelAngle",i):b.pfValue,I=Math.cos(P),A=Math.sin(P),N=(s+a)/2,R=(l+h)/2;if(!y){switch(d.value){case"left":N=a;break;case"right":N=s}switch(u.value){case"top":R=h;break;case"bottom":R=l}}var L=function(t,e){return{x:(t-=N)*I-(e-=R)*A+N,y:t*A+e*I+R}},z=L(s,l),B=L(s,h),F=L(a,l),j=L(a,h);s=Math.min(z.x,B.x,F.x,j.x),a=Math.max(z.x,B.x,F.x,j.x),l=Math.min(z.y,B.y,F.y,j.y),h=Math.max(z.y,B.y,F.y,j.y)}Nn(t,s,l,a,h),Nn(o.labelBounds.all,s,l,a,h)}return t}},Fn=function(t){var e=0,i=function(t){return(t?1:0)<<e++},n=0;return n+=i(t.incudeNodes),n+=i(t.includeEdges),(n+=i(t.includeLabels))+i(t.includeOverlays)},jn=function(t){if(t.isEdge()){var e=t.source().position(),i=t.target().position(),n=function(t){return Math.round(t)};return ht([n(e.x),n(e.y),n(i.x),n(i.y)])}return 0},Hn=function(t,e){var i,n=t._private,o=(null==e?Wn:Fn(e))===Wn,r=jn(t),s=n.bbCachePosKey===r,a=!(e.useCache&&s)||null==n.bbCache;if(a?(s||t.recalculateRenderedStyle(),i=function(t,e){var i,n,o,r,s,a,l=t._private.cy,h=l.styleEnabled(),d=l.headless(),u=ue(),c=t._private,p=h?t.pstyle("display").value:"element",f=t.isNode(),g=t.isEdge(),m="none"!==p,v=c.rstyle,y=f&&h?t.pstyle("bounds-expansion").pfValue:0;if(m){var b=0;h&&e.includeOverlays&&0!==t.pstyle("overlay-opacity").value&&(b=t.pstyle("overlay-padding").value);var w=0;if(h&&(w=t.pstyle("width").pfValue/2),f&&e.includeNodes){var x=t.position();s=x.x,a=x.y;var _=t.outerWidth()/2,E=t.outerHeight()/2;Nn(u,i=s-_,o=a-E,n=s+_,r=a+E)}else if(g&&e.includeEdges)if(h&&!d&&(i=Math.min(v.srcX,v.midX,v.tgtX),n=Math.max(v.srcX,v.midX,v.tgtX),o=Math.min(v.srcY,v.midY,v.tgtY),r=Math.max(v.srcY,v.midY,v.tgtY),Nn(u,i-=w,o-=w,n+=w,r+=w)),h&&!d&&"haystack"===t.pstyle("curve-style").strValue){var k=v.haystackPts||[];if((i=k[0].x)>(n=k[1].x)){var S=i;i=n,n=S}if((o=k[0].y)>(r=k[1].y)){var C=o;o=r,r=C}Nn(u,i-w,o-w,n+w,r+w)}else{for(var T=v.bezierPts||v.linePts||[],M=0;M<T.length;M++){var D=T[M];Nn(u,i=D.x-w,o=D.y-w,n=D.x+w,r=D.y+w)}if(0===T.length){var O=t.source().position(),P=t.target().position();if((i=O.x)>(n=P.x)){var I=i;i=n,n=I}if((o=O.y)>(r=P.y)){var A=o;o=r,r=A}Nn(u,i-=w,o-=w,n+=w,r+=w)}}if(h&&e.includeEdges&&g&&(zn(u,t,"mid-source"),zn(u,t,"mid-target"),zn(u,t,"source"),zn(u,t,"target")),h&&"yes"===t.pstyle("ghost").value){var N=t.pstyle("ghost-offset-x").pfValue,R=t.pstyle("ghost-offset-y").pfValue;Nn(u,u.x1+N,u.y1+R,u.x2+N,u.y2+R)}var L=c.bodyBounds=c.bodyBounds||{};ge(L,u),fe(L,y),fe(L,1),h&&Nn(u,(i=u.x1)-b,(o=u.y1)-b,(n=u.x2)+b,(r=u.y2)+b);var z=c.overlayBounds=c.overlayBounds||{};ge(z,u),fe(z,y),fe(z,1);var B=c.labelBounds=c.labelBounds||{};null!=B.all?function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0}(B.all):B.all=ue(),h&&e.includeLabels&&(Bn(u,t,null),g&&(Bn(u,t,"source"),Bn(u,t,"target")))}return u.x1=An(u.x1),u.y1=An(u.y1),u.x2=An(u.x2),u.y2=An(u.y2),u.w=An(u.x2-u.x1),u.h=An(u.y2-u.y1),u.w>0&&u.h>0&&m&&(fe(u,y),fe(u,1)),u}(t,Vn),n.bbCache=i,n.bbCacheShift.x=n.bbCacheShift.y=0,n.bbCachePosKey=r):i=n.bbCache,!a&&(0!==n.bbCacheShift.x||0!==n.bbCacheShift.y)){var l=me,h=n.bbCacheShift,d=function(t,e){null!=t&&l(t,e)};l(i,h);var u=n.overlayBounds,c=n.labelBounds,p=n.arrowBounds;d(n.bodyBounds,h),d(u,h),null!=p&&(d(p.source,h),d(p.target,h),d(p["mid-source"],h),d(p["mid-target"],h)),null!=c&&(d(c.main,h),d(c.all,h),d(c.source,h),d(c.target,h))}if(n.bbCacheShift.x=n.bbCacheShift.y=0,!o){var f=t.isNode();i=ue(),(e.includeNodes&&f||e.includeEdges&&!f)&&Rn(i,e.includeOverlays?n.overlayBounds:n.bodyBounds),e.includeLabels&&Rn(i,n.labelBounds.all),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Vn={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},Wn=Fn(Vn),Un=Mt(Vn);Pn.boundingBox=function(t){if(1===this.length&&null!=this[0]._private.bbCache&&(void 0===t||void 0===t.useCache||!0===t.useCache))return t=void 0===t?Vn:Un(t),Hn(this[0],t);var e=ue(),i=Un(t=t||Vn);if(this.cy().styleEnabled())for(var n=0;n<this.length;n++){var o=this[n],r=o._private,s=jn(o);o.recalculateRenderedStyle(i.useCache&&r.bbCachePosKey===s)}this.updateCompoundBounds();for(var a=0;a<this.length;a++)Rn(e,Hn(this[a],i));return e.x1=An(e.x1),e.y1=An(e.y1),e.x2=An(e.x2),e.y2=An(e.y2),e.w=An(e.x2-e.x1),e.h=An(e.y2-e.y1),e},Pn.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCacheShift.x=e.bbCacheShift.y=0,e.bbCachePosKey=null}return this.emitAndNotify("bounds"),this},Pn.shiftCachedBoundingBox=function(t){for(var e=0;e<this.length;e++){var i=this[e]._private;null!=i.bbCache&&(i.bbCacheShift.x+=t.x,i.bbCacheShift.y+=t.y)}return this.emitAndNotify("bounds"),this},Pn.boundingBoxAt=function(t){var e=this.nodes(),i=this.cy(),n=i.hasCompoundNodes();if(n&&(e=e.filter(function(t){return!t.isParent()})),g(t)){var o=t;t=function(){return o}}i.startBatch(),e.forEach(function(e,i){return e._private.bbAtOldPos=t(e,i)}).silentPositions(t),n&&this.updateCompoundBounds(!0);var r=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}}(this.boundingBox({useCache:!1}));return e.silentPositions(function(t){return t._private.bbAtOldPos}),i.endBatch(),r},On.boundingbox=On.bb=On.boundingBox,On.renderedBoundingbox=On.renderedBoundingBox;var Yn,Gn,qn=Pn;Yn=Gn={};var Xn=function(t){t.uppercaseName=O(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=O(t.outerName),Yn[t.name]=function(){var e=this[0],i=e._private;if(e){if(!i.cy._private.styleEnabled)return 1;if(e.isParent())return e.updateCompoundBounds(),i[t.autoName]||0;var n=e.pstyle(t.name);switch(n.strValue){case"label":return e.recalculateRenderedStyle(),i.rstyle[t.labelName]||0;default:return n.pfValue}}},Yn["outer"+t.uppercaseName]=function(){var e=this[0];if(e)return e._private.cy._private.styleEnabled?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},Yn["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},Yn["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};Xn({name:"width"}),Xn({name:"height"}),Gn.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};var $n=Gn,Kn={controlPoints:{get:function(t){return t.renderer().getControlPoints(t)},mult:!0},segmentPoints:{get:function(t){return t.renderer().getSegmentPoints(t)},mult:!0},sourceEndpoint:{get:function(t){return t.renderer().getSourceEndpoint(t)}},targetEndpoint:{get:function(t){return t.renderer().getTargetEndpoint(t)}},midpoint:{get:function(t){return t.renderer().getEdgeMidpoint(t)}}},Zn=Object.keys(Kn).reduce(function(t,e){var i=Kn[e],n=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)}(e);return t[e]=function(){return function(t,e){if(t.isEdge())return e(t)}(this,i.get)},t[n]=i.mult?function(){return function(t,e){if(t.isEdge()){var i=t.cy(),n=i.pan(),o=i.zoom();return e(t).map(function(t){return Jt(t,o,n)})}}(this,i.get)}:function(){return function(t,e){if(t.isEdge()){var i=t.cy();return Jt(e(t),i.zoom(),i.pan())}}(this,i.get)},t},{}),Qn=A({},In,qn,$n,Zn),Jn=function(t,e){this.recycle(t,e)};function to(){return!1}function eo(){return!0}Jn.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=to,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?eo:to):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var i=this.position,n=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:i.x*n+o.x,y:i.y*n+o.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=eo;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=eo;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=eo,this.stopPropagation()},isDefaultPrevented:to,isPropagationStopped:to,isImmediatePropagationStopped:to};var io=/^([^.]+)(\.(?:[^.]+))?$/,no={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},oo=Object.keys(no),ro={};function so(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro,e=arguments.length>1?arguments[1]:void 0,i=0;i<oo.length;i++){var n=oo[i];this[n]=t[n]||no[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ao=so.prototype,lo=function(t,e,i,n,o,r,s){p(n)&&(o=n,n=null),s&&(r=null==r?s:A({},r,s));for(var a=f(i)?i:i.split(/\s+/),l=0;l<a.length;l++){var h=a[l];if(!E(h)){var d=h.match(io);if(d&&!1===e(t,h,d[1],d[2]?d[2]:null,n,o,r))break}}},ho=function(t,e){return t.addEventFields(t.context,e),new Jn(e.type,e)};ao.on=ao.addListener=function(t,e,i,n,o){return lo(this,function(t,e,i,n,o,r,s){p(r)&&t.listeners.push({event:e,callback:r,type:i,namespace:n,qualifier:o,conf:s})},t,e,i,n,o),this},ao.one=function(t,e,i,n){return this.on(t,e,i,n,{one:!0})},ao.removeListener=ao.off=function(t,e,i,n){var o=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var r=this.listeners,s=function(s){var a=r[s];lo(o,function(e,i,n,o,l,h){if((a.type===n||"*"===t)&&(!o&&".*"!==a.namespace||a.namespace===o)&&(!l||e.qualifierCompare(a.qualifier,l))&&(!h||a.callback===h))return r.splice(s,1),!1},t,e,i,n)},a=r.length-1;a>=0;a--)s(a);return this},ao.removeAllListeners=function(){return this.removeListener("*")},ao.emit=ao.trigger=function(t,e,i){var n=this.listeners,o=n.length;return this.emitting++,f(e)||(e=[e]),function(t,e,i){if("event"!==u(i))if(g(i))e(t,ho(t,i));else for(var n=f(i)?i:i.split(/\s+/),o=0;o<n.length;o++){var r=n[o];if(!E(r)){var s=r.match(io);s&&e(t,ho(t,{type:s[1],namespace:s[2]?s[2]:null,target:t.context}))}}else e(t,i)}(this,function(t,r){null!=i&&(o=(n=[{event:r.event,type:r.type,namespace:r.namespace,callback:i}]).length);for(var s=function(i){var o=n[i];if(o.type===r.type&&(!o.namespace||o.namespace===r.namespace||".*"===o.namespace)&&t.eventMatches(t.context,o,r)){var s=[r];null!=e&&function(t,e){for(var i=0;i<e.length;i++)t.push(e[i])}(s,e),t.beforeEmit(t.context,o,r),o.conf&&o.conf.one&&(t.listeners=t.listeners.filter(function(t){return t!==o}));var a=t.callbackContext(t.context,o,r),l=o.callback.apply(a,s);t.afterEmit(t.context,o,r),!1===l&&(r.stopPropagation(),r.preventDefault())}},a=0;a<o;a++)s(a);t.bubble(t.context)&&!r.isPropagationStopped()&&t.parent(t.context).emit(r,e)},t),this.emitting--,this};var uo={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,i){var n=e.qualifier;return null==n||t!==i.target&&b(i.target)&&n.matches(i.target)},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,i){return null!=e.qualifier?i.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},co=function(t){return c(t)?new un(t):t},po={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],i=e._private;i.emitter||(i.emitter=new so(uo,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,i){for(var n=co(e),o=0;o<this.length;o++)this[o].emitter().on(t,n,i);return this},removeListener:function(t,e,i){for(var n=co(e),o=0;o<this.length;o++)this[o].emitter().removeListener(t,n,i);return this},removeAllListeners:function(){for(var t=0;t<this.length;t++)this[t].emitter().removeAllListeners();return this},one:function(t,e,i){for(var n=co(e),o=0;o<this.length;o++)this[o].emitter().one(t,n,i);return this},once:function(t,e,i){for(var n=co(e),o=0;o<this.length;o++)this[o].emitter().on(t,n,i,{once:!0,onceCollection:this})},emit:function(t,e){for(var i=0;i<this.length;i++)this[i].emitter().emit(t,e);return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify(t,this),this.emit(t,e),this}};Xi.eventAliasesOn(po);var fo={nodes:function(t){return this.filter(function(t){return t.isNode()}).filter(t)},edges:function(t){return this.filter(function(t){return t.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),i=0;i<this.length;i++){var n=this[i];n.isNode()?t.merge(n):e.merge(n)}return{nodes:t,edges:e}},filter:function(t,e){if(void 0===t)return this;if(c(t)||y(t))return new un(t).filter(this);if(p(t)){for(var i=this.spawn(),n=0;n<this.length;n++){var o=this[n];(e?t.apply(e,[o,n,this]):t(o,n,this))&&i.merge(o)}return i}return this.spawn()},not:function(t){if(t){c(t)&&(t=this.filter(t));for(var e=[],i=t._private.map,n=0;n<this.length;n++){var o=this[n];i.has(o.id())||e.push(o)}return this.spawn(e)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if(c(t))return this.filter(t);for(var e=[],i=this.length<t.length,n=i?t._private.map:this._private.map,o=i?this:t,r=0;r<o.length;r++){var s=n.get(o[r]._private.data.id);s&&e.push(s.ele)}return this.spawn(e)},xor:function(t){var e=this._private.cy;c(t)&&(t=e.$(t));var i=[],n=t,o=function(t,e){for(var n=0;n<t.length;n++){var o=t[n];e.hasElementWithId(o._private.data.id)||i.push(o)}};return o(this,n),o(n,this),this.spawn(i)},diff:function(t){var e=this._private.cy;c(t)&&(t=e.$(t));var i=[],n=[],o=[],r=t,s=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];e.hasElementWithId(r._private.data.id)?o.push(r):i.push(r)}};return s(this,r,i),s(r,this,n),{left:this.spawn(i,{unique:!0}),right:this.spawn(n,{unique:!0}),both:this.spawn(o,{unique:!0})}},add:function(t){var e=this._private.cy;if(!t)return this;if(c(t)){var i=t;t=e.mutableElements().filter(i)}for(var n=[],o=0;o<this.length;o++)n.push(this[o]);for(var r=this._private.map,s=0;s<t.length;s++)!r.has(t[s].id())&&n.push(t[s]);return this.spawn(n)},merge:function(t){var e=this._private,i=e.cy;if(!t)return this;if(t&&c(t)){var n=t;t=i.mutableElements().filter(n)}for(var o=e.map,r=0;r<t.length;r++){var s=t[r],a=s._private.data.id;if(o.has(a)){var l=o.get(a).index;this[l]=s,o.set(a,{ele:s,index:l})}else{var h=this.length++;this[h]=s,o.set(a,{ele:s,index:h})}}return this},unmergeAt:function(t){var e=this[t].id(),i=this._private.map;if(this[t]=void 0,i.delete(e),this.length>1&&t!==this.length-1){var n=this.length-1,o=this[n],r=o._private.data.id;this[n]=void 0,this[t]=o,i.set(r,{ele:o,index:t})}return this.length--,this},unmergeOne:function(t){var e=(t=t[0])._private.data.id,i=this._private.map.get(e);return i?(this.unmergeAt(i.index),this):this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&c(t)){var i=t;t=e.mutableElements().filter(i)}for(var n=0;n<t.length;n++)this.unmergeOne(t[n]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--)t(this[e])&&this.unmergeAt(e);return this},map:function(t,e){for(var i=[],n=0;n<this.length;n++){var o=this[n],r=e?t.apply(e,[o,n,this]):t(o,n,this);i.push(r)}return i},reduce:function(t,e){for(var i=e,n=0;n<this.length;n++)i=t(i,this[n],n,this);return i},max:function(t,e){for(var i,n=-1/0,o=0;o<this.length;o++){var r=this[o],s=e?t.apply(e,[r,o,this]):t(r,o,this);s>n&&(n=s,i=r)}return{value:n,ele:i}},min:function(t,e){for(var i,n=1/0,o=0;o<this.length;o++){var r=this[o],s=e?t.apply(e,[r,o,this]):t(r,o,this);s<n&&(n=s,i=r)}return{value:n,ele:i}}},go=fo;go.u=go["|"]=go["+"]=go.union=go.or=go.add,go["\\"]=go["!"]=go["-"]=go.difference=go.relativeComplement=go.subtract=go.not,go.n=go["&"]=go["."]=go.and=go.intersection=go.intersect,go["^"]=go["(+)"]=go["(-)"]=go.symmetricDifference=go.symdiff=go.xor,go.fnFilter=go.filterFn=go.stdFilter=go.filter,go.complement=go.abscomp=go.absoluteComplement;var mo=function(t,e){var i=t.cy().hasCompoundNodes();function n(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?i?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?mt:0}var o=n(t)-n(e);if(0!==o)return o;function r(t){return"auto"===t.pstyle("z-index-compare").value&&t.isNode()?1:0}var s=r(t)-r(e);if(0!==s)return s;var a=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==a?a:t.poolIndex()-e.poolIndex()},vo={forEach:function(t,e){if(p(t))for(var i=this.length,n=0;n<i;n++){var o=this[n];if(!1===(e?t.apply(e,[o,n,this]):t(o,n,this)))break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var i=[],n=this.length;null==e&&(e=n),null==t&&(t=0),t<0&&(t=n+t),e<0&&(e=n+e);for(var o=t;o>=0&&o<e&&o<n;o++)i.push(this[o]);return this.spawn(i)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!p(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(mo)},zDepth:function(){var t=this[0];if(t){var e=t._private;if("nodes"===e.group){var i=e.data.parent?t.parents().size():0;return t.isParent()?i:mt-1}var n=e.target,o=e.source.zDepth(),r=n.zDepth();return Math.max(o,r,0)}}};vo.each=vo.forEach;var yo=Mt({nodeDimensionsIncludeLabels:!1}),bo={layoutDimensions:function(t){if((t=yo(t)).nodeDimensionsIncludeLabels){var e=this.boundingBox();return{w:e.w,h:e.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(t,e,i){var n=this.nodes(),o=this.cy(),r=e.eles,s=function(t){return t.id()},a=C(i,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var l=e.spacingFactor&&1!==e.spacingFactor,h=function(){if(!l)return null;for(var t=ue(),e=0;e<n.length;e++){var i=a(n[e],e);pe(t,i.x,i.y)}return t}(),d=C(function(t,i){var n=a(t,i);return l&&(n=function(t,e,i){var n=h.x1+h.w/2,o=h.y1+h.h/2;return{x:n+(i.x-n)*t,y:o+(i.y-o)*t}}(Math.abs(e.spacingFactor),0,n)),null!=e.transform&&(n=e.transform(t,n)),n},s);if(e.animate){for(var u=0;u<n.length;u++){var c=n[u],p=d(c,u);if(null==e.animateFilter||e.animateFilter(c,u)){var f=c.animation({position:p,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(f)}else c.position(p)}if(e.fit){var g=o.animation({fit:{boundingBox:r.boundingBoxAt(d),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(g)}else if(void 0!==e.zoom&&void 0!==e.pan){var m=o.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(m)}t.animations.forEach(function(t){return t.play()}),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),Yi.all(t.animations.map(function(t){return t.promise()})).then(function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})})}else n.positions(d),e.fit&&o.fit(e.eles,e.padding),null!=e.zoom&&o.zoom(e.zoom),e.pan&&o.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(A({},t,{eles:this}))}};function wo(t,e,i){var n,o=i._private,r=o.styleCache=o.styleCache||[];return null!=(n=r[t])?n:n=r[t]=e(i)}function xo(t,e){return t=dt(t),function(i){return wo(t,e,i)}}function _o(t,e){t=dt(t);var i=function(t){return e.call(t)};return function(){var e=this[0];if(e)return wo(t,i,e)}}bo.createLayout=bo.makeLayout=bo.layout;var Eo={recalculateRenderedStyle:function(t){var e=this.cy(),i=e.renderer(),n=e.styleEnabled();return i&&n&&i.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t,e=this.cy(),i=function(t){return t._private.styleCache=null};return e.hasCompoundNodes()?((t=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(t.connectedEdges()),t.forEach(i)):this.forEach(function(t){i(t),t.connectedEdges().forEach(i)}),this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching())return e._private.batchStyleEles.merge(this),this;var i=e.hasCompoundNodes(),n=e.style(),o=this;t=!(!t&&void 0!==t),i&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n.apply(o);return t?r.emitAndNotify("style"):r.emit("style"),this},parsedStyle:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this[0],n=i.cy();if(n.styleEnabled()&&i){var o=i._private.style[t];return null!=o?o:e?n.style().getDefaultProperty(t):null}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var i=e.pstyle(t);return void 0!==i.pfValue?i.pfValue:i.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var i=this[0];return i?e.style().getRenderedStyle(i,t):void 0},style:function(t,e){var i=this.cy();if(!i.styleEnabled())return this;var n=i.style();if(g(t))n.applyBypass(this,t,!1),this.emitAndNotify("style");else if(c(t)){if(void 0===e){var o=this[0];return o?n.getStylePropertyValue(o,t):void 0}n.applyBypass(this,t,e,!1),this.emitAndNotify("style")}else if(void 0===t){var r=this[0];return r?n.getRawStyle(r):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var i=e.style();if(void 0===t)for(var n=0;n<this.length;n++)i.removeAllBypasses(this[n],!1);else{t=t.split(/\s+/);for(var o=0;o<this.length;o++)i.removeBypasses(this[o],t,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),i=this[0];if(i){var n=i._private,o=i.pstyle("opacity").value;if(!e)return o;var r=n.data.parent?i.parents():null;if(r)for(var s=0;s<r.length;s++)o*=r[s].pstyle("opacity").value;return o}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function ko(t,e){var i=t._private.data.parent?t.parents():null;if(i)for(var n=0;n<i.length;n++)if(!e(i[n]))return!1;return!0}function So(t){var e=t.ok,i=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var o=this[0],r=t.hasCompoundNodes();if(o){var s=o._private;if(!e(o))return!1;if(o.isNode())return!r||ko(o,n);var a=s.source,l=s.target;return i(a)&&(!r||ko(a,i))&&(a===l||i(l)&&(!r||ko(l,i)))}}}var Co=xo("eleTakesUpSpace",function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())});Eo.takesUpSpace=_o("takesUpSpace",So({ok:Co}));var To=xo("eleInteractive",function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&Co(t)}),Mo=xo("parentInteractive",function(t){return"visible"===t.pstyle("visibility").value&&Co(t)});Eo.interactive=_o("interactive",So({ok:To,parentOk:Mo,edgeOkViaNode:Co})),Eo.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var Do=xo("eleVisible",function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&Co(t)});Eo.visible=_o("visible",So({ok:Do,edgeOkViaNode:Co})),Eo.hidden=function(){var t=this[0];if(t)return!t.visible()},Eo.isBundledBezier=_o("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),Eo.bypass=Eo.css=Eo.style,Eo.renderedCss=Eo.renderedStyle,Eo.removeBypass=Eo.removeCss=Eo.removeStyle,Eo.pstyle=Eo.parsedStyle;var Oo={};function Po(t){return function(){var e=arguments,i=[];if(2===e.length){var n=e[0],o=e[1];this.on(t.event,n,o)}else if(1===e.length&&p(e[0])){var r=e[0];this.on(t.event,r)}else if(0===e.length||1===e.length&&f(e[0])){for(var s=1===e.length?e[0]:null,a=0;a<this.length;a++){var l=this[a],h=!t.ableField||l._private[t.ableField],d=l._private[t.field]!=t.value;if(t.overrideAble){var u=t.overrideAble(l);if(void 0!==u&&(h=u,!u))return this}h&&(l._private[t.field]=t.value,d&&i.push(l))}var c=this.spawn(i);c.updateStyle(),c.emit(t.event),s&&c.emit(s)}return this}}function Io(t){Oo[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var i=t.overrideField(e);if(void 0!==i)return i}return e._private[t.field]}},Oo[t.on]=Po({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Oo[t.off]=Po({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Io({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),Io({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&!t.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Io({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Io({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Oo.deselect=Oo.unselect,Oo.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},Io({field:"active",on:"activate",off:"unactivate"}),Io({field:"pannable",on:"panify",off:"unpanify"}),Oo.inactive=function(){var t=this[0];if(t)return!t._private.active};var Ao={},No=function(t){return function(e){for(var i=[],n=0;n<this.length;n++){var o=this[n];if(o.isNode()){for(var r=!1,s=o.connectedEdges(),a=0;a<s.length;a++){var l=s[a],h=l.source(),d=l.target();if(t.noIncomingEdges&&d===o&&h!==o||t.noOutgoingEdges&&h===o&&d!==o){r=!0;break}}r||i.push(o)}}return this.spawn(i,{unique:!0}).filter(e)}},Ro=function(t){return function(e){for(var i=[],n=0;n<this.length;n++){var o=this[n];if(o.isNode())for(var r=o.connectedEdges(),s=0;s<r.length;s++){var a=r[s],l=a.source(),h=a.target();t.outgoing&&l===o?(i.push(a),i.push(h)):t.incoming&&h===o&&(i.push(a),i.push(l))}}return this.spawn(i,{unique:!0}).filter(e)}},Lo=function(t){return function(e){for(var i=this,n=[],o={};;){var r=t.outgoing?i.outgoers():i.incomers();if(0===r.length)break;for(var s=!1,a=0;a<r.length;a++){var l=r[a],h=l.id();o[h]||(o[h]=!0,n.push(l),s=!0)}if(!s)break;i=r}return this.spawn(n,{unique:!0}).filter(e)}};function zo(t){return function(e){for(var i=[],n=0;n<this.length;n++){var o=this[n]._private[t.attr];o&&i.push(o)}return this.spawn(i,{unique:!0}).filter(e)}}function Bo(t){return function(e){var i=[],n=this._private.cy,o=t||{};c(e)&&(e=n.$(e));for(var r=0;r<e.length;r++)for(var s=e[r]._private.edges,a=0;a<s.length;a++){var l=s[a],h=l._private.data,d=this.hasElementWithId(h.source)&&e.hasElementWithId(h.target),u=e.hasElementWithId(h.source)&&this.hasElementWithId(h.target);if(d||u){if(o.thisIsSrc||o.thisIsTgt){if(o.thisIsSrc&&!d)continue;if(o.thisIsTgt&&!u)continue}i.push(l)}}return this.spawn(i,{unique:!0})}}function Fo(t){return t=A({},{codirected:!1},t),function(e){for(var i=[],n=this.edges(),o=t,r=0;r<n.length;r++)for(var s=n[r]._private,a=s.source,l=a._private.data.id,h=s.data.target,d=a._private.edges,u=0;u<d.length;u++){var c=d[u],p=c._private.data,f=p.target,g=p.source,m=f===h&&g===l;(o.codirected&&m||!o.codirected&&(m||l===f&&h===g))&&i.push(c)}return this.spawn(i,{unique:!0}).filter(e)}}Ao.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},A(Ao,{roots:No({noIncomingEdges:!0}),leaves:No({noOutgoingEdges:!0}),outgoers:mn(Ro({outgoing:!0}),"outgoers"),successors:Lo({outgoing:!0}),incomers:mn(Ro({incoming:!0}),"incomers"),predecessors:Lo({incoming:!0})}),A(Ao,{neighborhood:mn(function(t){for(var e=[],i=this.nodes(),n=0;n<i.length;n++)for(var o=i[n],r=o.connectedEdges(),s=0;s<r.length;s++){var a=r[s],l=a.source(),h=a.target(),d=o===l?h:l;d.length>0&&e.push(d[0]),e.push(a[0])}return this.spawn(e,{unique:!0}).filter(t)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),Ao.neighbourhood=Ao.neighborhood,Ao.closedNeighbourhood=Ao.closedNeighborhood,Ao.openNeighbourhood=Ao.openNeighborhood,A(Ao,{source:mn(function(t){var e,i=this[0];return i&&(e=i._private.source||i.cy().collection()),e&&t?e.filter(t):e},"source"),target:mn(function(t){var e,i=this[0];return i&&(e=i._private.target||i.cy().collection()),e&&t?e.filter(t):e},"target"),sources:zo({attr:"source"}),targets:zo({attr:"target"})}),A(Ao,{edgesWith:mn(Bo(),"edgesWith"),edgesTo:mn(Bo({thisIsSrc:!0}),"edgesTo")}),A(Ao,{connectedEdges:mn(function(t){for(var e=[],i=0;i<this.length;i++){var n=this[i];if(n.isNode())for(var o=n._private.edges,r=0;r<o.length;r++)e.push(o[r])}return this.spawn(e,{unique:!0}).filter(t)},"connectedEdges"),connectedNodes:mn(function(t){for(var e=[],i=0;i<this.length;i++){var n=this[i];n.isEdge()&&(e.push(n.source()[0]),e.push(n.target()[0]))}return this.spawn(e,{unique:!0}).filter(t)},"connectedNodes"),parallelEdges:mn(Fo(),"parallelEdges"),codirectedEdges:mn(Fo({codirected:!0}),"codirectedEdges")}),A(Ao,{components:function(t){var e=this,i=e.cy(),n=i.collection(),o=null==t?e.nodes():t.nodes(),r=[];null!=t&&o.empty()&&(o=t.sources());var s=function(t,e){n.merge(t),o.unmerge(t),e.merge(t)};if(o.empty())return e.spawn();var a=function(){var t=i.collection();r.push(t);var n=o[0];s(n,t),e.bfs({directed:!1,roots:n,visit:function(e){return s(e,t)}}),t.forEach(function(e){e.connectedEdges().forEach(function(e){t.has(e.source())&&t.has(e.target())&&t.merge(e)})})};do{a()}while(o.length>0);return r},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}}),Ao.componentsOf=Ao.components;var jo=function(t,e,i){for(var n=null!=i?i:St();t.hasElementWithId(n);)n=St();return n},Ho=function(t,e,i){if(void 0!==t&&x(t)){var n=new At,o=!1;if(e){if(e.length>0&&g(e[0])&&!b(e[0])){o=!0;for(var r=[],s=new Rt,a=0,l=e.length;a<l;a++){var h=e[a];null==h.data&&(h.data={});var d=h.data;if(null==d.id)d.id=jo(t);else if(t.hasElementWithId(d.id)||s.has(d.id))continue;var u=new Lt(t,h,!1);r.push(u),s.add(d.id)}e=r}}else e=[];this.length=0;for(var c=0,p=e.length;c<p;c++){var f=e[c][0];if(null!=f){var m=f._private.data.id;(null==i||i.unique&&!n.has(m))&&(n.set(m,{index:this.length,ele:f}),this[this.length]=f,this.length++)}}this._private={cy:t,map:n},o&&this.restore()}else xt("A collection must have a reference to the core")},Vo=Lt.prototype=Ho.prototype;Vo.instanceString=function(){return"collection"},Vo.spawn=function(t,e,i){return x(t)||(i=e,e=t,t=this.cy()),new Ho(t,e,i)},Vo.spawnSelf=function(){return this.spawn(this)},Vo.cy=function(){return this._private.cy},Vo.renderer=function(){return this._private.cy.renderer()},Vo.element=function(){return this[0]},Vo.collection=function(){return w(this)?this:new Ho(this._private.cy,[this])},Vo.unique=function(){return new Ho(this._private.cy,this,{unique:!0})},Vo.hasElementWithId=function(t){return this._private.map.has(t=""+t)},Vo.getElementById=function(t){var e=this._private.cy,i=this._private.map.get(t=""+t);return i?i.ele:new Ho(e)},Vo.$id=Vo.getElementById,Vo.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Vo.indexOf=function(t){return this._private.map.get(t[0]._private.data.id).index},Vo.indexOfId=function(t){return this._private.map.get(t=""+t).index},Vo.json=function(t){var e=this.element(),i=this.cy();if(null==e&&t)return this;if(null!=e){var n=e._private;if(g(t)){if(i.startBatch(),t.data){e.data(t.data);var o=n.data;if(e.isEdge()){var r=!1,s={},a=t.data.source,l=t.data.target;null!=a&&a!=o.source&&(s.source=""+a,r=!0),null!=l&&l!=o.target&&(s.target=""+l,r=!0),r&&(e=e.move(s))}else{var h=t.data.parent;null==h&&null==o.parent||h==o.parent||(void 0===h&&(h=null),null!=h&&(h=""+h),e=e.move({parent:h}))}}t.position&&e.position(t.position);var d=function(i,o,r){var s=t[i];null!=s&&s!==n[i]&&(s?e[o]():e[r]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),null!=t.classes&&e.classes(t.classes),i.endBatch(),this}if(void 0===t){var u={data:kt(n.data),position:kt(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:""},c=0;return n.classes.forEach(function(t){return u.classes+=0==c++?t:" "+t}),u}}},Vo.jsons=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e].json();t.push(i)}return t},Vo.clone=function(){for(var t=this.cy(),e=[],i=0;i<this.length;i++){var n=this[i].json(),o=new Lt(t,n,!1);e.push(o)}return new Ho(t,e)},Vo.copy=Vo.clone,Vo.restore=function(){for(var t,e,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.cy(),r=o._private,s=[],a=[],l=0,h=this.length;l<h;l++){var d=this[l];n&&!d.removed()||(d.isNode()?s.push(d):a.push(d))}t=s.concat(a);var u=function(){t.splice(e,1),e--};for(e=0;e<t.length;e++){var p=t[e],f=p._private,g=f.data;if(p.clearTraversalCache(),n||f.removed)if(void 0===g.id)g.id=jo(o);else if(m(g.id))g.id=""+g.id;else{if(E(g.id)||!c(g.id)){xt("Can not create element with invalid string ID `"+g.id+"`"),u();continue}if(o.hasElementWithId(g.id)){xt("Can not create second element with ID `"+g.id+"`"),u();continue}}var v=g.id;if(p.isNode()){var y=f.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(p.isEdge()){for(var b=p,w=["source","target"],x=w.length,_=!1,k=0;k<x;k++){var S=w[k],C=g[S];m(C)&&(C=g[S]=""+g[S]),null==C||""===C?(xt("Can not create edge `"+v+"` with unspecified "+S),_=!0):o.hasElementWithId(C)||(xt("Can not create edge `"+v+"` with nonexistant "+S+" `"+C+"`"),_=!0)}if(_){u();continue}var T=o.getElementById(g.source),M=o.getElementById(g.target);T.same(M)?T._private.edges.push(b):(T._private.edges.push(b),M._private.edges.push(b)),b._private.source=T,b._private.target=M}f.map=new At,f.map.set(v,{ele:p,index:0}),f.removed=!1,n&&o.addToPool(p)}for(var D=0;D<s.length;D++){var O=s[D],P=O._private.data;m(P.parent)&&(P.parent=""+P.parent);var I=P.parent;if(null!=I){var A=o.getElementById(I);if(A.empty())P.parent=void 0;else{for(var N=!1,R=A;!R.empty();){if(O.same(R)){N=!0,P.parent=void 0;break}R=R.parent()}N||(A[0]._private.children.push(O),O._private.parent=A[0],r.hasCompoundNodes=!0)}}}if(t.length>0){for(var L=new Ho(o,t),z=0;z<L.length;z++){var B=L[z];B.isNode()||(B.parallelEdges().clearTraversalCache(),B.source().clearTraversalCache(),B.target().clearTraversalCache())}(r.hasCompoundNodes?o.collection().merge(L).merge(L.connectedNodes()).merge(L.parent()):L).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(i),i?L.emitAndNotify("add"):n&&L.emit("add")}return this},Vo.removed=function(){var t=this[0];return t&&t._private.removed},Vo.inside=function(){var t=this[0];return t&&!t._private.removed},Vo.remove=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=[],n={},o=this._private.cy;function r(t){var o=n[t.id()];e&&t.removed()||o||(n[t.id()]=!0,t.isNode()?(i.push(t),function(t){for(var e=t._private.edges,i=0;i<e.length;i++)r(e[i])}(t),function(t){for(var e=t._private.children,i=0;i<e.length;i++)r(e[i])}(t)):i.unshift(t))}for(var s=0,a=this.length;s<a;s++)r(this[s]);function l(t,e){Dt(t._private.edges,e),t.clearTraversalCache()}function h(t){t.clearTraversalCache()}var d=[];function u(t,e){e=e[0];var i=(t=t[0])._private.children,n=t.id();Dt(i,e),e._private.parent=null,d.ids[n]||(d.ids[n]=!0,d.push(t))}d.ids={},this.dirtyCompoundBoundsCache(),e&&o.removeFromPool(i);for(var c=0;c<i.length;c++){var p=i[c];if(p.isEdge()){var f=p.source()[0],g=p.target()[0];l(f,p),l(g,p);for(var m=p.parallelEdges(),v=0;v<m.length;v++){var y=m[v];h(y),y.isBundledBezier()&&y.dirtyBoundingBoxCache()}}else{var b=p.parent();0!==b.length&&u(b,p)}e&&(p._private.removed=!0)}var w=o._private.elements;o._private.hasCompoundNodes=!1;for(var x=0;x<w.length;x++)if(w[x].isParent()){o._private.hasCompoundNodes=!0;break}var _=new Ho(this.cy(),i);_.size()>0&&(t?_.emitAndNotify("remove"):e&&_.emit("remove"));for(var E=0;E<d.length;E++){var k=d[E];e&&k.removed()||k.updateStyle()}return _},Vo.move=function(t){var e=this._private.cy,i=this,n=function(t){return null==t?t:""+t};if(void 0!==t.source||void 0!==t.target){var o=n(t.source),r=n(t.target),s=null!=o&&e.hasElementWithId(o),a=null!=r&&e.hasElementWithId(r);(s||a)&&(e.batch(function(){i.remove(!1,!1),i.emitAndNotify("moveout");for(var t=0;t<i.length;t++){var e=i[t],n=e._private.data;e.isEdge()&&(s&&(n.source=o),a&&(n.target=r))}i.restore(!1,!1)}),i.emitAndNotify("move"))}else if(void 0!==t.parent){var l=n(t.parent);if(null===l||e.hasElementWithId(l)){var h=null===l?void 0:l;e.batch(function(){var t=i.remove(!1,!1);t.emitAndNotify("moveout");for(var e=0;e<i.length;e++){var n=i[e],o=n._private.data;n.isNode()&&(o.parent=h)}t.restore(!1,!1)}),i.emitAndNotify("move")}}return this},[Bi,$i,Ki,pn,vn,kn,Sn,Qn,po,fo,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},vo,bo,Eo,Oo,Ao].forEach(function(t){A(Vo,t)});var Wo={add:function(t){var e,i=this;if(y(t)){var n=t;if(n._private.cy===i)e=n.restore();else{for(var o=[],r=0;r<n.length;r++)o.push(n[r].json());e=new Ho(i,o)}}else if(f(t))e=new Ho(i,t);else if(g(t)&&(f(t.nodes)||f(t.edges))){for(var s=t,a=[],l=["nodes","edges"],h=0,d=l.length;h<d;h++){var u=l[h],c=s[u];if(f(c))for(var p=0,m=c.length;p<m;p++){var v=A({group:u},c[p]);a.push(v)}}e=new Ho(i,a)}else e=new Lt(i,t).collection();return e},remove:function(t){return y(t)||c(t)&&(t=this.$(t)),t.remove()}},Uo=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,i,n){var o={x:e.x+n.dx*i,v:e.v+n.dv*i,tension:e.tension,friction:e.friction};return{dx:o.v,dv:t(o)}}function i(i,n){var o={dx:i.v,dv:t(i)},r=e(i,.5*n,o),s=e(i,.5*n,r),a=e(i,n,s),l=1/6*(o.dv+2*(r.dv+s.dv)+a.dv);return i.x=i.x+1/6*(o.dx+2*(r.dx+s.dx)+a.dx)*n,i.v=i.v+l*n,i}return function t(e,n,o){var r,s,a,l={x:-1,v:0,tension:null,friction:null},h=[0],d=0;for(e=parseFloat(e)||500,n=parseFloat(n)||20,o=o||null,l.tension=e,l.friction=n,s=(r=null!==o)?(d=t(e,n))/o*.016:.016;a=i(a||l,s),h.push(1+a.x),d+=16,Math.abs(a.x)>1e-4&&Math.abs(a.v)>1e-4;);return r?function(t){return h[t*(h.length-1)|0]}:d}}(),Yo=function(t,e,i,n){var o=function(t,e,i,n){var o=4,r=.001,s=1e-7,a=10,l=11,h=1/(l-1),d="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var u=0;u<4;++u)if("number"!=typeof arguments[u]||isNaN(arguments[u])||!isFinite(arguments[u]))return!1;t=Math.min(t,1),i=Math.min(i,1),t=Math.max(t,0),i=Math.max(i,0);var c=d?new Float32Array(l):new Array(l);function p(t,e){return 1-3*e+3*t}function f(t,e){return 3*e-6*t}function g(t){return 3*t}function m(t,e,i){return((p(e,i)*t+f(e,i))*t+g(e))*t}function v(t,e,i){return 3*p(e,i)*t*t+2*f(e,i)*t+g(e)}function y(e){for(var n=0,d=1,u=l-1;d!==u&&c[d]<=e;++d)n+=h;var p=n+(e-c[--d])/(c[d+1]-c[d])*h,f=v(p,t,i);return f>=r?function(e,n){for(var r=0;r<o;++r){var s=v(n,t,i);if(0===s)return n;n-=(m(n,t,i)-e)/s}return n}(e,p):0===f?p:function(e,n,o){var r,l,h=0;do{(r=m(l=n+(o-n)/2,t,i)-e)>0?o=l:n=l}while(Math.abs(r)>s&&++h<a);return l}(e,n,n+h)}var b=!1,w=function(o){return b||(b=!0,t===e&&i===n||function(){for(var e=0;e<l;++e)c[e]=m(e*h,t,i)}()),t===e&&i===n?o:0===o?0:1===o?1:m(y(o),e,n)};w.getControlPoints=function(){return[{x:t,y:e},{x:i,y:n}]};var x="generateBezier("+[t,e,i,n]+")";return w.toString=function(){return x},w}(t,e,i,n);return function(t,e,i){return t+(e-t)*o(i)}},Go={linear:function(t,e,i){return t+(e-t)*i},ease:Yo(.25,.1,.25,1),"ease-in":Yo(.42,0,1,1),"ease-out":Yo(0,0,.58,1),"ease-in-out":Yo(.42,0,.58,1),"ease-in-sine":Yo(.47,0,.745,.715),"ease-out-sine":Yo(.39,.575,.565,1),"ease-in-out-sine":Yo(.445,.05,.55,.95),"ease-in-quad":Yo(.55,.085,.68,.53),"ease-out-quad":Yo(.25,.46,.45,.94),"ease-in-out-quad":Yo(.455,.03,.515,.955),"ease-in-cubic":Yo(.55,.055,.675,.19),"ease-out-cubic":Yo(.215,.61,.355,1),"ease-in-out-cubic":Yo(.645,.045,.355,1),"ease-in-quart":Yo(.895,.03,.685,.22),"ease-out-quart":Yo(.165,.84,.44,1),"ease-in-out-quart":Yo(.77,0,.175,1),"ease-in-quint":Yo(.755,.05,.855,.06),"ease-out-quint":Yo(.23,1,.32,1),"ease-in-out-quint":Yo(.86,0,.07,1),"ease-in-expo":Yo(.95,.05,.795,.035),"ease-out-expo":Yo(.19,1,.22,1),"ease-in-out-expo":Yo(1,0,0,1),"ease-in-circ":Yo(.6,.04,.98,.335),"ease-out-circ":Yo(.075,.82,.165,1),"ease-in-out-circ":Yo(.785,.135,.15,.86),spring:function(t,e,i){if(0===i)return Go.linear;var n=Uo(t,e,i);return function(t,e,i){return t+(e-t)*n(i)}},"cubic-bezier":Yo};function qo(t,e,i,n,o){if(1===n)return i;var r=o(e,i,n);return null==t?r:((t.roundValue||t.color)&&(r=Math.round(r)),void 0!==t.min&&(r=Math.max(r,t.min)),void 0!==t.max&&(r=Math.min(r,t.max)),r)}function Xo(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}function $o(t,e,i,n,o){var r=null!=o?o.type:null;i<0?i=0:i>1&&(i=1);var s=Xo(t,o),a=Xo(e,o);if(m(s)&&m(a))return qo(r,s,a,i,n);if(f(s)&&f(a)){for(var l=[],h=0;h<a.length;h++){var d=s[h],u=a[h];if(null!=d&&null!=u){var c=qo(r,d,u,i,n);l.push(c)}else l.push(u)}return l}}function Ko(t,e,i,n){var o=!n,r=t._private,s=e._private,a=s.easing,l=s.startTime,h=(n?t:t.cy()).style();if(!s.easingImpl)if(null==a)s.easingImpl=Go.linear;else{var d,u,p;d=c(a)?h.parse("transition-timing-function",a).value:a,c(d)?(u=d,p=[]):(u=d[1],p=d.slice(2).map(function(t){return+t})),p.length>0?("spring"===u&&p.push(s.duration),s.easingImpl=Go[u].apply(null,p)):s.easingImpl=Go[u]}var f,g=s.easingImpl;if(f=0===s.duration?1:(i-l)/s.duration,s.applying&&(f=s.progress),f<0?f=0:f>1&&(f=1),null==s.delay){var m=s.startPosition,v=s.position;if(v&&o&&!t.locked()){var y={};Zo(m.x,v.x)&&(y.x=$o(m.x,v.x,f,g)),Zo(m.y,v.y)&&(y.y=$o(m.y,v.y,f,g)),t.position(y)}var b=s.startPan,w=s.pan,x=r.pan,_=null!=w&&n;_&&(Zo(b.x,w.x)&&(x.x=$o(b.x,w.x,f,g)),Zo(b.y,w.y)&&(x.y=$o(b.y,w.y,f,g)),t.emit("pan"));var E=s.startZoom,k=s.zoom,S=null!=k&&n;S&&(Zo(E,k)&&(r.zoom=de(r.minZoom,$o(E,k,f,g),r.maxZoom)),t.emit("zoom")),(_||S)&&t.emit("viewport");var C=s.style;if(C&&C.length>0&&o){for(var T=0;T<C.length;T++){var M=C[T],D=M.name,O=s.startStyle[D],P=$o(O,M,f,g,h.properties[O.name]);h.overrideBypass(t,D,P)}t.emit("style")}}return s.progress=f,f}function Zo(t,e){return!(null==t||null==e||!(m(t)&&m(e)||t&&e))}function Qo(t,e,i,n){var o=e._private;o.started=!0,o.startTime=i-o.progress*o.duration}function Jo(t,e){var i=e._private.aniEles,n=[];function o(e,i){var o=e._private,r=o.animation.current,s=o.animation.queue,a=!1;if(!i&&"none"===e.pstyle("display").value){r=r.splice(0,r.length).concat(s.splice(0,s.length));for(var l=0;l<r.length;l++)r[l].stop()}if(0===r.length){var h=s.shift();h&&r.push(h)}for(var d=function(t){for(var e=t.length-1;e>=0;e--)(0,t[e])();t.splice(0,t.length)},u=r.length-1;u>=0;u--){var c=r[u],p=c._private;p.stopped?(r.splice(u,1),p.hooked=!1,p.playing=!1,p.started=!1,d(p.frames)):(p.playing||p.applying)&&(p.playing&&p.applying&&(p.applying=!1),p.started||Qo(0,c,t),Ko(e,c,t,i),p.applying&&(p.applying=!1),d(p.frames),null!=p.step&&p.step(t),c.completed()&&(r.splice(u,1),p.hooked=!1,p.playing=!1,p.started=!1,d(p.completes)),a=!0)}return i||0!==r.length||0!==s.length||n.push(e),a}for(var r=!1,s=0;s<i.length;s++){var a=o(i[s]);r=r||a}var l=o(e,!0);(r||l)&&(i.length>0?e.notify("draw",i):e.notify("draw")),i.unmerge(n),e.emit("step")}var tr={animate:Xi.animate(),animation:Xi.animation(),animated:Xi.animated(),clearQueue:Xi.clearQueue(),delay:Xi.delay(),delayAnimation:Xi.delayAnimation(),stop:Xi.stop(),addToAnimationPool:function(t){this.styleEnabled()&&this._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender(function(e,i){Jo(i,t)},e.beforeRenderPriorities.animations):function e(){t._private.animationsRunning&&rt(function(i){Jo(i,t),e()})}()}}},er={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,i){var n=e.qualifier;return null==n||t!==i.target&&b(i.target)&&n.matches(i.target)},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,i){return null!=e.qualifier?i.target:t}},ir=function(t){return c(t)?new un(t):t},nr={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new so(er,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,i){return this.emitter().on(t,ir(e),i),this},removeListener:function(t,e,i){return this.emitter().removeListener(t,ir(e),i),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,e,i){return this.emitter().one(t,ir(e),i),this},once:function(t,e,i){return this.emitter().one(t,ir(e),i),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};Xi.eventAliasesOn(nr);var or={png:function(t){return this._private.renderer.png(t=t||{})},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};or.jpeg=or.jpg;var rr={layout:function(t){if(null!=t)if(null!=t.name){var e,i=t.name,n=this.extension("layout",i);if(null!=n)return e=c(t.eles)?this.$(t.eles):null!=t.eles?t.eles:this.$(),new n(A({},t,{cy:this,eles:e}));xt("No such layout `"+i+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else xt("A `name` must be specified to make a layout");else xt("Layout options must be specified to make a layout")}};rr.createLayout=rr.makeLayout=rr.layout;var sr={notify:function(t,e){var i=this._private;if(this.batching()){i.batchNotifications=i.batchNotifications||{};var n=i.batchNotifications[t]=i.batchNotifications[t]||this.collection();null!=e&&n.merge(e)}else if(i.notificationsEnabled){var o=this.renderer();!this.destroyed()&&o&&o.notify(t,e)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(0===t.batchCount)return this;if(t.batchCount--,0===t.batchCount){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach(function(i){var n=t.batchNotifications[i];n.empty()?e.notify(i):e.notify(i,n)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch(function(){for(var i=Object.keys(t),n=0;n<i.length;n++){var o=i[n],r=t[o];e.getElementById(o).data(r)}})}},ar=Mt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),lr={renderTo:function(t,e,i,n){return this._private.renderer.renderTo(t,e,i,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this.extension("renderer",t.name);if(null!=e){void 0!==t.wheelSensitivity&&Et("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=ar(t);i.cy=this,this._private.renderer=new e(i),this.notify("init")}else xt("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){this.notify("destroy");var t=this.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach(function(t){var e=t._private;e.rscratch={},e.rstyle={},e.animation.current=[],e.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};lr.invalidateDimensions=lr.resize;var hr={collection:function(t,e){return c(t)?this.$(t):y(t)?t.collection():f(t)?new Ho(this,t,e):new Ho(this)},nodes:function(t){var e=this.$(function(t){return t.isNode()});return t?e.filter(t):e},edges:function(t){var e=this.$(function(t){return t.isEdge()});return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};hr.elements=hr.filter=hr.$;var dr={apply:function(t){var e=this._private,i=e.cy.collection();e.newStyle&&(e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0));for(var n=0;n<t.length;n++){var o=t[n],r=this.getContextMeta(o);if(!r.empty){var s=this.getContextStyle(r),a=this.applyContextStyle(r,s,o);e.newStyle||this.updateTransitions(o,a.diffProps),this.updateStyleHints(o)&&i.merge(o)}}return e.newStyle=!1,i},getPropertiesDiff:function(t,e){var i=this._private.propDiffs=this._private.propDiffs||{},n=t+"-"+e,o=i[n];if(o)return o;for(var r=[],s={},a=0;a<this.length;a++){var l=this[a],h="t"===e[a],d="t"===t[a]!==h,u=l.mappedProperties.length>0;if(d||h&&u){var c=void 0;d&&u?c=l.properties:d?c=l.properties:u&&(c=l.mappedProperties);for(var p=0;p<c.length;p++){for(var f=c[p],g=f.name,m=!1,v=a+1;v<this.length&&("t"!==e[v]||!(m=null!=this[v].properties[f.name]));v++);s[g]||m||(s[g]=!0,r.push(g))}}}return i[n]=r,r},getContextMeta:function(t){var e,i="",n=t._private.styleCxtKey||"";this._private.newStyle&&(n="");for(var o=0;o<this.length;o++){var r=this[o];i+=r.selector&&r.selector.matches(t)?"t":"f"}return e=this.getPropertiesDiff(n,i),t._private.styleCxtKey=i,{key:i,diffPropNames:e,empty:0===e.length}},getContextStyle:function(t){var e=t.key,i=this._private.contextStyles=this._private.contextStyles||{};if(i[e])return i[e];for(var n={_private:{key:e}},o=0;o<this.length;o++){var r=this[o];if("t"===e[o])for(var s=0;s<r.properties.length;s++){var a=r.properties[s];n[a.name]=a}}return i[e]=n,n},applyContextStyle:function(t,e,i){for(var n=t.diffPropNames,o={},r=this.types,s=0;s<n.length;s++){var a=n[s],l=e[a],h=i.pstyle(a);if(!l){if(!h)continue;l=h.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(h!==l){if(l.mapped===r.fn&&null!=h&&null!=h.mapping&&h.mapping.value===l.value){var d=h.mapping;if((d.fnValue=l.value(i))===d.prevFnValue)continue}var u=o[a]={prev:h};this.applyParsedProperty(i,l),u.next=i.pstyle(a),u.next&&u.next.bypass&&(u.next=u.next.bypassed)}}return{diffProps:o}},updateStyleHints:function(t){var e,i=t._private,n=this,o=n.propertyGroupKeys,r=function(t,e,i){return n.getPropertiesHash(t,e,i)},s=i.styleKey;if(t.removed())return!1;var a="nodes"===i.group,l=t._private.style;e=Object.keys(l);for(var h=0;h<o.length;h++)i.styleKeys[o[h]]=0;for(var d=function(t,e){return i.styleKeys[e]=lt(t,i.styleKeys[e])},u=function(t,e){for(var i=0;i<t.length;i++)d(t.charCodeAt(i),e)},c=function(t){return-128<t&&t<128&&Math.floor(t)!==t?-(1024*t|0):t},p=0;p<e.length;p++){var f=e[p],g=l[f];if(null!=g){var m=this.properties[f],v=m.type,y=m.groupKey,b=void 0;null!=m.hashOverride?b=m.hashOverride(t,g):null!=g.pfValue&&(b=g.pfValue);var w=null==m.enums?g.value:null,x=null!=b,_=g.units;if(v.number&&(x||null!=w)){var E=x?b:w;if(v.multiple)for(var k=0;k<E.length;k++)d(c(E[k]),y);else d(c(E),y);x||null==_||u(_,y)}else u(g.strValue,y)}}for(var S=0,C=0;C<o.length;C++)S=lt(i.styleKeys[o[C]],S);i.styleKey=S;var T=i.labelDimsKey=i.styleKeys.labelDimensions;if(i.labelKey=r(t,["label"],T),i.labelStyleKey=lt(i.styleKeys.commonLabel,i.labelKey),a||(i.sourceLabelKey=r(t,["source-label"],T),i.sourceLabelStyleKey=lt(i.styleKeys.commonLabel,i.sourceLabelKey),i.targetLabelKey=r(t,["target-label"],T),i.targetLabelStyleKey=lt(i.styleKeys.commonLabel,i.targetLabelKey)),a){var M=i.styleKeys,D=M.pie;i.nodeKey=ht([M.nodeBorder,M.backgroundImage,M.compound,D],M.nodeBody),i.hasPie=0!=D}return s!==i.styleKey},clearStyleHints:function(t){var e=t._private;e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},applyParsedProperty:function(t,e){var i,n=this,o=e,r=t._private.style,s=n.types,a=n.properties[o.name].type,l=o.bypass,h=r[o.name],d=h&&h.bypass,u=t._private,c=function(t){return null==t?null:null!=t.pfValue?t.pfValue:t.value},p=function(){var e=c(h),i=c(o);n.checkTriggers(t,o.name,e,i)};if("curve-style"===e.name&&t.isEdge()&&("bezier"!==e.value&&t.isLoop()||"haystack"===e.value&&(t.source().isParent()||t.target().isParent()))&&(o=e=this.parse(e.name,"bezier",l)),o.delete)return r[o.name]=void 0,p(),!0;if(o.deleteBypassed)return h?!!h.bypass&&(h.bypassed=void 0,p(),!0):(p(),!0);if(o.deleteBypass)return h?!!h.bypass&&(r[o.name]=h.bypassed,p(),!0):(p(),!0);var f=function(){Et("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case s.mapData:for(var g,v=o.field.split("."),y=u.data,b=0;b<v.length&&y;b++)y=y[v[b]];if(null==y)return f(),!1;if(!m(y))return Et("Do not use continuous mappers without specifying numeric data (i.e. `"+o.field+": "+y+"` for `"+t.id()+"` is non-numeric)"),!1;var w=o.fieldMax-o.fieldMin;if((g=0===w?0:(y-o.fieldMin)/w)<0?g=0:g>1&&(g=1),a.color){var x=o.valueMin[0],_=o.valueMin[1],E=o.valueMax[1],k=o.valueMin[2],S=o.valueMax[2],C=null==o.valueMin[3]?1:o.valueMin[3],T=null==o.valueMax[3]?1:o.valueMax[3],M=[Math.round(x+(o.valueMax[0]-x)*g),Math.round(_+(E-_)*g),Math.round(k+(S-k)*g),Math.round(C+(T-C)*g)];i={bypass:o.bypass,name:o.name,value:M,strValue:"rgb("+M[0]+", "+M[1]+", "+M[2]+")"}}else{if(!a.number)return!1;i=this.parse(o.name,o.valueMin+(o.valueMax-o.valueMin)*g,o.bypass,"mapping")}if(!i)return f(),!1;i.mapping=o,o=i;break;case s.data:for(var D=o.field.split("."),O=u.data,P=0;P<D.length&&O;P++)O=O[D[P]];if(null!=O&&(i=this.parse(o.name,O,o.bypass,"mapping")),!i)return f(),!1;i.mapping=o,o=i;break;case s.fn:var I=null!=o.fnValue?o.fnValue:(0,o.value)(t);if(o.prevFnValue=I,null==I)return Et("Custom function mappers may not return null (i.e. `"+o.name+"` for ele `"+t.id()+"` is null)"),!1;if(!(i=this.parse(o.name,I,o.bypass,"mapping")))return Et("Custom function mappers may not return invalid values for the property type (i.e. `"+o.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=kt(o),o=i;break;case void 0:break;default:return!1}return l?(o.bypassed=d?h.bypassed:h,r[o.name]=o):d?h.bypassed=o:r[o.name]=o,p(),!0},cleanElements:function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),e)for(var o=n._private.style,r=Object.keys(o),s=0;s<r.length;s++){var a=r[s],l=o[a];null!=l&&(l.bypass?l.bypassed=null:o[a]=null)}else n._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(t,e){var i=this,n=t._private,o=t.pstyle("transition-property").value,r=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(o.length>0&&r>0){for(var a={},l=!1,h=0;h<o.length;h++){var d=o[h],u=t.pstyle(d),c=e[d];if(c){var p=c.prev,g=null!=c.next?c.next:u,v=!1,y=void 0;p&&(m(p.pfValue)&&m(g.pfValue)?y=p.pfValue+1e-6*(v=g.pfValue-p.pfValue):m(p.value)&&m(g.value)?y=p.value+1e-6*(v=g.value-p.value):f(p.value)&&f(g.value)&&(v=p.value[0]!==g.value[0]||p.value[1]!==g.value[1]||p.value[2]!==g.value[2],y=p.strValue),v&&(a[d]=g.strValue,this.applyBypass(t,d,y),l=!0))}}if(!l)return;n.transitioning=!0,new Yi(function(e){s>0?t.delayAnimation(s).play().promise().then(e):e()}).then(function(){return t.animation({style:a,duration:r,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){i.removeBypasses(t,o),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,o),t.emitAndNotify("style"),n.transitioning=!1)},checkTrigger:function(t,e,i,n,o,r){var s=this.properties[e],a=o(s);null!=a&&a(i,n)&&r(s)},checkZOrderTrigger:function(t,e,i,n){var o=this;this.checkTrigger(t,e,i,n,function(t){return t.triggersZOrder},function(){o._private.cy.notify("zorder",t)})},checkBoundsTrigger:function(t,e,i,n){this.checkTrigger(t,e,i,n,function(t){return t.triggersBounds},function(o){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),"bezier"!==t.pstyle("curve-style").value&&("curve-style"!==e||"bezier"!==i&&"bezier"!==n)||!o.triggersBoundsOfParallelBeziers||t.parallelEdges().forEach(function(t){t.isBundledBezier()&&t.dirtyBoundingBoxCache()})})},checkTriggers:function(t,e,i,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,i,n),this.checkBoundsTrigger(t,e,i,n)}},ur={applyBypass:function(t,e,i,n){var o=[];if("*"===e||"**"===e){if(void 0!==i)for(var r=0;r<this.properties.length;r++){var s=this.parse(this.properties[r].name,i,!0);s&&o.push(s)}}else if(c(e)){var a=this.parse(e,i,!0);a&&o.push(a)}else{if(!g(e))return!1;var l=e;n=i;for(var h=Object.keys(l),d=0;d<h.length;d++){var u=h[d],p=l[u];if(void 0===p&&(p=l[M(u)]),void 0!==p){var f=this.parse(u,p,!0);f&&o.push(f)}}}if(0===o.length)return!1;for(var m=!1,v=0;v<t.length;v++){for(var y=t[v],b={},w=void 0,x=0;x<o.length;x++){var _=o[x];if(n){var E=y.pstyle(_.name);w=b[_.name]={prev:E}}m=this.applyParsedProperty(y,_)||m,n&&(w.next=y.pstyle(_.name))}m&&this.updateStyleHints(y),n&&this.updateTransitions(y,b,!0)}return m},overrideBypass:function(t,e,i){e=T(e);for(var n=0;n<t.length;n++){var o=t[n],r=o._private.style[e],s=this.properties[e].type,a=s.color,l=s.mutiple,h=r?null!=r.pfValue?r.pfValue:r.value:null;r&&r.bypass?(r.value=i,null!=r.pfValue&&(r.pfValue=i),r.strValue=a?"rgb("+i.join(",")+")":l?i.join(" "):""+i,this.updateStyleHints(o)):this.applyBypass(o,e,i),this.checkTriggers(o,e,h,i)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,i){for(var n=0;n<t.length;n++){for(var o=t[n],r={},s=0;s<e.length;s++){var a=e[s],l=this.properties[a],h=o.pstyle(l.name);if(h&&h.bypass){var d=this.parse(a,"",!0),u=r[l.name]={prev:h};this.applyParsedProperty(o,d),u.next=o.pstyle(l.name)}}this.updateStyleHints(o),i&&this.updateTransitions(o,r,!0)}}},cr={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy.container();if(r&&e&&r.getComputedStyle)return r.getComputedStyle(e).getPropertyValue(t)}},pr={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){if(t=t[0]){for(var i={},n=0;n<this.properties.length;n++){var o=this.properties[n],r=this.getStylePropertyValue(t,o.name,e);null!=r&&(i[o.name]=r,i[M(o.name)]=r)}return i}},getIndexedStyle:function(t,e,i,n){var o=t.pstyle(e)[i][n];return null!=o?o:t.cy().style().getDefaultProperty(e)[i][0]},getStylePropertyValue:function(t,e,i){if(t=t[0]){var n=this.properties[e];n.alias&&(n=n.pointsTo);var o=n.type,r=t.pstyle(n.name);if(r){var s=r.value,a=r.units,l=r.strValue;if(i&&o.number&&null!=s&&m(s)){var h=t.cy().zoom(),d=function(t){return t*h},u=function(t,e){return d(t)+e},p=f(s);return(p?a.every(function(t){return null!=t}):null!=a)?p?s.map(function(t,e){return u(t,a[e])}).join(" "):u(s,a):p?s.map(function(t){return c(t)?t:""+d(t)}).join(" "):""+d(s)}if(null!=l)return l}return null}},getAnimationStartStyle:function(t,e){for(var i={},n=0;n<e.length;n++){var o=e[n].name,r=t.pstyle(o);void 0!==r&&(r=g(r)?this.parse(o,r.strValue):this.parse(o,r)),r&&(i[o]=r)}return i},getPropsList:function(t){var e=[],i=t,n=this.properties;if(i)for(var o=Object.keys(i),r=0;r<o.length;r++){var s=o[r],a=i[s],l=n[s]||n[T(s)],h=this.parse(l.name,a);h&&e.push(h)}return e},getNonDefaultPropertiesHash:function(t,e,i){var n,o,r,s,a,l=i;for(s=0;s<e.length;s++)if(null!=(n=t.pstyle(e[s],!1)))if(null!=n.pfValue)l=lt(r,l);else for(o=n.strValue,a=0;a<o.length;a++)r=o.charCodeAt(a),l=lt(r,l);return l}};pr.getPropertiesHash=pr.getNonDefaultPropertiesHash;var fr={appendFromJson:function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i.selector,o=i.style||i.css,r=Object.keys(o);this.selector(n);for(var s=0;s<r.length;s++){var a=r[s];this.css(a,o[a])}}return this},fromJson:function(t){return this.resetToDefault(),this.appendFromJson(t),this},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var i=this[e],n=i.selector,o=i.properties,r={},s=0;s<o.length;s++){var a=o[s];r[a.name]=a.strValue}t.push({selector:n?n.toString():"core",style:r})}return t}},gr={appendFromString:function(t){var e,i,n,o=""+t;function r(){o=o.length>e.length?o.substr(e.length):""}function s(){i=i.length>n.length?i.substr(n.length):""}for(o=o.replace(/[\/][*](\s|.)+?[*][\/]/g,"");!o.match(/^\s*$/);){var a=o.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!a){Et("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+o);break}e=a[0];var l=a[1];if("core"!==l&&new un(l).invalid)Et("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),r();else{var h=a[2],d=!1;i=h;for(var u=[];!i.match(/^\s*$/);){var c=i.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!c){Et("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),d=!0;break}n=c[0];var p=c[1],f=c[2];this.properties[p]?this.parse(p,f)?(u.push({name:p,val:f}),s()):(Et("Skipping property: Invalid property definition in: "+n),s()):(Et("Skipping property: Invalid property name in: "+n),s())}if(d){r();break}this.selector(l);for(var g=0;g<u.length;g++){var m=u[g];this.css(m.name,m.val)}r()}}return this},fromString:function(t){return this.resetToDefault(),this.appendFromString(t),this}},mr={};!function(){var t=P,e=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},i=function(e){var i=t+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"},n=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];mr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","concave-hexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:e("data")},layoutData:{mapping:!0,regex:e("layoutData")},scratch:{mapping:!0,regex:e("scratch")},mapData:{mapping:!0,regex:i("mapData")},mapLayoutData:{mapping:!0,regex:i("mapLayoutData")},mapScratch:{mapping:!0,regex:i("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:n,singleRegexMatchValue:!0},urls:{regexes:n,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return c(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]}};var o={zeroNonZero:function(t,e){return(null==t||null==e)&&t!==e||0==t&&0!=e||0!=t&&0==e},any:function(t,e){return t!=e}},r=mr.types,s=[{name:"label",type:r.text,triggersBounds:o.any},{name:"text-rotation",type:r.textRotation,triggersBounds:o.any},{name:"text-margin-x",type:r.bidirectionalSize,triggersBounds:o.any},{name:"text-margin-y",type:r.bidirectionalSize,triggersBounds:o.any}],a=[{name:"source-label",type:r.text,triggersBounds:o.any},{name:"source-text-rotation",type:r.textRotation,triggersBounds:o.any},{name:"source-text-margin-x",type:r.bidirectionalSize,triggersBounds:o.any},{name:"source-text-margin-y",type:r.bidirectionalSize,triggersBounds:o.any},{name:"source-text-offset",type:r.size,triggersBounds:o.any}],l=[{name:"target-label",type:r.text,triggersBounds:o.any},{name:"target-text-rotation",type:r.textRotation,triggersBounds:o.any},{name:"target-text-margin-x",type:r.bidirectionalSize,triggersBounds:o.any},{name:"target-text-margin-y",type:r.bidirectionalSize,triggersBounds:o.any},{name:"target-text-offset",type:r.size,triggersBounds:o.any}],h=[{name:"font-family",type:r.fontFamily,triggersBounds:o.any},{name:"font-style",type:r.fontStyle,triggersBounds:o.any},{name:"font-weight",type:r.fontWeight,triggersBounds:o.any},{name:"font-size",type:r.size,triggersBounds:o.any},{name:"text-transform",type:r.textTransform,triggersBounds:o.any},{name:"text-wrap",type:r.textWrap,triggersBounds:o.any},{name:"text-overflow-wrap",type:r.textOverflowWrap,triggersBounds:o.any},{name:"text-max-width",type:r.size,triggersBounds:o.any},{name:"text-outline-width",type:r.size,triggersBounds:o.any},{name:"line-height",type:r.positiveNumber,triggersBounds:o.any}],d=[{name:"text-valign",type:r.valign,triggersBounds:o.any},{name:"text-halign",type:r.halign,triggersBounds:o.any},{name:"color",type:r.color},{name:"text-outline-color",type:r.color},{name:"text-outline-opacity",type:r.zeroOneNumber},{name:"text-background-color",type:r.color},{name:"text-background-opacity",type:r.zeroOneNumber},{name:"text-background-padding",type:r.size,triggersBounds:o.any},{name:"text-border-opacity",type:r.zeroOneNumber},{name:"text-border-color",type:r.color},{name:"text-border-width",type:r.size,triggersBounds:o.any},{name:"text-border-style",type:r.borderStyle,triggersBounds:o.any},{name:"text-background-shape",type:r.textBackgroundShape,triggersBounds:o.any},{name:"text-justification",type:r.justification}],u=[{name:"events",type:r.bool},{name:"text-events",type:r.bool}],p=[{name:"display",type:r.display,triggersZOrder:o.any,triggersBounds:o.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:r.visibility,triggersZOrder:o.any},{name:"opacity",type:r.zeroOneNumber,triggersZOrder:o.zeroNonZero},{name:"text-opacity",type:r.zeroOneNumber},{name:"min-zoomed-font-size",type:r.size},{name:"z-compound-depth",type:r.zCompoundDepth,triggersZOrder:o.any},{name:"z-index-compare",type:r.zIndexCompare,triggersZOrder:o.any},{name:"z-index",type:r.nonNegativeInt,triggersZOrder:o.any}],f=[{name:"overlay-padding",type:r.size,triggersBounds:o.any},{name:"overlay-color",type:r.color},{name:"overlay-opacity",type:r.zeroOneNumber,triggersBounds:o.zeroNonZero}],g=[{name:"transition-property",type:r.propList},{name:"transition-duration",type:r.time},{name:"transition-delay",type:r.time},{name:"transition-timing-function",type:r.easing}],m=function(t,e){return"label"===e.value?-t.poolIndex():e.pfValue},v=[{name:"height",type:r.nodeSize,triggersBounds:o.any,hashOverride:m},{name:"width",type:r.nodeSize,triggersBounds:o.any,hashOverride:m},{name:"shape",type:r.nodeShape,triggersBounds:o.any},{name:"shape-polygon-points",type:r.polygonPointList,triggersBounds:o.any},{name:"background-color",type:r.color},{name:"background-fill",type:r.fill},{name:"background-opacity",type:r.zeroOneNumber},{name:"background-blacken",type:r.nOneOneNumber},{name:"background-gradient-stop-colors",type:r.colors},{name:"background-gradient-stop-positions",type:r.percentages},{name:"background-gradient-direction",type:r.gradientDirection},{name:"padding",type:r.sizeMaybePercent,triggersBounds:o.any},{name:"padding-relative-to",type:r.paddingRelativeTo,triggersBounds:o.any},{name:"bounds-expansion",type:r.size,triggersBounds:o.any}],y=[{name:"border-color",type:r.color},{name:"border-opacity",type:r.zeroOneNumber},{name:"border-width",type:r.size,triggersBounds:o.any},{name:"border-style",type:r.borderStyle}],b=[{name:"background-image",type:r.urls},{name:"background-image-crossorigin",type:r.bgCrossOrigin},{name:"background-image-opacity",type:r.zeroOneNumbers},{name:"background-position-x",type:r.bgPos},{name:"background-position-y",type:r.bgPos},{name:"background-width-relative-to",type:r.bgRelativeTo},{name:"background-height-relative-to",type:r.bgRelativeTo},{name:"background-repeat",type:r.bgRepeat},{name:"background-fit",type:r.bgFit},{name:"background-clip",type:r.bgClip},{name:"background-width",type:r.bgWH},{name:"background-height",type:r.bgWH},{name:"background-offset-x",type:r.bgPos},{name:"background-offset-y",type:r.bgPos}],w=[{name:"position",type:r.position,triggersBounds:o.any},{name:"compound-sizing-wrt-labels",type:r.compoundIncludeLabels,triggersBounds:o.any},{name:"min-width",type:r.size,triggersBounds:o.any},{name:"min-width-bias-left",type:r.sizeMaybePercent,triggersBounds:o.any},{name:"min-width-bias-right",type:r.sizeMaybePercent,triggersBounds:o.any},{name:"min-height",type:r.size,triggersBounds:o.any},{name:"min-height-bias-top",type:r.sizeMaybePercent,triggersBounds:o.any},{name:"min-height-bias-bottom",type:r.sizeMaybePercent,triggersBounds:o.any}],x=[{name:"line-style",type:r.lineStyle},{name:"line-color",type:r.color},{name:"line-fill",type:r.fill},{name:"line-cap",type:r.lineCap},{name:"line-dash-pattern",type:r.numbers},{name:"line-dash-offset",type:r.number},{name:"line-gradient-stop-colors",type:r.colors},{name:"line-gradient-stop-positions",type:r.percentages},{name:"curve-style",type:r.curveStyle,triggersBounds:o.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:r.zeroOneNumber,triggersBounds:o.any},{name:"source-endpoint",type:r.edgeEndpoint,triggersBounds:o.any},{name:"target-endpoint",type:r.edgeEndpoint,triggersBounds:o.any},{name:"control-point-step-size",type:r.size,triggersBounds:o.any},{name:"control-point-distances",type:r.bidirectionalSizes,triggersBounds:o.any},{name:"control-point-weights",type:r.numbers,triggersBounds:o.any},{name:"segment-distances",type:r.bidirectionalSizes,triggersBounds:o.any},{name:"segment-weights",type:r.numbers,triggersBounds:o.any},{name:"taxi-turn",type:r.sizeMaybePercent,triggersBounds:o.any},{name:"taxi-turn-min-distance",type:r.size,triggersBounds:o.any},{name:"taxi-direction",type:r.axisDirection,triggersBounds:o.any},{name:"edge-distances",type:r.edgeDistances,triggersBounds:o.any},{name:"arrow-scale",type:r.positiveNumber,triggersBounds:o.any},{name:"loop-direction",type:r.angle,triggersBounds:o.any},{name:"loop-sweep",type:r.angle,triggersBounds:o.any},{name:"source-distance-from-node",type:r.size,triggersBounds:o.any},{name:"target-distance-from-node",type:r.size,triggersBounds:o.any}],_=[{name:"ghost",type:r.bool,triggersBounds:o.any},{name:"ghost-offset-x",type:r.bidirectionalSize,triggersBounds:o.any},{name:"ghost-offset-y",type:r.bidirectionalSize,triggersBounds:o.any},{name:"ghost-opacity",type:r.zeroOneNumber}],E=[{name:"selection-box-color",type:r.color},{name:"selection-box-opacity",type:r.zeroOneNumber},{name:"selection-box-border-color",type:r.color},{name:"selection-box-border-width",type:r.size},{name:"active-bg-color",type:r.color},{name:"active-bg-opacity",type:r.zeroOneNumber},{name:"active-bg-size",type:r.size},{name:"outside-texture-bg-color",type:r.color},{name:"outside-texture-bg-opacity",type:r.zeroOneNumber}],k=[];mr.pieBackgroundN=16,k.push({name:"pie-size",type:r.sizeMaybePercent});for(var S=1;S<=mr.pieBackgroundN;S++)k.push({name:"pie-"+S+"-background-color",type:r.color}),k.push({name:"pie-"+S+"-background-size",type:r.percent}),k.push({name:"pie-"+S+"-background-opacity",type:r.zeroOneNumber});var C=[],T=mr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:r.arrowShape,triggersBounds:o.any},{name:"arrow-color",type:r.color},{name:"arrow-fill",type:r.arrowFill}].forEach(function(t){T.forEach(function(e){C.push({name:e+"-"+t.name,type:t.type,triggersBounds:t.triggersBounds})})},{});var M=mr.properties=[].concat(u,g,p,f,_,d,h,s,a,l,v,y,b,k,w,x,C,E),D=mr.propertyGroups={behavior:u,transition:g,visibility:p,overlay:f,ghost:_,commonLabel:d,labelDimensions:h,mainLabel:s,sourceLabel:a,targetLabel:l,nodeBody:v,nodeBorder:y,backgroundImage:b,pie:k,compound:w,edgeLine:x,edgeArrow:C,core:E},O=mr.propertyGroupNames={};(mr.propertyGroupKeys=Object.keys(D)).forEach(function(t){O[t]=D[t].map(function(t){return t.name}),D[t].forEach(function(e){return e.groupKey=t})});var I=mr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];mr.propertyNames=M.map(function(t){return t.name});for(var A=0;A<M.length;A++){var N=M[A];M[N.name]=N}for(var R=0;R<I.length;R++){var L=I[R],z={name:L.name,alias:!0,pointsTo:M[L.pointsTo]};M.push(z),M[L.name]=z}}(),mr.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},mr.getDefaultProperties=function(){var t=this._private;if(null!=t.defaultProperties)return t.defaultProperties;for(var e=A({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(t,e){for(var i=1;i<=mr.pieBackgroundN;i++)t[e.name.replace("{{i}}",i)]=e.value;return t},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(t,e){return mr.arrowPrefixes.forEach(function(i){t[i+"-"+e.name]=e.value}),t},{})),i={},n=0;n<this.properties.length;n++){var o=this.properties[n];if(!o.pointsTo){var r=o.name,s=this.parse(r,e[r]);i[r]=s}}return t.defaultProperties=i,t.defaultProperties},mr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var vr={parse:function(t,e,i,n){if(p(e))return this.parseImplWarn(t,e,i,n);var o,r=ut(t,""+e,i?"t":"f","mapping"===n||!0===n||!1===n||null==n?"dontcare":n),s=this.propCache=this.propCache||[];return(o=s[r])||(o=s[r]=this.parseImplWarn(t,e,i,n)),(i||"mapping"===n)&&(o=kt(o))&&(o.value=kt(o.value)),o},parseImplWarn:function(t,e,i,n){var o=this.parseImpl(t,e,i,n);return o||null==e||Et("The style property `".concat(t,": ").concat(e,"` is invalid")),o},parseImpl:function(t,e,i,n){t=T(t);var o=this.properties[t],r=e,s=this.types;if(!o)return null;if(void 0===e)return null;o.alias&&(t=(o=o.pointsTo).name);var a=c(e);a&&(e=e.trim());var l,h,d=o.type;if(!d)return null;if(i&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(p(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:i};if(!a||n||e.length<7||"a"!==e[1]);else{if(e.length>=7&&"d"===e[0]&&(l=new RegExp(s.data.regex).exec(e)))return!i&&{name:t,value:l,strValue:""+e,mapped:s.data,field:l[1],bypass:i};if(e.length>=10&&"m"===e[0]&&(h=new RegExp(s.mapData.regex).exec(e))){if(i)return!1;if(d.multiple)return!1;var u=s.mapData;if(!d.color&&!d.number)return!1;var g=this.parse(t,h[4]);if(!g||g.mapped)return!1;var v=this.parse(t,h[5]);if(!v||v.mapped)return!1;if(g.pfValue===v.pfValue||g.strValue===v.strValue)return Et("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+g.strValue+"`"),this.parse(t,g.strValue);if(d.color){var y=g.value,b=v.value;if(!(y[0]!==b[0]||y[1]!==b[1]||y[2]!==b[2]||y[3]!==b[3]&&(null!=y[3]&&1!==y[3]||null!=b[3]&&1!==b[3])))return!1}return{name:t,value:h,strValue:""+e,mapped:u,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:g.value,valueMax:v.value,bypass:i}}}if(d.multiple&&"multiple"!==n){var w;if(w=a?e.split(/\s+/):f(e)?e:[e],d.evenMultiple&&w.length%2!=0)return null;for(var x=[],_=[],E=[],k="",S=!1,C=0;C<w.length;C++){var M=this.parse(t,w[C],i,"multiple");S=S||c(M.value),x.push(M.value),E.push(null!=M.pfValue?M.pfValue:M.value),_.push(M.units),k+=(C>0?" ":"")+M.strValue}return d.validate&&!d.validate(x,_)?null:d.singleEnum&&S?1===x.length&&c(x[0])?{name:t,value:x[0],strValue:x[0],bypass:i}:null:{name:t,value:x,pfValue:E,strValue:k,bypass:i,units:_}}var D,O=function(){for(var n=0;n<d.enums.length;n++)if(d.enums[n]===e)return{name:t,value:e,strValue:""+e,bypass:i};return null};if(d.number){var I,A="px";if(d.units&&(I=d.units),d.implicitUnits&&(A=d.implicitUnits),!d.unitless)if(a){var R="px|em"+(d.allowPercent?"|\\%":"");I&&(R=I);var L=e.match("^("+P+")("+R+")?$");L&&(e=L[1],I=L[2]||A)}else I&&!d.implicitUnits||(I=A);if(e=parseFloat(e),isNaN(e)&&void 0===d.enums)return null;if(isNaN(e)&&void 0!==d.enums)return e=r,O();if(d.integer&&(!m(D=e)||Math.floor(D)!==D))return null;if(void 0!==d.min&&(e<d.min||d.strictMin&&e===d.min)||void 0!==d.max&&(e>d.max||d.strictMax&&e===d.max))return null;var z={name:t,value:e,strValue:""+e+(I||""),units:I,bypass:i};return z.pfValue=d.unitless||"px"!==I&&"em"!==I?e:"px"!==I&&I?this.getEmSizeInPixels()*e:e,"ms"!==I&&"s"!==I||(z.pfValue="ms"===I?e:1e3*e),"deg"!==I&&"rad"!==I||(z.pfValue="rad"===I?e:Math.PI*e/180),"%"===I&&(z.pfValue=e/100),z}if(d.propList){var B=[],F=""+e;if("none"===F);else{for(var j=F.split(/\s*,\s*|\s+/),H=0;H<j.length;H++){var V=j[H].trim();this.properties[V]?B.push(V):Et("`"+V+"` is not a valid property name")}if(0===B.length)return null}return{name:t,value:B,strValue:0===B.length?"none":B.join(" "),bypass:i}}if(d.color){var W=N(e);return W?{name:t,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:i}:null}if(d.regex||d.regexes){if(d.enums){var U=O();if(U)return U}for(var Y=d.regexes?d.regexes:[d.regex],G=0;G<Y.length;G++){var q=new RegExp(Y[G]).exec(e);if(q)return{name:t,value:d.singleRegexMatchValue?q[1]:q,strValue:""+e,bypass:i}}return null}return d.string?{name:t,value:""+e,strValue:""+e,bypass:i}:d.enums?O():null}},yr=function t(e){if(!(this instanceof t))return new t(e);x(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):xt("A style must have a core reference")},br=yr.prototype;br.instanceString=function(){return"style"},br.clear=function(){for(var t=0;t<this.length;t++)this[t]=void 0;return this.length=0,this._private.newStyle=!0,this},br.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},br.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},br.selector=function(t){var e="core"===t?null:new un(t),i=this.length++;return this[i]={selector:e,properties:[],mappedProperties:[],index:i},this},br.css=function(){var t=arguments;if(1===t.length)for(var e=t[0],i=0;i<this.properties.length;i++){var n=this.properties[i],o=e[n.name];void 0===o&&(o=e[M(n.name)]),void 0!==o&&this.cssRule(n.name,o)}else 2===t.length&&this.cssRule(t[0],t[1]);return this},br.style=br.css,br.cssRule=function(t,e){var i=this.parse(t,e);if(i){var n=this.length-1;this[n].properties.push(i),this[n].properties[i.name]=i,i.name.match(/pie-(\d+)-background-size/)&&i.value&&(this._private.hasPie=!0),i.mapped&&this[n].mappedProperties.push(i),!this[n].selector&&(this._private.coreStyle[i.name]=i)}return this},br.append=function(t){return _(t)?t.appendToStyle(this):f(t)?this.appendFromJson(t):c(t)&&this.appendFromString(t),this},yr.fromJson=function(t,e){var i=new yr(t);return i.fromJson(e),i},yr.fromString=function(t,e){return new yr(t).fromString(e)},[dr,ur,cr,pr,fr,gr,mr,vr].forEach(function(t){A(br,t)}),yr.types=br.types,yr.properties=br.properties,yr.propertyGroups=br.propertyGroups,yr.propertyGroupNames=br.propertyGroupNames,yr.propertyGroupKeys=br.propertyGroupKeys;var wr={style:function(t){return t&&this.setStyle(t).update(),this._private.style},setStyle:function(t){var e=this._private;return e.style=_(t)?t.generateStyle(this):f(t)?yr.fromJson(this,t):c(t)?yr.fromString(this,t):yr(this),e.style}},xr={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},selectionType:function(t){var e=this._private;return null==e.selectionType&&(e.selectionType="single"),void 0===t?e.selectionType:("additive"!==t&&"single"!==t||(e.selectionType=t),this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t,e,i,n,o,r=arguments,s=this._private.pan;switch(r.length){case 0:return s;case 1:if(c(r[0]))return s[t=r[0]];if(g(r[0])){if(!this._private.panningEnabled)return this;n=(i=r[0]).x,o=i.y,m(n)&&(s.x=n),m(o)&&(s.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=r[1],"x"!==(t=r[0])&&"y"!==t||!m(e)||(s[t]=e),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(t,e){var i,n,o,r,s,a=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(a.length){case 1:g(t)&&(r=(o=a[0]).x,s=o.y,m(r)&&(l.x+=r),m(s)&&(l.y+=s),this.emit("pan viewport"));break;case 2:n=e,"x"!==(i=t)&&"y"!==i||!m(n)||(l[i]+=n),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(t,e){var i=this.getFitViewport(t,e);if(i){var n=this._private;n.zoom=i.zoom,n.pan=i.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){var i,n;if((m(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(c(t)?t=this.$(t):g(n=t)&&m(n.x1)&&m(n.x2)&&m(n.y1)&&m(n.y2)?((i={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}).w=i.x2-i.x1,i.h=i.y2-i.y1):y(t)||(t=this.mutableElements()),!y(t)||!t.empty())){i=i||t.boundingBox();var o,r=this.width(),s=this.height();if(e=m(e)?e:0,!isNaN(r)&&!isNaN(s)&&r>0&&s>0&&!isNaN(i.w)&&!isNaN(i.h)&&i.w>0&&i.h>0)return{zoom:o=(o=(o=Math.min((r-2*e)/i.w,(s-2*e)/i.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(r-o*(i.x1+i.x2))/2,y:(s-o*(i.y1+i.y2))/2}}}},zoomRange:function(t,e){var i=this._private;if(null==e){var n=t;t=n.min,e=n.max}return m(t)&&m(e)&&t<=e?(i.minZoom=t,i.maxZoom=e):m(t)&&void 0===e&&t<=i.maxZoom?i.minZoom=t:m(e)&&void 0===t&&e>=i.minZoom&&(i.maxZoom=e),this},minZoom:function(t){return void 0===t?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return void 0===t?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e,i,n=this._private,o=n.pan,r=n.zoom,s=!1;return n.zoomingEnabled||(s=!0),m(t)?i=t:g(t)&&(i=t.level,null!=t.position?e=Jt(t.position,r,o):null!=t.renderedPosition&&(e=t.renderedPosition),null==e||n.panningEnabled||(s=!0)),i=(i=i>n.maxZoom?n.maxZoom:i)<n.minZoom?n.minZoom:i,!s&&m(i)&&i!==r&&(null==e||m(e.x)&&m(e.y))?null!=e?{zoomed:!0,panned:!0,zoom:i,pan:{x:-i/r*(e.x-o.x)+e.x,y:-i/r*(e.y-o.y)+e.y}}:{zoomed:!0,panned:!1,zoom:i,pan:o}:null},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),i=this._private;return null!=e&&e.zoomed?(i.zoom=e.zoom,e.panned&&(i.pan.x=e.pan.x,i.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(t){var e=this._private,i=!0,n=!0,o=[],r=!1,s=!1;if(!t)return this;if(m(t.zoom)||(i=!1),g(t.pan)||(n=!1),!i&&!n)return this;if(i){var a=t.zoom;a<e.minZoom||a>e.maxZoom||!e.zoomingEnabled?r=!0:(e.zoom=a,o.push("zoom"))}if(n&&(!r||!t.cancelOnFailedZoom)&&e.panningEnabled){var l=t.pan;m(l.x)&&(e.pan.x=l.x,s=!1),m(l.y)&&(e.pan.y=l.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(c(t)){var i=t;t=this.mutableElements().filter(i)}else y(t)||(t=this.mutableElements());if(0!==t.length){var n=t.boundingBox(),o=this.width(),r=this.height();return{x:(o-(e=void 0===e?this._private.zoom:e)*(n.x1+n.x2))/2,y:(r-e*(n.y1+n.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t,e,i=this._private,n=i.container;return i.sizeCache=i.sizeCache||(n?(t=r.getComputedStyle(n),{width:n.clientWidth-(e=function(e){return parseFloat(t.getPropertyValue(e))})("padding-left")-e("padding-right"),height:n.clientHeight-e("padding-top")-e("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,i=this.renderedExtent(),n={x1:(i.x1-t.x)/e,x2:(i.x2-t.x)/e,y1:(i.y1-t.y)/e,y2:(i.y2-t.y)/e};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}}};xr.centre=xr.center,xr.autolockNodes=xr.autolock,xr.autoungrabifyNodes=xr.autoungrabify;var _r={data:Xi.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:Xi.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:Xi.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:Xi.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})};_r.attr=_r.data,_r.removeAttr=_r.removeData;var Er=function(t){var e=this,i=(t=A({},t)).container;i&&!v(i)&&v(i[0])&&(i=i[0]);var n=i?i._cyreg:null;(n=n||{})&&n.cy&&(n.cy.destroy(),n={});var o=n.readies=n.readies||[];i&&(i._cyreg=n),n.cy=e;var s=void 0!==r&&void 0!==i&&!t.headless,a=t;a.layout=A({name:s?"grid":"null"},a.layout),a.renderer=A({name:s?"canvas":"null"},a.renderer);var l=function(t,e,i){return void 0!==e?e:void 0!==i?i:t},h=this._private={container:i,ready:!1,options:a,elements:new Ho(this),listeners:[],aniEles:new Ho(this),data:{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,a.zoomingEnabled),userZoomingEnabled:l(!0,a.userZoomingEnabled),panningEnabled:l(!0,a.panningEnabled),userPanningEnabled:l(!0,a.userPanningEnabled),boxSelectionEnabled:l(!0,a.boxSelectionEnabled),autolock:l(!1,a.autolock,a.autolockNodes),autoungrabify:l(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:l(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?s:a.styleEnabled,zoom:m(a.zoom)?a.zoom:1,pan:{x:g(a.pan)&&m(a.pan.x)?a.pan.x:0,y:g(a.pan)&&m(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom}),h.styleEnabled&&e.setStyle([]);var d=A({},a,a.renderer);e.initRenderer(d),function(t,e){if(t.some(k))return Yi.all(t).then(e);e(t)}([a.style,a.elements],function(t){var i=t[0],r=t[1];h.styleEnabled&&e.style().append(i),function(t,i,n){e.notifications(!1);var o=e.mutableElements();o.length>0&&o.remove(),null!=t&&(g(t)||f(t))&&e.add(t),e.one("layoutready",function(t){e.notifications(!0),e.emit(t),e.one("load",i),e.emitAndNotify("load")}).one("layoutstop",function(){e.one("done",n),e.emit("done")});var r=A({},e._private.options.layout);r.eles=e.elements(),e.layout(r).run()}(r,function(){e.startAnimationLoop(),h.ready=!0,p(a.ready)&&e.on("ready",a.ready);for(var t=0;t<o.length;t++)e.on("ready",o[t]);n&&(n.readies=[]),e.emit("ready")},a.done)})},kr=Er.prototype;A(kr,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t){if(null!=t){var e=this,i=e._private,n=i.options;return!v(t)&&v(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),i.container=t,i.styleEnabled=!0,e.invalidateSize(),e.initRenderer(A({},n,n.renderer,{name:"null"===n.renderer.name?"canvas":n.renderer.name})),e.startAnimationLoop(),e.style(n.style),e.emit("mount"),e}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return kt(this._private.options)},json:function(t){var e=this,i=e._private,n=e.mutableElements();if(g(t)){if(e.startBatch(),t.elements){var o={},r=function(t,i){for(var n=[],r=[],s=0;s<t.length;s++){var a=t[s],l=""+a.data.id,h=e.getElementById(l);o[l]=!0,0!==h.length?r.push({ele:h,json:a}):i?(a.group=i,n.push(a)):n.push(a)}e.add(n);for(var d=0;d<r.length;d++){var u=r[d];u.ele.json(u.json)}};if(f(t.elements))r(t.elements);else for(var s=["nodes","edges"],a=0;a<s.length;a++){var l=s[a],h=t.elements[l];f(h)&&r(h,l)}var d=e.collection();n.filter(function(t){return!o[t.id()]}).forEach(function(t){t.isParent()?d.merge(t):t.remove()}),d.forEach(function(t){return t.children().move({parent:null})}),d.forEach(function(t){return function(t){return e.getElementById(t.id())}(t).remove()})}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==i.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===i.pan.x&&t.pan.y===i.pan.y||e.pan(t.pan)),t.data&&e.data(t.data);for(var u=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],c=0;c<u.length;c++){var p=u[c];null!=t[p]&&e[p](t[p])}return e.endBatch(),this}var m={};t?m.elements=this.elements().map(function(t){return t.json()}):(m.elements={},n.forEach(function(t){var e=t.group();m.elements[e]||(m.elements[e]=[]),m.elements[e].push(t.json())})),this._private.styleEnabled&&(m.style=e.style().json()),m.data=kt(e.data());var v=i.options;return m.zoomingEnabled=i.zoomingEnabled,m.userZoomingEnabled=i.userZoomingEnabled,m.zoom=i.zoom,m.minZoom=i.minZoom,m.maxZoom=i.maxZoom,m.panningEnabled=i.panningEnabled,m.userPanningEnabled=i.userPanningEnabled,m.pan=kt(i.pan),m.boxSelectionEnabled=i.boxSelectionEnabled,m.renderer=kt(v.renderer),m.hideEdgesOnViewport=v.hideEdgesOnViewport,m.textureOnViewport=v.textureOnViewport,m.wheelSensitivity=v.wheelSensitivity,m.motionBlur=v.motionBlur,m}}),kr.$id=kr.getElementById,[Wo,tr,nr,or,rr,sr,lr,hr,wr,xr,_r].forEach(function(t){A(kr,t)});var Sr={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},Cr=function(t){return t.scratch("breadthfirst")},Tr=function(t,e){return t.scratch("breadthfirst",e)};function Mr(t){this.options=A({},Sr,t)}Mr.prototype.run=function(){var t,e=this.options,i=e,n=e.cy,o=i.eles,r=o.nodes().filter(function(t){return!t.isParent()}),s=o,a=i.directed,l=i.maximal||i.maximalAdjustments>0,h=ue(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(y(i.roots))t=i.roots;else if(f(i.roots)){for(var d=[],u=0;u<i.roots.length;u++){var p=n.getElementById(i.roots[u]);d.push(p)}t=n.collection(d)}else if(c(i.roots))t=n.$(i.roots);else if(a)t=r.roots();else{var g=o.components();t=n.collection();for(var m=function(e){var i=g[e],n=i.maxDegree(!1),o=i.filter(function(t){return t.degree(!1)===n});t=t.add(o)},v=0;v<g.length;v++)m(v)}var b=[],w={},x=function(t,e){null==b[e]&&(b[e]=[]);var i=b[e].length;b[e].push(t),Tr(t,{index:i,depth:e})};s.bfs({roots:t,directed:i.directed,visit:function(t,e,i,n,o){var r=t[0],s=r.id();x(r,o),w[s]=!0}});for(var _=[],E=0;E<r.length;E++){var k=r[E];w[k.id()]||_.push(k)}var S=function(t){for(var e=b[t],i=0;i<e.length;i++){var n=e[i];null!=n?Tr(n,{depth:t,index:i}):(e.splice(i,1),i--)}},C=function(){for(var t=0;t<b.length;t++)S(t)},T=function(t,e){for(var i=Cr(t),n=t.incomers().filter(function(t){return t.isNode()&&o.has(t)}),r=-1,s=t.id(),a=0;a<n.length;a++){var l=Cr(n[a]);r=Math.max(r,l.depth)}return i.depth<=r&&(e[s]?null:(function(t,e){var i=Cr(t);b[i.depth][i.index]=null,x(t,e)}(t,r+1),e[s]=!0,!0))};if(a&&l){var M=[],D={},O=function(t){return M.push(t)};for(r.forEach(function(t){return M.push(t)});M.length>0;){var P=M.shift(),A=T(P,D);if(A)P.outgoers().filter(function(t){return t.isNode()&&o.has(t)}).forEach(O);else if(null===A){Et("Detected double maximal shift for node `"+P.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}C();var N=0;if(i.avoidOverlap)for(var R=0;R<r.length;R++){var L=r[R].layoutDimensions(i);N=Math.max(N,L.w,L.h)}for(var z={},B=function(t){if(z[t.id()])return z[t.id()];for(var e=Cr(t).depth,i=t.neighborhood(),n=0,o=0,s=0;s<i.length;s++){var a=i[s];if(!a.isEdge()&&!a.isParent()&&r.has(a)){var l=Cr(a),h=l.index,d=l.depth;null!=h&&null!=d&&d<e&&(n+=h/(b[d].length-1),o++)}}return n/=o=Math.max(1,o),0===o&&(n=0),z[t.id()]=n,n},F=function(t,e){var i=B(t)-B(e);return 0===i?I(t.id(),e.id()):i},j=0;j<b.length;j++)b[j].sort(F),S(j);for(var H=[],V=0;V<_.length;V++)H.push(_[V]);b.unshift(H),C();for(var W=0,U=0;U<b.length;U++)W=Math.max(b[U].length,W);var Y=h.x1+h.w/2,G=h.x1+h.h/2,q=b.reduce(function(t,e){return Math.max(t,e.length)},0);return r.layoutPositions(this,i,function(t){var e=Cr(t),n=e.depth,o=e.index,r=b[n].length,s=Math.max(h.w/((i.grid?q:r)+1),N),a=Math.max(h.h/(b.length+1),N),l=Math.min(h.w/2/b.length,h.h/2/b.length);if(l=Math.max(l,N),i.circle){var d=l*n+l-(b.length>0&&b[0].length<=3?l/2:0),u=2*Math.PI/b[n].length*o;return 0===n&&1===b[0].length&&(d=1),{x:Y+d*Math.cos(u),y:G+d*Math.sin(u)}}return{x:Y+(o+1-(r+1)/2)*s,y:(n+1)*a}}),this};var Dr={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Or(t){this.options=A({},Dr,t)}Or.prototype.run=function(){var t=this.options,e=t,i=t.cy,n=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,o=e.eles.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var r,s=ue(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),a=s.x1+s.w/2,l=s.y1+s.h/2,h=(void 0===e.sweep?2*Math.PI-2*Math.PI/o.length:e.sweep)/Math.max(1,o.length-1),d=0,u=0;u<o.length;u++){var c=o[u].layoutDimensions(e);d=Math.max(d,c.w,c.h)}if(r=m(e.radius)?e.radius:o.length<=1?0:Math.min(s.h,s.w)/2-d,o.length>1&&e.avoidOverlap){d*=1.75;var p=Math.cos(h)-Math.cos(0),f=Math.sin(h)-Math.sin(0),g=Math.sqrt(d*d/(p*p+f*f));r=Math.max(g,r)}return o.layoutPositions(this,e,function(t,i){var o=e.startAngle+i*h*(n?1:-1),s=r*Math.cos(o),d=r*Math.sin(o);return{x:a+s,y:l+d}}),this};var Pr,Ir={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Ar(t){this.options=A({},Ir,t)}Ar.prototype.run=function(){for(var t=this.options,e=t,i=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,n=t.cy,o=e.eles.nodes().not(":parent"),r=ue(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s=r.x1+r.w/2,a=r.y1+r.h/2,l=[],h=0,d=0;d<o.length;d++){var u,c=o[d];u=e.concentric(c),l.push({value:u,node:c}),c._private.scratch.concentric=u}o.updateStyle();for(var p=0;p<o.length;p++){var f=o[p].layoutDimensions(e);h=Math.max(h,f.w,f.h)}l.sort(function(t,e){return e.value-t.value});for(var g=e.levelWidth(o),m=[[]],v=m[0],y=0;y<l.length;y++){var b=l[y];v.length>0&&Math.abs(v[0].value-b.value)>=g&&m.push(v=[]),v.push(b)}var w=h+e.minNodeSpacing;if(!e.avoidOverlap){var x=m.length>0&&m[0].length>1,_=(Math.min(r.w,r.h)/2-w)/(m.length+x?1:0);w=Math.min(w,_)}for(var E=0,k=0;k<m.length;k++){var S=m[k],C=void 0===e.sweep?2*Math.PI-2*Math.PI/S.length:e.sweep,T=S.dTheta=C/Math.max(1,S.length-1);if(S.length>1&&e.avoidOverlap){var M=Math.cos(T)-Math.cos(0),D=Math.sin(T)-Math.sin(0),O=Math.sqrt(w*w/(M*M+D*D));E=Math.max(O,E)}S.r=E,E+=w}if(e.equidistant){for(var P=0,I=0,A=0;A<m.length;A++)P=Math.max(P,m[A].r-I);I=0;for(var N=0;N<m.length;N++){var R=m[N];0===N&&(I=R.r),R.r=I,I+=P}}for(var L={},z=0;z<m.length;z++)for(var B=m[z],F=B.dTheta,j=B.r,H=0;H<B.length;H++){var V=B[H],W=e.startAngle+(i?1:-1)*F*H,U={x:s+j*Math.cos(W),y:a+j*Math.sin(W)};L[V.node.id()]=U}return o.layoutPositions(this,e,function(t){var e=t.id();return L[e]}),this};var Nr={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Rr(t){this.options=A({},Nr,t),this.options.layout=this}Rr.prototype.run=function(){var t=this.options,e=t.cy,i=this;i.stopped=!1,!0!==t.animate&&!1!==t.animate||i.emit({type:"layoutstart",layout:i}),Pr=!0===t.debug;var n=Lr(e,i,t);Pr&&(void 0)(n),t.randomize&&Fr(n,e);var o=st(),r=function(){Hr(n,e,t),!0===t.fit&&e.fit(t.padding)},s=function(e){return!(i.stopped||e>=t.numIter||(Vr(n,t,e),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},a=function(){if(!0===t.animate||!1===t.animate)r(),i.one("layoutstop",t.stop),i.emit({type:"layoutstop",layout:i});else{var e=t.eles.nodes(),o=jr(n,t,e);e.layoutPositions(i,t,o)}},l=0,h=!0;if(!0===t.animate)!function e(){for(var i=0;h&&i<t.refresh;)h=s(l),l++,i++;h?(st()-o>=t.animationThreshold&&r(),rt(e)):(ts(n,t),a())}();else{for(;h;)h=s(l),l++;ts(n,t),a()}return this},Rr.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Rr.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Lr=function(t,e,i){for(var n=i.eles.edges(),o=i.eles.nodes(),r={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:i.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:ue(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},s=i.eles.components(),a={},l=0;l<s.length;l++)for(var h=s[l],d=0;d<h.length;d++)a[h[d].id()]=l;for(l=0;l<r.nodeSize;l++){var u=(v=o[l]).layoutDimensions(i);(P={}).isLocked=v.locked(),P.id=v.data("id"),P.parentId=v.data("parent"),P.cmptId=a[v.id()],P.children=[],P.positionX=v.position("x"),P.positionY=v.position("y"),P.offsetX=0,P.offsetY=0,P.height=u.w,P.width=u.h,P.maxX=P.positionX+P.width/2,P.minX=P.positionX-P.width/2,P.maxY=P.positionY+P.height/2,P.minY=P.positionY-P.height/2,P.padLeft=parseFloat(v.style("padding")),P.padRight=parseFloat(v.style("padding")),P.padTop=parseFloat(v.style("padding")),P.padBottom=parseFloat(v.style("padding")),P.nodeRepulsion=p(i.nodeRepulsion)?i.nodeRepulsion(v):i.nodeRepulsion,r.layoutNodes.push(P),r.idToIndex[P.id]=l}var c=[],f=0,g=-1,m=[];for(l=0;l<r.nodeSize;l++){var v,y=(v=r.layoutNodes[l]).parentId;null!=y?r.layoutNodes[r.idToIndex[y]].children.push(v.id):(c[++g]=v.id,m.push(v.id))}for(r.graphSet.push(m);f<=g;){var b=c[f++],w=r.layoutNodes[r.idToIndex[b]].children;if(w.length>0)for(r.graphSet.push(w),l=0;l<w.length;l++)c[++g]=w[l]}for(l=0;l<r.graphSet.length;l++){var x=r.graphSet[l];for(d=0;d<x.length;d++)r.indexToGraph[r.idToIndex[x[d]]]=l}for(l=0;l<r.edgeSize;l++){var _=n[l],E={};E.id=_.data("id"),E.sourceId=_.data("source"),E.targetId=_.data("target");var k=p(i.idealEdgeLength)?i.idealEdgeLength(_):i.idealEdgeLength,S=p(i.edgeElasticity)?i.edgeElasticity(_):i.edgeElasticity,C=r.idToIndex[E.sourceId],T=r.idToIndex[E.targetId];if(r.indexToGraph[C]!=r.indexToGraph[T]){for(var M=zr(E.sourceId,E.targetId,r),D=r.graphSet[M],O=0,P=r.layoutNodes[C];-1===D.indexOf(P.id);)P=r.layoutNodes[r.idToIndex[P.parentId]],O++;for(P=r.layoutNodes[T];-1===D.indexOf(P.id);)P=r.layoutNodes[r.idToIndex[P.parentId]],O++;k*=O*i.nestingFactor}E.idealLength=k,E.elasticity=S,r.layoutEdges.push(E)}return r},zr=function(t,e,i){var n=Br(t,e,0,i);return 2>n.count?0:n.graph},Br=function t(e,i,n,o){var r=o.graphSet[n];if(-1<r.indexOf(e)&&-1<r.indexOf(i))return{count:2,graph:n};for(var s=0,a=0;a<r.length;a++){var l=o.layoutNodes[o.idToIndex[r[a]]].children;if(0!==l.length){var h=t(e,i,o.indexToGraph[o.idToIndex[l[0]]],o);if(0!==h.count){if(1!==h.count)return h;if(2==++s)break}}}return{count:s,graph:n}},Fr=function(t,e){for(var i=t.clientWidth,n=t.clientHeight,o=0;o<t.nodeSize;o++){var r=t.layoutNodes[o];0!==r.children.length||r.isLocked||(r.positionX=Math.random()*i,r.positionY=Math.random()*n)}},jr=function(t,e,i){var n=t.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(i.forEach(function(e){var i=t.layoutNodes[t.idToIndex[e.data("id")]];o.x1=Math.min(o.x1,i.positionX),o.x2=Math.max(o.x2,i.positionX),o.y1=Math.min(o.y1,i.positionY),o.y2=Math.max(o.y2,i.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(i,r){var s=t.layoutNodes[t.idToIndex[i.data("id")]];return e.boundingBox?{x:n.x1+(s.positionX-o.x1)/o.w*n.w,y:n.y1+(s.positionY-o.y1)/o.h*n.h}:{x:s.positionX,y:s.positionY}}},Hr=function(t,e,i){var n=i.layout,o=i.eles.nodes(),r=jr(t,i,o);o.positions(r),!0!==t.ready&&(t.ready=!0,n.one("layoutready",i.ready),n.emit({type:"layoutready",layout:this}))},Vr=function(t,e,i){Wr(t,e),Xr(t,e),$r(t,e),Kr(t,e),Zr(t,e)},Wr=function(t,e){for(var i=0;i<t.graphSet.length;i++)for(var n=t.graphSet[i],o=n.length,r=0;r<o;r++)for(var s=t.layoutNodes[t.idToIndex[n[r]]],a=r+1;a<o;a++)Yr(s,t.layoutNodes[t.idToIndex[n[a]]],t,e)},Ur=function(t){return-t+2*t*Math.random()},Yr=function(t,e,i,n){if(t.cmptId===e.cmptId||i.isCompound){var o=e.positionX-t.positionX,r=e.positionY-t.positionY;0===o&&0===r&&(o=Ur(1),r=Ur(1));var s=Gr(t,e,o,r);if(s>0)var a=(h=n.nodeOverlap*s)*o/(g=Math.sqrt(o*o+r*r)),l=h*r/g;else{var h,d=qr(t,o,r),u=qr(e,-1*o,-1*r),c=u.x-d.x,p=u.y-d.y,f=c*c+p*p,g=Math.sqrt(f);a=(h=(t.nodeRepulsion+e.nodeRepulsion)/f)*c/g,l=h*p/g}t.isLocked||(t.offsetX-=a,t.offsetY-=l),e.isLocked||(e.offsetX+=a,e.offsetY+=l)}},Gr=function(t,e,i,n){if(i>0)var o=t.maxX-e.minX;else o=e.maxX-t.minX;if(n>0)var r=t.maxY-e.minY;else r=e.maxY-t.minY;return o>=0&&r>=0?Math.sqrt(o*o+r*r):0},qr=function(t,e,i){var n=t.positionX,o=t.positionY,r=t.height||1,s=t.width||1,a=i/e,l=r/s,h={};return 0===e&&0<i?(h.x=n,h.y=o+r/2,h):0===e&&0>i?(h.x=n,h.y=o+r/2,h):0<e&&-1*l<=a&&a<=l?(h.x=n+s/2,h.y=o+s*i/2/e,h):0>e&&-1*l<=a&&a<=l?(h.x=n-s/2,h.y=o-s*i/2/e,h):0<i&&(a<=-1*l||a>=l)?(h.x=n+r*e/2/i,h.y=o+r/2,h):0>i&&(a<=-1*l||a>=l)?(h.x=n-r*e/2/i,h.y=o-r/2,h):h},Xr=function(t,e){for(var i=0;i<t.edgeSize;i++){var n=t.layoutEdges[i],o=t.layoutNodes[t.idToIndex[n.sourceId]],r=t.layoutNodes[t.idToIndex[n.targetId]],s=r.positionX-o.positionX,a=r.positionY-o.positionY;if(0!==s||0!==a){var l=qr(o,s,a),h=qr(r,-1*s,-1*a),d=h.x-l.x,u=h.y-l.y,c=Math.sqrt(d*d+u*u),p=Math.pow(n.idealLength-c,2)/n.elasticity;if(0!==c)var f=p*d/c,g=p*u/c;else f=0,g=0;o.isLocked||(o.offsetX+=f,o.offsetY+=g),r.isLocked||(r.offsetX-=f,r.offsetY-=g)}}},$r=function(t,e){for(var i=0;i<t.graphSet.length;i++){var n=t.graphSet[i],o=n.length;if(0===i)var r=t.clientHeight/2,s=t.clientWidth/2;else{var a=t.layoutNodes[t.idToIndex[t.layoutNodes[t.idToIndex[n[0]]].parentId]];r=a.positionX,s=a.positionY}for(var l=0;l<o;l++){var h=t.layoutNodes[t.idToIndex[n[l]]];if(!h.isLocked){var d=r-h.positionX,u=s-h.positionY,c=Math.sqrt(d*d+u*u);if(c>1){var p=e.gravity*u/c;h.offsetX+=e.gravity*d/c,h.offsetY+=p}}}}},Kr=function(t,e){var i=[],n=0,o=-1;for(i.push.apply(i,t.graphSet[0]),o+=t.graphSet[0].length;n<=o;){var r=i[n++],s=t.layoutNodes[t.idToIndex[r]],a=s.children;if(0<a.length&&!s.isLocked){for(var l=s.offsetX,h=s.offsetY,d=0;d<a.length;d++){var u=t.layoutNodes[t.idToIndex[a[d]]];u.offsetX+=l,u.offsetY+=h,i[++o]=a[d]}s.offsetX=0,s.offsetY=0}}},Zr=function(t,e){for(var i=0;i<t.nodeSize;i++)0<(o=t.layoutNodes[i]).children.length&&(o.maxX=void 0,o.minX=void 0,o.maxY=void 0,o.minY=void 0);for(i=0;i<t.nodeSize;i++)if(!(0<(o=t.layoutNodes[i]).children.length||o.isLocked)){var n=Qr(o.offsetX,o.offsetY,t.temperature);o.positionX+=n.x,o.positionY+=n.y,o.offsetX=0,o.offsetY=0,o.minX=o.positionX-o.width,o.maxX=o.positionX+o.width,o.minY=o.positionY-o.height,o.maxY=o.positionY+o.height,Jr(o,t)}for(i=0;i<t.nodeSize;i++){var o;0<(o=t.layoutNodes[i]).children.length&&!o.isLocked&&(o.positionX=(o.maxX+o.minX)/2,o.positionY=(o.maxY+o.minY)/2,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY)}},Qr=function(t,e,i){var n=Math.sqrt(t*t+e*e);if(n>i)var o={x:i*t/n,y:i*e/n};else o={x:t,y:e};return o},Jr=function t(e,i){var n=e.parentId;if(null!=n){var o=i.layoutNodes[i.idToIndex[n]],r=!1;return(null==o.maxX||e.maxX+o.padRight>o.maxX)&&(o.maxX=e.maxX+o.padRight,r=!0),(null==o.minX||e.minX-o.padLeft<o.minX)&&(o.minX=e.minX-o.padLeft,r=!0),(null==o.maxY||e.maxY+o.padBottom>o.maxY)&&(o.maxY=e.maxY+o.padBottom,r=!0),(null==o.minY||e.minY-o.padTop<o.minY)&&(o.minY=e.minY-o.padTop,r=!0),r?t(o,i):void 0}},ts=function(t,e){for(var i=t.layoutNodes,n=[],o=0;o<i.length;o++){var r=i[o],s=r.cmptId;(n[s]=n[s]||[]).push(r)}var a=0;for(o=0;o<n.length;o++)if(g=n[o]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var l=0;l<g.length;l++){var h=g[l];g.x1=Math.min(g.x1,h.positionX-h.width/2),g.x2=Math.max(g.x2,h.positionX+h.width/2),g.y1=Math.min(g.y1,h.positionY-h.height/2),g.y2=Math.max(g.y2,h.positionY+h.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,a+=g.w*g.h}n.sort(function(t,e){return e.w*e.h-t.w*t.h});var d=0,u=0,c=0,p=0,f=Math.sqrt(a)*t.clientWidth/t.clientHeight;for(o=0;o<n.length;o++){var g;if(g=n[o]){for(l=0;l<g.length;l++)(h=g[l]).isLocked||(h.positionX+=d-g.x1,h.positionY+=u-g.y1);d+=g.w+e.componentSpacing,c+=g.w+e.componentSpacing,p=Math.max(p,g.h),c>f&&(u+=p+e.componentSpacing,d=0,c=0,p=0)}}},es={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function is(t){this.options=A({},es,t)}is.prototype.run=function(){var t=this.options,e=t,i=t.cy,n=e.eles.nodes().not(":parent");e.sort&&(n=n.sort(e.sort));var o=ue(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(0===o.h||0===o.w)n.layoutPositions(this,e,function(t){return{x:o.x1,y:o.y1}});else{var r=n.size(),s=Math.sqrt(r*o.h/o.w),a=Math.round(s),l=Math.round(o.w/o.h*s),h=function(t){if(null==t)return Math.min(a,l);Math.min(a,l)==a?a=t:l=t},d=function(t){if(null==t)return Math.max(a,l);Math.max(a,l)==a?a=t:l=t},u=e.rows,c=null!=e.cols?e.cols:e.columns;if(null!=u&&null!=c)a=u,l=c;else if(null!=u&&null==c)a=u,l=Math.ceil(r/a);else if(null==u&&null!=c)l=c,a=Math.ceil(r/l);else if(l*a>r){var p=h(),f=d();(p-1)*f>=r?h(p-1):(f-1)*p>=r&&d(f-1)}else for(;l*a<r;){var g=h(),m=d();(m+1)*g>=r?d(m+1):h(g+1)}var v=o.w/l,y=o.h/a;if(e.condense&&(v=0,y=0),e.avoidOverlap)for(var b=0;b<n.length;b++){var w=n[b],x=w._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var _=w.layoutDimensions(e),E=e.avoidOverlapPadding,k=_.h+E;v=Math.max(v,_.w+E),y=Math.max(y,k)}for(var S={},C=function(t,e){return!!S["c-"+t+"-"+e]},T=function(t,e){S["c-"+t+"-"+e]=!0},M=0,D=0,O=function(){++D>=l&&(D=0,M++)},P={},I=0;I<n.length;I++){var A=n[I],N=e.position(A);if(N&&(void 0!==N.row||void 0!==N.col)){var R={row:N.row,col:N.col};if(void 0===R.col)for(R.col=0;C(R.row,R.col);)R.col++;else if(void 0===R.row)for(R.row=0;C(R.row,R.col);)R.row++;P[A.id()]=R,T(R.row,R.col)}}n.layoutPositions(this,e,function(t,e){var i,n;if(t.locked()||t.isParent())return!1;var r=P[t.id()];if(r)i=r.col*v+v/2+o.x1,n=r.row*y+y/2+o.y1;else{for(;C(M,D);)O();i=D*v+v/2+o.x1,n=M*y+y/2+o.y1,T(M,D),O()}return{x:i,y:n}})}return this};var ns={ready:function(){},stop:function(){}};function os(t){this.options=A({},ns,t)}os.prototype.run=function(){var t=this.options,e=t.eles;return this.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),this.one("layoutready",t.ready),this.emit("layoutready"),this.one("layoutstop",t.stop),this.emit("layoutstop"),this},os.prototype.stop=function(){return this};var rs={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ss(t){this.options=A({},rs,t)}ss.prototype.run=function(){var t=this.options,e=t.eles.nodes(),i=p(t.positions);return e.layoutPositions(this,t,function(e,n){var o=function(e){if(null==t.positions)return function(t){return{x:t.x,y:t.y}}(e.position());if(i)return t.positions(e);var n=t.positions[e._private.data.id];return null==n?null:n}(e);return!e.locked()&&null!=o&&o}),this};var as={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function ls(t){this.options=A({},as,t)}ls.prototype.run=function(){var t=this.options,e=t.cy,i=t.eles.nodes().not(":parent"),n=ue(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return i.layoutPositions(this,t,function(t,e){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}}),this};var hs=[{name:"breadthfirst",impl:Mr},{name:"circle",impl:Or},{name:"concentric",impl:Ar},{name:"cose",impl:Rr},{name:"grid",impl:is},{name:"null",impl:os},{name:"preset",impl:ss},{name:"random",impl:ls}];function ds(t){this.options=t,this.notifications=0}var us=function(){};ds.prototype={recalculateRenderedStyle:us,notify:function(){this.notifications++},init:us,isHeadless:function(){return!0}};var cs={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,i=function(t,e,i,n,o,r,s){return o.x-i/2-s<=t&&t<=o.x+i/2+s&&o.y-i/2-s<=e&&e<=o.y+i/2+s},n=function(t,e,i,n,o){var r=t*Math.cos(n)-e*Math.sin(n),s=(t*Math.sin(n)+e*Math.cos(n))*i;return{x:r*i+o.x,y:s+o.y}},o=function(t,e,i,o){for(var r=[],s=0;s<t.length;s+=2)r.push(n(t[s],t[s+1],e,i,o));return r},r=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];e.push(n.x,n.y)}return e},s=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},a=function(n,a){c(a)&&(a=t[a]),t[n]=A({name:n,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,i,n,s,a){var l=r(o(this.points,i+2*a,n,s));return Ce(t,e,l)},roughCollide:i,draw:function(t,i,n,r){var s=o(this.points,i,n,r);e.arrowShapeImpl("polygon")(t,s)},spacing:function(t){return 0},gap:s},a)};a("none",{collide:yt,roughCollide:yt,draw:wt,spacing:bt,gap:bt}),a("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),a("arrow","triangle"),a("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:i,draw:function(t,i,r,s,a){var l=o(this.points,i,r,s),h=this.controlPoint,d=n(h[0],h[1],i,r,s);e.arrowShapeImpl(this.name)(t,l,d)},gap:function(t){return.8*s(t)}}),a("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,i,n,s,a,l){var h=r(o(this.points,i+2*l,n,s)),d=r(o(this.pointsTee,i+2*l,n,s));return Ce(t,e,h)||Ce(t,e,d)},draw:function(t,i,n,r,s){var a=o(this.points,i,n,r),l=o(this.pointsTee,i,n,r);e.arrowShapeImpl(this.name)(t,a,l)}}),a("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var i=this.baseCrossLinePts.slice(),n=e/t;return i[3]=i[3]-n,i[5]=i[5]-n,i},collide:function(t,e,i,n,s,a,l){var h=r(o(this.points,i+2*l,n,s)),d=r(o(this.crossLinePts(i,a),i+2*l,n,s));return Ce(t,e,h)||Ce(t,e,d)},draw:function(t,i,n,r,s){var a=o(this.points,i,n,r),l=o(this.crossLinePts(i,s),i,n,r);e.arrowShapeImpl(this.name)(t,a,l)}}),a("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*s(t)}}),a("circle",{radius:.15,collide:function(t,e,i,n,o,r,s){var a=o;return Math.pow(a.x-t,2)+Math.pow(a.y-e,2)<=Math.pow((i+2*s)*this.radius,2)},draw:function(t,i,n,o,r){e.arrowShapeImpl(this.name)(t,o.x,o.y,this.radius*i)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),a("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),a("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),a("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}}),a("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(t){return.95*t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}},ps={projectIntoViewport:function(t,e){var i=this.cy,n=this.findContainerClientCoords(),o=n[0],r=n[1],s=n[4],a=i.pan(),l=i.zoom();return[((t-o)/s-a.x)/l,((e-r)/s-a.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),i=r.getComputedStyle(t),n=function(t){return parseFloat(i.getPropertyValue(t))},o=n("padding-left"),s=n("padding-right"),a=n("padding-top"),l=n("padding-bottom"),h=n("border-left-width"),d=n("border-right-width"),u=n("border-top-width"),c=(n("border-bottom-width"),t.clientWidth);return this.containerBB=[e.left+o+h,e.top+a+u,c-(o+s),t.clientHeight-(a+l),e.width/(c+(h+d))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,i,n){return this.findNearestElements(t,e,i,n)[0]},findNearestElements:function(t,e,i,n){var o,r,s=this,a=this,l=a.getCachedZSortedEles(),h=[],d=a.cy.zoom(),u=a.cy.hasCompoundNodes(),c=(n?24:8)/d,p=(n?8:2)/d,f=(n?8:2)/d,g=1/0;function m(t,e){if(t.isNode()){if(r)return;r=t,h.push(t)}if(t.isEdge()&&(null==e||e<g))if(o){if(o.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&o.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var i=0;i<h.length;i++)if(h[i].isEdge()){h[i]=t,o=t,g=null!=e?e:g;break}}else h.push(t),o=t,g=null!=e?e:g}function v(i){var n=i.outerWidth()+2*p,o=i.outerHeight()+2*p,r=n/2,l=o/2,h=i.position();if(h.x-r<=t&&t<=h.x+r&&h.y-l<=e&&e<=h.y+l&&a.nodeShapes[s.getNodeShape(i)].checkPoint(t,e,0,n,o,h.x,h.y))return m(i,0),!0}function y(i){var n,o=i._private,r=o.rscratch,l=i.pstyle("width").pfValue,d=i.pstyle("arrow-scale").value,p=l/2+c,f=p*p,g=2*p,y=o.source,b=o.target;if("segments"===r.edgeType||"straight"===r.edgeType||"haystack"===r.edgeType){for(var w=r.allpts,x=0;x+3<w.length;x+=2)if(_e(t,e,w[x],w[x+1],w[x+2],w[x+3],g)&&f>(n=Se(t,e,w[x],w[x+1],w[x+2],w[x+3])))return m(i,n),!0}else if("bezier"===r.edgeType||"multibezier"===r.edgeType||"self"===r.edgeType||"compound"===r.edgeType)for(w=r.allpts,x=0;x+5<r.allpts.length;x+=4)if(Ee(t,e,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5],g)&&f>(n=ke(t,e,w[x],w[x+1],w[x+2],w[x+3],w[x+4],w[x+5])))return m(i,n),!0;y=y||o.source,b=b||o.target;var _=s.getArrowWidth(l,d),E=[{name:"source",x:r.arrowStartX,y:r.arrowStartY,angle:r.srcArrowAngle},{name:"target",x:r.arrowEndX,y:r.arrowEndY,angle:r.tgtArrowAngle},{name:"mid-source",x:r.midX,y:r.midY,angle:r.midsrcArrowAngle},{name:"mid-target",x:r.midX,y:r.midY,angle:r.midtgtArrowAngle}];for(x=0;x<E.length;x++){var k=E[x],S=a.arrowShapes[i.pstyle(k.name+"-arrow-shape").value],C=i.pstyle("width").pfValue;if(S.roughCollide(t,e,_,k.angle,{x:k.x,y:k.y},C,c)&&S.collide(t,e,_,k.angle,{x:k.x,y:k.y},C,c))return m(i),!0}u&&h.length>0&&(v(y),v(b))}function b(t,e,i){return Pt(t,e,i)}function w(i,n){var o=i._private,r=f,s=o.labelBounds[n||"main"],a=i.pstyle((n?n+"-":"")+"label").value;if("yes"===i.pstyle("text-events").strValue&&a){var l=o.rstyle,h=b(l,"labelX",n),d=b(l,"labelY",n),u=b(o.rscratch,"labelAngle",n),c=s.x1-r,p=s.x2+r,g=s.y1-r,v=s.y2+r;if(u){var y=Math.cos(u),w=Math.sin(u),x=function(t,e){return{x:(t-=h)*y-(e-=d)*w+h,y:t*w+e*y+d}},_=x(c,g),E=x(c,v),k=x(p,g),S=x(p,v);if(Ce(t,e,[_.x,_.y,k.x,k.y,S.x,S.y,E.x,E.y]))return m(i),!0}else if(ye(s,t,e))return m(i),!0}}i&&(l=l.interactive);for(var x=l.length-1;x>=0;x--){var _=l[x];_.isNode()?v(_)||w(_):y(_)||w(_)||w(_,"source")||w(_,"target")}return h},getAllInBox:function(t,e,i,n){for(var o=this.getCachedZSortedEles().interactive,r=[],s=Math.min(t,i),a=Math.max(t,i),l=Math.min(e,n),h=Math.max(e,n),d=ue({x1:t=s,y1:e=l,x2:i=a,y2:n=h}),u=0;u<o.length;u++){var c=o[u];if(c.isNode()){var p=c,f=p.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});ve(d,f)&&!we(f,d)&&r.push(p)}else{var g=c,m=g._private,v=m.rscratch;if(null!=v.startX&&null!=v.startY&&!ye(d,v.startX,v.startY))continue;if(null!=v.endX&&null!=v.endY&&!ye(d,v.endX,v.endY))continue;if("bezier"===v.edgeType||"multibezier"===v.edgeType||"self"===v.edgeType||"compound"===v.edgeType||"segments"===v.edgeType||"haystack"===v.edgeType){for(var y=m.rstyle.bezierPts||m.rstyle.linePts||m.rstyle.haystackPts,b=!0,w=0;w<y.length;w++)if(!be(d,y[w])){b=!1;break}b&&r.push(g)}else"haystack"!==v.edgeType&&"straight"!==v.edgeType||r.push(g)}}return r}},fs={calculateArrowAngles:function(t){var e,i,n,o,r,s,a=t._private.rscratch,l="haystack"===a.edgeType,h="bezier"===a.edgeType,d="multibezier"===a.edgeType,u="segments"===a.edgeType,c="compound"===a.edgeType,p="self"===a.edgeType;l?(n=a.haystackPts[0],o=a.haystackPts[1],r=a.haystackPts[2],s=a.haystackPts[3]):(n=a.arrowStartX,o=a.arrowStartY,r=a.arrowEndX,s=a.arrowEndY),f=a.midX,g=a.midY,u?(e=n-a.segpts[0],i=o-a.segpts[1]):d||c||p||h?(e=n-le((E=a.allpts)[0],E[2],E[4],.1),i=o-le(E[1],E[3],E[5],.1)):(e=n-f,i=o-g),a.srcArrowAngle=ie(e,i);var f=a.midX,g=a.midY;if(l&&(f=(n+r)/2,g=(o+s)/2),e=r-n,i=s-o,u)if((E=a.allpts).length/2%2==0){var m=(v=E.length/2)-2;e=E[v]-E[m],i=E[v+1]-E[m+1]}else{m=(v=E.length/2-1)-2;var v,y=v+2;e=E[v]-E[m],i=E[v+1]-E[m+1]}else if(d||c||p){var b,w,x,_,E=a.allpts;if(a.ctrlpts.length/2%2==0){var k=2+(S=2+(C=E.length/2-1));b=le(E[C],E[S],E[k],0),w=le(E[C+1],E[S+1],E[k+1],0),x=le(E[C],E[S],E[k],1e-4),_=le(E[C+1],E[S+1],E[k+1],1e-4)}else{var S,C;k=2+(S=E.length/2-1),b=le(E[C=S-2],E[S],E[k],.4999),w=le(E[C+1],E[S+1],E[k+1],.4999),x=le(E[C],E[S],E[k],.5),_=le(E[C+1],E[S+1],E[k+1],.5)}e=x-b,i=_-w}if(a.midtgtArrowAngle=ie(e,i),a.midDispX=e,a.midDispY=i,e*=-1,i*=-1,u&&((E=a.allpts).length/2%2==0||(e=-(E[y=2+(v=E.length/2-1)]-E[v]),i=-(E[y+1]-E[v+1]))),a.midsrcArrowAngle=ie(e,i),u)e=r-a.segpts[a.segpts.length-2],i=s-a.segpts[a.segpts.length-1];else if(d||c||p||h){var T=(E=a.allpts).length;e=r-le(E[T-6],E[T-4],E[T-2],.9),i=s-le(E[T-5],E[T-3],E[T-1],.9)}else e=r-f,i=s-g;a.tgtArrowAngle=ie(e,i)}};fs.getArrowWidth=fs.getArrowHeight=function(t,e){var i=this.arrowWidthCache=this.arrowWidthCache||{},n=i[t+", "+e];return n||(n=Math.max(Math.pow(13.37*t,.9),29)*e,i[t+", "+e]=n,n)};var gs={};function ms(t){var e=[];if(null!=t){for(var i=0;i<t.length;i+=2)e.push({x:t[i],y:t[i+1]});return e}}gs.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i._private,o=n.rscratch;if(!o.haystack){var r=2*Math.random()*Math.PI;o.source={x:Math.cos(r),y:Math.sin(r)},r=2*Math.random()*Math.PI,o.target={x:Math.cos(r),y:Math.sin(r)}}var s=n.source,a=n.target,l=s.position(),h=a.position(),d=s.width(),u=a.width(),c=s.height(),p=a.height(),f=i.pstyle("haystack-radius").value/2;o.haystackPts=o.allpts=[o.source.x*d*f+l.x,o.source.y*c*f+l.y,o.target.x*u*f+h.x,o.target.y*p*f+h.y],o.midX=(o.allpts[0]+o.allpts[2])/2,o.midY=(o.allpts[1]+o.allpts[3])/2,o.edgeType="haystack",o.haystack=!0,this.storeEdgeProjections(i),this.calculateArrowAngles(i),this.recalculateEdgeLabelProjections(i),this.calculateLabelAngles(i)}},gs.findSegmentsPoints=function(t,e){var i=t._private.rscratch,n=e.posPts,o=e.intersectionPts,r=e.vectorNormInverse,s=t.pstyle("edge-distances").value,a=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),h=Math.min(a.pfValue.length,l.pfValue.length);i.edgeType="segments",i.segpts=[];for(var d=0;d<h;d++){var u=a.pfValue[d],c=l.pfValue[d],p=1-u,f="node-position"===s?n:o,g={x:f.x1*p+f.x2*u,y:f.y1*p+f.y2*u};i.segpts.push(g.x+r.x*c,g.y+r.y*c)}},gs.findLoopPoints=function(t,e,i,n){var o=t._private.rscratch,r=e.dirCounts,s=e.srcPos,a=t.pstyle("control-point-distances"),l=a?a.pfValue[0]:void 0,h=t.pstyle("loop-direction").pfValue,d=t.pstyle("loop-sweep").pfValue,u=t.pstyle("control-point-step-size").pfValue;o.edgeType="self";var c=i,p=u;n&&(c=0,p=l);var f=h-Math.PI/2,g=f-d/2,m=f+d/2,v=String(h+"_"+d);c=void 0===r[v]?r[v]=0:++r[v],o.ctrlpts=[s.x+1.4*Math.cos(g)*p*(c/3+1),s.y+1.4*Math.sin(g)*p*(c/3+1),s.x+1.4*Math.cos(m)*p*(c/3+1),s.y+1.4*Math.sin(m)*p*(c/3+1)]},gs.findCompoundLoopPoints=function(t,e,i,n){var o=t._private.rscratch;o.edgeType="compound";var r=e.srcPos,s=e.tgtPos,a=e.srcW,l=e.srcH,h=e.tgtW,d=e.tgtH,u=t.pstyle("control-point-step-size").pfValue,c=t.pstyle("control-point-distances"),p=i,f=u;n&&(p=0,f=c?c.pfValue[0]:void 0);var g={x:r.x-a/2,y:r.y-l/2},m={x:s.x-h/2,y:s.y-d/2},v={x:Math.min(g.x,m.x),y:Math.min(g.y,m.y)},y=Math.max(.5,Math.log(.01*a)),b=Math.max(.5,Math.log(.01*h));o.ctrlpts=[v.x,v.y-(1+Math.pow(50,1.12)/100)*f*(p/3+1)*y,v.x-(1+Math.pow(50,1.12)/100)*f*(p/3+1)*b,v.y]},gs.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},gs.findBezierPoints=function(t,e,i,n,o){var r=t._private.rscratch,s=e.vectorNormInverse,a=e.posPts,l=e.intersectionPts,h=t.pstyle("edge-distances").value,d=t.pstyle("control-point-step-size").pfValue,u=t.pstyle("control-point-distances"),c=t.pstyle("control-point-weights"),p=u&&c?Math.min(u.value.length,c.value.length):1,f=u?u.pfValue[0]:void 0,g=c.value[0],m=n;r.edgeType=m?"multibezier":"bezier",r.ctrlpts=[];for(var v=0;v<p;v++){var y,b=(.5-e.eles.length/2+i)*d*(o?-1:1),w=oe(b);m&&(f=u?u.pfValue[v]:d,g=c.value[v]);var x=void 0!==(y=n?f:void 0!==f?w*f:void 0)?y:b,_=1-g,E="node-position"===h?a:l,k={x:E.x1*_+E.x2*g,y:E.y1*_+E.y2*g};r.ctrlpts.push(k.x+s.x*x,k.y+s.y*x)}},gs.findTaxiPoints=function(t,e){var i=t._private.rscratch;i.edgeType="segments";var n=e.posPts,o=e.srcW,r=e.srcH,s=e.tgtW,a=e.tgtH,l="node-position"!==t.pstyle("edge-distances").value,h=t.pstyle("taxi-direction").value,d=h,u=t.pstyle("taxi-turn"),c=u.pfValue,p=t.pstyle("taxi-turn-min-distance").pfValue,f="%"===u.units,g=l?(r+a)/2:0,m=n.x2-n.x1,v=n.y2-n.y1,y=function(t,e){return t>0?Math.max(t-e,0):Math.min(t+e,0)},b=y(m,l?(o+s)/2:0),w=y(v,g),x=!1;"auto"===h?h=Math.abs(b)>Math.abs(w)?"horizontal":"vertical":"upward"===h||"downward"===h?(h="vertical",x=!0):"leftward"!==h&&"rightward"!==h||(h="horizontal",x=!0);var _="vertical"===h,E=_?w:b,k=_?v:m,S=oe(k),C=!1;x&&f||!("downward"===d&&k<0||"upward"===d&&k>0||"leftward"===d&&k>0||"rightward"===d&&k<0)||(E=(S*=-1)*Math.abs(E),C=!0);var T=f?c*E:c*S,M=function(t){return Math.abs(t)<p||Math.abs(t)>=Math.abs(E)},D=M(T),O=M(E-T);if(!D&&!O||C)if(_){var P=n.y1+T+(l?r/2*S:0);i.segpts=[n.x1,P,n.x2,P]}else{var I=n.x1+T+(l?o/2*S:0);i.segpts=[I,n.y1,I,n.y2]}else if(_){var A=Math.abs(k)<=r/2,N=Math.abs(m)<=s/2;if(A){var R=(n.x1+n.x2)/2;i.segpts=[R,n.y1,R,n.y2]}else if(N){var L=(n.y1+n.y2)/2;i.segpts=[n.x1,L,n.x2,L]}else i.segpts=[n.x1,n.y2]}else{var z=Math.abs(k)<=o/2,B=Math.abs(v)<=a/2;if(z){var F=(n.y1+n.y2)/2;i.segpts=[n.x1,F,n.x2,F]}else if(B){var j=(n.x1+n.x2)/2;i.segpts=[j,n.y1,j,n.y2]}else i.segpts=[n.x2,n.y1]}},gs.tryToCorrectInvalidPoints=function(t,e){var i=t._private.rscratch;if("bezier"===i.edgeType){var n=e.srcPos,o=e.tgtPos,r=e.srcW,s=e.srcH,a=e.tgtW,l=e.tgtH,h=e.srcShape,d=e.tgtShape,u=!m(i.startX)||!m(i.startY),c=!m(i.arrowStartX)||!m(i.arrowStartY),p=!m(i.endX)||!m(i.endY),f=!m(i.arrowEndX)||!m(i.arrowEndY),g=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,v=re({x:i.ctrlpts[0],y:i.ctrlpts[1]},{x:i.startX,y:i.startY}),y=v<g,b=re({x:i.ctrlpts[0],y:i.ctrlpts[1]},{x:i.endX,y:i.endY}),w=b<g,x=!1;if(u||c||y){x=!0;var _={x:i.ctrlpts[0]-n.x,y:i.ctrlpts[1]-n.y},E=Math.sqrt(_.x*_.x+_.y*_.y),k={x:_.x/E,y:_.y/E},S=Math.max(r,s),C={x:i.ctrlpts[0]+2*k.x*S,y:i.ctrlpts[1]+2*k.y*S},T=h.intersectLine(n.x,n.y,r,s,C.x,C.y,0);y?(i.ctrlpts[0]=i.ctrlpts[0]+k.x*(g-v),i.ctrlpts[1]=i.ctrlpts[1]+k.y*(g-v)):(i.ctrlpts[0]=T[0]+k.x*g,i.ctrlpts[1]=T[1]+k.y*g)}if(p||f||w){x=!0;var M={x:i.ctrlpts[0]-o.x,y:i.ctrlpts[1]-o.y},D=Math.sqrt(M.x*M.x+M.y*M.y),O={x:M.x/D,y:M.y/D},P=Math.max(r,s),I={x:i.ctrlpts[0]+2*O.x*P,y:i.ctrlpts[1]+2*O.y*P},A=d.intersectLine(o.x,o.y,a,l,I.x,I.y,0);w?(i.ctrlpts[0]=i.ctrlpts[0]+O.x*(g-b),i.ctrlpts[1]=i.ctrlpts[1]+O.y*(g-b)):(i.ctrlpts[0]=A[0]+O.x*g,i.ctrlpts[1]=A[1]+O.y*g)}x&&this.findEndpoints(t)}},gs.storeAllpts=function(t){var e=t._private.rscratch;if("multibezier"===e.edgeType||"bezier"===e.edgeType||"self"===e.edgeType||"compound"===e.edgeType){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var i=0;i+1<e.ctrlpts.length;i+=2)e.allpts.push(e.ctrlpts[i],e.ctrlpts[i+1]),i+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[i]+e.ctrlpts[i+2])/2,(e.ctrlpts[i+1]+e.ctrlpts[i+3])/2);var n;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2==0?(e.midX=e.allpts[n=e.allpts.length/2-1],e.midY=e.allpts[n+1]):(e.midX=le(e.allpts[n=e.allpts.length/2-3],e.allpts[n+2],e.allpts[n+4],.5),e.midY=le(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],.5))}else if("straight"===e.edgeType)e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if("segments"===e.edgeType)if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4==0){var o=e.segpts.length/2,r=o-2;e.midX=(e.segpts[r]+e.segpts[o])/2,e.midY=(e.segpts[r+1]+e.segpts[o+1])/2}else{var s=e.segpts.length/2-1;e.midX=e.segpts[s],e.midY=e.segpts[s+1]}},gs.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||m(e.startX)&&m(e.startY)&&m(e.endX)&&m(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Et("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},gs.findEdgeControlPoints=function(t){var e=this;if(t&&0!==t.length){for(var i=this,n=i.cy.hasCompoundNodes(),o={map:new At,get:function(t){var e=this.map.get(t[0]);return null!=e?e.get(t[1]):null},set:function(t,e){var i=this.map.get(t[0]);null==i&&(i=new At,this.map.set(t[0],i)),i.set(t[1],e)}},r=[],s=[],a=0;a<t.length;a++){var l=t[a],h=l._private,d=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==d){var u="unbundled-bezier"===d||"segments"===d||"straight"===d||"taxi"===d,c="unbundled-bezier"===d||"bezier"===d,p=h.target,f=[h.source.poolIndex(),p.poolIndex()].sort(),g=o.get(f);null==g&&(o.set(f,g={eles:[]}),r.push(f)),g.eles.push(l),u&&(g.hasUnbundled=!0),c&&(g.hasBezier=!0)}else s.push(l)}for(var v=function(t){var s=o.get(r[t]),a=void 0;if(!s.hasUnbundled){var l=s.eles[0].parallelEdges().filter(function(t){return t.isBundledBezier()});Ot(s.eles),l.forEach(function(t){return s.eles.push(t)}),s.eles.sort(function(t,e){return t.poolIndex()-e.poolIndex()})}var h=s.eles[0],d=h.source(),u=h.target();if(d.poolIndex()>u.poolIndex()){var c=d;d=u,u=c}var p=s.srcPos=d.position(),f=s.tgtPos=u.position(),g=s.srcW=d.outerWidth(),v=s.srcH=d.outerHeight(),y=s.tgtW=u.outerWidth(),b=s.tgtH=u.outerHeight(),w=s.srcShape=i.nodeShapes[e.getNodeShape(d)],x=s.tgtShape=i.nodeShapes[e.getNodeShape(u)];s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<s.eles.length;_++){var E=s.eles[_],k=E[0]._private.rscratch,S=E.pstyle("curve-style").value,C="unbundled-bezier"===S||"segments"===S||"taxi"===S,T=!d.same(E.source());if(!s.calculatedIntersection&&d!==u&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var M=w.intersectLine(p.x,p.y,g,v,f.x,f.y,0),D=s.srcIntn=M,O=x.intersectLine(f.x,f.y,y,b,p.x,p.y,0),P=s.tgtIntn=O,I=s.intersectionPts={x1:M[0],x2:O[0],y1:M[1],y2:O[1]},A=s.posPts={x1:p.x,x2:f.x,y1:p.y,y2:f.y},N=O[1]-M[1],R=O[0]-M[0],L=Math.sqrt(R*R+N*N),z=s.vector={x:R,y:N},B=s.vectorNorm={x:z.x/L,y:z.y/L},F={x:-B.y,y:B.x};s.nodesOverlap=!m(L)||x.checkPoint(M[0],M[1],0,y,b,f.x,f.y)||w.checkPoint(O[0],O[1],0,g,v,p.x,p.y),s.vectorNormInverse=F,a={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:f,tgtPos:p,srcW:y,srcH:b,tgtW:g,tgtH:v,srcIntn:P,tgtIntn:D,srcShape:x,tgtShape:w,posPts:{x1:A.x2,y1:A.y2,x2:A.x1,y2:A.y1},intersectionPts:{x1:I.x2,y1:I.y2,x2:I.x1,y2:I.y1},vector:{x:-z.x,y:-z.y},vectorNorm:{x:-B.x,y:-B.y},vectorNormInverse:{x:-F.x,y:-F.y}}}var j=T?a:s;k.nodesOverlap=j.nodesOverlap,k.srcIntn=j.srcIntn,k.tgtIntn=j.tgtIntn,n&&(d.isParent()||d.isChild()||u.isParent()||u.isChild())&&(d.parents().anySame(u)||u.parents().anySame(d)||d.same(u))?e.findCompoundLoopPoints(E,j,_,C):d===u?e.findLoopPoints(E,j,_,C):"segments"===S?e.findSegmentsPoints(E,j):"taxi"===S?e.findTaxiPoints(E,j):"straight"===S||!C&&s.eles.length%2==1&&_===Math.floor(s.eles.length/2)?e.findStraightEdgePoints(E):e.findBezierPoints(E,j,_,C,T),e.findEndpoints(E),e.tryToCorrectInvalidPoints(E,j),e.checkForInvalidEdgeWarning(E),e.storeAllpts(E),e.storeEdgeProjections(E),e.calculateArrowAngles(E),e.recalculateEdgeLabelProjections(E),e.calculateLabelAngles(E)}},y=0;y<r.length;y++)v(y);this.findHaystackPoints(s)}},gs.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return this.recalculateRenderedStyle(t),ms(e.segpts)},gs.getControlPoints=function(t){var e=t[0]._private.rscratch,i=e.edgeType;if("bezier"===i||"multibezier"===i||"self"===i||"compound"===i)return this.recalculateRenderedStyle(t),ms(e.ctrlpts)},gs.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var vs={manualEndptToPx:function(t,e){var i=t.position(),n=t.outerWidth(),o=t.outerHeight();if(2===e.value.length){var r=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(r[0]=r[0]*n),"%"===e.units[1]&&(r[1]=r[1]*o),r[0]+=i.x,r[1]+=i.y,r}var s=e.pfValue[0];s=-Math.PI/2+s;var a=2*Math.max(n,o),l=[i.x+Math.cos(s)*a,i.y+Math.sin(s)*a];return this.nodeShapes[this.getNodeShape(t)].intersectLine(i.x,i.y,n,o,l[0],l[1],0)},findEndpoints:function(t){var e,i,n,o,r,s=this,a=t.source()[0],l=t.target()[0],h=a.position(),d=l.position(),u=t.pstyle("target-arrow-shape").value,c=t.pstyle("source-arrow-shape").value,p=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,g=t.pstyle("curve-style").value,v=t._private.rscratch,y=v.edgeType,b="self"===y||"compound"===y,w="bezier"===y||"multibezier"===y||b,x="bezier"!==y,_="straight"===y||"segments"===y,E="segments"===y,k=w||x||_,S=b||"taxi"===g,C=t.pstyle("source-endpoint"),T=S?"outside-to-node":C.value,M=t.pstyle("target-endpoint"),D=S?"outside-to-node":M.value;if(v.srcManEndpt=C,v.tgtManEndpt=M,w){var O=[v.ctrlpts[0],v.ctrlpts[1]];i=x?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:O,n=O}else if(_){var P=E?v.segpts.slice(0,2):[d.x,d.y];i=E?v.segpts.slice(v.segpts.length-2):[h.x,h.y],n=P}if("inside-to-node"===D)e=[d.x,d.y];else if(M.units)e=this.manualEndptToPx(l,M);else if("outside-to-line"===D)e=v.tgtIntn;else if("outside-to-node"===D||"outside-to-node-or-label"===D?o=i:"outside-to-line"!==D&&"outside-to-line-or-label"!==D||(o=[h.x,h.y]),e=s.nodeShapes[this.getNodeShape(l)].intersectLine(d.x,d.y,l.outerWidth(),l.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===D||"outside-to-line-or-label"===D){var I=l._private.rscratch,A=I.labelWidth,N=I.labelHeight,R=I.labelX,L=I.labelY,z=l.pstyle("text-valign").value;"top"===z?L-=N/2:"bottom"===z&&(L+=N/2);var B=l.pstyle("text-halign").value;"left"===B?R-=A/2:"right"===B&&(R+=A/2);var F=s.nodeShapes.rectangle.intersectLine(R,L,A,N,o[0],o[1],0),j=h,H=se(j,ee(e));se(j,ee(F))<H&&(e=F)}var V=Re(e,i,s.arrowShapes[u].spacing(t)+p),W=Re(e,i,s.arrowShapes[u].gap(t)+p);if(v.endX=W[0],v.endY=W[1],v.arrowEndX=V[0],v.arrowEndY=V[1],"inside-to-node"===T)e=[h.x,h.y];else if(C.units)e=this.manualEndptToPx(a,C);else if("outside-to-line"===T)e=v.srcIntn;else if("outside-to-node"===T||"outside-to-node-or-label"===T?r=n:"outside-to-line"!==T&&"outside-to-line-or-label"!==T||(r=[d.x,d.y]),e=s.nodeShapes[this.getNodeShape(a)].intersectLine(h.x,h.y,a.outerWidth(),a.outerHeight(),r[0],r[1],0),"outside-to-node-or-label"===T||"outside-to-line-or-label"===T){var U=a._private.rscratch,Y=U.labelWidth,G=U.labelHeight,q=U.labelX,X=U.labelY,$=a.pstyle("text-valign").value;"top"===$?X-=G/2:"bottom"===$&&(X+=G/2);var K=a.pstyle("text-halign").value;"left"===K?q-=Y/2:"right"===K&&(q+=Y/2);var Z=s.nodeShapes.rectangle.intersectLine(q,X,Y,G,r[0],r[1],0),Q=d,J=se(Q,ee(e));se(Q,ee(Z))<J&&(e=Z)}var tt=Re(e,n,s.arrowShapes[c].spacing(t)+f),et=Re(e,n,s.arrowShapes[c].gap(t)+f);v.startX=et[0],v.startY=et[1],v.arrowStartX=tt[0],v.arrowStartY=tt[1],k&&(v.badLine=!(m(v.startX)&&m(v.startY)&&m(v.endX)&&m(v.endY)))},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}}},ys={};function bs(t,e,i){for(var n=function(t,e,i,n){return le(t,e,i,n)},o=e._private.rstyle.bezierPts,r=0;r<t.bezierProjPcts.length;r++){var s=t.bezierProjPcts[r];o.push({x:n(i[0],i[2],i[4],s),y:n(i[1],i[3],i[5],s)})}}ys.storeEdgeProjections=function(t){var e=t._private,i=e.rscratch,n=i.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===n||"bezier"===n||"self"===n||"compound"===n){e.rstyle.bezierPts=[];for(var o=0;o+5<i.allpts.length;o+=4)bs(this,t,i.allpts.slice(o,o+6))}else if("segments"===n){var r=e.rstyle.linePts=[];for(o=0;o+1<i.allpts.length;o+=2)r.push({x:i.allpts[o],y:i.allpts[o+1]})}else if("haystack"===n){var s=i.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},ys.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var ws={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!E(e)){var i,n,o=t._private,r=t.width(),s=t.height(),a=t.padding(),l=t.position(),h=t.pstyle("text-halign").strValue,d=t.pstyle("text-valign").strValue,u=o.rscratch,c=o.rstyle;switch(h){case"left":i=l.x-r/2-a;break;case"right":i=l.x+r/2+a;break;default:i=l.x}switch(d){case"top":n=l.y-s/2-a;break;case"bottom":n=l.y+s/2+a;break;default:n=l.y}u.labelX=i,u.labelY=n,c.labelX=i,c.labelY=n,this.applyLabelDimensions(t)}}},xs=function(t,e){var i=Math.atan(e/t);return 0===t&&i<0&&(i*=-1),i},_s=function(t,e){return xs(e.x-t.x,e.y-t.y)};ws.recalculateEdgeLabelProjections=function(t){var e,i=t._private,n=i.rscratch,o=this,r={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(r.mid||r.source||r.target){var s=function(t,e,n){It(i.rscratch,t,e,n),It(i.rstyle,t,e,n)};s("labelX",null,(e={x:n.midX,y:n.midY}).x),s("labelY",null,e.y);var a=xs(n.midDispX,n.midDispY);s("labelAutoAngle",null,a);var l=function(a){var l,h="source"===a;if(r[a]){var d=t.pstyle(a+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var u,c=function t(){if(t.cache)return t.cache;for(var e=[],r=0;r+5<n.allpts.length;r+=4)e.push({p0:{x:n.allpts[r],y:n.allpts[r+1]},p1:{x:n.allpts[r+2],y:n.allpts[r+3]},p2:{x:n.allpts[r+4],y:n.allpts[r+5]},startDist:0,length:0,segments:[]});var s=i.rstyle.bezierPts,a=o.bezierProjPcts.length;function l(t,e,i,n,o){var r=re(e,i),s=t.segments[t.segments.length-1];t.segments.push({p0:e,p1:i,t0:n,t1:o,startDist:s?s.startDist+s.length:0,length:r}),t.length+=r}for(var h=0;h<e.length;h++){var d=e[h],u=e[h-1];u&&(d.startDist=u.startDist+u.length),l(d,d.p0,s[h*a],0,o.bezierProjPcts[0]);for(var c=0;c<a-1;c++)l(d,s[h*a+c],s[h*a+c+1],o.bezierProjPcts[c],o.bezierProjPcts[c+1]);l(d,s[h*a+a-1],d.p2,o.bezierProjPcts[a-1],1)}return t.cache=e}(),p=0,f=0,g=0;g<c.length;g++){for(var m=c[h?g:c.length-1-g],v=0;v<m.segments.length;v++){var y=m.segments[h?v:m.segments.length-1-v];if(p=f,(f+=y.length)>=d||g===c.length-1&&v===m.segments.length-1){u={cp:m,segment:y};break}}if(u)break}var b=u.cp,w=u.segment,x=(d-p)/w.length,_=w.t1-w.t0,E=h?w.t0+_*x:w.t1-_*x;E=de(0,E,1),e=he(b.p0,b.p1,b.p2,E),l=function(t,e,i,n){var o=de(0,n-.001,1),r=de(0,n+.001,1),s=he(t,e,i,o),a=he(t,e,i,r);return _s(s,a)}(b.p0,b.p1,b.p2,E);break;case"straight":case"segments":case"haystack":for(var k,S,C,T,M=0,D=n.allpts.length,O=0;O+3<D&&(h?(C={x:n.allpts[O],y:n.allpts[O+1]},T={x:n.allpts[O+2],y:n.allpts[O+3]}):(C={x:n.allpts[D-2-O],y:n.allpts[D-1-O]},T={x:n.allpts[D-4-O],y:n.allpts[D-3-O]}),S=M,!((M+=k=re(C,T))>=d));O+=2);var P=(d-S)/k;P=de(0,P,1),e=function(t,e,i,n){var o=T.x-t.x,r=T.y-t.y,s=re(t,T);return i=null==i?0:i,{x:t.x+o/s*(n=null!=n?n:i*s),y:t.y+r/s*n}}(C,0,P),l=_s(C,T)}s("labelX",a,e.x),s("labelY",a,e.y),s("labelAutoAngle",a,l)}};l("source"),l("target"),this.applyLabelDimensions(t)}},ws.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},ws.applyPrefixedLabelDimensions=function(t,e){var i=t._private,n=this.getLabelText(t,e),o=this.calculateLabelDimensions(t,n),r=t.pstyle("line-height").pfValue,s=t.pstyle("text-wrap").strValue,a=Pt(i.rscratch,"labelWrapCachedLines",e)||[],l="wrap"!==s?1:Math.max(a.length,1),h=o.height/l,d=h*r,u=o.width,c=o.height+(l-1)*(r-1)*h;It(i.rstyle,"labelWidth",e,u),It(i.rscratch,"labelWidth",e,u),It(i.rstyle,"labelHeight",e,c),It(i.rscratch,"labelHeight",e,c),It(i.rscratch,"labelLineHeight",e,d)},ws.getLabelText=function(t,e){var i=t._private,n=t.pstyle((e?e+"-":"")+"label").strValue,o=t.pstyle("text-transform").value,r=function(t,n){return n?(It(i.rscratch,t,e,n),n):Pt(i.rscratch,t,e)};if(!n)return"";"none"==o||("uppercase"==o?n=n.toUpperCase():"lowercase"==o&&(n=n.toLowerCase()));var s=t.pstyle("text-wrap").value;if("wrap"===s){var a=r("labelKey");if(null!=a&&r("labelWrapKey")===a)return r("labelWrapCachedText");for(var l=n.split("\n"),h=t.pstyle("text-max-width").pfValue,d="anywhere"===t.pstyle("text-overflow-wrap").value,u=[],c=/[\s\u200b]+/,p=d?"":" ",f=0;f<l.length;f++){var g=l[f],m=this.calculateLabelDimensions(t,g).width;if(d){var v=g.split("").join("\u200b");g=v}if(m>h){for(var y=g.split(c),b="",w=0;w<y.length;w++){var x=y[w];this.calculateLabelDimensions(t,0===b.length?x:b+p+x).width<=h?b+=x+p:(u.push(b),b=x+p)}b.match(/^[\s\u200b]+$/)||u.push(b)}else u.push(g)}r("labelWrapCachedLines",u),n=r("labelWrapCachedText",u.join("\n")),r("labelWrapKey",a)}else if("ellipsis"===s){for(var _=t.pstyle("text-max-width").pfValue,E="",k=!1,S=0;S<n.length&&!(this.calculateLabelDimensions(t,E+n[S]+"\u2026").width>_);S++)E+=n[S],S===n.length-1&&(k=!0);return k||(E+="\u2026"),E}return n},ws.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,i=t.pstyle("text-halign").strValue;if("auto"!==e)return e;if(!t.isNode())return"center";switch(i){case"left":return"right";case"right":return"left";default:return"center"}},ws.calculateLabelDimensions=function(t,e){var i=dt(e,t._private.labelDimsKey),n=this.labelDimCache||(this.labelDimCache=[]),o=n[i];if(null!=o)return o;var r=t.pstyle("font-style").strValue,s=1*t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,h=this.labelCalcDiv;h||(h=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(h));var d=h.style;return d.fontFamily=a,d.fontStyle=r,d.fontSize=s,d.fontWeight=l,d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none",d.padding="0",d.lineHeight="1",d.whiteSpace="wrap"===t.pstyle("text-wrap").value?"pre":"normal",h.textContent=e,n[i]={width:Math.ceil(h.clientWidth/1),height:Math.ceil(h.clientHeight/1)}},ws.calculateLabelAngle=function(t,e){var i=t._private.rscratch,n=t.isEdge(),o=t.pstyle((e?e+"-":"")+"text-rotation"),r=o.strValue;return"none"===r?0:n&&"autorotate"===r?i.labelAutoAngle:"autorotate"===r?0:o.pfValue},ws.calculateLabelAngles=function(t){var e=this,i=t.isEdge(),n=t._private.rscratch;n.labelAngle=e.calculateLabelAngle(t),i&&(n.sourceLabelAngle=e.calculateLabelAngle(t,"source"),n.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Es={},ks=!1;Es.getNodeShape=function(t){var e=t.pstyle("shape").value;if("cutrectangle"===e&&(t.width()<28||t.height()<28))return ks||(Et("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),ks=!0),"rectangle";if(t.isParent())return"rectangle"===e||"roundrectangle"===e||"cutrectangle"===e||"barrel"===e?e:"rectangle";if("polygon"===e){var i=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(i).name}return e};var Ss={};[ps,fs,gs,vs,ys,ws,Es,{registerCalculationListeners:function(){var t=this.cy,e=t.collection(),i=this,n=function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.merge(t),i)for(var n=0;n<t.length;n++){var o=t[n]._private.rstyle;o.clean=!1,o.cleanConnected=!1}};i.binder(t).on("bounds.* dirty.*",function(t){n(t.target)}).on("style.* background.*",function(t){n(t.target,!1)});var o=function(o){if(o){for(var r=i.onUpdateEleCalcsFns,s=0;s<e.length;s++){var a=e[s],l=a._private.rstyle;a.isNode()&&!l.cleanConnected&&(n(a.connectedEdges()),l.cleanConnected=!0)}if(r)for(s=0;s<r.length;s++)(0,r[s])(o,e);i.recalculateRenderedStyle(e),e=t.collection()}};i.flushRenderedStyleQueue=function(){o(!0)},i.beforeRender(o,i.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var i=[],n=[];if(!this.destroyed){void 0===e&&(e=!0);for(var o=0;o<t.length;o++){var r=(l=(a=t[o])._private).rstyle;e&&r.clean||a.removed()||"none"!==a.pstyle("display").value&&("nodes"===l.group?n.push(a):i.push(a),r.clean=!0)}for(o=0;o<n.length;o++){r=(l=(a=n[o])._private).rstyle;var s=a.position();this.recalculateNodeLabelProjection(a),r.nodeX=s.x,r.nodeY=s.y,r.nodeW=a.pstyle("width").pfValue,r.nodeH=a.pstyle("height").pfValue}for(this.recalculateEdgeProjections(i),o=0;o<i.length;o++){r=(l=(a=i[o])._private).rstyle;var a,l,h=l.rscratch;r.srcX=h.arrowStartX,r.srcY=h.arrowStartY,r.tgtX=h.arrowEndX,r.tgtY=h.arrowEndY,r.midX=h.midX,r.midY=h.midY,r.labelAngle=h.labelAngle,r.sourceLabelAngle=h.sourceLabelAngle,r.targetLabelAngle=h.targetLabelAngle}}}},{updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],i=0;i<t.length;i++){var n=(o=t[i])._private.rscratch;o.grabbed()&&!o.isParent()?e.push(o):n.inDragLayer?t.drag.push(o):t.nondrag.push(o)}for(i=0;i<e.length;i++){var o=e[i];t.drag.push(o)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(mo),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}}].forEach(function(t){A(Ss,t)});var Cs={getCachedImage:function(t,e,i){var n=this.imageCache=this.imageCache||{},o=n[t];if(o)return o.image.complete||o.image.addEventListener("load",i),o.image;var r=(o=n[t]=n[t]||{}).image=new Image;return r.addEventListener("load",i),r.addEventListener("error",function(){r.error=!0}),"data:"===t.substring(0,"data:".length).toLowerCase()||(r.crossOrigin=e),r.src=t,r}},Ts={registerBinding:function(t,e,i,n){var o=Array.prototype.slice.apply(arguments,[1]),r=this.binder(t);return r.on.apply(r,o)},binder:function(t){var e=this,i=t===window||t===document||t===document.body||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement;if(null==e.supportsPassiveEvents){var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,o)}catch(t){}e.supportsPassiveEvents=n}var r=function(n,o,r){var s=Array.prototype.slice.call(arguments);return i&&e.supportsPassiveEvents&&(s[2]={capture:null!=r&&r,passive:!1,once:!1}),e.bindings.push({target:t,args:s}),(t.addEventListener||t.on).apply(t,s),this};return{on:r,addEventListener:r,addListener:r,bind:r}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()},load:function(){var t=this,e=function(t){return t.selected()},i=function(e,i,n,o){null==e&&(e=t.cy);for(var r=0;r<i.length;r++)e.emit({originalEvent:n,type:i[r],position:o})},n=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},o=function(e,i){var n=!0;if(t.cy.hasCompoundNodes()&&e&&e.pannable()){for(var o=0;i&&o<i.length;o++)if((e=i[o]).isNode()&&e.isParent()){n=!1;break}}else n=!0;return n},r=function(t){t[0]._private.rscratch.inDragLayer=!0},s=function(t){t[0]._private.rscratch.isGrabTarget=!0},a=function(t,e){var i=e.addToList;i.has(t)||(i.merge(t),function(t){t[0]._private.grabbed=!0}(t))},l=function(e,i){i=i||{};var n=e.cy().hasCompoundNodes();i.inDragLayer&&(e.forEach(r),e.neighborhood().stdFilter(function(t){return!n||t.isEdge()}).forEach(r)),i.addToList&&e.forEach(function(t){a(t,i)}),function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var i=t.descendants();e.inDragLayer&&(i.forEach(r),i.connectedEdges().forEach(r)),e.addToList&&e.addToList.unmerge(i)}}(e,i),u(e,{inDragLayer:i.inDragLayer}),t.updateCachedGrabbedEles()},h=l,d=function(e){e&&(t.getCachedZSortedEles().forEach(function(t){!function(t){t[0]._private.grabbed=!1}(t),function(t){t[0]._private.rscratch.inDragLayer=!1}(t),function(t){t[0]._private.rscratch.isGrabTarget=!1}(t)}),t.updateCachedGrabbedEles())},u=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var i=t.ancestors().orphans();if(!i.same(t)){var n=i.descendants().spawnSelf().merge(i).unmerge(t).unmerge(t.descendants()),o=n.connectedEdges();e.inDragLayer&&(o.forEach(r),n.forEach(r)),e.addToList&&n.forEach(function(t){a(t,e)})}}},c=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},p="undefined"!=typeof MutationObserver;p?(t.removeObserver=new MutationObserver(function(e){for(var i=0;i<e.length;i++){var n=e[i].removedNodes;if(n)for(var o=0;o<n.length;o++)if(n[o]===t.container){t.destroy();break}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(e){t.destroy()});var f=et(function(){t.cy.resize()},100);p&&(t.styleObserver=new MutationObserver(f),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",f);var g=function(){t.invalidateContainerClientCoordsCache()};!function(t,e){for(;null!=t;)e(t),t=t.parentNode}(t.container,function(e){t.registerBinding(e,"transitionend",g),t.registerBinding(e,"animationend",g),t.registerBinding(e,"scroll",g)}),t.registerBinding(t.container,"contextmenu",function(t){t.preventDefault()});var v,y,b,w,x,_,E,k,S,C,T,M,D,O=function(e){for(var i=t.findContainerClientCoords(),n=i[0],o=i[1],r=i[2],s=i[3],a=e.touches?e.touches:[e],l=!1,h=0;h<a.length;h++){var d=a[h];if(n<=d.clientX&&d.clientX<=n+r&&o<=d.clientY&&d.clientY<=o+s){l=!0;break}}if(!l)return!1;for(var u=t.container,c=e.target.parentNode,p=!1;c;){if(c===u){p=!0;break}c=c.parentNode}return!!p};t.registerBinding(t.container,"mousedown",function(e){if(O(e)){e.preventDefault(),c(),t.hoverData.capture=!0,t.hoverData.which=e.which;var n=t.cy,o=[e.clientX,e.clientY],r=t.projectIntoViewport(o[0],o[1]),a=t.selection,d=t.findNearestElements(r[0],r[1],!0,!1),u=d[0],p=t.dragData.possibleDragElements;if(t.hoverData.mdownPos=r,t.hoverData.mdownGPos=o,3==e.which){t.hoverData.cxtStarted=!0;var f={originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}};u?(u.activate(),u.emit(f),t.hoverData.down=u):n.emit(f),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==e.which){if(u&&u.activate(),null!=u&&t.nodeIsGrabbable(u)){var g=function(t){return{originalEvent:e,type:t,position:{x:r[0],y:r[1]}}};if(s(u),u.selected()){p=t.dragData.possibleDragElements=n.collection();var m=n.$(function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)});l(m,{addToList:p}),u.emit(g("grabon")),m.forEach(function(t){t.emit(g("grab"))})}else p=t.dragData.possibleDragElements=n.collection(),h(u,{addToList:p}),u.emit(g("grabon")).emit(g("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=u,t.hoverData.downs=d,t.hoverData.downTime=(new Date).getTime(),i(u,["mousedown","tapstart","vmousedown"],e,{x:r[0],y:r[1]}),null==u?(a[4]=1,t.data.bgActivePosistion={x:r[0],y:r[1]},t.redrawHint("select",!0),t.redraw()):u.pannable()&&(a[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var i=t.hoverData.down;i?i.emit({originalEvent:e,type:"taphold",position:{x:r[0],y:r[1]}}):n.emit({originalEvent:e,type:"taphold",position:{x:r[0],y:r[1]}})}},t.tapholdDuration)}a[0]=a[2]=r[0],a[1]=a[3]=r[1]}},!1),t.registerBinding(window,"mousemove",function(e){if(t.hoverData.capture||O(e)){var r=!1,s=t.cy,a=s.zoom(),h=[e.clientX,e.clientY],u=t.projectIntoViewport(h[0],h[1]),c=t.hoverData.mdownPos,p=t.hoverData.mdownGPos,f=t.selection,g=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(g=t.findNearestElement(u[0],u[1],!0,!1));var v,y=t.hoverData.last,b=t.hoverData.down,w=[u[0]-f[2],u[1]-f[3]],x=t.dragData.possibleDragElements;if(p){var _=h[0]-p[0],E=h[1]-p[1];t.hoverData.isOverThresholdDrag=v=_*_+E*E>=t.desktopTapThreshold2}var k=n(e);v&&(t.hoverData.tapholdCancelled=!0),r=!0,i(g,["mousemove","vmousemove","tapdrag"],e,{x:u[0],y:u[1]});var S=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||s.emit({originalEvent:e,type:"boxstart",position:{x:u[0],y:u[1]}}),f[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(v){var C={originalEvent:e,type:"cxtdrag",position:{x:u[0],y:u[1]}};b?b.emit(C):s.emit(C),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&g===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:u[0],y:u[1]}}),t.hoverData.cxtOver=g,g&&g.emit({originalEvent:e,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}}else if(t.hoverData.dragging){if(r=!0,s.panningEnabled()&&s.userPanningEnabled()){var T;if(t.hoverData.justStartedPan){var M=t.hoverData.mdownPos;T={x:(u[0]-M[0])*a,y:(u[1]-M[1])*a},t.hoverData.justStartedPan=!1}else T={x:w[0]*a,y:w[1]*a};s.panBy(T),t.hoverData.dragged=!0}u=t.projectIntoViewport(e.clientX,e.clientY)}else if(1!=f[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||g==y||(y&&i(y,["mouseout","tapdragout"],e,{x:u[0],y:u[1]}),g&&i(g,["mouseover","tapdragover"],e,{x:u[0],y:u[1]}),t.hoverData.last=g),b)if(v){if(s.boxSelectionEnabled()&&k)b&&b.grabbed()&&(d(x),b.emit("freeon"),x.emit("free"),t.dragData.didDrag&&(b.emit("dragfreeon"),x.emit("dragfree"))),S();else if(b&&b.grabbed()&&t.nodeIsDraggable(b)){var D=!t.dragData.didDrag;D&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var P=s.collection();t.hoverData.draggingEles||l(x,{inDragLayer:!0});var I={x:0,y:0};if(m(w[0])&&m(w[1])&&(I.x+=w[0],I.y+=w[1],D)){var A=t.hoverData.dragDelta;A&&m(A[0])&&m(A[1])&&(I.x+=A[0],I.y+=A[1])}for(var N=0;N<x.length;N++){var R=x[N];t.nodeIsDraggable(R)&&R.grabbed()&&P.merge(R)}t.hoverData.draggingEles=!0,P.silentShift(I).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else!function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(w[0]),e.push(w[1])):(e[0]+=w[0],e[1]+=w[1])}();r=!0}else v&&(t.hoverData.dragging||!s.boxSelectionEnabled()||!k&&s.panningEnabled()&&s.userPanningEnabled()?!t.hoverData.selecting&&s.panningEnabled()&&s.userPanningEnabled()&&o(b,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,f[4]=0,t.data.bgActivePosistion=ee(c),t.redrawHint("select",!0),t.redraw()):S(),b&&b.pannable()&&b.active()&&b.unactivate());return f[2]=u[0],f[3]=u[1],r?(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):void 0}},!1),t.registerBinding(window,"mouseup",function(o){if(t.hoverData.capture){t.hoverData.capture=!1;var r=t.cy,s=t.projectIntoViewport(o.clientX,o.clientY),a=t.selection,l=t.findNearestElement(s[0],s[1],!0,!1),h=t.dragData.possibleDragElements,u=t.hoverData.down,c=n(o);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,u&&u.unactivate(),3===t.hoverData.which){var p={originalEvent:o,type:"cxttapend",position:{x:s[0],y:s[1]}};if(u?u.emit(p):r.emit(p),!t.hoverData.cxtDragged){var f={originalEvent:o,type:"cxttap",position:{x:s[0],y:s[1]}};u?u.emit(f):r.emit(f)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(i(l,["mouseup","tapend","vmouseup"],o,{x:s[0],y:s[1]}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||i(u,["click","tap","vclick"],o,{x:s[0],y:s[1]}),null!=u||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||n(o)||(r.$(e).unselect(["tapunselect"]),h.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=h=r.collection()),l!=u||t.dragData.didDrag||t.hoverData.selecting||null!=l&&l._private.selectable&&(t.hoverData.dragging||("additive"===r.selectionType()||c?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):c||(r.$(e).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var g=r.collection(t.getAllInBox(a[0],a[1],a[2],a[3]));t.redrawHint("select",!0),g.length>0&&t.redrawHint("eles",!0),r.emit({type:"boxend",originalEvent:o,position:{x:s[0],y:s[1]}});var m=function(t){return t.selectable()&&!t.selected()};"additive"===r.selectionType()?g.emit("box").stdFilter(m).select().emit("boxselect"):(c||r.$(e).unmerge(g).unselect(),g.emit("box").stdFilter(m).select().emit("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!a[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var v=u&&u.grabbed();d(h),v&&(u.emit("freeon"),h.emit("free"),t.dragData.didDrag&&(u.emit("dragfreeon"),h.emit("dragfree")))}}a[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1),t.registerBinding(t.container,"wheel",function(e){if(!t.scrollingPage){var i,n=t.cy,o=t.projectIntoViewport(e.clientX,e.clientY),r=[o[0]*n.zoom()+n.pan().x,o[1]*n.zoom()+n.pan().y];t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||0!==t.selection[4]?e.preventDefault():n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()&&(e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150),i=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,i*=t.wheelSensitivity,1===e.deltaMode&&(i*=33),n.zoom({level:n.zoom()*Math.pow(10,i),renderedPosition:{x:r[0],y:r[1]}}))}},!0),t.registerBinding(window,"scroll",function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"mouseout",function(e){var i=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:i[0],y:i[1]}})},!1),t.registerBinding(t.container,"mouseover",function(e){var i=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:i[0],y:i[1]}})},!1);var P,I,A,N,R=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},L=function(t,e,i,n){return(i-t)*(i-t)+(n-e)*(n-e)};if(t.registerBinding(t.container,"touchstart",P=function(e){if(O(e)){c(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var n=t.cy,o=t.touchData.now,r=t.touchData.earlier;if(e.touches[0]){var a=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);o[0]=a[0],o[1]=a[1]}if(e.touches[1]&&(a=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),o[2]=a[0],o[3]=a[1]),e.touches[2]&&(a=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),o[4]=a[0],o[5]=a[1]),e.touches[1]){d(t.dragData.touchDragEles);var u=t.findContainerClientCoords();T=u[2],M=u[3],y=e.touches[0].clientY-(C=u[1]),b=e.touches[1].clientX-(S=u[0]),w=e.touches[1].clientY-C,D=0<=(v=e.touches[0].clientX-S)&&v<=T&&0<=b&&b<=T&&0<=y&&y<=M&&0<=w&&w<=M;var p=n.pan(),f=n.zoom();if(x=R(v,y,b,w),_=L(v,y,b,w),k=[((E=[(v+b)/2,(y+w)/2])[0]-p.x)/f,(E[1]-p.y)/f],_<4e4&&!e.touches[2]){var g=t.findNearestElement(o[0],o[1],!0,!0),m=t.findNearestElement(o[2],o[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}}),t.touchData.start=g):m&&m.isNode()?(m.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}}),t.touchData.start=m):n.emit({originalEvent:e,type:"cxttapstart",position:{x:o[0],y:o[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(e.touches[2]);else if(e.touches[1]);else if(e.touches[0]){var P=t.findNearestElements(o[0],o[1],!0,!0),I=P[0];if(null!=I&&(I.activate(),t.touchData.start=I,t.touchData.starts=P,t.nodeIsGrabbable(I))){var A=t.dragData.touchDragEles=n.collection(),N=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),I.selected()?(N=n.$(function(e){return e.selected()&&t.nodeIsGrabbable(e)}),l(N,{addToList:A})):h(I,{addToList:A}),s(I);var z=function(t){return{originalEvent:e,type:t,position:{x:o[0],y:o[1]}}};I.emit(z("grabon")),N?N.forEach(function(t){t.emit(z("grab"))}):I.emit(z("grab"))}i(I,["touchstart","tapstart","vmousedown"],e,{x:o[0],y:o[1]}),null==I&&(t.data.bgActivePosistion={x:a[0],y:a[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){!1!==t.touchData.singleTouchMoved||t.pinching||t.touchData.selecting||i(t.touchData.start,["taphold"],e,{x:o[0],y:o[1]})},t.tapholdDuration)}if(e.touches.length>=1){for(var B=t.touchData.startPosition=[],F=0;F<o.length;F++)B[F]=r[F]=o[F];var j=e.touches[0];t.touchData.startGPosition=[j.clientX,j.clientY]}}},!1),t.registerBinding(window,"touchmove",I=function(e){var n=t.touchData.capture;if(n||O(e)){var r=t.selection,s=t.cy,a=t.touchData.now,h=t.touchData.earlier,u=s.zoom();if(e.touches[0]){var c=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);a[0]=c[0],a[1]=c[1]}e.touches[1]&&(c=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),a[2]=c[0],a[3]=c[1]),e.touches[2]&&(c=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),a[4]=c[0],a[5]=c[1]);var p,f=t.touchData.startGPosition;if(n&&e.touches[0]&&f){for(var g=[],E=0;E<a.length;E++)g[E]=a[E]-h[E];var T=e.touches[0].clientX-f[0],M=e.touches[0].clientY-f[1];p=T*T+M*M>=t.touchTapThreshold2}if(n&&t.touchData.cxt){e.preventDefault();var P=e.touches[0].clientX-S,I=e.touches[0].clientY-C,A=e.touches[1].clientX-S,N=e.touches[1].clientY-C,z=L(P,I,A,N);if(z/_>=2.25||z>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var B={originalEvent:e,type:"cxttapend",position:{x:a[0],y:a[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(B),t.touchData.start=null):s.emit(B)}}if(n&&t.touchData.cxt){B={originalEvent:e,type:"cxtdrag",position:{x:a[0],y:a[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(B):s.emit(B),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var F=t.findNearestElement(a[0],a[1],!0,!0);t.touchData.cxtOver&&F===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:a[0],y:a[1]}}),t.touchData.cxtOver=F,F&&F.emit({originalEvent:e,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}else if(n&&e.touches[2]&&s.boxSelectionEnabled())e.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||s.emit({originalEvent:e,type:"boxstart",position:{x:a[0],y:a[1]}}),t.touchData.selecting=!0,t.redrawHint("select",!0),r&&0!==r.length&&void 0!==r[0]?(r[2]=(a[0]+a[2]+a[4])/3,r[3]=(a[1]+a[3]+a[5])/3):(r[0]=(a[0]+a[2]+a[4])/3,r[1]=(a[1]+a[3]+a[5])/3,r[2]=(a[0]+a[2]+a[4])/3+1,r[3]=(a[1]+a[3]+a[5])/3+1),r[4]=1,t.touchData.selecting=!0,t.redraw();else if(n&&e.touches[1]&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){if(e.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),J=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var j=0;j<J.length;j++){var H=J[j]._private;H.grabbed=!1,H.rscratch.inDragLayer=!1}}var V=t.touchData.start,W=R(P=e.touches[0].clientX-S,I=e.touches[0].clientY-C,A=e.touches[1].clientX-S,N=e.touches[1].clientY-C),U=W/x;if(D){var Y=(P-v+(A-b))/2,G=(I-y+(N-w))/2,q=s.zoom(),X=q*U,$=s.pan(),K=k[0]*q+$.x,Z=k[1]*q+$.y,Q={x:-X/q*(K-$.x-Y)+K,y:-X/q*(Z-$.y-G)+Z};if(V&&V.active()){var J=t.dragData.touchDragEles;d(J),t.redrawHint("drag",!0),t.redrawHint("eles",!0),V.unactivate().emit("freeon"),J.emit("free"),t.dragData.didDrag&&(V.emit("dragfreeon"),J.emit("dragfree"))}s.viewport({zoom:X,pan:Q,cancelOnFailedZoom:!0}),x=W,v=P,y=I,b=A,w=N,t.pinching=!0}e.touches[0]&&(c=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),a[0]=c[0],a[1]=c[1]),e.touches[1]&&(c=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),a[2]=c[0],a[3]=c[1]),e.touches[2]&&(c=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),a[4]=c[0],a[5]=c[1])}else if(e.touches[0]){var tt=t.touchData.start,et=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(F=t.findNearestElement(a[0],a[1],!0,!0)),n&&null!=tt&&e.preventDefault(),n&&null!=tt&&t.nodeIsDraggable(tt))if(p){J=t.dragData.touchDragEles;var it=!t.dragData.didDrag;it&&l(J,{inDragLayer:!0}),t.dragData.didDrag=!0;var nt={x:0,y:0};m(g[0])&&m(g[1])&&(nt.x+=g[0],nt.y+=g[1],it&&(t.redrawHint("eles",!0),(ot=t.touchData.dragDelta)&&m(ot[0])&&m(ot[1])&&(nt.x+=ot[0],nt.y+=ot[1]))),t.hoverData.draggingEles=!0,J.silentShift(nt).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==h[0]&&t.touchData.startPosition[1]==h[1]&&t.redrawHint("eles",!0),t.redraw()}else{var ot;0===(ot=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(ot.push(g[0]),ot.push(g[1])):(ot[0]+=g[0],ot[1]+=g[1])}if(i(tt||F,["touchmove","tapdrag","vmousemove"],e,{x:a[0],y:a[1]}),tt&&tt.grabbed()||F==et||(et&&et.emit({originalEvent:e,type:"tapdragout",position:{x:a[0],y:a[1]}}),F&&F.emit({originalEvent:e,type:"tapdragover",position:{x:a[0],y:a[1]}})),t.touchData.last=F,n)for(j=0;j<a.length;j++)a[j]&&t.touchData.startPosition[j]&&p&&(t.touchData.singleTouchMoved=!0);n&&(null==tt||tt.pannable())&&s.panningEnabled()&&s.userPanningEnabled()&&(o(tt,t.touchData.starts)&&(e.preventDefault(),t.swipePanning?s.panBy({x:g[0]*u,y:g[1]*u}):p&&(t.swipePanning=!0,s.panBy({x:T*u,y:M*u}),tt&&(tt.unactivate(),t.data.bgActivePosistion||(t.data.bgActivePosistion=ee(t.touchData.startPosition)),t.redrawHint("select",!0),t.touchData.start=null))),c=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),a[0]=c[0],a[1]=c[1])}for(E=0;E<a.length;E++)h[E]=a[E];n&&e.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",A=function(e){var i=t.touchData.start;t.touchData.capture=!1,i&&i.unactivate()}),t.registerBinding(window,"touchend",N=function(n){var o=t.touchData.start;if(t.touchData.capture){0===n.touches.length&&(t.touchData.capture=!1),n.preventDefault();var r=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var s,a=t.cy,l=a.zoom(),h=t.touchData.now,u=t.touchData.earlier;if(n.touches[0]){var c=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);h[0]=c[0],h[1]=c[1]}if(n.touches[1]&&(c=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY),h[2]=c[0],h[3]=c[1]),n.touches[2]&&(c=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY),h[4]=c[0],h[5]=c[1]),o&&o.unactivate(),t.touchData.cxt){if(s={originalEvent:n,type:"cxttapend",position:{x:h[0],y:h[1]}},o?o.emit(s):a.emit(s),!t.touchData.cxtDragged){var p={originalEvent:n,type:"cxttap",position:{x:h[0],y:h[1]}};o?o.emit(p):a.emit(p)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!n.touches[2]&&a.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var f=a.collection(t.getAllInBox(r[0],r[1],r[2],r[3]));r[0]=void 0,r[1]=void 0,r[2]=void 0,r[3]=void 0,r[4]=0,t.redrawHint("select",!0),a.emit({type:"boxend",originalEvent:n,position:{x:h[0],y:h[1]}}),f.emit("box").stdFilter(function(t){return t.selectable()&&!t.selected()}).select().emit("boxselect"),f.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=o&&o.unactivate(),n.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var g=t.dragData.touchDragEles;if(null!=o){var m=o._private.grabbed;d(g),t.redrawHint("drag",!0),t.redrawHint("eles",!0),m&&(o.emit("freeon"),g.emit("free"),t.dragData.didDrag&&(o.emit("dragfreeon"),g.emit("dragfree"))),i(o,["touchend","tapend","vmouseup","tapdragout"],n,{x:h[0],y:h[1]}),o.unactivate(),t.touchData.start=null}else{var v=t.findNearestElement(h[0],h[1],!0,!0);i(v,["touchend","tapend","vmouseup","tapdragout"],n,{x:h[0],y:h[1]})}var y=t.touchData.startPosition[0]-h[0],b=t.touchData.startPosition[1]-h[1],w=(y*y+b*b)*l*l;t.touchData.singleTouchMoved||(o||a.$(":selected").unselect(["tapunselect"]),i(o,["tap","vclick"],n,{x:h[0],y:h[1]})),null!=o&&!t.dragData.didDrag&&o._private.selectable&&w<t.touchTapThreshold2&&!t.pinching&&("single"===a.selectionType()?(a.$(e).unmerge(o).unselect(["tapunselect"]),o.select(["tapselect"])):o.selected()?o.unselect(["tapunselect"]):o.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var x=0;x<h.length;x++)u[x]=h[x];t.dragData.didDrag=!1,0===n.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null),n.touches.length<2&&(t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"==typeof TouchEvent){var z=[],B=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},F=function(t){for(var e=0;e<z.length;e++)if(z[e].event.pointerId===t.pointerId)return void z.splice(e,1)},j=function(t){t.touches=z.map(function(t){return t.touch})},H=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",function(t){H(t)||(t.preventDefault(),function(t){z.push(function(t){return{event:t,touch:B(t)}}(t))}(t),j(t),P(t))}),t.registerBinding(t.container,"pointerup",function(t){H(t)||(F(t),j(t),N(t))}),t.registerBinding(t.container,"pointercancel",function(t){H(t)||(F(t),j(t),A())}),t.registerBinding(t.container,"pointermove",function(t){H(t)||(t.preventDefault(),function(t){var e=z.filter(function(e){return e.event.pointerId===t.pointerId})[0];e.event=t,e.touch=B(t)}(t),j(t),I(t))})}}},Ms={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl("polygon",t,e,i,n,o,this.points)},intersectLine:function(t,e,i,n,o,r,s){return Ne(o,r,this.points,t,e,i/2,n/2,s)},checkPoint:function(t,e,i,n,o,r,s){return Te(t,e,this.points,r,s,n,o,[0,-1],i)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,o)},intersectLine:function(t,e,i,n,o,r,s){return function(t,e,i,n,o,r){var s=i-t,a=n-e;s/=o,a/=r;var l=Math.sqrt(s*s+a*a),h=l-1;if(h<0)return[];var d=h/l;return[(i-t)*d+t,(n-e)*d+e]}(o,r,t,e,i/2+s,n/2+s)},checkPoint:function(t,e,i,n,o,r,s){return Oe(t,e,n,o,r,s,i)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Le(4,0),draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,o)},intersectLine:function(t,e,i,n,o,r,s){return xe(o,r,t,e,i,n,s)},checkPoint:function(t,e,i,n,o,r,s){var a=Fe(n,o),l=2*a;return!!(Te(t,e,this.points,r,s,n,o-l,[0,-1],i)||Te(t,e,this.points,r,s,n-l,o,[0,-1],i)||Oe(t,e,l,l,r-n/2+a,s-o/2+a,i)||Oe(t,e,l,l,r+n/2-a,s-o/2+a,i)||Oe(t,e,l,l,r+n/2-a,s+o/2-a,i)||Oe(t,e,l,l,r-n/2+a,s+o/2-a,i))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Le(4,0),draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,o)},generateCutTrianglePts:function(t,e,i,n){var o=this.cornerLength,r=e/2,s=t/2,a=i-s,l=i+s,h=n-r,d=n+r;return{topLeft:[a,h+o,a+o,h,a+o,h+o],topRight:[l-o,h,l,h+o,l-o,h+o],bottomRight:[l,d-o,l-o,d,l-o,d-o],bottomLeft:[a+o,d,a,d-o,a+o,d-o]}},intersectLine:function(t,e,i,n,o,r,s){var a=this.generateCutTrianglePts(i+2*s,n+2*s,t,e),l=[].concat.apply([],[a.topLeft.splice(0,4),a.topRight.splice(0,4),a.bottomRight.splice(0,4),a.bottomLeft.splice(0,4)]);return Ne(o,r,l,t,e)},checkPoint:function(t,e,i,n,o,r,s){if(Te(t,e,this.points,r,s,n,o-2*this.cornerLength,[0,-1],i))return!0;if(Te(t,e,this.points,r,s,n-2*this.cornerLength,o,[0,-1],i))return!0;var a=this.generateCutTrianglePts(n,o,r,s);return Ce(t,e,a.topLeft)||Ce(t,e,a.topRight)||Ce(t,e,a.bottomRight)||Ce(t,e,a.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Le(4,0),draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,o)},intersectLine:function(t,e,i,n,o,r,s){var a=this.generateBarrelBezierPts(i+2*s,n+2*s,t,e),l=function(t){var e=he({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.15),i=he({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.5),n=he({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.85);return[t[0],t[1],e.x,e.y,i.x,i.y,n.x,n.y,t[4],t[5]]},h=[].concat(l(a.topLeft),l(a.topRight),l(a.bottomRight),l(a.bottomLeft));return Ne(o,r,h,t,e)},generateBarrelBezierPts:function(t,e,i,n){var o=e/2,r=t/2,s=i-r,a=i+r,l=n-o,h=n+o,d=je(t,e),u=d.heightOffset,c=d.widthOffset,p=d.ctrlPtOffsetPct*t,f={topLeft:[s,l+u,s+p,l,s+c,l],topRight:[a-c,l,a-p,l,a,l+u],bottomRight:[a,h-u,a-p,h,a-c,h],bottomLeft:[s+c,h,s+p,h,s,h-u]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(t,e,i,n,o,r,s){var a=je(n,o),l=a.widthOffset;if(Te(t,e,this.points,r,s,n,o-2*a.heightOffset,[0,-1],i))return!0;if(Te(t,e,this.points,r,s,n-2*l,o,[0,-1],i))return!0;for(var h=this.generateBarrelBezierPts(n,o,r,s),d=function(t,e,i){var n=i[4],o=i[2],r=i[0],s=i[5],a=i[1],l=Math.min(n,r),h=Math.max(n,r),d=Math.min(s,a),u=Math.max(s,a);if(l<=t&&t<=h&&d<=e&&e<=u){var c=[n-2*o+r,2*(o-n),n],p=function(t,e,i,n){var o=e*e-4*t*(i-=n);if(o<0)return[];var r=Math.sqrt(o),s=2*t;return[(-e+r)/s,(-e-r)/s]}(c[0],c[1],c[2],t).filter(function(t){return 0<=t&&t<=1});if(p.length>0)return p[0]}return null},u=Object.keys(h),c=0;c<u.length;c++){var p=h[u[c]],f=d(t,e,p);if(null!=f){var g=le(p[5],p[3],p[1],f);if(p.isTop&&g<=e)return!0;if(p.isBottom&&e<=g)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Le(4,0),draw:function(t,e,i,n,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,o)},intersectLine:function(t,e,i,n,o,r,s){var a=e-(n/2+s),l=Ae(o,r,t,e,t-(i/2+s),a,t+(i/2+s),a,!1);return l.length>0?l:xe(o,r,t,e,i,n,s)},checkPoint:function(t,e,i,n,o,r,s){var a=Fe(n,o),l=2*a;if(Te(t,e,this.points,r,s,n,o-l,[0,-1],i))return!0;if(Te(t,e,this.points,r,s,n-l,o,[0,-1],i))return!0;var h=n/2+2*i,d=o/2+2*i;return!!Ce(t,e,[r-h,s-d,r-h,s,r+h,s,r+h,s-d])||!!Oe(t,e,l,l,r+n/2-a,s+o/2-a,i)||!!Oe(t,e,l,l,r-n/2+a,s+o/2-a,i)}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Le(3,0)),this.generatePolygon("rectangle",Le(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",Le(5,0)),this.generatePolygon("hexagon",Le(6,0)),this.generatePolygon("heptagon",Le(7,0)),this.generatePolygon("octagon",Le(8,0));var i=new Array(20),n=Be(5,0),o=Be(5,Math.PI/5),r=.5*(3-Math.sqrt(5));r*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=r,o[2*s+1]*=r;for(s=0;s<5;s++)i[4*s]=n[2*s],i[4*s+1]=n[2*s+1],i[4*s+2]=o[2*s],i[4*s+3]=o[2*s+1];i=ze(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),t.makePolygon=function(t){var i,n="polygon-"+t.join("$");return(i=this[n])?i:e.generatePolygon(n,t)}}},Ds={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||Tt();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){null==e&&xt("Priority is not optional for beforeRender");var i=this.beforeRenderCallbacks;i.push({fn:t,priority:e}),i.sort(function(t,e){return e.priority-t.priority})}}},Os=function(t,e,i){for(var n=t.beforeRenderCallbacks,o=0;o<n.length;o++)n[o].fn(e,i)};Ds.startRenderLoop=function(){var t=this,e=t.cy;t.renderLoopStarted||(t.renderLoopStarted=!0,rt(function i(n){if(!t.destroyed){if(e.batching());else if(t.requestedFrame&&!t.skipFrame){Os(t,!0,n);var o=st();t.render(t.renderOptions);var r=t.lastDrawTime=st();void 0===t.averageRedrawTime&&(t.averageRedrawTime=r-o),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var s=r-o;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else Os(t,!1,n);t.skipFrame=!1,rt(i)}}))};var Ps=function(t){this.init(t)},Is=Ps.prototype;Is.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Is.init=function(t){var e=this;e.options=t,e.cy=t.cy;var i=e.container=t.cy.container();if(r){var n=r.document,o=n.head,s="__________cytoscape_container",a=null!=n.getElementById("__________cytoscape_stylesheet");if(i.className.indexOf(s)<0&&(i.className=(i.className||"")+" "+s),!a){var l=n.createElement("style");l.id="__________cytoscape_stylesheet",l.innerHTML="."+s+" { position: relative; }",o.insertBefore(l,o.children[0])}"static"===r.getComputedStyle(i).getPropertyValue("position")&&Et("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.hideLabelsOnViewport=t.hideLabelsOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=m(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},Is.notify=function(t,e){var i=this;this.destroyed||("init"!==t?"destroy"!==t?(("add"===t||"remove"===t||"move"===t&&i.cy.hasCompoundNodes()||"load"===t||"zorder"===t||"mount"===t)&&i.invalidateCachedZSortedEles(),"viewport"===t&&i.redrawHint("select",!0),"load"!==t&&"resize"!==t&&"mount"!==t||(i.invalidateContainerClientCoordsCache(),i.matchCanvasSize(i.container)),i.redrawHint("eles",!0),i.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):i.destroy():i.load())},Is.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var i=t.bindings[e],n=i.target;(n.off||n.removeEventListener).apply(n,i.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(t){}},Is.isHeadless=function(){return!1},[cs,Ss,Cs,Ts,Ms,Ds].forEach(function(t){A(Is,t)});var As=function(t){return function(){var e=this,i=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var n=et(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},t.deqRedrawThreshold);i.beforeRender(function(o,r){var s=st(),a=i.averageRedrawTime,l=i.lastRedrawTime,h=[],d=i.cy.extent(),u=i.getPixelRatio();for(o||i.flushRenderedStyleQueue();;){var c=st(),p=c-s,f=c-r;if(l<1e3/60){if(f>=t.deqFastCost*(1e3/60-(o?a:0)))break}else if(o){if(p>=t.deqCost*l||p>=t.deqAvgCost*a)break}else if(f>=t.deqNoDrawCost*(1e3/60))break;var g=t.deq(e,u,d);if(!(g.length>0))break;for(var m=0;m<g.length;m++)h.push(g[m])}h.length>0&&(t.onDeqd(e,h),!o&&t.shouldRedraw(e,h,u,d)&&n())},(t.priority||wt)(e))}}},Ns=function(){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt;e(this,t),this.idsByKey=new At,this.keyForId=new At,this.cachesByLvl=new At,this.lvls=[],this.getKey=i,this.doesEleInvalidateKey=n}return n(t,[{key:"getIdsFor",value:function(t){null==t&&xt("Can not get id list for null key");var e=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new Rt,e.set(t,i)),i}},{key:"addIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).add(e)}},{key:"deleteIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).delete(e)}},{key:"getNumberOfIdsForKey",value:function(t){return null==t?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var e=t.id(),i=this.keyForId.get(e),n=this.getKey(t);this.deleteIdForKey(i,e),this.addIdForKey(n,e),this.keyForId.set(e,n)}},{key:"deleteKeyMappingFor",value:function(t){var e=t.id(),i=this.keyForId.get(e);this.deleteIdForKey(i,e),this.keyForId.delete(e)}},{key:"keyHasChangedFor",value:function(t){var e=t.id();return this.keyForId.get(e)!==this.getKey(t)}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var e=this.cachesByLvl,i=this.lvls,n=e.get(t);return n||(n=new At,e.set(t,n),i.push(t)),n}},{key:"getCache",value:function(t,e){return this.getCachesAt(e).get(t)}},{key:"get",value:function(t,e){var i=this.getKey(t),n=this.getCache(i,e);return null!=n&&this.updateKeyMappingFor(t),n}},{key:"getForCachedKey",value:function(t,e){var i=this.keyForId.get(t.id());return this.getCache(i,e)}},{key:"hasCache",value:function(t,e){return this.getCachesAt(e).has(t)}},{key:"has",value:function(t,e){var i=this.getKey(t);return this.hasCache(i,e)}},{key:"setCache",value:function(t,e,i){i.key=t,this.getCachesAt(e).set(t,i)}},{key:"set",value:function(t,e,i){var n=this.getKey(t);this.setCache(n,e,i),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,e){this.getCachesAt(e).delete(t)}},{key:"delete",value:function(t,e){var i=this.getKey(t);this.deleteCache(i,e)}},{key:"invalidateKey",value:function(t){var e=this;this.lvls.forEach(function(i){return e.deleteCache(t,i)})}},{key:"invalidate",value:function(t){var e=t.id(),i=this.keyForId.get(e);this.deleteKeyMappingFor(t);var n=this.doesEleInvalidateKey(t);return n&&this.invalidateKey(i),n||0===this.getNumberOfIdsForKey(i)}}]),t}(),Rs={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Ls=Mt({getKey:null,doesEleInvalidateKey:yt,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:vt,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),zs=function(t,e){this.renderer=t,this.onDequeues=[];var i=Ls(e);A(this,i),this.lookup=new Ns(i.getKey,i.doesEleInvalidateKey),this.setupDequeueing()},Bs=zs.prototype;Bs.reasons=Rs,Bs.getTextureQueue=function(t){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[t]=this.eleImgCaches[t]||[]},Bs.getRetiredTextureQueue=function(t){var e=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return e[t]=e[t]||[]},Bs.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new Ft(function(t,e){return e.reqs-t.reqs})},Bs.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Bs.getElement=function(t,e,i,n,o){var r=this,s=this.renderer,a=s.cy.zoom(),l=this.lookup;if(0===e.w||0===e.h||isNaN(e.w)||isNaN(e.h)||!t.visible())return null;if(!r.allowEdgeTxrCaching&&t.isEdge()||!r.allowParentTxrCaching&&t.isParent())return null;if(null==n&&(n=Math.ceil(ne(a*i))),n<-4)n=-4;else if(a>=7.99||n>3)return null;var h=Math.pow(2,n),d=e.h*h,u=e.w*h,c=s.eleTextBiggerThanMin(t,h);if(!this.isVisible(t,c))return null;var p,f=l.get(t,n);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(p=d<=25?25:d<=50?50:50*Math.ceil(d/50),d>1024||u>1024)return null;var g=r.getTextureQueue(p),m=g[g.length-2],v=function(){return r.recycleTexture(p,u)||r.addTexture(p,u)};m||(m=g[g.length-1]),m||(m=v()),m.width-m.usedWidth<u&&(m=v());for(var y,b=function(t){return t&&t.scaledLabelShown===c},w=o&&o===Rs.dequeue,x=o&&o===Rs.highQuality,_=o&&o===Rs.downscale,E=n+1;E<=3;E++){var k=l.get(t,E);if(k){y=k;break}}var S=y&&y.level===n+1?y:null,C=function(){m.context.drawImage(S.texture.canvas,S.x,0,S.width,S.height,m.usedWidth,0,u,d)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,u,p),b(S))C();else if(b(y)){if(!x)return r.queueElement(t,y.level-1),y;for(var T=y.level;T>n;T--)S=r.getElement(t,e,i,T,Rs.downscale);C()}else{var M;if(!w&&!x&&!_)for(var D=n-1;D>=-4;D--){var O=l.get(t,D);if(O){M=O;break}}if(b(M))return r.queueElement(t,n),M;m.context.translate(m.usedWidth,0),m.context.scale(h,h),this.drawElement(m.context,t,e,c,!1),m.context.scale(1/h,1/h),m.context.translate(-m.usedWidth,0)}return f={x:m.usedWidth,texture:m,level:n,scale:h,width:u,height:d,scaledLabelShown:c},m.usedWidth+=Math.ceil(u+8),m.eleCaches.push(f),l.set(t,n,f),r.checkTextureFullness(m),f},Bs.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Bs.invalidateElement=function(t){var e=this.lookup,i=[];if(e.isInvalid(t)){for(var n=-4;n<=3;n++){var o=e.getForCachedKey(t,n);o&&i.push(o)}if(e.invalidate(t))for(var r=0;r<i.length;r++){var s=i[r],a=s.texture;a.invalidatedWidth+=s.width,s.invalidated=!0,this.checkTextureUtility(a)}this.removeFromQueue(t)}},Bs.checkTextureUtility=function(t){t.invalidatedWidth>=.2*t.width&&this.retireTexture(t)},Bs.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?Dt(e,t):t.fullnessChecks++},Bs.retireTexture=function(t){var e=t.height,i=this.getTextureQueue(e),n=this.lookup;Dt(i,t),t.retired=!0;for(var o=t.eleCaches,r=0;r<o.length;r++){var s=o[r];n.deleteCache(s.key,s.level)}Ot(o),this.getRetiredTextureQueue(e).push(t)},Bs.addTexture=function(t,e){var i={};return this.getTextureQueue(t).push(i),i.eleCaches=[],i.height=t,i.width=Math.max(1024,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=this.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i},Bs.recycleTexture=function(t,e){for(var i=this.getTextureQueue(t),n=this.getRetiredTextureQueue(t),o=0;o<n.length;o++){var r=n[o];if(r.width>=e)return r.retired=!1,r.usedWidth=0,r.invalidatedWidth=0,r.fullnessChecks=0,Ot(r.eleCaches),r.context.setTransform(1,0,0,1,0,0),r.context.clearRect(0,0,r.width,r.height),Dt(n,r),i.push(r),r}},Bs.queueElement=function(t,e){var i=this.getElementQueue(),n=this.getElementKeyToQueue(),o=this.getKey(t),r=n[o];if(r)r.level=Math.max(r.level,e),r.eles.merge(t),r.reqs++,i.updateItem(r);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:o};i.push(s),n[o]=s}},Bs.dequeue=function(t){for(var e=this.getElementQueue(),i=this.getElementKeyToQueue(),n=[],o=this.lookup,r=0;r<1&&e.size()>0;r++){var s=e.pop(),a=s.key,l=s.eles[0],h=o.hasCache(l,s.level);if(i[a]=null,!h){n.push(s);var d=this.getBoundingBox(l);this.getElement(l,d,t,s.level,Rs.dequeue)}}return n},Bs.removeFromQueue=function(t){var e=this.getElementQueue(),i=this.getElementKeyToQueue(),n=this.getKey(t),o=i[n];null!=o&&(1===o.eles.length?(o.reqs=mt,e.updateItem(o),e.pop(),i[n]=null):o.eles.unmerge(t))},Bs.onDequeue=function(t){this.onDequeues.push(t)},Bs.offDequeue=function(t){Dt(this.onDequeues,t)},Bs.setupDequeueing=As({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e,i){return t.dequeue(e,i)},onDeqd:function(t,e){for(var i=0;i<t.onDequeues.length;i++)(0,t.onDequeues[i])(e)},shouldRedraw:function(t,e,i,n){for(var o=0;o<e.length;o++)for(var r=e[o].eles,s=0;s<r.length;s++){var a=r[s].boundingBox();if(ve(a,n))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var Fs=function(t){var e=this,i=e.renderer=t,n=i.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=st()-500,e.skipping=!1,e.eleTxrDeqs=n.collection(),e.scheduleElementRefinement=et(function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)},50),i.beforeRender(function(t,i){e.skipping=i-e.lastInvalidationTime<=250},i.beforeRenderPriorities.lyrTxrSkip),e.layersQueue=new Ft(function(t,e){return e.reqs-t.reqs}),e.setupDequeueing()},js=Fs.prototype,Hs=0,Vs=Math.pow(2,53)-1;js.makeLayer=function(t,e){var i=Math.pow(2,e),n=Math.ceil(t.w*i),o=Math.ceil(t.h*i),r=this.renderer.makeOffscreenCanvas(n,o),s={id:Hs=++Hs%Vs,bb:t,level:e,width:n,height:o,canvas:r,context:r.getContext("2d"),eles:[],elesQueue:[],reqs:0},a=s.context,l=-s.bb.x1,h=-s.bb.y1;return a.scale(i,i),a.translate(l,h),s},js.getLayers=function(t,e,i){var n=this,o=n.renderer.cy.zoom(),r=n.firstGet;if(n.firstGet=!1,null==i)if((i=Math.ceil(ne(o*e)))<-4)i=-4;else if(o>=3.99||i>2)return null;n.validateLayersElesOrdering(i,t);var s,a,l=n.layersByLevel,h=Math.pow(2,i),d=l[i]=l[i]||[];if(n.levelIsComplete(i,t))return d;!function(){var e=function(e){if(n.validateLayersElesOrdering(e,t),n.levelIsComplete(e,t))return a=l[e],!0},o=function(t){if(!a)for(var n=i+t;-4<=n&&n<=2&&!e(n);n+=t);};o(1),o(-1);for(var r=d.length-1;r>=0;r--){var s=d[r];s.invalid&&Dt(d,s)}}();var u=function(e){var o=(e=e||{}).after;if(function(){if(!s){s=ue();for(var e=0;e<t.length;e++)ce(s,t[e].boundingBox())}}(),s.w*h*(s.h*h)>16e6)return null;var r=n.makeLayer(s,i);if(null!=o){var a=d.indexOf(o)+1;d.splice(a,0,r)}else(void 0===e.insert||e.insert)&&d.unshift(r);return r};if(n.skipping&&!r)return null;for(var c=null,p=t.length/1,f=!r,g=0;g<t.length;g++){var m=t[g],v=m._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},b=y[i];if(b)c=b;else{if((!c||c.eles.length>=p||!we(c.bb,m.boundingBox()))&&!(c=u({insert:!0,after:c})))return null;a||f?n.queueLayer(c,m):n.drawEleInLayer(c,m,i,e),c.eles.push(m),y[i]=c}}return a||(f?null:d)},js.getEleLevelForLayerLevel=function(t,e){return t},js.drawEleInLayer=function(t,e,i,n){var o=this.renderer,r=t.context,s=e.boundingBox();0!==s.w&&0!==s.h&&e.visible()&&(i=this.getEleLevelForLayerLevel(i,n),o.setImgSmoothing(r,!1),o.drawCachedElement(r,e,null,null,i,!0),o.setImgSmoothing(r,!0))},js.levelIsComplete=function(t,e){var i=this.layersByLevel[t];if(!i||0===i.length)return!1;for(var n=0,o=0;o<i.length;o++){var r=i[o];if(r.reqs>0)return!1;if(r.invalid)return!1;n+=r.eles.length}return n===e.length},js.validateLayersElesOrdering=function(t,e){var i=this.layersByLevel[t];if(i)for(var n=0;n<i.length;n++){for(var o=i[n],r=-1,s=0;s<e.length;s++)if(o.eles[0]===e[s]){r=s;break}if(r<0)this.invalidateLayer(o);else{var a=r;for(s=0;s<o.eles.length;s++)if(o.eles[s]!==e[a+s]){this.invalidateLayer(o);break}}}},js.updateElementsInLayers=function(t,e){for(var i=b(t[0]),n=0;n<t.length;n++)for(var o=i?null:t[n],r=i?t[n]:t[n].ele,s=r._private.rscratch,a=s.imgLayerCaches=s.imgLayerCaches||{},l=-4;l<=2;l++){var h=a[l];h&&(o&&this.getEleLevelForLayerLevel(h.level)!==o.level||e(h,r,o))}},js.haveLayers=function(){for(var t=!1,e=-4;e<=2;e++){var i=this.layersByLevel[e];if(i&&i.length>0){t=!0;break}}return t},js.invalidateElements=function(t){var e=this;0!==t.length&&(e.lastInvalidationTime=st(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,function(t,i,n){e.invalidateLayer(t)}))},js.invalidateLayer=function(t){if(this.lastInvalidationTime=st(),!t.invalid){var e=t.level,i=t.eles;Dt(this.layersByLevel[e],t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var n=0;n<i.length;n++){var o=i[n]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}},js.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(t,i,n){var o=t.replacement;if(o||((o=t.replacement=e.makeLayer(t.bb,t.level)).replaces=t,o.eles=t.eles),!o.reqs)for(var r=0;r<o.eles.length;r++)e.queueLayer(o,o.eles[r])})},js.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},js.queueLayer=function(t,e){var i=this.layersQueue,n=t.elesQueue,o=n.hasId=n.hasId||{};if(!t.replacement){if(e){if(o[e.id()])return;n.push(e),o[e.id()]=!0}t.reqs?(t.reqs++,i.updateItem(t)):(t.reqs=1,i.push(t))}},js.dequeue=function(t){for(var e=this.layersQueue,i=[],n=0;n<1&&0!==e.size();){var o=e.peek();if(o.replacement)e.pop();else if(o.replaces&&o!==o.replaces.replacement)e.pop();else if(o.invalid)e.pop();else{var r=o.elesQueue.shift();r&&(this.drawEleInLayer(o,r,o.level,t),n++),0===i.length&&i.push(!0),0===o.elesQueue.length&&(e.pop(),o.reqs=0,o.replaces&&this.applyLayerReplacement(o),this.requestRedraw())}}return i},js.applyLayerReplacement=function(t){var e=this.layersByLevel[t.level],i=t.replaces,n=e.indexOf(i);if(!(n<0||i.invalid)){e[n]=t;for(var o=0;o<t.eles.length;o++){var r=t.eles[o]._private,s=r.imgLayerCaches=r.imgLayerCaches||{};s&&(s[t.level]=t)}this.requestRedraw()}},js.requestRedraw=et(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100),js.setupDequeueing=As({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e){return t.dequeue(e)},onDeqd:wt,shouldRedraw:vt,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Ws,Us={};function Ys(t,e){for(var i=0;i<e.length;i++){var n=e[i];t.lineTo(n.x,n.y)}}function Gs(t,e,i){for(var n,o=0;o<e.length;o++){var r=e[o];0===o&&(n=r),t.lineTo(r.x,r.y)}t.quadraticCurveTo(i.x,i.y,n.x,n.y)}function qs(t,e,i){t.beginPath&&t.beginPath();for(var n=e,o=0;o<n.length;o++){var r=n[o];t.lineTo(r.x,r.y)}var s=i,a=i[0];for(t.moveTo(a.x,a.y),o=1;o<s.length;o++)t.lineTo((r=s[o]).x,r.y);t.closePath&&t.closePath()}function Xs(t,e,i,n){t.arc(e,i,n,0,2*Math.PI,!1)}Us.arrowShapeImpl=function(t){return(Ws||(Ws={polygon:Ys,"triangle-backcurve":Gs,"triangle-tee":qs,"triangle-cross":qs,circle:Xs}))[t]};var $s={drawElement:function(t,e,i,n,o,r){e.isNode()?this.drawNode(t,e,i,n,o,r):this.drawEdge(t,e,i,n,o,r)},drawElementOverlay:function(t,e){e.isNode()?this.drawNodeOverlay(t,e):this.drawEdgeOverlay(t,e)},drawCachedElementPortion:function(t,e,i,n,o,r,s,a){var l=this,h=i.getBoundingBox(e);if(0!==h.w&&0!==h.h){var d=i.getElement(e,h,n,o,r);if(null!=d){var u=a(l,e);if(0===u)return;var c,p,f,g,m,v,y=s(l,e),b=h.x1,w=h.y1,x=h.w,_=h.h;if(0!==y){var E=i.getRotationPoint(e);t.translate(f=E.x,g=E.y),t.rotate(y),(m=l.getImgSmoothing(t))||l.setImgSmoothing(t,!0);var k=i.getRotationOffset(e);c=k.x,p=k.y}else c=b,p=w;1!==u&&(t.globalAlpha=(v=t.globalAlpha)*u),t.drawImage(d.texture.canvas,d.x,0,d.width,d.height,c,p,x,_),1!==u&&(t.globalAlpha=v),0!==y&&(t.rotate(-y),t.translate(-f,-g),m||l.setImgSmoothing(t,!1))}else i.drawElement(t,e)}}},Ks=function(){return 0},Zs=function(t,e){return t.getTextAngle(e,null)},Qs=function(t,e){return t.getTextAngle(e,"source")},Js=function(t,e){return t.getTextAngle(e,"target")},ta=function(t,e){return e.effectiveOpacity()},ea=function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()};$s.drawCachedElement=function(t,e,i,n,o,r){var s=this,a=s.data,l=a.eleTxrCache,h=a.lblTxrCache,d=a.slbTxrCache,u=a.tlbTxrCache,c=e.boundingBox(),p=!0===r?l.reasons.highQuality:null;0!==c.w&&0!==c.h&&e.visible()&&(n&&!ve(c,n)||(s.drawCachedElementPortion(t,e,l,i,o,p,Ks,ta),s.drawCachedElementPortion(t,e,h,i,o,p,Zs,ea),e.isEdge()&&(s.drawCachedElementPortion(t,e,d,i,o,p,Qs,ea),s.drawCachedElementPortion(t,e,u,i,o,p,Js,ea)),s.drawElementOverlay(t,e)))},$s.drawElements=function(t,e){for(var i=0;i<e.length;i++)this.drawElement(t,e[i])},$s.drawCachedElements=function(t,e,i,n){for(var o=0;o<e.length;o++)this.drawCachedElement(t,e[o],i,n)},$s.drawCachedNodes=function(t,e,i,n){for(var o=0;o<e.length;o++){var r=e[o];r.isNode()&&this.drawCachedElement(t,r,i,n)}},$s.drawLayeredElements=function(t,e,i,n){var o=this.data.lyrTxrCache.getLayers(e,i);if(o)for(var r=0;r<o.length;r++){var s=o[r],a=s.bb;0!==a.w&&0!==a.h&&t.drawImage(s.canvas,a.x1,a.y1,a.w,a.h)}else this.drawCachedElements(t,e,i,n)};for(var ia={drawEdge:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this,a=e._private.rscratch;if((!r||e.visible())&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var l;i&&t.translate(-(l=i).x1,-l.y1);var h=r?e.pstyle("opacity").value:1,d=e.pstyle("line-style").value,u=e.pstyle("width").pfValue,c=e.pstyle("line-cap").value,p=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;t.lineWidth=u,t.lineCap=c,s.eleStrokeStyle(t,e,i),s.drawEdgePath(e,t,a.allpts,d),t.lineCap="butt"},f=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;s.drawArrowheads(t,e,i)};if(t.lineJoin="round","yes"===e.pstyle("ghost").value){var g=e.pstyle("ghost-offset-x").pfValue,m=e.pstyle("ghost-offset-y").pfValue,v=e.pstyle("ghost-opacity").value,y=h*v;t.translate(g,m),p(y),f(y),t.translate(-g,-m)}p(),f(),o&&s.drawEdgeOverlay(t,e),s.drawElementText(t,e,null,n),i&&t.translate(l.x1,l.y1)}},drawEdgeOverlay:function(t,e){if(e.visible()){var i=e.pstyle("overlay-opacity").value;if(0!==i){var n=this,o=n.usePaths(),r=e._private.rscratch,s=2*e.pstyle("overlay-padding").pfValue,a=e.pstyle("overlay-color").value;t.lineWidth=s,t.lineCap="self"!==r.edgeType||o?"round":"butt",n.colorStrokeStyle(t,a[0],a[1],a[2],i),n.drawEdgePath(e,t,r.allpts,"solid")}}},drawEdgePath:function(t,e,i,n){var o,r=t._private.rscratch,s=e,a=!1,l=this.usePaths(),h=t.pstyle("line-dash-pattern").pfValue,d=t.pstyle("line-dash-offset").pfValue;if(l){var u=i.join("$");r.pathCacheKey&&r.pathCacheKey===u?(o=e=r.pathCache,a=!0):(o=e=new Path2D,r.pathCacheKey=u,r.pathCache=o)}if(s.setLineDash)switch(n){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(h),s.lineDashOffset=d;break;case"solid":s.setLineDash([])}if(!a&&!r.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(i[0],i[1]),r.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var c=2;c+3<i.length;c+=4)e.quadraticCurveTo(i[c],i[c+1],i[c+2],i[c+3]);break;case"straight":case"segments":case"haystack":for(var p=2;p+1<i.length;p+=2)e.lineTo(i[p],i[p+1])}e=s,l?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])},drawArrowheads:function(t,e,i){var n=e._private.rscratch,o="haystack"===n.edgeType;o||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,i),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,i),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,i),o||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,i)},drawArrowhead:function(t,e,i,n,o,r,s){if(!(isNaN(n)||null==n||isNaN(o)||null==o||isNaN(r)||null==r)){var a=e.pstyle(i+"-arrow-shape").value;if("none"!==a){var l="hollow"===e.pstyle(i+"-arrow-fill").value?"both":"filled",h=e.pstyle(i+"-arrow-fill").value,d=e.pstyle("width").pfValue,u=e.pstyle("opacity").value;void 0===s&&(s=u);var c=t.globalCompositeOperation;1===s&&"hollow"!==h||(t.globalCompositeOperation="destination-out",this.colorFillStyle(t,255,255,255,1),this.colorStrokeStyle(t,255,255,255,1),this.drawArrowShape(e,t,l,d,a,n,o,r),t.globalCompositeOperation=c);var p=e.pstyle(i+"-arrow-color").value;this.colorFillStyle(t,p[0],p[1],p[2],s),this.colorStrokeStyle(t,p[0],p[1],p[2],s),this.drawArrowShape(e,t,h,d,a,n,o,r)}}},drawArrowShape:function(t,e,i,n,o,r,s,a){var l,h=this,d=this.usePaths()&&"triangle-cross"!==o,u=!1,c=e,p={x:r,y:s},f=t.pstyle("arrow-scale").value,g=this.getArrowWidth(n,f),m=h.arrowShapes[o];if(d){var v=h.arrowPathCache=h.arrowPathCache||[],y=dt(o),b=v[y];null!=b?(l=e=b,u=!0):(l=e=new Path2D,v[y]=l)}e.beginPath&&e.beginPath(),u||(d?m.draw(e,1,0,{x:0,y:0},1):m.draw(e,g,a,p,n)),e.closePath&&e.closePath(),e=c,d&&(e.translate(r,s),e.rotate(a),e.scale(g,g)),"filled"!==i&&"both"!==i||(d?e.fill(l):e.fill()),"hollow"!==i&&"both"!==i||(e.lineWidth=(m.matchEdgeWidth?n:1)/(d?g:1),e.lineJoin="miter",d?e.stroke(l):e.stroke()),d&&(e.scale(1/g,1/g),e.rotate(-a),e.translate(-r,-s))}},na={safeDrawImage:function(t,e,i,n,o,r,s,a,l,h){o<=0||r<=0||l<=0||h<=0||t.drawImage(e,i,n,o,r,s,a,l,h)},drawInscribedImage:function(t,e,i,n,o){var r=this,s=i.position(),a=s.x,l=s.y,h=i.cy().style(),d=h.getIndexedStyle.bind(h),u=d(i,"background-fit","value",n),c=d(i,"background-repeat","value",n),p=i.width(),f=i.height(),g=2*i.padding(),m=p+("inner"===d(i,"background-width-relative-to","value",n)?0:g),v=f+("inner"===d(i,"background-height-relative-to","value",n)?0:g),y=i._private.rscratch,b="node"===d(i,"background-clip","value",n),w=d(i,"background-image-opacity","value",n)*o,x=e.width||e.cachedW,_=e.height||e.cachedH;null!=x&&null!=_||(document.body.appendChild(e),x=e.cachedW=e.width||e.offsetWidth,_=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var E=x,k=_;if("auto"!==d(i,"background-width","value",n)&&(E="%"===d(i,"background-width","units",n)?d(i,"background-width","pfValue",n)*m:d(i,"background-width","pfValue",n)),"auto"!==d(i,"background-height","value",n)&&(k="%"===d(i,"background-height","units",n)?d(i,"background-height","pfValue",n)*v:d(i,"background-height","pfValue",n)),0!==E&&0!==k){if("contain"===u)E*=S=Math.min(m/E,v/k),k*=S;else if("cover"===u){var S;E*=S=Math.max(m/E,v/k),k*=S}var C=a-m/2,T=d(i,"background-position-x","units",n),M=d(i,"background-position-x","pfValue",n);C+="%"===T?(m-E)*M:M;var D=d(i,"background-offset-x","units",n),O=d(i,"background-offset-x","pfValue",n);C+="%"===D?(m-E)*O:O;var P=l-v/2,I=d(i,"background-position-y","units",n),A=d(i,"background-position-y","pfValue",n);P+="%"===I?(v-k)*A:A;var N=d(i,"background-offset-y","units",n),R=d(i,"background-offset-y","pfValue",n);P+="%"===N?(v-k)*R:R,y.pathCache&&(C-=a,P-=l,a=0,l=0);var L=t.globalAlpha;if(t.globalAlpha=w,"no-repeat"===c)b&&(t.save(),y.pathCache?t.clip(y.pathCache):(r.nodeShapes[r.getNodeShape(i)].draw(t,a,l,m,v),t.clip())),r.safeDrawImage(t,e,0,0,x,_,C,P,E,k),b&&t.restore();else{var z=t.createPattern(e,c);t.fillStyle=z,r.nodeShapes[r.getNodeShape(i)].draw(t,a,l,m,v),t.translate(C,P),t.fill(),t.translate(-C,-P)}t.globalAlpha=L}}},oa={eleTextBiggerThanMin:function(t,e){if(!e){var i=t.cy().zoom(),n=this.getPixelRatio(),o=Math.ceil(ne(i*n));e=Math.pow(2,o)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(t,e,i,n,o){var r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this;if(null==n){if(r&&!s.eleTextBiggerThanMin(e))return}else if(!1===n)return;if(e.isNode()){var a=e.pstyle("label");if(!a||!a.value)return;var l=s.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var h=e.pstyle("label"),d=e.pstyle("source-label"),u=e.pstyle("target-label");if(!(h&&h.value||d&&d.value||u&&u.value))return;t.textAlign="center",t.textBaseline="bottom"}var c,p=!i;i&&t.translate(-(c=i).x1,-c.y1),null==o?(s.drawText(t,e,null,p,r),e.isEdge()&&(s.drawText(t,e,"source",p,r),s.drawText(t,e,"target",p,r))):s.drawText(t,e,o,p,r),i&&t.translate(c.x1,c.y1)},getFontCache:function(t){var e;this.fontCaches=this.fontCaches||[];for(var i=0;i<this.fontCaches.length;i++)if((e=this.fontCaches[i]).context===t)return e;return this.fontCaches.push(e={context:t}),e},setupTextStyle:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue+"px",r=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,a=i?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*a,h=e.pstyle("color").value,d=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+o+" "+r,t.lineJoin="round",this.colorFillStyle(t,h[0],h[1],h[2],a),this.colorStrokeStyle(t,d[0],d[1],d[2],l)},getTextAngle:function(t,e){var i=t._private.rscratch,n=t.pstyle((e?e+"-":"")+"text-rotation"),o=Pt(i,"labelAngle",e);return"autorotate"===n.strValue?t.isEdge()?o:0:"none"===n.strValue?0:n.pfValue},drawText:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=e._private.rscratch,s=o?e.effectiveOpacity():1;if(!o||0!==s&&0!==e.pstyle("text-opacity").value){"main"===i&&(i=null);var a,l,h=Pt(r,"labelX",i),d=Pt(r,"labelY",i),u=this.getLabelText(e,i);if(null!=u&&""!==u&&!isNaN(h)&&!isNaN(d)){this.setupTextStyle(t,e,o);var c,p=i?i+"-":"",f=Pt(r,"labelWidth",i),g=Pt(r,"labelHeight",i),m=e.pstyle(p+"text-margin-x").pfValue,v=e.pstyle(p+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle("text-halign").value,w=e.pstyle("text-valign").value;switch(y&&(b="center",w="center"),h+=m,d+=v,0!==(c=n?this.getTextAngle(e,i):0)&&(t.translate(a=h,l=d),t.rotate(c),h=0,d=0),w){case"top":break;case"center":d+=g/2;break;case"bottom":d+=g}var x=e.pstyle("text-background-opacity").value,_=e.pstyle("text-border-opacity").value,E=e.pstyle("text-border-width").pfValue,k=e.pstyle("text-background-padding").pfValue;if(x>0||E>0&&_>0){var S=h-k;switch(b){case"left":S-=f;break;case"center":S-=f/2}var C=d-g-k,T=f+2*k,M=g+2*k;if(x>0){var D=t.fillStyle,O=e.pstyle("text-background-color").value;t.fillStyle="rgba("+O[0]+","+O[1]+","+O[2]+","+x*s+")","roundrectangle"==e.pstyle("text-background-shape").strValue?function(t,e,i,n,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;t.beginPath(),t.moveTo(e+r,i),t.lineTo(e+n-r,i),t.quadraticCurveTo(e+n,i,e+n,i+r),t.lineTo(e+n,i+o-r),t.quadraticCurveTo(e+n,i+o,e+n-r,i+o),t.lineTo(e+r,i+o),t.quadraticCurveTo(e,i+o,e,i+o-r),t.lineTo(e,i+r),t.quadraticCurveTo(e,i,e+r,i),t.closePath(),t.fill()}(t,S,C,T,M,2):t.fillRect(S,C,T,M),t.fillStyle=D}if(E>0&&_>0){var P=t.strokeStyle,I=t.lineWidth,A=e.pstyle("text-border-color").value,N=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+A[0]+","+A[1]+","+A[2]+","+_*s+")",t.lineWidth=E,t.setLineDash)switch(N){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=E/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(S,C,T,M),"double"===N){var R=E/2;t.strokeRect(S+R,C+R,T-2*R,M-2*R)}t.setLineDash&&t.setLineDash([]),t.lineWidth=I,t.strokeStyle=P}}var L=2*e.pstyle("text-outline-width").pfValue;if(L>0&&(t.lineWidth=L),"wrap"===e.pstyle("text-wrap").value){var z=Pt(r,"labelWrapCachedLines",i),B=Pt(r,"labelLineHeight",i),F=f/2,j=this.getLabelJustification(e);switch("auto"===j||("left"===b?"left"===j?h+=-f:"center"===j&&(h+=-F):"center"===b?"left"===j?h+=-F:"right"===j&&(h+=F):"right"===b&&("center"===j?h+=F:"right"===j&&(h+=f))),w){case"top":d-=(z.length-1)*B;break;case"center":case"bottom":d-=(z.length-1)*B}for(var H=0;H<z.length;H++)L>0&&t.strokeText(z[H],h,d),t.fillText(z[H],h,d),d+=B}else L>0&&t.strokeText(u,h,d),t.fillText(u,h,d);0!==c&&(t.rotate(-c),t.translate(-a,-l))}}}},ra={drawNode:function(t,e,i){var n,o,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,h=e._private,d=h.rscratch,u=e.position();if(m(u.x)&&m(u.y)&&(!a||e.visible())){var c,p,f=a?e.effectiveOpacity():1,g=l.usePaths(),v=!1,y=e.padding();n=e.width()+2*y,o=e.height()+2*y,i&&t.translate(-(p=i).x1,-p.y1);for(var b=e.pstyle("background-image").value,w=new Array(b.length),x=new Array(b.length),_=0,E=0;E<b.length;E++){var k=b[E];if(w[E]=null!=k&&"none"!==k){var S=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",E);_++,x[E]=l.getCachedImage(k,S,function(){h.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var C=e.pstyle("background-blacken").value,T=e.pstyle("border-width").pfValue,M=e.pstyle("background-opacity").value*f,D=e.pstyle("border-color").value,O=e.pstyle("border-style").value,P=e.pstyle("border-opacity").value*f;t.lineJoin="miter";var I=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;l.eleFillStyle(t,e,i)},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;l.colorStrokeStyle(t,D[0],D[1],D[2],e)},N=e.pstyle("shape").strValue,R=e.pstyle("shape-polygon-points").pfValue;if(g){t.translate(u.x,u.y);var L=l.nodePathCache=l.nodePathCache||[],z=ut("polygon"===N?N+","+R.join(","):N,""+o,""+n),B=L[z];null!=B?(v=!0,d.pathCache=c=B):(c=new Path2D,L[z]=d.pathCache=c)}var F=function(){if(!v){var i=u;g&&(i={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(c||t,i.x,i.y,n,o)}g?t.fill(c):t.fill()},j=function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=h.backgrounding,o=0,r=0;r<x.length;r++)w[r]&&x[r].complete&&!x[r].error&&(o++,l.drawInscribedImage(t,x[r],e,r,i));h.backgrounding=!(o===_),n!==h.backgrounding&&e.updateStyle(!1)},H=function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(e)&&(l.drawPie(t,e,r),i&&(g||l.nodeShapes[l.getNodeShape(e)].draw(t,u.x,u.y,n,o)))},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,i=(C>0?C:-C)*e,n=C>0?0:255;0!==C&&(l.colorFillStyle(t,n,n,n,i),g?t.fill(c):t.fill())},W=function(){if(T>0){if(t.lineWidth=T,t.lineCap="butt",t.setLineDash)switch(O){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(g?t.stroke(c):t.stroke(),"double"===O){t.lineWidth=T/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",g?t.stroke(c):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}};if("yes"===e.pstyle("ghost").value){var U=e.pstyle("ghost-offset-x").pfValue,Y=e.pstyle("ghost-offset-y").pfValue,G=e.pstyle("ghost-opacity").value,q=G*f;t.translate(U,Y),I(G*M),F(),j(q),H(0!==C||0!==T),V(q),A(G*P),W(),t.translate(-U,-Y)}I(),F(),j(),H(0!==C||0!==T),V(),A(),W(),g&&t.translate(-u.x,-u.y),l.drawElementText(t,e,null,r),s&&l.drawNodeOverlay(t,e,u,n,o),i&&t.translate(p.x1,p.y1)}},drawNodeOverlay:function(t,e,i,n,o){if(e.visible()){var r=e.pstyle("overlay-padding").pfValue,s=e.pstyle("overlay-opacity").value,a=e.pstyle("overlay-color").value;if(s>0){if(i=i||e.position(),null==n||null==o){var l=e.padding();n=e.width()+2*l,o=e.height()+2*l}this.colorFillStyle(t,a[0],a[1],a[2],s),this.nodeShapes.roundrectangle.draw(t,i.x,i.y,n+2*r,o+2*r),t.fill()}}},hasPie:function(t){return(t=t[0])._private.hasPie},drawPie:function(t,e,i,n){e=e[0],n=n||e.position();var o=e.cy().style(),r=e.pstyle("pie-size"),s=n.x,a=n.y,l=e.width(),h=e.height(),d=Math.min(l,h)/2,u=0;this.usePaths()&&(s=0,a=0),"%"===r.units?d*=r.pfValue:void 0!==r.pfValue&&(d=r.pfValue/2);for(var c=1;c<=o.pieBackgroundN;c++){var p=e.pstyle("pie-"+c+"-background-size").value,f=e.pstyle("pie-"+c+"-background-color").value,g=e.pstyle("pie-"+c+"-background-opacity").value*i,m=p/100;m+u>1&&(m=1-u);var v=1.5*Math.PI+2*Math.PI*u,y=v+2*Math.PI*m;0===p||u>=1||u+m>1||(t.beginPath(),t.moveTo(s,a),t.arc(s,a,d,v,y),t.closePath(),this.colorFillStyle(t,f[0],f[1],f[2],g),t.fill(),u+=m)}}},sa={getPixelRatio:function(){var t=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},paintCache:function(t){for(var e,i=this.paintCaches=this.paintCaches||[],n=!0,o=0;o<i.length;o++)if((e=i[o]).context===t){n=!1;break}return n&&i.push(e={context:t}),e},createGradientStyleFor:function(t,e,i,n,o){var r,s=this.usePaths(),a=i.pstyle(e+"-gradient-stop-colors").value,l=i.pstyle(e+"-gradient-stop-positions").pfValue;if("radial-gradient"===n)if(i.isEdge()){var h=i.sourceEndpoint(),d=i.targetEndpoint(),u=i.midpoint(),c=re(h,u),p=re(d,u);r=t.createRadialGradient(u.x,u.y,0,u.x,u.y,Math.max(c,p))}else{var f=s?{x:0,y:0}:i.position(),g=i.width(),m=i.height();r=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,m))}else if(i.isEdge()){var v=i.sourceEndpoint(),y=i.targetEndpoint();r=t.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=s?{x:0,y:0}:i.position(),w=i.width()/2,x=i.height()/2;switch(i.pstyle("background-gradient-direction").value){case"to-bottom":r=t.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":r=t.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":r=t.createLinearGradient(b.x-w,b.y,b.x+w,b.y);break;case"to-right":r=t.createLinearGradient(b.x+w,b.y,b.x-w,b.y);break;case"to-bottom-right":case"to-right-bottom":r=t.createLinearGradient(b.x-w,b.y-x,b.x+w,b.y+x);break;case"to-top-right":case"to-right-top":r=t.createLinearGradient(b.x-w,b.y+x,b.x+w,b.y-x);break;case"to-bottom-left":case"to-left-bottom":r=t.createLinearGradient(b.x+w,b.y-x,b.x-w,b.y+x);break;case"to-top-left":case"to-left-top":r=t.createLinearGradient(b.x+w,b.y+x,b.x-w,b.y-x)}}if(!r)return null;for(var _=l.length===a.length,E=a.length,k=0;k<E;k++)r.addColorStop(_?l[k]:k/(E-1),"rgba("+a[k][0]+","+a[k][1]+","+a[k][2]+","+o+")");return r},gradientFillStyle:function(t,e,i,n){var o=this.createGradientStyleFor(t,"background",e,i,n);if(!o)return null;t.fillStyle=o},colorFillStyle:function(t,e,i,n,o){t.fillStyle="rgba("+e+","+i+","+n+","+o+")"},eleFillStyle:function(t,e,i){var n=e.pstyle("background-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientFillStyle(t,e,n,i);else{var o=e.pstyle("background-color").value;this.colorFillStyle(t,o[0],o[1],o[2],i)}},gradientStrokeStyle:function(t,e,i,n){var o=this.createGradientStyleFor(t,"line",e,i,n);if(!o)return null;t.strokeStyle=o},colorStrokeStyle:function(t,e,i,n,o){t.strokeStyle="rgba("+e+","+i+","+n+","+o+")"},eleStrokeStyle:function(t,e,i){var n=e.pstyle("line-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientStrokeStyle(t,e,n,i);else{var o=e.pstyle("line-color").value;this.colorStrokeStyle(t,o[0],o[1],o[2],i)}},matchCanvasSize:function(t){var e=this,i=e.data,n=e.findContainerClientCoords(),o=n[2],r=n[3],s=e.getPixelRatio();t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(s=e.motionBlurPxRatio);var a,l=o*s,h=r*s;if(l!==e.canvasWidth||h!==e.canvasHeight){e.fontCaches=null;var d=i.canvasContainer;d.style.width=o+"px",d.style.height=r+"px";for(var u=0;u<e.CANVAS_LAYERS;u++)(a=i.canvases[u]).width=l,a.height=h,a.style.width=o+"px",a.style.height=r+"px";for(u=0;u<e.BUFFER_COUNT;u++)(a=i.bufferCanvases[u]).width=l,a.height=h,a.style.width=o+"px",a.style.height=r+"px";e.textureMult=1,s<=1&&(a=i.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,a.width=l*e.textureMult,a.height=h*e.textureMult),e.canvasWidth=l,e.canvasHeight=h}},renderTo:function(t,e,i,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:i,drawAllLayers:!0,forcedPxRatio:n})},render:function(t){var e=(t=t||Tt()).forcedContext,i=t.drawAllLayers,n=t.drawOnlyNodeLayer,o=t.forcedZoom,r=t.forcedPan,s=this,a=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,l=s.cy,h=s.data,d=h.canvasNeedsRedraw,u=s.textureOnViewport&&!e&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),c=void 0!==t.motionBlur?t.motionBlur:s.motionBlur,p=s.motionBlurPxRatio,f=l.hasCompoundNodes(),g=s.hoverData.draggingEles,m=c=c&&!e&&s.motionBlurEnabled&&!(s.hoverData.selecting||s.touchData.selecting);e||(s.prevPxRatio!==a&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=a),!e&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),c&&(null==s.mbFrames&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(m=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!u&&(d[s.NODE]=!0,d[s.SELECT_BOX]=!0);var v=l.style(),y=l.zoom(),b=void 0!==o?o:y,w=l.pan(),x={x:w.x,y:w.y},_={zoom:y,pan:{x:w.x,y:w.y}},E=s.prevViewport;void 0===E||_.zoom!==E.zoom||_.pan.x!==E.pan.x||_.pan.y!==E.pan.y||g&&!f||(s.motionBlurPxRatio=1),r&&(x=r),b*=a,x.x*=a,x.y*=a;var k=s.getCachedZSortedEles();function S(t,e,i,n,o){var r=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,s.motionBlurTransparency),t.fillRect(e,i,n,o),t.globalCompositeOperation=r}function C(t,n){var a,l,d,u;s.clearingMotionBlur||t!==h.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]&&t!==h.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]?(a=x,l=b,d=s.canvasWidth,u=s.canvasHeight):(a={x:w.x*p,y:w.y*p},l=y*p,d=s.canvasWidth*p,u=s.canvasHeight*p),t.setTransform(1,0,0,1,0,0),"motionBlur"===n?S(t,0,0,d,u):e||void 0!==n&&!n||t.clearRect(0,0,d,u),i||(t.translate(a.x,a.y),t.scale(l,l)),r&&t.translate(r.x,r.y),o&&t.scale(o,o)}if(u||(s.textureDrawLastFrame=!1),u){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=l.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var T=s.data.bufferContexts[s.TEXTURE_BUFFER];T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:T,drawOnlyNodeLayer:!0,forcedPxRatio:a*s.textureMult}),(_=s.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:s.canvasWidth,height:s.canvasHeight}).mpan={x:(0-_.pan.x)/_.zoom,y:(0-_.pan.y)/_.zoom}}d[s.DRAG]=!1,d[s.NODE]=!1;var M=h.contexts[s.NODE],D=s.textureCache.texture;_=s.textureCache.viewport,M.setTransform(1,0,0,1,0,0),c?S(M,0,0,_.width,_.height):M.clearRect(0,0,_.width,_.height);var O=v.core("outside-texture-bg-color").value,P=v.core("outside-texture-bg-opacity").value;s.colorFillStyle(M,O[0],O[1],O[2],P),M.fillRect(0,0,_.width,_.height),y=l.zoom(),C(M,!1),M.clearRect(_.mpan.x,_.mpan.y,_.width/_.zoom/a,_.height/_.zoom/a),M.drawImage(D,_.mpan.x,_.mpan.y,_.width/_.zoom/a,_.height/_.zoom/a)}else s.textureOnViewport&&!e&&(s.textureCache=null);var I=l.extent(),A=s.hideEdgesOnViewport&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles),N=[];if(N[s.NODE]=!d[s.NODE]&&c&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,N[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),N[s.DRAG]=!d[s.DRAG]&&c&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,N[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),d[s.NODE]||i||n||N[s.NODE]){var R=c&&!N[s.NODE]&&1!==p;C(M=e||(R?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:h.contexts[s.NODE]),c&&!R?"motionBlur":void 0),A?s.drawCachedNodes(M,k.nondrag,a,I):s.drawLayeredElements(M,k.nondrag,a,I),s.debug&&s.drawDebugPoints(M,k.nondrag),i||c||(d[s.NODE]=!1)}if(!n&&(d[s.DRAG]||i||N[s.DRAG])&&(R=c&&!N[s.DRAG]&&1!==p,C(M=e||(R?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:h.contexts[s.DRAG]),c&&!R?"motionBlur":void 0),A?s.drawCachedNodes(M,k.drag,a,I):s.drawCachedElements(M,k.drag,a,I),s.debug&&s.drawDebugPoints(M,k.drag),i||c||(d[s.DRAG]=!1)),s.showFps||!n&&d[s.SELECT_BOX]&&!i){if(C(M=e||h.contexts[s.SELECT_BOX]),1==s.selection[4]&&(s.hoverData.selecting||s.touchData.selecting)){y=s.cy.zoom();var L=v.core("selection-box-border-width").value/y;M.lineWidth=L,M.fillStyle="rgba("+v.core("selection-box-color").value[0]+","+v.core("selection-box-color").value[1]+","+v.core("selection-box-color").value[2]+","+v.core("selection-box-opacity").value+")",M.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),L>0&&(M.strokeStyle="rgba("+v.core("selection-box-border-color").value[0]+","+v.core("selection-box-border-color").value[1]+","+v.core("selection-box-border-color").value[2]+","+v.core("selection-box-opacity").value+")",M.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(h.bgActivePosistion&&!s.hoverData.selecting){y=s.cy.zoom();var z=h.bgActivePosistion;M.fillStyle="rgba("+v.core("active-bg-color").value[0]+","+v.core("active-bg-color").value[1]+","+v.core("active-bg-color").value[2]+","+v.core("active-bg-opacity").value+")",M.beginPath(),M.arc(z.x,z.y,v.core("active-bg-size").pfValue/y,0,2*Math.PI),M.fill()}var B=s.lastRedrawTime;if(s.showFps&&B){B=Math.round(B);var F=Math.round(1e3/B);M.setTransform(1,0,0,1,0,0),M.fillStyle="rgba(255, 0, 0, 0.75)",M.strokeStyle="rgba(255, 0, 0, 0.75)",M.lineWidth=1,M.fillText("1 frame = "+B+" ms = "+F+" fps",0,20),M.strokeRect(0,30,250,20),M.fillRect(0,30,250*Math.min(F/60,1),20)}i||(d[s.SELECT_BOX]=!1)}if(c&&1!==p){var j=h.contexts[s.DRAG],H=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],V=function(t,e,i){t.setTransform(1,0,0,1,0,0),i||!m?t.clearRect(0,0,s.canvasWidth,s.canvasHeight):S(t,0,0,s.canvasWidth,s.canvasHeight),t.drawImage(e,0,0,s.canvasWidth*p,s.canvasHeight*p,0,0,s.canvasWidth,s.canvasHeight)};(d[s.NODE]||N[s.NODE])&&(V(h.contexts[s.NODE],s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],N[s.NODE]),d[s.NODE]=!1),(d[s.DRAG]||N[s.DRAG])&&(V(j,H,N[s.DRAG]),d[s.DRAG]=!1)}s.prevViewport=_,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),c&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!u,s.mbFrames=0,d[s.NODE]=!0,d[s.DRAG]=!0,s.redraw()},100)),e||l.emit("render")}},aa={drawPolygonPath:function(t,e,i,n,o,r){var s=n/2,a=o/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*r[0],i+a*r[1]);for(var l=1;l<r.length/2;l++)t.lineTo(e+s*r[2*l],i+a*r[2*l+1]);t.closePath()},drawRoundRectanglePath:function(t,e,i,n,o){var r=n/2,s=o/2,a=Fe(n,o);t.beginPath&&t.beginPath(),t.moveTo(e,i-s),t.arcTo(e+r,i-s,e+r,i,a),t.arcTo(e+r,i+s,e,i+s,a),t.arcTo(e-r,i+s,e-r,i,a),t.arcTo(e-r,i-s,e,i-s,a),t.lineTo(e,i-s),t.closePath()},drawBottomRoundRectanglePath:function(t,e,i,n,o){var r=n/2,s=o/2,a=Fe(n,o);t.beginPath&&t.beginPath(),t.moveTo(e,i-s),t.lineTo(e+r,i-s),t.lineTo(e+r,i),t.arcTo(e+r,i+s,e,i+s,a),t.arcTo(e-r,i+s,e-r,i,a),t.lineTo(e-r,i-s),t.lineTo(e,i-s),t.closePath()},drawCutRectanglePath:function(t,e,i,n,o){var r=n/2,s=o/2;t.beginPath&&t.beginPath(),t.moveTo(e-r+8,i-s),t.lineTo(e+r-8,i-s),t.lineTo(e+r,i-s+8),t.lineTo(e+r,i+s-8),t.lineTo(e+r-8,i+s),t.lineTo(e-r+8,i+s),t.lineTo(e-r,i+s-8),t.lineTo(e-r,i-s+8),t.closePath()},drawBarrelPath:function(t,e,i,n,o){var r=n/2,s=o/2,a=e-r,l=e+r,h=i-s,d=i+s,u=je(n,o),c=u.widthOffset,p=u.heightOffset,f=u.ctrlPtOffsetPct*c;t.beginPath&&t.beginPath(),t.moveTo(a,h+p),t.lineTo(a,d-p),t.quadraticCurveTo(a+f,d,a+c,d),t.lineTo(l-c,d),t.quadraticCurveTo(l-f,d,l,d-p),t.lineTo(l,h+p),t.quadraticCurveTo(l-f,h,l-c,h),t.lineTo(a+c,h),t.quadraticCurveTo(a+f,h,a,h+p),t.closePath()}},la=Math.sin(0),ha=Math.cos(0),da={},ua={},ca=Math.PI/40,pa=0*Math.PI;pa<2*Math.PI;pa+=ca)da[pa]=Math.sin(pa),ua[pa]=Math.cos(pa);aa.drawEllipsePath=function(t,e,i,n,o){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,i,n/2,o/2,0,0,2*Math.PI);else for(var r,s,a=n/2,l=o/2,h=0*Math.PI;h<2*Math.PI;h+=ca)r=e-a*da[h]*la+a*ua[h]*ha,s=i+l*ua[h]*la+l*da[h]*ha,0===h?t.moveTo(r,s):t.lineTo(r,s);t.closePath()};var fa={};function ga(t){var e=t.indexOf(",");return t.substr(e+1)}function ma(t,e,i){var n=function(){return e.toDataURL(i,t.quality)};switch(t.output){case"blob-promise":return new Yi(function(n,o){try{e.toBlob(function(t){null!=t?n(t):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},i,t.quality)}catch(t){o(t)}});case"blob":return function(t,e){for(var i=atob(t),n=new ArrayBuffer(i.length),o=new Uint8Array(n),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);return new Blob([n],{type:e})}(ga(n()),i);case"base64":return ga(n());case"base64uri":default:return n()}}fa.createBuffer=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,[i,i.getContext("2d")]},fa.bufferCanvasImage=function(t){var e=this.cy,i=e.mutableElements().boundingBox(),n=this.findContainerClientCoords(),o=t.full?Math.ceil(i.w):n[2],r=t.full?Math.ceil(i.h):n[3],s=m(t.maxWidth)||m(t.maxHeight),a=this.getPixelRatio(),l=1;if(void 0!==t.scale)o*=t.scale,r*=t.scale,l=t.scale;else if(s){var h=1/0,d=1/0;m(t.maxWidth)&&(h=l*t.maxWidth/o),m(t.maxHeight)&&(d=l*t.maxHeight/r),o*=l=Math.min(h,d),r*=l}s||(o*=a,r*=a,l*=a);var u=document.createElement("canvas");u.width=o,u.height=r,u.style.width=o+"px",u.style.height=r+"px";var c=u.getContext("2d");if(o>0&&r>0){c.clearRect(0,0,o,r),c.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)c.translate(-i.x1*l,-i.y1*l),c.scale(l,l),this.drawElements(c,p),c.scale(1/l,1/l),c.translate(i.x1*l,i.y1*l);else{var f=e.pan(),g={x:f.x*l,y:f.y*l};l*=e.zoom(),c.translate(g.x,g.y),c.scale(l,l),this.drawElements(c,p),c.scale(1/l,1/l),c.translate(-g.x,-g.y)}t.bg&&(c.globalCompositeOperation="destination-over",c.fillStyle=t.bg,c.rect(0,0,o,r),c.fill())}return u},fa.png=function(t){return ma(t,this.bufferCanvasImage(t),"image/png")},fa.jpg=function(t){return ma(t,this.bufferCanvasImage(t),"image/jpeg")};var va=ba,ya=ba.prototype;function ba(t){var e=this;e.data={canvases:new Array(ya.CANVAS_LAYERS),contexts:new Array(ya.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ya.CANVAS_LAYERS),bufferCanvases:new Array(ya.BUFFER_COUNT),bufferContexts:new Array(ya.CANVAS_LAYERS)},e.data.canvasContainer=document.createElement("div");var i=e.data.canvasContainer.style;e.data.canvasContainer.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.position="relative",i.zIndex="0",i.overflow="hidden";var n=t.cy.container();n.appendChild(e.data.canvasContainer),n.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};S()&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var r=0;r<ya.CANVAS_LAYERS;r++){var s=e.data.canvases[r]=document.createElement("canvas");e.data.contexts[r]=s.getContext("2d"),Object.keys(o).forEach(function(t){s.style[t]=o[t]}),s.style.position="absolute",s.setAttribute("data-id","layer"+r),s.style.zIndex=String(ya.CANVAS_LAYERS-r),e.data.canvasContainer.appendChild(s),e.data.canvasNeedsRedraw[r]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[ya.NODE].setAttribute("data-id","layer"+ya.NODE+"-node"),e.data.canvases[ya.SELECT_BOX].setAttribute("data-id","layer"+ya.SELECT_BOX+"-selectbox"),e.data.canvases[ya.DRAG].setAttribute("data-id","layer"+ya.DRAG+"-drag"),r=0;r<ya.BUFFER_COUNT;r++)e.data.bufferCanvases[r]=document.createElement("canvas"),e.data.bufferContexts[r]=e.data.bufferCanvases[r].getContext("2d"),e.data.bufferCanvases[r].style.position="absolute",e.data.bufferCanvases[r].setAttribute("data-id","buffer"+r),e.data.bufferCanvases[r].style.zIndex=String(-r-1),e.data.bufferCanvases[r].style.visibility="hidden";e.pathsEnabled=!0;var a=ue(),l=function(t){return{x:-t.w/2,y:-t.h/2}},h=function(t){return t.boundingBox(),t[0]._private.bodyBounds},d=function(t){return t.boundingBox(),t[0]._private.labelBounds.main||a},u=function(t){return t.boundingBox(),t[0]._private.labelBounds.source||a},c=function(t){return t.boundingBox(),t[0]._private.labelBounds.target||a},p=function(t,e){return e},f=function(t,e){return{x:t.x+e.pstyle("text-margin-x").pfValue,y:t.y+e.pstyle("text-margin-y").pfValue}},g=function(t,e,i){var n=t[0]._private.rscratch;return{x:n[e],y:n[i]}},m=e.data.eleTxrCache=new zs(e,{getKey:function(t){return t[0]._private.nodeKey},doesEleInvalidateKey:function(t){var e=t[0]._private;return!(e.oldBackgroundTimestamp===e.backgroundTimestamp)},drawElement:function(t,i,n,o,r){return e.drawElement(t,i,n,!1,!1,r)},getBoundingBox:h,getRotationPoint:function(t){return{x:((e=h(t)).x1+e.x2)/2,y:(e.y1+e.y2)/2};var e},getRotationOffset:function(t){return l(h(t))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),v=e.data.lblTxrCache=new zs(e,{getKey:function(t){return t[0]._private.labelStyleKey},drawElement:function(t,i,n,o,r){return e.drawElementText(t,i,n,o,"main",r)},getBoundingBox:d,getRotationPoint:function(t){return f(g(t,"labelX","labelY"),t)},getRotationOffset:function(t){var e=d(t),i=l(d(t));if(t.isNode()){switch(t.pstyle("text-halign").value){case"left":i.x=-e.w;break;case"right":i.x=0}switch(t.pstyle("text-valign").value){case"top":i.y=-e.h;break;case"bottom":i.y=0}}return i},isVisible:p}),y=e.data.slbTxrCache=new zs(e,{getKey:function(t){return t[0]._private.sourceLabelStyleKey},drawElement:function(t,i,n,o,r){return e.drawElementText(t,i,n,o,"source",r)},getBoundingBox:u,getRotationPoint:function(t){return f(g(t,"sourceLabelX","sourceLabelY"),t)},getRotationOffset:function(t){return l(u(t))},isVisible:p}),b=e.data.tlbTxrCache=new zs(e,{getKey:function(t){return t[0]._private.targetLabelStyleKey},drawElement:function(t,i,n,o,r){return e.drawElementText(t,i,n,o,"target",r)},getBoundingBox:c,getRotationPoint:function(t){return f(g(t,"targetLabelX","targetLabelY"),t)},getRotationOffset:function(t){return l(c(t))},isVisible:p}),w=e.data.lyrTxrCache=new Fs(e);e.onUpdateEleCalcs(function(t,e){m.invalidateElements(e),v.invalidateElements(e),y.invalidateElements(e),b.invalidateElements(e),w.invalidateElements(e);for(var i=0;i<e.length;i++){var n=e[i]._private;n.oldBackgroundTimestamp=n.backgroundTimestamp}});var x=function(t){for(var e=0;e<t.length;e++)w.enqueueElementRefinement(t[e].ele)};m.onDequeue(x),v.onDequeue(x),y.onDequeue(x),b.onDequeue(x)}ya.CANVAS_LAYERS=3,ya.SELECT_BOX=0,ya.DRAG=1,ya.NODE=2,ya.BUFFER_COUNT=3,ya.TEXTURE_BUFFER=0,ya.MOTIONBLUR_BUFFER_NODE=1,ya.MOTIONBLUR_BUFFER_DRAG=2,ya.redrawHint=function(t,e){var i=this;switch(t){case"eles":i.data.canvasNeedsRedraw[ya.NODE]=e;break;case"drag":i.data.canvasNeedsRedraw[ya.DRAG]=e;break;case"select":i.data.canvasNeedsRedraw[ya.SELECT_BOX]=e}};var wa="undefined"!=typeof Path2D;ya.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},ya.usePaths=function(){return wa&&this.pathsEnabled},ya.setImgSmoothing=function(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},ya.getImgSmoothing=function(t){return null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},ya.makeOffscreenCanvas=function(e,i){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":t(OffscreenCanvas))?n=new OffscreenCanvas(e,i):((n=document.createElement("canvas")).width=e,n.height=i),n},[Us,$s,ia,na,oa,ra,sa,aa,fa,{nodeShapeImpl:function(t,e,i,n,o,r,s){switch(t){case"ellipse":return this.drawEllipsePath(e,i,n,o,r);case"polygon":return this.drawPolygonPath(e,i,n,o,r,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,i,n,o,r);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,i,n,o,r);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,i,n,o,r);case"barrel":return this.drawBarrelPath(e,i,n,o,r)}}}].forEach(function(t){A(ya,t)});var xa=[{type:"layout",extensions:hs},{type:"renderer",extensions:[{name:"null",impl:ds},{name:"base",impl:Ps},{name:"canvas",impl:va}]}],_a={},Ea={};function ka(t,e,i){var n=i,o=function(i){xt("Can not register `"+e+"` for `"+t+"` since `"+i+"` already exists in the prototype and can not be overridden")};if("core"===t){if(Er.prototype[e])return o(e);Er.prototype[e]=i}else if("collection"===t){if(Ho.prototype[e])return o(e);Ho.prototype[e]=i}else if("layout"===t){for(var r=function(t){this.options=t,i.call(this,t),g(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},s=r.prototype=Object.create(i.prototype),a=[],l=0;l<a.length;l++){var h=a[l];s[h]=s[h]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var d=i.prototype.stop;s.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var i=0;i<e.length;i++)e[i].stop()}return d?d.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var u=function(t){return t._private.cy},c={addEventFields:function(t,e){e.layout=t,e.cy=u(t),e.target=t},bubble:function(){return!0},parent:function(t){return u(t)}};A(s,{createEmitter:function(){return this._private.emitter=new so(c,this),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),Xi.eventAliasesOn(s),n=r}else if("renderer"===t&&"null"!==e&&"base"!==e){var p=Sa("renderer","base"),f=p.prototype,m=i,v=i.prototype,y=function(){p.apply(this,arguments),m.apply(this,arguments)},b=y.prototype;for(var w in f){var x=f[w];if(null!=v[w])return o(w);b[w]=x}for(var _ in v)b[_]=v[_];f.clientFunctions.forEach(function(t){b[t]=b[t]||function(){xt("Renderer does not implement `renderer."+t+"()` on its prototype")}}),n=y}return L({map:_a,keys:[t,e],value:n})}function Sa(t,e){return z({map:_a,keys:[t,e]})}var Ca=function(){return 2===arguments.length?Sa.apply(null,arguments):3===arguments.length?ka.apply(null,arguments):4===arguments.length?(function(t,e,i,n){return z({map:Ea,keys:[t,e,i,n]})}).apply(null,arguments):5===arguments.length?(function(t,e,i,n,o){return L({map:Ea,keys:[t,e,i,n],value:o})}).apply(null,arguments):void xt("Invalid extension access syntax")};Er.prototype.extension=Ca,xa.forEach(function(t){t.extensions.forEach(function(e){ka(t.type,e.name,e.impl)})});var Ta=function t(){if(!(this instanceof t))return new t;this.length=0},Ma=Ta.prototype;Ma.instanceString=function(){return"stylesheet"},Ma.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},Ma.css=function(t,e){var i=this.length-1;if(c(t))this[i].properties.push({name:t,value:e});else if(g(t))for(var n=t,o=Object.keys(n),r=0;r<o.length;r++){var s=o[r],a=n[s];if(null!=a){var l=yr.properties[s]||yr.properties[M(s)];null!=l&&this[i].properties.push({name:l.name,value:a})}}return this},Ma.style=Ma.css,Ma.generateStyle=function(t){var e=new yr(t);return this.appendToStyle(e)},Ma.appendToStyle=function(t){for(var e=0;e<this.length;e++){var i=this[e],n=i.properties;t.selector(i.selector);for(var o=0;o<n.length;o++){var r=n[o];t.css(r.name,r.value)}}return t};var Da=function(t){return void 0===t&&(t={}),g(t)?new Er(t):c(t)?Ca.apply(Ca,arguments):void 0};return Da.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Da),t.apply(null,e),this},Da.warnings=function(t){return _t(t)},Da.version="3.8.0",Da.stylesheet=Da.Stylesheet=Ta,Da}()},zUnb:function(t,e,i){"use strict";function n(t){return"function"==typeof t}i.r(e);let o=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){o=t},get useDeprecatedSynchronousErrorHandling(){return o}};function s(t){setTimeout(()=>{throw t})}const a={closed:!0,next(t){},error(t){if(r.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=Array.isArray||(t=>t&&"number"==typeof t.length);function h(t){return null!==t&&"object"==typeof t}function d(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}d.prototype=Object.create(Error.prototype);const u=d,c=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:i,_parents:o,_unsubscribe:r,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,d=o?o.length:0;for(;i;)i.remove(this),i=++a<d&&o[a]||null;if(n(r))try{r.call(this)}catch(c){e=!0,t=c instanceof u?p(c.errors):[c]}if(l(s))for(a=-1,d=s.length;++a<d;){const i=s[a];if(h(i))try{i.unsubscribe()}catch(c){e=!0,t=t||[],c instanceof u?t=t.concat(p(c.errors)):t.push(c)}}if(e)throw new u(t)}add(e){let i=e;switch(typeof e){case"function":i=new t(e);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof t)){const e=i;(i=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(i._addParent(this)){const t=this._subscriptions;t?t.push(i):this._subscriptions=[i]}return i}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}_addParent(t){let{_parent:e,_parents:i}=this;return e!==t&&(e?i?-1===i.indexOf(t)&&(i.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function p(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends c{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,i)}}[f](){return this}static create(t,e,i){const n=new g(t,e,i);return n.syncErrorThrowable=!1,n}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class m extends g{constructor(t,e,i,o){let r;super(),this._parentSubscriber=t;let s=this;n(e)?r=e:e&&(r=e.next,i=e.error,o=e.complete,e!==a&&(n((s=Object.create(e)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=r,this._error=i,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=r;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw i;s(i)}}__tryOrSetError(t,e,i){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(n){return r.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(s(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function b(...t){return w(t)}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:y}const x=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(t,e,i){const{operator:n}=this,o=function(t,e,i){if(t){if(t instanceof g)return t;if(t[f])return t[f]()}return t||e||i?new g(t,e,i):new g(a)}(t,e,i);if(o.add(n?n.call(o,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),r.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(e){r.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:i,isStopped:n}=t;if(e||n)return!1;t=i&&i instanceof g?i:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=_(e))((e,i)=>{let n;n=this.subscribe(e=>{try{t(e)}catch(o){i(o),n&&n.unsubscribe()}},i,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:w(t)(this)}toPromise(t){return new(t=_(t))((t,e)=>{let i;this.subscribe(t=>i=t,t=>e(t),()=>t(i))})}}return t.create=e=>new t(e),t})();function _(t){if(t||(t=r.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}E.prototype=Object.create(Error.prototype);const k=E;class S extends c{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class C extends g{constructor(t){super(t),this.destination=t}}const T=(()=>{class t extends x{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new C(this)}lift(t){const e=new M(this,this);return e.operator=t,e}next(t){if(this.closed)throw new k;if(!this.isStopped){const{observers:e}=this,i=e.length,n=e.slice();for(let o=0;o<i;o++)n[o].next(t)}}error(t){if(this.closed)throw new k;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,i=e.length,n=e.slice();for(let o=0;o<i;o++)n[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new k;this.isStopped=!0;const{observers:t}=this,e=t.length,i=t.slice();for(let n=0;n<e;n++)i[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new k;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new k;return this.hasError?(t.error(this.thrownError),c.EMPTY):this.isStopped?(t.complete(),c.EMPTY):(this.observers.push(t),new S(this,t))}asObservable(){const t=new x;return t.source=this,t}}return t.create=(t,e)=>new M(t,e),t})();class M extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):c.EMPTY}}function D(t){return t&&"function"==typeof t.schedule}class O extends g{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const P=t=>e=>{for(let i=0,n=t.length;i<n&&!e.closed;i++)e.next(t[i]);e.closed||e.complete()},I=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const N=A(),R=t=>e=>{const i=t[N]();for(;;){const t=i.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof i.return&&e.add(()=>{i.return&&i.return()}),e},L=t=>e=>{const i=t[v]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(e)},z=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function B(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const F=t=>{if(t instanceof x)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[v])return L(t);if(z(t))return P(t);if(B(t))return I(t);if(t&&"function"==typeof t[N])return R(t);{const e=h(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function j(t,e,i,n,o=new O(t,i,n)){if(!o.closed)return F(e)(o)}class H extends g{notifyNext(t,e,i,n,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function V(t,e){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new W(t,e))}}class W{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new U(t,this.project,this.thisArg))}}class U extends g{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function Y(t,e){return new x(e?i=>{const n=new c;let o=0;return n.add(e.schedule(function(){o!==t.length?(i.next(t[o++]),i.closed||n.add(this.schedule())):i.complete()})),n}:P(t))}function G(t,e){if(!e)return t instanceof x?t:new x(F(t));if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new x(e?i=>{const n=new c;return n.add(e.schedule(()=>{const o=t[v]();n.add(o.subscribe({next(t){n.add(e.schedule(()=>i.next(t)))},error(t){n.add(e.schedule(()=>i.error(t)))},complete(){n.add(e.schedule(()=>i.complete()))}}))})),n}:L(t))}(t,e);if(B(t))return function(t,e){return new x(e?i=>{const n=new c;return n.add(e.schedule(()=>t.then(t=>{n.add(e.schedule(()=>{i.next(t),n.add(e.schedule(()=>i.complete()))}))},t=>{n.add(e.schedule(()=>i.error(t)))}))),n}:I(t))}(t,e);if(z(t))return Y(t,e);if(function(t){return t&&"function"==typeof t[N]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new x(e?i=>{const n=new c;let o;return n.add(()=>{o&&"function"==typeof o.return&&o.return()}),n.add(e.schedule(()=>{o=t[N](),n.add(e.schedule(function(){if(i.closed)return;let t,e;try{const r=o.next();t=r.value,e=r.done}catch(n){return void i.error(n)}e?i.complete():(i.next(t),this.schedule())}))})),n}:R(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function q(t,e,i=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe(q((i,n)=>G(t(i,n)).pipe(V((t,o)=>e(i,t,n,o))),i)):("number"==typeof e&&(i=e),e=>e.lift(new X(t,i)))}class X{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}class $ extends H{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e,t,i)}_innerSub(t,e,i){const n=new O(this,void 0,void 0);this.destination.add(n),j(this,t,e,i,n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,i,n,o){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function K(t){return t}function Z(t=Number.POSITIVE_INFINITY){return q(K,t)}function Q(){return function(t){return t.lift(new J(t))}}class J{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const n=new tt(t,i),o=e.subscribe(n);return n.closed||(n.connection=i.connect()),o}}class tt extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,n=t._connection;this.connection=null,!n||i&&n!==i||n.unsubscribe()}}const et=class extends x{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new c).add(this.source.subscribe(new nt(this.getSubject(),this))),t.closed?(this._connection=null,t=c.EMPTY):this._connection=t),t}refCount(){return Q()(this)}}.prototype,it={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:et._subscribe},_isComplete:{value:et._isComplete,writable:!0},getSubject:{value:et.getSubject},connect:{value:et.connect},refCount:{value:et.refCount}};class nt extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function ot(){return new T}const rt="__parameters__";function st(t,e,i){const n=function(t){return function(...e){if(t){const i=t(...e);for(const t in i)this[t]=i[t]}}}(e);function o(...t){if(this instanceof o)return n.apply(this,t),this;const e=new o(...t);return i.annotation=e,i;function i(t,i,n){const o=t.hasOwnProperty(rt)?t[rt]:Object.defineProperty(t,rt,{value:[]})[rt];for(;o.length<=n;)o.push(null);return(o[n]=o[n]||[]).push(e),t}}return i&&(o.prototype=Object.create(i.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}const at=st("Inject",t=>({token:t})),lt=st("Optional"),ht=st("Self"),dt=st("SkipSelf");var ut=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ct(t){for(let e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){const e=t[gt];return e&&e.token===t?e:null}const gt=ct({ngInjectableDef:ct});function mt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const i=e.indexOf("\n");return-1===i?e:e.substring(0,i)}const vt=ct({__forward_ref__:ct});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return mt(this())},t}function bt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(vt)&&e.__forward_ref__===yt?e():t}const wt="undefined"!=typeof globalThis&&globalThis,xt="undefined"!=typeof window&&window,_t="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et="undefined"!=typeof global&&global,kt=wt||Et||xt||_t;class St{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=pt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ct=new St("INJECTOR",-1),Tt=new Object,Mt="ngTempTokenPath",Dt="ngTokenPath",Ot=/\n/gm,Pt="\u0275",It="__source",At=ct({provide:String,useValue:ct});let Nt,Rt=void 0;function Lt(t){const e=Rt;return Rt=t,e}function zt(t,e=ut.Default){return(Nt||function(t,e=ut.Default){if(void 0===Rt)throw new Error("inject() must be called from an injection context");return null===Rt?function(t,e,i){const n=ft(t);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(i&ut.Optional)return null;throw new Error(`Injector: NOT_FOUND [${mt(t)}]`)}(t,0,e):Rt.get(t,e&ut.Optional?null:void 0,e)})(t,e)}class Bt{get(t,e=Tt){if(e===Tt){const e=new Error(`NullInjectorError: No provider for ${mt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Ft(t,e,i,n=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Pt?t.substr(2):t;let o=mt(e);if(e instanceof Array)o=e.map(mt).join(" -> ");else if("object"==typeof e){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];t.push(i+":"+("string"==typeof n?JSON.stringify(n):mt(n)))}o=`{${t.join(", ")}}`}return`${i}${n?"("+n+")":""}[${o}]: ${t.replace(Ot,"\n  ")}`}const jt=new St("The presence of this token marks an injector as being the root injector."),Ht=function(t,e,i){return new Xt(t,e,i)},Vt=(()=>{class t{static create(t,e){return Array.isArray(t)?Ht(t,e,""):Ht(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Tt,t.NULL=new Bt,t.ngInjectableDef=pt({token:t,providedIn:"any",factory:()=>zt(Ct)}),t.__NG_ELEMENT_ID__=-1,t})(),Wt=function(t){return t},Ut=[],Yt=Wt,Gt=function(){return Array.prototype.slice.call(arguments)},qt="\u0275";class Xt{constructor(t,e=Vt.NULL,i=null){this.parent=e,this.source=i;const n=this._records=new Map;n.set(Vt,{token:Vt,fn:Wt,deps:Ut,value:this,useNew:!1}),n.set(Ct,{token:Ct,fn:Wt,deps:Ut,value:this,useNew:!1}),function t(e,i){if(i)if((i=bt(i))instanceof Array)for(let n=0;n<i.length;n++)t(e,i[n]);else{if("function"==typeof i)throw Kt("Function/Class not supported",i);if(!i||"object"!=typeof i||!i.provide)throw Kt("Unexpected provider",i);{let t=bt(i.provide);const n=function(t){const e=function(t){let e=Ut;const i=t.deps;if(i&&i.length){e=[];for(let t=0;t<i.length;t++){let n=6,o=bt(i[t]);if(o instanceof Array)for(let t=0,e=o;t<e.length;t++){const i=e[t];i instanceof lt||i==lt?n|=1:i instanceof dt||i==dt?n&=-3:i instanceof ht||i==ht?n&=-5:o=i instanceof at?i.token:bt(i)}e.push({token:o,options:n})}}else if(t.useExisting)e=[{token:bt(t.useExisting),options:6}];else if(!(i||At in t))throw Kt("'deps' required",t);return e}(t);let i=Wt,n=Ut,o=!1,r=bt(t.provide);if(At in t)n=t.useValue;else if(t.useFactory)i=t.useFactory;else if(t.useExisting);else if(t.useClass)o=!0,i=bt(t.useClass);else{if("function"!=typeof r)throw Kt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);o=!0,i=r}return{deps:e,fn:i,useNew:o,value:n}}(i);if(!0===i.multi){let n=e.get(t);if(n){if(n.fn!==Gt)throw $t(t)}else e.set(t,n={token:i.provide,deps:[],useNew:!1,fn:Gt,value:Ut});n.deps.push({token:t=i,options:6})}const o=e.get(t);if(o&&o.fn==Gt)throw $t(t);e.set(t,n)}}}(n,t)}get(t,e,i=ut.Default){const n=this._records.get(t);try{return function t(e,i,n,o,r,s){try{return function(e,i,n,o,r,s){let a;if(!i||s&ut.SkipSelf)s&ut.Self||(a=o.get(e,r,ut.Default));else{if((a=i.value)==Yt)throw Error(qt+"Circular dependency");if(a===Ut){i.value=Yt;let e=void 0,r=i.useNew,s=i.fn,l=i.deps,h=Ut;if(l.length){h=[];for(let e=0;e<l.length;e++){const i=l[e],r=i.options,s=2&r?n.get(i.token):void 0;h.push(t(i.token,s,n,s||4&r?o:Vt.NULL,1&r?null:Vt.THROW_IF_NOT_FOUND,ut.Default))}}i.value=a=r?new s(...h):s.apply(e,h)}}return a}(e,i,n,o,r,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[Mt]=a[Mt]||[]).unshift(e),i&&i.value==Yt&&(i.value=Ut),a}}(t,n,this._records,this.parent,e,i)}catch(o){return function(t,e,i,n){const o=t[Mt];throw e[It]&&o.unshift(e[It]),t.message=Ft("\n"+t.message,o,"StaticInjectorError",n),t[Dt]=o,t[Mt]=null,t}(o,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,i)=>t.push(mt(i))),`StaticInjector[${t.join(", ")}]`}}function $t(t){return Kt("Cannot mix multi providers and regular providers",t)}function Kt(t,e){return new Error(Ft(t,e,"StaticInjectorError"))}const Zt="ngDebugContext",Qt="ngOriginalError",Jt="ngErrorLogger",te=new St("AnalyzeForEntryComponents"),ee=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ie=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();let ne=!0,oe=!1;function re(){return oe=!0,ne}class se{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(n){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const i=e.response.body;return i.removeChild(i.firstChild),i}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const i=(new window.DOMParser).parseFromString(t,"text/html").body;return i.removeChild(i.firstChild),i}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let n=e.length-1;0<n;n--){const i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const ae=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,le=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function he(t){return(t=String(t)).match(ae)||t.match(le)?t:(re()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function de(t){const e={};for(const i of t.split(","))e[i]=!0;return e}function ue(...t){const e={};for(const i of t)for(const t in i)i.hasOwnProperty(t)&&(e[t]=!0);return e}const ce=de("area,br,col,hr,img,wbr"),pe=de("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fe=de("rp,rt"),ge=ue(fe,pe),me=ue(ce,ue(pe,de("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ue(fe,de("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ge),ve=de("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ye=de("srcset"),be=ue(ve,ye,de("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),de("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),we=de("script,style,template");class xe{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!me.hasOwnProperty(e))return this.sanitizedSomething=!0,!we.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let o=0;o<i.length;o++){const t=i.item(o),e=t.name,r=e.toLowerCase();if(!be.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;ve[r]&&(s=he(s)),ye[r]&&(n=s,s=(n=String(n)).split(",").map(t=>he(t.trim())).join(", ")),this.buf.push(" ",e,'="',ke(s),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();me.hasOwnProperty(e)&&!ce.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ke(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const _e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ee=/([^\#-~ |!])/g;function ke(t){return t.replace(/&/g,"&amp;").replace(_e,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ee,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Se;function Ce(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Te=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Me{}const De=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Oe=/^url\(([^)]+)\)$/;function Pe(t){return t[Zt]}function Ie(t){return t[Qt]}function Ae(t,...e){t.error(...e)}class Ne{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),n=function(t){return t[Jt]||Ae}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e),i&&n(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?Pe(t)?Pe(t):this._findContext(Ie(t)):null}_findOriginalError(t){let e=Ie(t);for(;e&&Ie(e);)e=Ie(e);return e}}const Re=/([A-Z])/g;function Le(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let ze=null;function Be(){if(!ze){const t=kt.Symbol;if(t&&t.iterator)ze=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ze=i)}}}return ze}function Fe(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function je(t,e){const i=Ve(t),n=Ve(e);if(i&&n)return function(t,e,i){const n=t[Be()](),o=e[Be()]();for(;;){const t=n.next(),e=o.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!i(t.value,e.value))return!1}}(t,e,je);{const o=t&&("object"==typeof t||"function"==typeof t),r=e&&("object"==typeof e||"function"==typeof e);return!(i||!o||n||!r)||Fe(t,e)}}class He{constructor(t){this.wrapped=t}static wrap(t){return new He(t)}static unwrap(t){return He.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof He}}function Ve(t){return!!We(t)&&(Array.isArray(t)||!(t instanceof Map)&&Be()in t)}function We(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ue(t){return!!t&&"function"==typeof t.then}function Ye(t){return!!t&&"function"==typeof t.subscribe}class Ge{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}class qe{}class Xe{}function $e(t){const e=Error(`No component factory found for ${mt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Ke]=t,e}const Ke="ngComponent";class Ze{resolveComponentFactory(t){throw $e(t)}}const Qe=(()=>{class t{}return t.NULL=new Ze,t})();class Je{constructor(t,e,i){this._parent=e,this._ngModule=i,this._factories=new Map;for(let n=0;n<t.length;n++){const e=t[n];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw $e(t);return new ti(e,this._ngModule)}}class ti extends Xe{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,i,n){return this.factory.create(t,e,i,n||this.ngModule)}}class ei{}class ii{}function ni(...t){}const oi=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ri(t),t})(),ri=ni;class si{}class ai{}const li=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),hi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>di(),t})(),di=ni;class ui{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ci=new ui("8.1.0");class pi{constructor(){}supports(t){return Ve(t)}create(t){return new gi(t)}}const fi=(t,e)=>e;class gi{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fi}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,n=0,o=null;for(;e||i;){const r=!i||e&&e.currentIndex<bi(i,n,o)?e:i,s=bi(r,n,o),a=r.currentIndex;if(r===i)n--,i=i._nextRemoved;else if(e=e._next,null==r.previousIndex)n++;else{o||(o=[]);const t=s-n,e=a-n;if(t!=e){for(let i=0;i<t;i++){const n=i<o.length?o[i]:o[i]=0,r=n+i;e<=r&&r<t&&(o[i]=n+1)}o[r.previousIndex]=e-t}}s!==a&&t(r,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ve(t))throw new Error(`Error trying to diff '${mt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,i,n,o=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=this._trackByFn(e,i=t[e]),null!==o&&Fe(o.trackById,n)?(r&&(o=this._verifyReinsertion(o,i,n,e)),Fe(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,n,e),r=!0),o=o._next}else e=0,function(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{const i=t[Be()]();let n;for(;!(n=i.next()).done;)e(n.value)}}(t,t=>{n=this._trackByFn(e,t),null!==o&&Fe(o.trackById,n)?(r&&(o=this._verifyReinsertion(o,t,n,e)),Fe(o.item,t)||this._addIdentityChange(o,t)):(o=this._mismatch(o,t,n,e),r=!0),o=o._next,e++}),this.length=e;return this._truncate(o),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,n){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Fe(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,n)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Fe(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,n)):t=this._addAfter(new mi(e,i),o,n),t}_verifyReinsertion(t,e,i,n){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,o=t._nextRemoved;return null===n?this._removalsHead=o:n._nextRemoved=o,null===o?this._removalsTail=n:o._prevRemoved=n,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new yi),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yi),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mi{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vi{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Fe(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class yi{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new vi,this.map.set(e,i)),i.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bi(t,e,i){const n=t.previousIndex;if(null===n)return n;let o=0;return i&&n<i.length&&(o=i[n]),n+e+o}class wi{constructor(){}supports(t){return t instanceof Map||We(t)}create(){return new xi}}class xi{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||We(t)))throw new Error(`Error trying to diff '${mt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const n=this._getOrCreateRecordForKey(i,t);e=this._insertBeforeOrAppend(e,n)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const n=i._prev,o=i._next;return n&&(n._next=o),o&&(o._prev=n),i._next=null,i._prev=null,i}const i=new _i(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Fe(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class _i{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}const Ei=(()=>{class t{constructor(t){this.factories=t}static create(e,i){if(null!=i){const t=i.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>{if(!i)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,i)},deps:[[t,new dt,new lt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${i=t,i.name||typeof i}'`);var i}}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new t([new pi])}),t})(),ki=(()=>{class t{constructor(t){this.factories=t}static create(e,i){if(i){const t=i.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>{if(!i)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,i)},deps:[[t,new dt,new lt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new t([new wi])}),t})(),Si=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ci(),t})(),Ci=(...t)=>{},Ti=[new wi],Mi=new Ei([new pi]),Di=new ki(Ti),Oi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Pi(t,oi),t})(),Pi=ni,Ii=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ai(t,oi),t})(),Ai=ni;function Ni(t,e,i,n){let o=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${i}'.`;return n&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const i=new Error(t);return Ri(i,e),i}(o,t)}function Ri(t,e){t[Zt]=e,t[Jt]=e.logError.bind(e)}function Li(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function zi(t,e,i){const n=t.state,o=1792&n;return o===e?(t.state=-1793&n|i,t.initIndex=-1,!0):o===i}function Bi(t,e,i){return(1792&t.state)===e&&t.initIndex<=i&&(t.initIndex=i+1,!0)}function Fi(t,e){return t.nodes[e]}function ji(t,e){return t.nodes[e]}function Hi(t,e){return t.nodes[e]}function Vi(t,e){return t.nodes[e]}function Wi(t,e){return t.nodes[e]}const Ui={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Yi=()=>{},Gi=new Map;function qi(t){let e=Gi.get(t);return e||(e=mt(t)+"_"+Gi.size,Gi.set(t,e)),e}const Xi="$$undefined",$i="$$empty";function Ki(t){return{id:Xi,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Zi=0;function Qi(t,e,i,n){return!(!(2&t.state)&&Fe(t.oldValues[e.bindingIndex+i],n))}function Ji(t,e,i,n){return!!Qi(t,e,i,n)&&(t.oldValues[e.bindingIndex+i]=n,!0)}function tn(t,e,i,n){const o=t.oldValues[e.bindingIndex+i];if(1&t.state||!je(o,n)){const r=e.bindings[i].name;throw Ni(Ui.createDebugContext(t,e.nodeIndex),`${r}: ${o}`,`${r}: ${n}`,0!=(1&t.state))}}function en(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function nn(t,e){let i=t;for(;i&&i!==e;)i.state|=64,i=i.viewContainerParent||i.parent}function on(t,e,i,n){try{return en(33554432&t.def.nodes[e].flags?ji(t,e).componentView:t),Ui.handleEvent(t,e,i,n)}catch(o){t.root.errorHandler.handleError(o)}}function rn(t){return t.parent?ji(t.parent,t.parentNodeDef.nodeIndex):null}function sn(t){return t.parent?t.parentNodeDef.parent:null}function an(t,e){switch(201347067&e.flags){case 1:return ji(t,e.nodeIndex).renderElement;case 2:return Fi(t,e.nodeIndex).renderText}}function ln(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function hn(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function dn(t){return 1<<t%32}function un(t){const e={};let i=0;const n={};return t&&t.forEach(([t,o])=>{"number"==typeof t?(e[t]=o,i|=dn(t)):n[t]=o}),{matchedQueries:e,references:n,matchedQueryIds:i}}function cn(t,e){return t.map(t=>{let i,n;return Array.isArray(t)?[n,i]=t:(n=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,It,{value:e,configurable:!0}),{flags:n,token:i,tokenKey:qi(i)}})}function pn(t,e,i){let n=i.renderParent;return n?0==(1&n.flags)||0==(33554432&n.flags)||n.element.componentRendererType&&n.element.componentRendererType.encapsulation===ee.Native?ji(t,i.renderParent.nodeIndex).renderElement:void 0:e}const fn=new WeakMap;function gn(t){let e=fn.get(t);return e||((e=t(()=>Yi)).factory=t,fn.set(t,e)),e}function mn(t,e,i,n,o){3===e&&(i=t.renderer.parentNode(an(t,t.def.lastRenderRootNode))),vn(t,e,0,t.def.nodes.length-1,i,n,o)}function vn(t,e,i,n,o,r,s){for(let a=i;a<=n;a++){const i=t.def.nodes[a];11&i.flags&&bn(t,i,e,o,r,s),a+=i.childCount}}function yn(t,e,i,n,o,r){let s=t;for(;s&&!ln(s);)s=s.parent;const a=s.parent,l=sn(s),h=l.nodeIndex+l.childCount;for(let d=l.nodeIndex+1;d<=h;d++){const t=a.def.nodes[d];t.ngContentIndex===e&&bn(a,t,i,n,o,r),d+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)wn(t,s[e],i,n,o,r)}}function bn(t,e,i,n,o,r){if(8&e.flags)yn(t,e.ngContent.index,i,n,o,r);else{const s=an(t,e);if(3===i&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&wn(t,s,i,n,o,r),32&e.bindingFlags&&wn(ji(t,e.nodeIndex).componentView,s,i,n,o,r)):wn(t,s,i,n,o,r),16777216&e.flags){const s=ji(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)mn(s[t],i,n,o,r)}1&e.flags&&!e.element.name&&vn(t,i,e.nodeIndex+1,e.nodeIndex+e.childCount,n,o,r)}}function wn(t,e,i,n,o,r){const s=t.renderer;switch(i){case 1:s.appendChild(n,e);break;case 2:s.insertBefore(n,e,o);break;case 3:s.removeChild(n,e);break;case 0:r.push(e)}}const xn=/^:([^:]+):(.+)$/;function _n(t){if(":"===t[0]){const e=t.match(xn);return[e[1],e[2]]}return["",t]}function En(t){let e=0;for(let i=0;i<t.length;i++)e|=t[i].flags;return e}const kn=new Object,Sn=qi(Vt),Cn=qi(Ct),Tn=qi(ei);function Mn(t,e,i,n){return i=bt(i),{index:-1,deps:cn(n,mt(e)),flags:t,token:e,value:i}}function Dn(t,e,i=Vt.THROW_IF_NOT_FOUND){const n=Lt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(i=null),1&e.flags)return t._parent.get(e.token,i);const s=e.tokenKey;switch(s){case Sn:case Cn:case Tn:return t}const a=t._def.providersByKey[s];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=On(t,a)),e===kn?void 0:e}if((l=ft(e.token))&&(o=t,null!=(r=l).providedIn&&(function(t,e){return t._def.modules.indexOf(r.providedIn)>-1}(o)||"root"===r.providedIn&&o._def.isRoot))){const i=t._providers.length;return t._def.providers[i]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:i,token:e.token},t._providers[i]=kn,t._providers[i]=On(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?i:t._parent.get(e.token,i)}finally{Lt(n)}var o,r}function On(t,e){let i;switch(201347067&e.flags){case 512:i=function(t,e,i){const n=i.length;switch(n){case 0:return new e;case 1:return new e(Dn(t,i[0]));case 2:return new e(Dn(t,i[0]),Dn(t,i[1]));case 3:return new e(Dn(t,i[0]),Dn(t,i[1]),Dn(t,i[2]));default:const o=new Array(n);for(let e=0;e<n;e++)o[e]=Dn(t,i[e]);return new e(...o)}}(t,e.value,e.deps);break;case 1024:i=function(t,e,i){const n=i.length;switch(n){case 0:return e();case 1:return e(Dn(t,i[0]));case 2:return e(Dn(t,i[0]),Dn(t,i[1]));case 3:return e(Dn(t,i[0]),Dn(t,i[1]),Dn(t,i[2]));default:const o=Array(n);for(let e=0;e<n;e++)o[e]=Dn(t,i[e]);return e(...o)}}(t,e.value,e.deps);break;case 2048:i=Dn(t,e.deps[0]);break;case 256:i=e.value}return i===kn||null===i||"object"!=typeof i||131072&e.flags||"function"!=typeof i.ngOnDestroy||(e.flags|=131072),void 0===i?kn:i}function Pn(t,e){const i=t.viewContainer._embeddedViews;if((null==e||e>=i.length)&&(e=i.length-1),e<0)return null;const n=i[e];return n.viewContainerParent=null,Rn(i,e),Ui.dirtyParentQueries(n),An(n),n}function In(t,e,i){const n=e?an(e,e.def.lastRenderRootNode):t.renderElement,o=i.renderer.parentNode(n),r=i.renderer.nextSibling(n);mn(i,2,o,r,void 0)}function An(t){mn(t,3,null,null,void 0)}function Nn(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Rn(t,e){e>=t.length-1?t.pop():t.splice(e,1)}const Ln=new Object;function zn(t,e,i,n,o,r){return new Bn(t,e,i,n,o,r)}class Bn extends Xe{constructor(t,e,i,n,o,r){super(),this.selector=t,this.componentType=e,this._inputs=n,this._outputs=o,this.ngContentSelectors=r,this.viewDefFactory=i}get inputs(){const t=[],e=this._inputs;for(let i in e)t.push({propName:i,templateName:e[i]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,i,n){if(!n)throw new Error("ngModule should be provided");const o=gn(this.viewDefFactory),r=o.nodes[0].element.componentProvider.nodeIndex,s=Ui.createRootView(t,e||[],i,o,n,Ln),a=Hi(s,r).instance;return i&&s.renderer.setAttribute(ji(s,0).renderElement,"ng-version",ci.full),new Fn(s,new Wn(s),a)}}class Fn extends qe{constructor(t,e,i){super(),this._view=t,this._viewRef=e,this._component=i,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=i}get location(){return new oi(ji(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new qn(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function jn(t,e,i){return new Hn(t,e,i)}class Hn{constructor(t,e,i){this._view=t,this._elDef=e,this._data=i,this._embeddedViews=[]}get element(){return new oi(this._data.renderElement)}get injector(){return new qn(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=sn(t),t=t.parent;return t?new qn(t,e):new qn(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Pn(this._data,t);Ui.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Wn(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,i){const n=t.createEmbeddedView(e||{});return this.insert(n,i),n}createComponent(t,e,i,n,o){const r=i||this.parentInjector;o||t instanceof ti||(o=r.get(ei));const s=t.create(r,n,void 0,o);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const i=t;return function(t,e,i,n){let o=e.viewContainer._embeddedViews;null==i&&(i=o.length),n.viewContainerParent=t,Nn(o,i,n),function(t,e){const i=rn(e);if(!i||i===t||16&e.state)return;e.state|=16;let n=i.template._projectedViews;n||(n=i.template._projectedViews=[]),n.push(e),function(t,i){if(4&i.flags)return;e.parent.def.nodeFlags|=4,i.flags|=4;let n=i.parent;for(;n;)n.childFlags|=4,n=n.parent}(0,e.parentNodeDef)}(e,n),Ui.dirtyParentQueries(n),In(e,i>0?o[i-1]:null,n)}(this._view,this._data,e,i._view),i.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const i=this._embeddedViews.indexOf(t._view);return function(t,e,n){const o=t.viewContainer._embeddedViews,r=o[i];Rn(o,i),null==n&&(n=o.length),Nn(o,n,r),Ui.dirtyParentQueries(r),An(r),In(t,n>0?o[n-1]:null,r)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Pn(this._data,t);e&&Ui.destroyView(e)}detach(t){const e=Pn(this._data,t);return e?new Wn(e):null}}function Vn(t){return new Wn(t)}class Wn{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return mn(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){en(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Ui.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Ui.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ui.destroyView(this._view)}detachFromAppRef(){this._appRef=null,An(this._view),Ui.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Un(t,e){return new Yn(t,e)}class Yn extends Oi{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Wn(Ui.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new oi(ji(this._parentView,this._def.nodeIndex).renderElement)}}function Gn(t,e){return new qn(t,e)}class qn{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Vt.THROW_IF_NOT_FOUND){return Ui.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:qi(t)},e)}}function Xn(t){return new $n(t.renderer)}class $n{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[i,n]=_n(e),o=this.delegate.createElement(n,i);return t&&this.delegate.appendChild(t,o),o}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const i=this.delegate.createText(e);return t&&this.delegate.appendChild(t,i),i}projectNodes(t,e){for(let i=0;i<e.length;i++)this.delegate.appendChild(t,e[i])}attachViewAfter(t,e){const i=this.delegate.parentNode(t),n=this.delegate.nextSibling(t);for(let o=0;o<e.length;o++)this.delegate.insertBefore(i,e[o],n)}detachView(t){for(let e=0;e<t.length;e++){const i=t[e],n=this.delegate.parentNode(i);this.delegate.removeChild(n,i)}}destroyView(t,e){for(let i=0;i<e.length;i++)this.delegate.destroyNode(e[i])}listen(t,e,i){return this.delegate.listen(t,e,i)}listenGlobal(t,e,i){return this.delegate.listen(t,e,i)}setElementProperty(t,e,i){this.delegate.setProperty(t,e,i)}setElementAttribute(t,e,i){const[n,o]=_n(e);null!=i?this.delegate.setAttribute(t,o,i,n):this.delegate.removeAttribute(t,o,n)}setBindingDebugInfo(t,e,i){}setElementClass(t,e,i){i?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,i){null!=i?this.delegate.setStyle(t,e,i):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,i){t[e].apply(t,i)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Kn(t,e,i,n){return new Zn(t,e,i,n)}class Zn{constructor(t,e,i,n){this._moduleType=t,this._parent=e,this._bootstrapComponents=i,this._def=n,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,i=t._providers=new Array(e.providers.length);for(let n=0;n<e.providers.length;n++){const o=e.providers[n];4096&o.flags||void 0===i[n]&&(i[n]=On(t,o))}}(this)}get(t,e=Vt.THROW_IF_NOT_FOUND,i=ut.Default){let n=0;return i&ut.SkipSelf?n|=1:i&ut.Self&&(n|=4),Dn(this,{token:t,tokenKey:qi(t),flags:n},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Qe)}destroy(){if(this._destroyed)throw new Error(`The ng module ${mt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const i=t._def,n=new Set;for(let o=0;o<i.providers.length;o++)if(131072&i.providers[o].flags){const e=t._providers[o];if(e&&e!==kn){const t=e.ngOnDestroy;"function"!=typeof t||n.has(e)||(t.apply(e),n.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Qn=qi(si),Jn=qi(hi),to=qi(oi),eo=qi(Ii),io=qi(Oi),no=qi(Si),oo=qi(Vt),ro=qi(Ct);function so(t,e,i,n,o,r,s,a){const l=[];if(s)for(let d in s){const[t,e]=s[d];l[t]={flags:8,name:d,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const h=[];if(a)for(let d in a)h.push({type:1,propName:d,target:null,eventName:a[d]});return function(t,e,i,n,o,r,s,a,l){const{matchedQueries:h,references:d,matchedQueryIds:u}=un(i);l||(l=[]),a||(a=[]),r=bt(r);const c=cn(s,mt(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:u,references:d,ngContentIndex:-1,childCount:n,bindings:a,bindingFlags:En(a),outputs:l,element:null,provider:{token:o,value:r,deps:c},text:null,query:null,ngContent:null}}(t,e|=16384,i,n,o,o,r,l,h)}function ao(t,e){return co(t,e)}function lo(t,e){let i=t;for(;i.parent&&!ln(i);)i=i.parent;return po(i.parent,sn(i),!0,e.provider.value,e.provider.deps)}function ho(t,e){const i=po(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let n=0;n<e.outputs.length;n++){const o=e.outputs[n],r=i[o.propName];if(!Ye(r))throw new Error(`@Output ${o.propName} not initialized in '${i.constructor.name}'.`);{const i=r.subscribe(uo(t,e.parent.nodeIndex,o.eventName));t.disposables[e.outputIndex+n]=i.unsubscribe.bind(i)}}return i}function uo(t,e,i){return n=>on(t,e,i,n)}function co(t,e){const i=(8192&e.flags)>0,n=e.provider;switch(201347067&e.flags){case 512:return po(t,e.parent,i,n.value,n.deps);case 1024:return function(t,e,i,n,o){const r=o.length;switch(r){case 0:return n();case 1:return n(go(t,e,i,o[0]));case 2:return n(go(t,e,i,o[0]),go(t,e,i,o[1]));case 3:return n(go(t,e,i,o[0]),go(t,e,i,o[1]),go(t,e,i,o[2]));default:const s=Array(r);for(let n=0;n<r;n++)s[n]=go(t,e,i,o[n]);return n(...s)}}(t,e.parent,i,n.value,n.deps);case 2048:return go(t,e.parent,i,n.deps[0]);case 256:return n.value}}function po(t,e,i,n,o){const r=o.length;switch(r){case 0:return new n;case 1:return new n(go(t,e,i,o[0]));case 2:return new n(go(t,e,i,o[0]),go(t,e,i,o[1]));case 3:return new n(go(t,e,i,o[0]),go(t,e,i,o[1]),go(t,e,i,o[2]));default:const s=new Array(r);for(let n=0;n<r;n++)s[n]=go(t,e,i,o[n]);return new n(...s)}}const fo={};function go(t,e,i,n,o=Vt.THROW_IF_NOT_FOUND){if(8&n.flags)return n.token;const r=t;2&n.flags&&(o=null);const s=n.tokenKey;s===no&&(i=!(!e||!e.element.componentView)),e&&1&n.flags&&(i=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case Qn:return Xn(mo(a,e,i));case Jn:return mo(a,e,i).renderer;case to:return new oi(ji(a,e.nodeIndex).renderElement);case eo:return ji(a,e.nodeIndex).viewContainer;case io:if(e.element.template)return ji(a,e.nodeIndex).template;break;case no:return Vn(mo(a,e,i));case oo:case ro:return Gn(a,e);default:const t=(i?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=Hi(a,t.nodeIndex);return e||(e={instance:co(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}i=ln(a),e=sn(a),a=a.parent,4&n.flags&&(a=null)}const l=r.root.injector.get(n.token,fo);return l!==fo||o===fo?l:r.root.ngModule.injector.get(n.token,o)}function mo(t,e,i){let n;if(i)n=ji(t,e.nodeIndex).componentView;else for(n=t;n.parent&&!ln(n);)n=n.parent;return n}function vo(t,e,i,n,o,r){if(32768&i.flags){const e=ji(t,i.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[i.bindings[n].name]=o,524288&i.flags){r=r||{};const e=He.unwrap(t.oldValues[i.bindingIndex+n]);r[i.bindings[n].nonMinifiedName]=new Ge(e,o,0!=(2&t.state))}return t.oldValues[i.bindingIndex+n]=o,r}function yo(t,e){if(!(t.def.nodeFlags&e))return;const i=t.def.nodes;let n=0;for(let o=0;o<i.length;o++){const r=i[o];let s=r.parent;for(!s&&r.flags&e&&wo(t,o,r.flags&e,n++),0==(r.childFlags&e)&&(o+=r.childCount);s&&1&s.flags&&o===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(n=bo(t,s,e,n)),s=s.parent}}function bo(t,e,i,n){for(let o=e.nodeIndex+1;o<=e.nodeIndex+e.childCount;o++){const e=t.def.nodes[o];e.flags&i&&wo(t,o,e.flags&i,n++),o+=e.childCount}return n}function wo(t,e,i,n){const o=Hi(t,e);if(!o)return;const r=o.instance;r&&(Ui.setCurrentNode(t,e),1048576&i&&Bi(t,512,n)&&r.ngAfterContentInit(),2097152&i&&r.ngAfterContentChecked(),4194304&i&&Bi(t,768,n)&&r.ngAfterViewInit(),8388608&i&&r.ngAfterViewChecked(),131072&i&&r.ngOnDestroy())}const xo=new St("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ie}),_o={},Eo=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),ko=void 0;var So=["en",[["a","p"],["AM","PM"],ko],[["AM","PM"],ko,ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ko,"{1} 'at' {0}",ko],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Co="en-US";class To extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let n,o=t=>null,r=()=>null;t&&"object"==typeof t?(n=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(r=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(n=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),i&&(r=this.__isAsync?()=>{setTimeout(()=>i())}:()=>{i()}));const s=super.subscribe(n,o,r);return t instanceof c&&t.add(s),s}}function Mo(){return this._results[Be()]()}class Do{constructor(){this.dirty=!0,this._results=[],this.changes=new To,this.length=0;const t=Be(),e=Do.prototype;e[t]||(e[t]=Mo)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,i){void 0===i&&(i=e);for(let n=0;n<e.length;n++){let o=e[n];Array.isArray(o)?(i===e&&(i=e.slice(0,n)),t(o,i)):i!==e&&i.push(o)}return i}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Oo=new St("Application Initializer"),Po=(()=>(class{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const e=this.appInits[i]();Ue(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}))(),Io=new St("AppId");function Ao(){return`${No()}${No()}${No()}`}function No(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ro=new St("Platform Initializer"),Lo=new St("Platform ID"),zo=new St("appBootstrapListener"),Bo=(()=>(class{log(t){console.log(t)}warn(t){console.warn(t)}}))(),Fo=new St("LocaleId");function jo(){throw new Error("Runtime compiler is not loaded")}const Ho=jo,Vo=jo,Wo=jo,Uo=jo,Yo=(()=>(class{constructor(){this.compileModuleSync=Ho,this.compileModuleAsync=Vo,this.compileModuleAndAllComponentsSync=Wo,this.compileModuleAndAllComponentsAsync=Uo}clearCache(){}clearCacheFor(t){}getModuleId(t){}}))();class Go{}let qo,Xo;function $o(){const t=kt.wtf;return!(!t||!(qo=t.trace)||(Xo=qo.events,0))}const Ko=$o(),Zo=Ko?function(t,e=null){return Xo.createScope(t,e)}:(t,e)=>(function(t,e){return null}),Qo=Ko?function(t,e){return qo.leaveScope(t,e),e}:(t,e)=>e,Jo=(()=>Promise.resolve(0))();function tr(t){"undefined"==typeof Zone?Jo.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class er{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new To(!1),this.onMicrotaskEmpty=new To(!1),this.onStable=new To(!1),this.onError=new To(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,n,o,r,s)=>{try{return rr(e),t.invokeTask(n,o,r,s)}finally{sr(e)}},onInvoke:(t,i,n,o,r,s,a)=>{try{return rr(e),t.invoke(n,o,r,s,a)}finally{sr(e)}},onHasTask:(t,i,n,o)=>{t.hasTask(n,o),i===n&&("microTask"==o.change?(e.hasPendingMicrotasks=o.microTask,or(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,n,o)=>(t.handleError(n,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!er.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(er.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,n){const o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+n,t,nr,ir,ir);try{return o.runTask(r,e,i)}finally{o.cancelTask(r)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}function ir(){}const nr={};function or(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rr(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sr(t){t._nesting--,or(t)}class ar{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new To,this.onMicrotaskEmpty=new To,this.onStable=new To,this.onError=new To}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}const lr=(()=>(class{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{er.assertNotInAngularZone(),tr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tr(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,i){let n=-1;e&&e>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==n),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:n,updateCb:i})}whenStable(t,e,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,i){return[]}}))(),hr=(()=>{class t{constructor(){this._applications=new Map,cr.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return cr.findTestabilityInTree(this,t,e)}}return t.ctorParameters=()=>[],t})();class dr{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let ur,cr=new dr,pr=function(t){return t instanceof ti};const fr=new St("AllowMultipleToken");class gr{constructor(t,e){this.name=t,this.token=e}}function mr(t,e,i=[]){const n=`Platform: ${e}`,o=new St(n);return(e=[])=>{let r=vr();if(!r||r.injector.get(fr,!1))if(t)t(i.concat(e).concat({provide:o,useValue:!0}));else{const t=i.concat(e).concat({provide:o,useValue:!0});!function(t){if(ur&&!ur.destroyed&&!ur.injector.get(fr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ur=t.get(yr);const e=t.get(Ro,null);e&&e.forEach(t=>t())}(Vt.create({providers:t,name:n}))}return function(t){const e=vr();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function vr(){return ur&&!ur.destroyed?ur:null}const yr=(()=>(class{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const i="noop"===(o=e?e.ngZone:void 0)?new ar:("zone.js"===o?void 0:o)||new er({enableLongStackTrace:re()}),n=[{provide:er,useValue:i}];var o;return i.run(()=>{const e=Vt.create({providers:n,parent:this.injector,name:t.moduleType.name}),o=t.create(e),r=o.injector.get(Ne,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return function(t){Co=t.toLowerCase().replace(/_/g,"-")}(o.injector.get(Fo,"en-US")),o.onDestroy(()=>xr(this._modules,o)),i.runOutsideAngular(()=>i.onError.subscribe({next:t=>{r.handleError(t)}})),function(t,e,i){try{const o=i();return Ue(o)?o.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):o}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(r,i,()=>{const t=o.injector.get(Po);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,e=[]){const i=br({},e);return function(t,e,i){return t.get(Go).createCompiler([e]).compileModuleAsync(i)}(this.injector,i,t).then(t=>this.bootstrapModuleFactory(t,i))}_moduleDoBootstrap(t){const e=t.injector.get(wr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${mt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}))();function br(t,e){return Array.isArray(e)?e.reduce(br,t):Object.assign({},t,e)}const wr=(()=>{class t{constructor(t,e,i,n,o,r){this._zone=t,this._console=e,this._injector=i,this._exceptionHandler=n,this._componentFactoryResolver=o,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=re(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new x(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new x(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{er.assertNotInAngularZone(),tr(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{er.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),i.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,i=null,n=t[t.length-1];return D(n)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof n&&(e=t.pop()),null===i&&1===t.length&&t[0]instanceof x?t[0]:Z(e)(Y(t,i))}(s,a.pipe(t=>Q()(function(t,e){return function(e){let i;i="function"==typeof t?t:function(){return t};const n=Object.create(e,it);return n.source=e,n.subjectFactory=i,n}}(ot)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof Xe?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const n=pr(i)?null:this._injector.get(ei),o=i.create(Vt.NULL,[],e||i.selector,n);o.onDestroy(()=>{this._unloadComponent(o)});const r=o.injector.get(lr,null);return r&&o.injector.get(hr).registerApplication(o.location.nativeElement,r),this._loadComponent(o),re()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1,Qo(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;xr(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(zo,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),xr(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Zo("ApplicationRef#tick()"),t})();function xr(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}class _r{}class Er{}const kr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Sr=(()=>(class{constructor(t,e){this._compiler=t,this._config=e||kr}load(t){return this._compiler instanceof Yo?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,n]=t.split("#");return void 0===n&&(n="default"),i("zn8P")(e).then(t=>t[n]).then(t=>Cr(t,e,n)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,n]=t.split("#"),o="NgFactory";return void 0===n&&(n="default",o=""),i("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[n+o]).then(t=>Cr(t,e,n))}}))();function Cr(t,e,i){if(!t)throw new Error(`Cannot find '${i}' in '${e}'`);return t}class Tr{constructor(t,e){this.name=t,this.callback=e}}class Mr{constructor(t,e,i){this.listeners=[],this.parent=null,this._debugContext=i,this.nativeNode=t,e&&e instanceof Dr&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Dr extends Mr{constructor(t,e,i){super(t,e,i),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const i=this.childNodes.indexOf(t);-1!==i&&(this.childNodes.splice(i+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const i=this.childNodes.indexOf(t);-1===i?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(i,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,i,n){e.childNodes.forEach(e=>{e instanceof Dr&&(i(e)&&n.push(e),t(e,i,n))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,i,n){e instanceof Dr&&e.childNodes.forEach(e=>{i(e)&&n.push(e),e instanceof Dr&&t(e,i,n)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Dr)}triggerEventHandler(t,e){this.listeners.forEach(i=>{i.name==t&&i.callback(e)})}}const Or=new Map,Pr=function(t){return Or.get(t)||null};function Ir(t){Or.set(t.nativeNode,t)}const Ar=mr(null,"core",[{provide:Lo,useValue:"unknown"},{provide:yr,deps:[Vt]},{provide:hr,deps:[]},{provide:Bo,deps:[]}]);function Nr(){return Mi}function Rr(){return Di}function Lr(t){return t||"en-US"}function zr(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}const Br=(()=>(class{constructor(t){}}))();function Fr(t,e,i,n,o,r,s=[],a,l,h,d,u){h||(h=Yi);const{matchedQueries:c,references:p,matchedQueryIds:f}=un(i);let g=null,m=null;r&&([g,m]=_n(r)),a=a||[];const v=new Array(a.length);for(let w=0;w<a.length;w++){const[t,e,i]=a[w],[n,o]=_n(e);let r=void 0,s=void 0;switch(15&t){case 4:s=i;break;case 1:case 8:r=i}v[w]={flags:t,ns:n,name:o,nonMinifiedName:o,securityContext:r,suffix:s}}l=l||[];const y=new Array(l.length);for(let w=0;w<l.length;w++){const[t,e]=l[w];y[w]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[i,n]=_n(t);return[i,n,e]});return u=function(t){if(t&&t.id===Xi){const e=null!=t.encapsulation&&t.encapsulation!==ee.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Zi++}`:$i}return t&&t.id===$i&&(t=null),t||null}(u),d&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:p,ngContentIndex:n,childCount:o,bindings:v,bindingFlags:En(v),outputs:y,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:d||null,componentRendererType:u,publicProviders:null,allProviders:null,handleEvent:h||Yi},provider:null,text:null,query:null,ngContent:null}}function jr(t,e,i){const n=i.element,o=t.root.selectorOrNode,r=t.renderer;let s;if(t.parent||!o){s=n.name?r.createElement(n.name,n.ns):r.createComment("");const o=pn(t,e,i);o&&r.appendChild(o,s)}else s=r.selectRootElement(o,!!n.componentRendererType&&n.componentRendererType.encapsulation===ee.ShadowDom);if(n.attrs)for(let a=0;a<n.attrs.length;a++){const[t,e,i]=n.attrs[a];r.setAttribute(s,e,i,t)}return s}function Hr(t,e,i,n){for(let s=0;s<i.outputs.length;s++){const a=i.outputs[s],l=Vr(t,i.nodeIndex,(r=a.eventName,(o=a.target)?`${o}:${r}`:r));let h=a.target,d=t;"component"===a.target&&(h=null,d=e);const u=d.renderer.listen(h||n,a.eventName,l);t.disposables[i.outputIndex+s]=u}var o,r}function Vr(t,e,i){return n=>on(t,e,i,n)}function Wr(t,e,i,n){if(!Ji(t,e,i,n))return!1;const o=e.bindings[i],r=ji(t,e.nodeIndex),s=r.renderElement,a=o.name;switch(15&o.flags){case 1:!function(t,e,i,n,o,r){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,r):r;a=null!=a?a.toString():null;const l=t.renderer;null!=r?l.setAttribute(i,o,a,n):l.removeAttribute(i,o,n)}(t,o,s,o.ns,a,n);break;case 2:!function(t,e,i,n){const o=t.renderer;n?o.addClass(e,i):o.removeClass(e,i)}(t,s,a,n);break;case 4:!function(t,e,i,n,o){let r=t.root.sanitizer.sanitize(Te.STYLE,o);if(null!=r){r=r.toString();const t=e.suffix;null!=t&&(r+=t)}else r=null;const s=t.renderer;null!=r?s.setStyle(i,n,r):s.removeStyle(i,n)}(t,o,s,a,n);break;case 8:!function(t,e,i,n,o){const r=e.securityContext;let s=r?t.root.sanitizer.sanitize(r,o):o;t.renderer.setProperty(i,n,s)}(33554432&e.flags&&32&o.flags?r.componentView:t,o,s,a,n)}return!0}function Ur(t,e,i){let n=[];for(let o in i)n.push({propName:o,bindingType:i[o]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:dn(e),bindings:n},ngContent:null}}function Yr(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&hn(t);){let i=t.parentNodeDef;t=t.parent;const n=i.nodeIndex+i.childCount;for(let o=0;o<=n;o++){const n=t.def.nodes[o];67108864&n.flags&&536870912&n.flags&&(n.query.filterId&e)===n.query.filterId&&Wi(t,o).setDirty(),!(1&n.flags&&o+n.childCount<i.nodeIndex)&&67108864&n.childFlags&&536870912&n.childFlags||(o+=n.childCount)}}if(134217728&t.def.nodeFlags)for(let i=0;i<t.def.nodes.length;i++){const e=t.def.nodes[i];134217728&e.flags&&536870912&e.flags&&Wi(t,i).setDirty(),i+=e.childCount}}function Gr(t,e){const i=Wi(t,e.nodeIndex);if(!i.dirty)return;let n,o=void 0;if(67108864&e.flags){const i=e.parent.parent;o=qr(t,i.nodeIndex,i.nodeIndex+i.childCount,e.query,[]),n=Hi(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(o=qr(t,0,t.def.nodes.length-1,e.query,[]),n=t.component);i.reset(o);const r=e.query.bindings;let s=!1;for(let a=0;a<r.length;a++){const t=r[a];let e;switch(t.bindingType){case 0:e=i.first;break;case 1:e=i,s=!0}n[t.propName]=e}s&&i.notifyOnChanges()}function qr(t,e,i,n,o){for(let r=e;r<=i;r++){const e=t.def.nodes[r],i=e.matchedQueries[n.id];if(null!=i&&o.push(Xr(t,e,i)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&n.filterId)===n.filterId){const i=ji(t,r);if((e.childMatchedQueries&n.filterId)===n.filterId&&(qr(t,r+1,r+e.childCount,n,o),r+=e.childCount),16777216&e.flags){const t=i.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const r=t[e],s=rn(r);s&&s===i&&qr(r,0,r.def.nodes.length-1,n,o)}}const s=i.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];qr(e,0,e.def.nodes.length-1,n,o)}}(e.childMatchedQueries&n.filterId)!==n.filterId&&(r+=e.childCount)}return o}function Xr(t,e,i){if(null!=i)switch(i){case 1:return ji(t,e.nodeIndex).renderElement;case 0:return new oi(ji(t,e.nodeIndex).renderElement);case 2:return ji(t,e.nodeIndex).template;case 3:return ji(t,e.nodeIndex).viewContainer;case 4:return Hi(t,e.nodeIndex).instance}}function $r(t,e,i){const n=pn(t,e,i);n&&yn(t,i.ngContent.index,1,n,null,void 0)}function Kr(t,e,i){const n=new Array(i.length-1);for(let o=1;o<i.length;o++)n[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:i[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:n,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:i[0]},query:null,ngContent:null}}function Zr(t,e,i){let n;const o=t.renderer;n=o.createText(i.text.prefix);const r=pn(t,e,i);return r&&o.appendChild(r,n),{renderText:n}}function Qr(t,e){return(null!=t?t.toString():"")+e.suffix}function Jr(t,e,i,n){let o=0,r=0,s=0,a=0,l=0,h=null,d=null,u=!1,c=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=h,t.bindingIndex=o,t.outputIndex=r,t.renderParent=d,s|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=h?h.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,u=!1,c=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(es(h,t,e.length),o+=t.bindings.length,r+=t.outputs.length,!d&&3&t.flags&&(p=t),20224&t.flags){u||(u=!0,h.element.publicProviders=Object.create(h.element.publicProviders),h.element.allProviders=h.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?h.element.publicProviders[qi(t.provider.token)]=t:(c||(c=!0,h.element.allProviders=Object.create(h.element.publicProviders)),h.element.allProviders[qi(t.provider.token)]=t),e&&(h.element.componentProvider=t)}if(h?(h.childFlags|=t.flags,h.directChildFlags|=t.flags,h.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(h.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)h=t,ts(t)||(d=t);else for(;h&&f===h.nodeIndex+h.childCount;){const t=h.parent;t&&(t.childFlags|=h.childFlags,t.childMatchedQueries|=h.childMatchedQueries),d=(h=t)&&ts(h)?h.renderParent:h}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:i||Yi,updateRenderer:n||Yi,handleEvent:(t,i,n,o)=>e[i].element.handleEvent(t,n,o),bindingCount:o,outputCount:r,lastRenderRootNode:p}}function ts(t){return 0!=(1&t.flags)&&null===t.element.name}function es(t,e,i){const n=e.element&&e.element.template;if(n){if(!n.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(n.lastRenderRootNode&&16777216&n.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const n=t?t.nodeIndex+t.childCount:i-1;if(e.nodeIndex<=n&&e.nodeIndex+e.childCount>n)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function is(t,e,i,n){const o=rs(t.root,t.renderer,t,e,i);return ss(o,t.component,n),as(o),o}function ns(t,e,i){const n=rs(t,t.renderer,null,null,e);return ss(n,i,i),as(n),n}function os(t,e,i,n){const o=e.element.componentRendererType;let r;return r=o?t.root.rendererFactory.createRenderer(n,o):t.root.renderer,rs(t.root,r,t,e.element.componentProvider,i)}function rs(t,e,i,n,o){const r=new Array(o.nodes.length),s=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:i,viewContainerParent:null,parentNodeDef:n,context:null,component:null,nodes:r,state:13,root:t,renderer:e,oldValues:new Array(o.bindingCount),disposables:s,initIndex:-1}}function ss(t,e,i){t.component=e,t.context=i}function as(t){let e;ln(t)&&(e=ji(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const i=t.def,n=t.nodes;for(let o=0;o<i.nodes.length;o++){const r=i.nodes[o];let s;switch(Ui.setCurrentNode(t,o),201347067&r.flags){case 1:const i=jr(t,e,r);let a=void 0;if(33554432&r.flags){const e=gn(r.element.componentView);a=Ui.createComponentView(t,r,e,i)}Hr(t,a,r,i),s={renderElement:i,componentView:a,viewContainer:null,template:r.element.template?Un(t,r):void 0},16777216&r.flags&&(s.viewContainer=jn(t,r,s));break;case 2:s=Zr(t,e,r);break;case 512:case 1024:case 2048:case 256:(s=n[o])||4096&r.flags||(s={instance:ao(t,r)});break;case 16:s={instance:lo(t,r)};break;case 16384:(s=n[o])||(s={instance:ho(t,r)}),32768&r.flags&&ss(ji(t,r.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Do;break;case 8:$r(t,e,r),s=void 0}n[o]=s}ms(t,gs.CreateViewNodes),ws(t,201326592,268435456,0)}function ls(t){us(t),Ui.updateDirectives(t,1),vs(t,gs.CheckNoChanges),Ui.updateRenderer(t,1),ms(t,gs.CheckNoChanges),t.state&=-97}function hs(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,zi(t,0,256),us(t),Ui.updateDirectives(t,0),vs(t,gs.CheckAndUpdate),ws(t,67108864,536870912,0);let e=zi(t,256,512);yo(t,2097152|(e?1048576:0)),Ui.updateRenderer(t,0),ms(t,gs.CheckAndUpdate),ws(t,134217728,536870912,0),yo(t,8388608|((e=zi(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,zi(t,768,1024)}function ds(t,e,i,n,o,r,s,a,l,h,d,u,c){return 0===i?function(t,e,i,n,o,r,s,a,l,h,d,u){switch(201347067&e.flags){case 1:return function(t,e,i,n,o,r,s,a,l,h,d,u){const c=e.bindings.length;let p=!1;return c>0&&Wr(t,e,0,i)&&(p=!0),c>1&&Wr(t,e,1,n)&&(p=!0),c>2&&Wr(t,e,2,o)&&(p=!0),c>3&&Wr(t,e,3,r)&&(p=!0),c>4&&Wr(t,e,4,s)&&(p=!0),c>5&&Wr(t,e,5,a)&&(p=!0),c>6&&Wr(t,e,6,l)&&(p=!0),c>7&&Wr(t,e,7,h)&&(p=!0),c>8&&Wr(t,e,8,d)&&(p=!0),c>9&&Wr(t,e,9,u)&&(p=!0),p}(t,e,i,n,o,r,s,a,l,h,d,u);case 2:return function(t,e,i,n,o,r,s,a,l,h,d,u){let c=!1;const p=e.bindings,f=p.length;if(f>0&&Ji(t,e,0,i)&&(c=!0),f>1&&Ji(t,e,1,n)&&(c=!0),f>2&&Ji(t,e,2,o)&&(c=!0),f>3&&Ji(t,e,3,r)&&(c=!0),f>4&&Ji(t,e,4,s)&&(c=!0),f>5&&Ji(t,e,5,a)&&(c=!0),f>6&&Ji(t,e,6,l)&&(c=!0),f>7&&Ji(t,e,7,h)&&(c=!0),f>8&&Ji(t,e,8,d)&&(c=!0),f>9&&Ji(t,e,9,u)&&(c=!0),c){let c=e.text.prefix;f>0&&(c+=Qr(i,p[0])),f>1&&(c+=Qr(n,p[1])),f>2&&(c+=Qr(o,p[2])),f>3&&(c+=Qr(r,p[3])),f>4&&(c+=Qr(s,p[4])),f>5&&(c+=Qr(a,p[5])),f>6&&(c+=Qr(l,p[6])),f>7&&(c+=Qr(h,p[7])),f>8&&(c+=Qr(d,p[8])),f>9&&(c+=Qr(u,p[9]));const g=Fi(t,e.nodeIndex).renderText;t.renderer.setValue(g,c)}return c}(t,e,i,n,o,r,s,a,l,h,d,u);case 16384:return function(t,e,i,n,o,r,s,a,l,h,d,u){const c=Hi(t,e.nodeIndex),p=c.instance;let f=!1,g=void 0;const m=e.bindings.length;return m>0&&Qi(t,e,0,i)&&(f=!0,g=vo(t,c,e,0,i,g)),m>1&&Qi(t,e,1,n)&&(f=!0,g=vo(t,c,e,1,n,g)),m>2&&Qi(t,e,2,o)&&(f=!0,g=vo(t,c,e,2,o,g)),m>3&&Qi(t,e,3,r)&&(f=!0,g=vo(t,c,e,3,r,g)),m>4&&Qi(t,e,4,s)&&(f=!0,g=vo(t,c,e,4,s,g)),m>5&&Qi(t,e,5,a)&&(f=!0,g=vo(t,c,e,5,a,g)),m>6&&Qi(t,e,6,l)&&(f=!0,g=vo(t,c,e,6,l,g)),m>7&&Qi(t,e,7,h)&&(f=!0,g=vo(t,c,e,7,h,g)),m>8&&Qi(t,e,8,d)&&(f=!0,g=vo(t,c,e,8,d,g)),m>9&&Qi(t,e,9,u)&&(f=!0,g=vo(t,c,e,9,u,g)),g&&p.ngOnChanges(g),65536&e.flags&&Bi(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,i,n,o,r,s,a,l,h,d,u);case 32:case 64:case 128:return function(t,e,i,n,o,r,s,a,l,h,d,u){const c=e.bindings;let p=!1;const f=c.length;if(f>0&&Ji(t,e,0,i)&&(p=!0),f>1&&Ji(t,e,1,n)&&(p=!0),f>2&&Ji(t,e,2,o)&&(p=!0),f>3&&Ji(t,e,3,r)&&(p=!0),f>4&&Ji(t,e,4,s)&&(p=!0),f>5&&Ji(t,e,5,a)&&(p=!0),f>6&&Ji(t,e,6,l)&&(p=!0),f>7&&Ji(t,e,7,h)&&(p=!0),f>8&&Ji(t,e,8,d)&&(p=!0),f>9&&Ji(t,e,9,u)&&(p=!0),p){const p=Vi(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(c.length),f>0&&(g[0]=i),f>1&&(g[1]=n),f>2&&(g[2]=o),f>3&&(g[3]=r),f>4&&(g[4]=s),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=h),f>8&&(g[8]=d),f>9&&(g[9]=u);break;case 64:g={},f>0&&(g[c[0].name]=i),f>1&&(g[c[1].name]=n),f>2&&(g[c[2].name]=o),f>3&&(g[c[3].name]=r),f>4&&(g[c[4].name]=s),f>5&&(g[c[5].name]=a),f>6&&(g[c[6].name]=l),f>7&&(g[c[7].name]=h),f>8&&(g[c[8].name]=d),f>9&&(g[c[9].name]=u);break;case 128:const t=i;switch(f){case 1:g=t.transform(i);break;case 2:g=t.transform(n);break;case 3:g=t.transform(n,o);break;case 4:g=t.transform(n,o,r);break;case 5:g=t.transform(n,o,r,s);break;case 6:g=t.transform(n,o,r,s,a);break;case 7:g=t.transform(n,o,r,s,a,l);break;case 8:g=t.transform(n,o,r,s,a,l,h);break;case 9:g=t.transform(n,o,r,s,a,l,h,d);break;case 10:g=t.transform(n,o,r,s,a,l,h,d,u)}}p.value=g}return p}(t,e,i,n,o,r,s,a,l,h,d,u);default:throw"unreachable"}}(t,e,n,o,r,s,a,l,h,d,u,c):function(t,e,i){switch(201347067&e.flags){case 1:return function(t,e,i){let n=!1;for(let o=0;o<i.length;o++)Wr(t,e,o,i[o])&&(n=!0);return n}(t,e,i);case 2:return function(t,e,i){const n=e.bindings;let o=!1;for(let r=0;r<i.length;r++)Ji(t,e,r,i[r])&&(o=!0);if(o){let o="";for(let t=0;t<i.length;t++)o+=Qr(i[t],n[t]);o=e.text.prefix+o;const r=Fi(t,e.nodeIndex).renderText;t.renderer.setValue(r,o)}return o}(t,e,i);case 16384:return function(t,e,i){const n=Hi(t,e.nodeIndex),o=n.instance;let r=!1,s=void 0;for(let a=0;a<i.length;a++)Qi(t,e,a,i[a])&&(r=!0,s=vo(t,n,e,a,i[a],s));return s&&o.ngOnChanges(s),65536&e.flags&&Bi(t,256,e.nodeIndex)&&o.ngOnInit(),262144&e.flags&&o.ngDoCheck(),r}(t,e,i);case 32:case 64:case 128:return function(t,e,i){const n=e.bindings;let o=!1;for(let r=0;r<i.length;r++)Ji(t,e,r,i[r])&&(o=!0);if(o){const o=Vi(t,e.nodeIndex);let r;switch(201347067&e.flags){case 32:r=i;break;case 64:r={};for(let e=0;e<i.length;e++)r[n[e].name]=i[e];break;case 128:const t=i[0],o=i.slice(1);r=t.transform(...o)}o.value=r}return o}(t,e,i);default:throw"unreachable"}}(t,e,n)}function us(t){const e=t.def;if(4&e.nodeFlags)for(let i=0;i<e.nodes.length;i++){const n=e.nodes[i];if(4&n.flags){const e=ji(t,i).template._projectedViews;if(e)for(let i=0;i<e.length;i++){const n=e[i];n.state|=32,nn(n,t)}}else 0==(4&n.childFlags)&&(i+=n.childCount)}}function cs(t,e,i,n,o,r,s,a,l,h,d,u,c){return 0===i?function(t,e,i,n,o,r,s,a,l,h,d,u){const c=e.bindings.length;c>0&&tn(t,e,0,i),c>1&&tn(t,e,1,n),c>2&&tn(t,e,2,o),c>3&&tn(t,e,3,r),c>4&&tn(t,e,4,s),c>5&&tn(t,e,5,a),c>6&&tn(t,e,6,l),c>7&&tn(t,e,7,h),c>8&&tn(t,e,8,d),c>9&&tn(t,e,9,u)}(t,e,n,o,r,s,a,l,h,d,u,c):function(t,e,i){for(let n=0;n<i.length;n++)tn(t,e,n,i[n])}(t,e,n),!1}function ps(t,e){if(Wi(t,e.nodeIndex).dirty)throw Ni(Ui.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function fs(t){if(!(128&t.state)){if(vs(t,gs.Destroy),ms(t,gs.Destroy),yo(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=rn(t);if(e){const i=e.template._projectedViews;i&&(Rn(i,i.indexOf(t)),Ui.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let i=0;i<e;i++){const e=t.def.nodes[i];1&e.flags?t.renderer.destroyNode(ji(t,i).renderElement):2&e.flags?t.renderer.destroyNode(Fi(t,i).renderText):(67108864&e.flags||134217728&e.flags)&&Wi(t,i).destroy()}}(t),ln(t)&&t.renderer.destroy(),t.state|=128}}const gs=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ms(t,e){const i=t.def;if(33554432&i.nodeFlags)for(let n=0;n<i.nodes.length;n++){const o=i.nodes[n];33554432&o.flags?ys(ji(t,n).componentView,e):0==(33554432&o.childFlags)&&(n+=o.childCount)}}function vs(t,e){const i=t.def;if(16777216&i.nodeFlags)for(let n=0;n<i.nodes.length;n++){const o=i.nodes[n];if(16777216&o.flags){const i=ji(t,n).viewContainer._embeddedViews;for(let t=0;t<i.length;t++)ys(i[t],e)}else 0==(16777216&o.childFlags)&&(n+=o.childCount)}}function ys(t,e){const i=t.state;switch(e){case gs.CheckNoChanges:0==(128&i)&&(12==(12&i)?ls(t):64&i&&bs(t,gs.CheckNoChangesProjectedViews));break;case gs.CheckNoChangesProjectedViews:0==(128&i)&&(32&i?ls(t):64&i&&bs(t,e));break;case gs.CheckAndUpdate:0==(128&i)&&(12==(12&i)?hs(t):64&i&&bs(t,gs.CheckAndUpdateProjectedViews));break;case gs.CheckAndUpdateProjectedViews:0==(128&i)&&(32&i?hs(t):64&i&&bs(t,e));break;case gs.Destroy:fs(t);break;case gs.CreateViewNodes:as(t)}}function bs(t,e){vs(t,e),ms(t,e)}function ws(t,e,i,n){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&i))return;const o=t.def.nodes.length;for(let r=0;r<o;r++){const o=t.def.nodes[r];if(o.flags&e&&o.flags&i)switch(Ui.setCurrentNode(t,o.nodeIndex),n){case 0:Gr(t,o);break;case 1:ps(t,o)}o.childFlags&e&&o.childFlags&i||(r+=o.childCount)}}let xs=!1;function _s(t,e,i,n,o,r){const s=o.injector.get(ai);return ns(ks(t,o,s,e,i),n,r)}function Es(t,e,i,n,o,r){const s=o.injector.get(ai),a=ks(t,o,new ia(s),e,i),l=Ns(n);return ta(js.create,ns,null,[a,l,r])}function ks(t,e,i,n,o){const r=e.injector.get(Me),s=e.injector.get(Ne),a=i.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:n,selectorOrNode:o,sanitizer:r,rendererFactory:i,renderer:a,errorHandler:s}}function Ss(t,e,i,n){const o=Ns(i);return ta(js.create,is,null,[t,e,o,n])}function Cs(t,e,i,n){return i=Os.get(e.element.componentProvider.provider.token)||Ns(i),ta(js.create,os,null,[t,e,i,n])}function Ts(t,e,i,n){return Kn(t,e,i,function(t){const{hasOverrides:e,hasDeprecatedOverrides:i}=function(t){let e=!1,i=!1;return 0===Ms.size?{hasOverrides:e,hasDeprecatedOverrides:i}:(t.providers.forEach(t=>{const n=Ms.get(t.token);3840&t.flags&&n&&(e=!0,i=i||n.deprecatedBehavior)}),t.modules.forEach(t=>{Ds.forEach((n,o)=>{ft(o).providedIn===t&&(e=!0,i=i||n.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:i})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const n=t.providers[e];i&&(n.flags|=4096);const o=Ms.get(n.token);o&&(n.flags=-3841&n.flags|o.flags,n.deps=cn(o.deps),n.value=o.value)}if(Ds.size>0){let e=new Set(t.modules);Ds.forEach((n,o)=>{if(e.has(ft(o).providedIn)){let e={token:o,flags:n.flags|(i?4096:0),deps:cn(n.deps),value:n.value,index:t.providers.length};t.providers.push(e),t.providersByKey[qi(o)]=e}})}}(t=t.factory(()=>Yi)),t):t}(n))}const Ms=new Map,Ds=new Map,Os=new Map;function Ps(t){let e;Ms.set(t.token,t),"function"==typeof t.token&&(e=ft(t.token))&&"function"==typeof e.providedIn&&Ds.set(t.token,t)}function Is(t,e){const i=gn(e.viewDefFactory),n=gn(i.nodes[0].element.componentView);Os.set(t,n)}function As(){Ms.clear(),Ds.clear(),Os.clear()}function Ns(t){if(0===Ms.size)return t;const e=function(t){const e=[];let i=null;for(let n=0;n<t.nodes.length;n++){const o=t.nodes[n];1&o.flags&&(i=o),i&&3840&o.flags&&Ms.has(o.provider.token)&&(e.push(i.nodeIndex),i=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Yi);for(let n=0;n<e.length;n++)i(t,e[n]);return t;function i(t,e){for(let i=e+1;i<t.nodes.length;i++){const e=t.nodes[i];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,i=Ms.get(t.token);i&&(e.flags=-3841&e.flags|i.flags,t.deps=cn(i.deps),t.value=i.value)}}}}function Rs(t,e,i,n,o,r,s,a,l,h,d,u,c){const p=t.def.nodes[e];return ds(t,p,i,n,o,r,s,a,l,h,d,u,c),224&p.flags?Vi(t,e).value:void 0}function Ls(t,e,i,n,o,r,s,a,l,h,d,u,c){const p=t.def.nodes[e];return cs(t,p,i,n,o,r,s,a,l,h,d,u,c),224&p.flags?Vi(t,e).value:void 0}function zs(t){return ta(js.detectChanges,hs,null,[t])}function Bs(t){return ta(js.checkNoChanges,ls,null,[t])}function Fs(t){return ta(js.destroy,fs,null,[t])}const js=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Hs,Vs,Ws;function Us(t,e){Vs=t,Ws=e}function Ys(t,e,i,n){return Us(t,e),ta(js.handleEvent,t.def.handleEvent,null,[t,e,i,n])}function Gs(t,e){if(128&t.state)throw Li(js[Hs]);return Us(t,Ks(t,0)),t.def.updateDirectives(function(t,i,n,...o){const r=t.def.nodes[i];return 0===e?Xs(t,r,n,o):$s(t,r,n,o),16384&r.flags&&Us(t,Ks(t,i)),224&r.flags?Vi(t,r.nodeIndex).value:void 0},t)}function qs(t,e){if(128&t.state)throw Li(js[Hs]);return Us(t,Zs(t,0)),t.def.updateRenderer(function(t,i,n,...o){const r=t.def.nodes[i];return 0===e?Xs(t,r,n,o):$s(t,r,n,o),3&r.flags&&Us(t,Zs(t,i)),224&r.flags?Vi(t,r.nodeIndex).value:void 0},t)}function Xs(t,e,i,n){if(ds(t,e,i,...n)){const s=1===i?n[0]:n;if(16384&e.flags){const i={};for(let t=0;t<e.bindings.length;t++){const n=e.bindings[t],a=s[t];8&n.flags&&(i[(o=n.nonMinifiedName,r=void 0,r=o.replace(/[$@]/g,"_"),`ng-reflect-${o=r.replace(Re,(...t)=>"-"+t[1].toLowerCase())}`)]=Le(a))}const n=e.parent,a=ji(t,n.nodeIndex).renderElement;if(n.element.name)for(let e in i){const n=i[e];null!=n?t.renderer.setAttribute(a,e,n):t.renderer.removeAttribute(a,e)}else t.renderer.setValue(a,`bindings=${JSON.stringify(i,null,2)}`)}}var o,r}function $s(t,e,i,n){cs(t,e,i,...n)}function Ks(t,e){for(let i=e;i<t.def.nodes.length;i++){const e=t.def.nodes[i];if(16384&e.flags&&e.bindings&&e.bindings.length)return i}return null}function Zs(t,e){for(let i=e;i<t.def.nodes.length;i++){const e=t.def.nodes[i];if(3&e.flags&&e.bindings&&e.bindings.length)return i}return null}class Qs{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let i=this.nodeDef,n=t;for(;i&&0==(1&i.flags);)i=i.parent;if(!i)for(;!i&&n;)i=sn(n),n=n.parent;this.elDef=i,this.elView=n}get elOrCompView(){return ji(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Gn(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const i=this.elView.def.nodes[e];20224&i.flags&&t.push(i.provider.token),e+=i.childCount}return t}get references(){const t={};if(this.elDef){Js(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const i=this.elView.def.nodes[e];20224&i.flags&&Js(this.elView,i,t),e+=i.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!ln(t);)t=t.parent;return t.parent?ji(t.parent,sn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?an(this.view,this.nodeDef):an(this.elView,this.elDef)}logError(t,...e){let i,n;2&this.nodeDef.flags?(i=this.view.def,n=this.nodeDef.nodeIndex):(i=this.elView.def,n=this.elDef.nodeIndex);const o=function(t,e){let i=-1;for(let n=0;n<=e;n++)3&t.nodes[n].flags&&i++;return i}(i,n);let r=-1;i.factory(()=>++r===o?t.error.bind(t,...e):Yi),r<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Js(t,e,i){for(let n in e.references)i[n]=Xr(t,e,e.references[n])}function ta(t,e,i,n){const o=Hs,r=Vs,s=Ws;try{Hs=t;const l=e.apply(i,n);return Vs=r,Ws=s,Hs=o,l}catch(a){if(Pe(a)||!Vs)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Ri(t,e),t}(a,ea())}}function ea(){return Vs?new Qs(Vs,Ws):null}class ia{constructor(t){this.delegate=t}createRenderer(t,e){return new na(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class na{constructor(t){this.delegate=t,this.debugContextFactory=ea,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){!function(t){Or.delete(t.nativeNode)}(Pr(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const i=this.delegate.createElement(t,e),n=this.createDebugContext(i);if(n){const e=new Dr(i,null,n);e.name=t,Ir(e)}return i}createComment(t){const e=this.delegate.createComment(t),i=this.createDebugContext(e);return i&&Ir(new Mr(e,null,i)),e}createText(t){const e=this.delegate.createText(t),i=this.createDebugContext(e);return i&&Ir(new Mr(e,null,i)),e}appendChild(t,e){const i=Pr(t),n=Pr(e);i&&n&&i instanceof Dr&&i.addChild(n),this.delegate.appendChild(t,e)}insertBefore(t,e,i){const n=Pr(t),o=Pr(e),r=Pr(i);n&&o&&n instanceof Dr&&n.insertBefore(r,o),this.delegate.insertBefore(t,e,i)}removeChild(t,e){const i=Pr(t),n=Pr(e);i&&n&&i instanceof Dr&&i.removeChild(n),this.delegate.removeChild(t,e)}selectRootElement(t,e){const i=this.delegate.selectRootElement(t,e),n=ea();return n&&Ir(new Dr(i,null,n)),i}setAttribute(t,e,i,n){const o=Pr(t);o&&o instanceof Dr&&(o.attributes[n?n+":"+e:e]=i),this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){const n=Pr(t);n&&n instanceof Dr&&(n.attributes[i?i+":"+e:e]=null),this.delegate.removeAttribute(t,e,i)}addClass(t,e){const i=Pr(t);i&&i instanceof Dr&&(i.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const i=Pr(t);i&&i instanceof Dr&&(i.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,i,n){const o=Pr(t);o&&o instanceof Dr&&(o.styles[e]=i),this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){const n=Pr(t);n&&n instanceof Dr&&(n.styles[e]=null),this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){const n=Pr(t);n&&n instanceof Dr&&(n.properties[e]=i),this.delegate.setProperty(t,e,i)}listen(t,e,i){if("string"!=typeof t){const n=Pr(t);n&&n.listeners.push(new Tr(e,i))}return this.delegate.listen(t,e,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function oa(t,e,i){return new ra(t,e,i)}class ra extends ii{constructor(t,e,i){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=i}create(t){!function(){if(xs)return;xs=!0;const t=re()?{setCurrentNode:Us,createRootView:Es,createEmbeddedView:Ss,createComponentView:Cs,createNgModuleRef:Ts,overrideProvider:Ps,overrideComponentView:Is,clearOverrides:As,checkAndUpdateView:zs,checkNoChangesView:Bs,destroyView:Fs,createDebugContext:(t,e)=>new Qs(t,e),handleEvent:Ys,updateDirectives:Gs,updateRenderer:qs}:{setCurrentNode:()=>{},createRootView:_s,createEmbeddedView:is,createComponentView:os,createNgModuleRef:Kn,overrideProvider:Yi,overrideComponentView:Yi,clearOverrides:Yi,checkAndUpdateView:hs,checkNoChangesView:ls,destroyView:fs,createDebugContext:(t,e)=>new Qs(t,e),handleEvent:(t,e,i,n)=>t.def.handleEvent(t,e,i,n),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Rs:Ls,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Rs:Ls,t)};Ui.setCurrentNode=t.setCurrentNode,Ui.createRootView=t.createRootView,Ui.createEmbeddedView=t.createEmbeddedView,Ui.createComponentView=t.createComponentView,Ui.createNgModuleRef=t.createNgModuleRef,Ui.overrideProvider=t.overrideProvider,Ui.overrideComponentView=t.overrideComponentView,Ui.clearOverrides=t.clearOverrides,Ui.checkAndUpdateView=t.checkAndUpdateView,Ui.checkNoChangesView=t.checkNoChangesView,Ui.destroyView=t.destroyView,Ui.resolveDep=go,Ui.createDebugContext=t.createDebugContext,Ui.handleEvent=t.handleEvent,Ui.updateDirectives=t.updateDirectives,Ui.updateRenderer=t.updateRenderer,Ui.dirtyParentQueries=Yr}();const e=function(t){const e=Array.from(t.providers),i=Array.from(t.modules),n={};for(const o in t.providersByKey)n[o]=t.providersByKey[o];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:i,providersByKey:n}}(gn(this._ngModuleDefFactory));return Ui.createNgModuleRef(this.moduleType,t||Vt.NULL,this._bootstrapComponents,e)}}class sa{}class aa{constructor(){this.title="graph-lib-samples"}}class la{}const ha=new St("Location Initialized");class da{}const ua=new St("appBaseHref"),ca=(()=>{class t{constructor(e,i){this._subject=new To,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=t.stripTrailingSlash(pa(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+t.normalizeQueryParams(i))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,pa(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(e,i="",n=null){this._platformStrategy.pushState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(i)),n)}replaceState(e,i="",n=null){this._platformStrategy.replaceState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(i)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(i=>i(t,e))}subscribe(t,e,i){return this._subject.subscribe({next:t,error:e,complete:i})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?t+e.substring(1):1==i?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),i=e&&e.index||t.length;return t.slice(0,i-("/"===t[i-1]?1:0))+t.slice(i)}}return t})();function pa(t){return t.replace(/\/index.html$/,"")}const fa=(()=>(class extends da{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ca.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,i,n){let o=this.prepareExternalUrl(i+ca.normalizeQueryParams(n));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)}replaceState(t,e,i,n){let o=this.prepareExternalUrl(i+ca.normalizeQueryParams(n));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))(),ga=(()=>(class extends da{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ca.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+ca.normalizeQueryParams(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${e}${i}`:e}pushState(t,e,i,n){const o=this.prepareExternalUrl(i+ca.normalizeQueryParams(n));this._platformLocation.pushState(t,e,o)}replaceState(t,e,i,n){const o=this.prepareExternalUrl(i+ca.normalizeQueryParams(n));this._platformLocation.replaceState(t,e,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))(),ma=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),va=new St("UseV4Plurals");class ya{}const ba=(()=>(class extends ya{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let i=_o[e];if(i)return i;const n=e.split("-")[0];if(i=_o[n])return i;if("en"===n)return So;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Eo.PluralCase]}(e||this.locale)(t)){case ma.Zero:return"zero";case ma.One:return"one";case ma.Two:return"two";case ma.Few:return"few";case ma.Many:return"many";default:return"other"}}}))(),wa=(()=>(class{}))(),xa=new St("DocumentToken"),_a=(()=>{class t{}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new Ea(zt(xa),window,zt(Ne))}),t})();class Ea{constructor(t,e,i){this.document=t,this.window=e,this.errorHandler=i,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const i=this.document.querySelector(`#${t}`);if(i)return void this.scrollToElement(i);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],n-o[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}const ka=new x(t=>t.complete());function Sa(t){return t?function(t){return new x(e=>t.schedule(()=>e.complete()))}(t):ka}function Ca(t){const e=new x(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function Ta(...t){let e=t[t.length-1];switch(D(e)?t.pop():e=void 0,t.length){case 0:return Sa(e);case 1:return e?Y(t,e):Ca(t[0]);default:return Y(t,e)}}class Ma extends T{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k;return this._value}next(t){super.next(this._value=t)}}function Da(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Da.prototype=Object.create(Error.prototype);const Oa=Da,Pa={};class Ia{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Aa(t,this.resultSelector))}}class Aa extends H{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pa),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++){const e=t[i];this.add(j(this,e,e,i))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i,n,o){const r=this.values,s=this.toRespond?r[i]===Pa?--this.toRespond:this.toRespond:0;r[i]=e,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function Na(t){return new x(e=>{let i;try{i=t()}catch(n){return void e.error(n)}return(i?G(i):Sa()).subscribe(e)})}function Ra(){return Z(1)}function La(t,e){return function(i){return i.lift(new za(t,e))}}class za{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ba(t,this.predicate,this.thisArg))}}class Ba extends g{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Fa(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Fa.prototype=Object.create(Error.prototype);const ja=Fa;function Ha(t){return function(e){return 0===t?Sa():e.lift(new Va(t))}}class Va{constructor(t){if(this.total=t,this.total<0)throw new ja}call(t,e){return e.subscribe(new Wa(t,this.total))}}class Wa extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,n=this.count++;e.length<i?e.push(t):e[n%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,n=this.ring;for(let o=0;o<i;o++){const o=e++%i;t.next(n[o])}}t.complete()}}function Ua(t,e,i){return function(n){return n.lift(new Ya(t,e,i))}}class Ya{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new Ga(t,this.nextOrObserver,this.error,this.complete))}}class Ga extends g{constructor(t,e,i,o){super(t),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=i||y,this._tapComplete=o||y,n(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||y,this._tapError=e.error||y,this._tapComplete=e.complete||y)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const qa=(t=function(){return new Oa})=>Ua({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function Xa(t=null){return e=>e.lift(new $a(t))}class $a{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ka(t,this.defaultValue))}}class Ka extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Za(t,e){const i=arguments.length>=2;return n=>n.pipe(t?La((e,i)=>t(e,i,n)):K,Ha(1),i?Xa(e):qa(()=>new Oa))}function Qa(t){return function(e){const i=new Ja(t),n=e.lift(i);return i.caught=n}}class Ja{constructor(t){this.selector=t}call(t,e){return e.subscribe(new tl(t,this.selector,this.caught))}}class tl extends H{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let i;try{i=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const n=new O(this,void 0,void 0);this.add(n),j(this,i,void 0,void 0,n)}}}function el(t){return e=>0===t?Sa():e.lift(new il(t))}class il{constructor(t){if(this.total=t,this.total<0)throw new ja}call(t,e){return e.subscribe(new nl(t,this.total))}}class nl extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function ol(t,e){const i=arguments.length>=2;return n=>n.pipe(t?La((e,i)=>t(e,i,n)):K,el(1),i?Xa(e):qa(()=>new Oa))}class rl{constructor(t,e,i){this.predicate=t,this.thisArg=e,this.source=i}call(t,e){return e.subscribe(new sl(t,this.predicate,this.thisArg,this.source))}}class sl extends g{constructor(t,e,i,n){super(t),this.predicate=e,this.thisArg=i,this.source=n,this.index=0,this.thisArg=i||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){return void this.destination.error(i)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function al(t,e){return"function"==typeof e?i=>i.pipe(al((i,n)=>G(t(i,n)).pipe(V((t,o)=>e(i,t,n,o))))):e=>e.lift(new ll(t))}class ll{constructor(t){this.project=t}call(t,e){return e.subscribe(new hl(t,this.project))}}class hl extends H{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this._innerSub(e,t,i)}_innerSub(t,e,i){const n=this.innerSubscription;n&&n.unsubscribe();const o=new O(this,void 0,void 0);this.destination.add(o),this.innerSubscription=j(this,t,e,i,o)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,i,n,o){this.destination.next(e)}}function dl(t,e){let i=!1;return arguments.length>=2&&(i=!0),function(n){return n.lift(new ul(t,e,i))}}class ul{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new cl(t,this.accumulator,this.seed,this.hasSeed))}}class cl extends g{constructor(t,e,i,n){super(t),this.accumulator=e,this._seed=i,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(n){this.destination.error(n)}this.seed=i,this.destination.next(i)}}function pl(t,e){return q(t,e,1)}class fl{constructor(t){this.callback=t}call(t,e){return e.subscribe(new gl(t,this.callback))}}class gl extends g{constructor(t,e){super(t),this.add(new c(e))}}let ml=null;function vl(){return ml}class yl{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class bl extends yl{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let i=0;i<t.length;i++)if(null!=this.getStyle(e,t[i]+"AnimationName")){this._animationPrefix="-"+t[i].toLowerCase()+"-";break}}const i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=i[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,i){t.href=null==i?e:e+"/../"+i}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const wl={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},xl=3,_l={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},El={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kl=(()=>{if(kt.Node)return kt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Sl extends bl{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Sl,ml||(ml=t)}hasProperty(t,e){return e in t}setProperty(t,e,i){t[e]=i}getProperty(t,e){return t[e]}invoke(t,e,i){t[e](...i)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return wl}contains(t,e){return kl.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,i){t.addEventListener(e,i,!1)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,i=new Array(e.length);for(let n=0;n<e.length;n++)i[n]=e[n];return i}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,i){t.replaceChild(e,i)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,i){t.insertBefore(i,e)}insertAllBefore(t,e,i){i.forEach(i=>t.insertBefore(i,e))}insertAfter(t,e,i){t.insertBefore(i,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,i){return(i=i||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,i){const n=(i=i||this.getDefaultDocument()).createElement("SCRIPT");return n.setAttribute(t,e),n}createStyleElement(t,e){const i=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(i,this.createTextNode(t,e)),i}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,i){t.style[e]=i}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,i){const n=this.getStyle(t,e)||"";return i?n==i:n.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,i=t.attributes;for(let n=0;n<i.length;n++){const t=i.item(n);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,i){return t.hasAttributeNS(e,i)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,i){return t.getAttributeNS(e,i)}setAttribute(t,e,i){t.setAttribute(e,i)}setAttributeNS(t,e,i,n){t.setAttributeNS(e,i,n)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,i){t.removeAttributeNS(e,i)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===xl&&El.hasOwnProperty(e)&&(e=El[e]))}return _l[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Tl||(Tl=document.querySelector("base"))?Tl.getAttribute("href"):null;return null==e?null:(i=e,Cl||(Cl=document.createElement("a")),Cl.setAttribute("href",i),"/"===Cl.pathname.charAt(0)?Cl.pathname:"/"+Cl.pathname);var i}resetBaseElement(){Tl=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,i){this.setAttribute(t,"data-"+e,i)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const i of t.split(";")){const t=i.indexOf("="),[n,o]=-1==t?[i,""]:[i.slice(0,t),i.slice(t+1)];if(n.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Cl,Tl=null;function Ml(){return!!window.history.pushState}const Dl=(()=>{class t extends la{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=vl().getLocation(),this._history=vl().getHistory()}getBaseHrefFromDOM(){return vl().getBaseHref(this._doc)}onPopState(t){vl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){vl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,i){Ml()?this._history.pushState(t,e,i):this.location.hash=i}replaceState(t,e,i){Ml()?this._history.replaceState(t,e,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.ctorParameters=()=>[{type:void 0,decorators:[{type:at,args:[xa]}]}],t})(),Ol=new St("TRANSITION_ID"),Pl=[{provide:Oo,useFactory:function(t,e,i){return()=>{i.get(Po).donePromise.then(()=>{const i=vl();Array.prototype.slice.apply(i.querySelectorAll(e,"style[ng-transition]")).filter(e=>i.getAttribute(e,"ng-transition")===t).forEach(t=>i.remove(t))})}},deps:[Ol,xa,Vt],multi:!0}];class Il{static init(){var t;t=new Il,cr=t}addToWindow(t){kt.getAngularTestability=(e,i=!0)=>{const n=t.findTestabilityInTree(e,i);if(null==n)throw new Error("Could not find testability for element.");return n},kt.getAllAngularTestabilities=()=>t.getAllTestabilities(),kt.getAllAngularRootElements=()=>t.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(t=>{const e=kt.getAllAngularTestabilities();let i=e.length,n=!1;const o=function(e){n=n||e,0==--i&&t(n)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const n=t.getTestability(e);return null!=n?n:i?vl().isShadowRoot(e)?this.findTestabilityInTree(t,vl().getHost(e),!0):this.findTestabilityInTree(t,vl().parentElement(e),!0):null}}function Al(t,e){"undefined"!=typeof COMPILED&&COMPILED||((kt.ng=kt.ng||{})[t]=e)}const Nl=(()=>({ApplicationRef:wr,NgZone:er}))();function Rl(t){return Pr(t)}const Ll=new St("EventManagerPlugins"),zl=(()=>(class{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,i){return this._findPluginFor(e).addEventListener(t,e,i)}addGlobalEventListener(t,e,i){return this._findPluginFor(e).addGlobalEventListener(t,e,i)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const i=this._plugins;for(let n=0;n<i.length;n++){const e=i[n];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}))();class Bl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const n=vl().getGlobalEventTarget(this._doc,t);if(!n)throw new Error(`Unsupported event target ${n} for event ${e}`);return this.addEventListener(n,e,i)}}const Fl=(()=>(class{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}))(),jl=(()=>(class extends Fl{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const i=this._doc.createElement("style");i.textContent=t,this._styleNodes.add(e.appendChild(i))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>vl().remove(t))}}))(),Hl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vl=/%COMP%/g,Wl="_nghost-%COMP%",Ul="_ngcontent-%COMP%";function Yl(t,e,i){for(let n=0;n<e.length;n++){let o=e[n];Array.isArray(o)?Yl(t,o,i):(o=o.replace(Vl,t),i.push(o))}return i}function Gl(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}const ql=(()=>(class{constructor(t,e,i){this.eventManager=t,this.sharedStylesHost=e,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Xl(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ee.Emulated:{let i=this.rendererByCompId.get(e.id);return i||(i=new Zl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,i)),i.applyToHost(t),i}case ee.Native:case ee.ShadowDom:return new Ql(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Yl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}))();class Xl{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Hl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;const o=Hl[n];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const n=Hl[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&li.DashCase?t.style.setProperty(e,i,n&li.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&li.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){Kl(e,"property"),t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return Kl(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Gl(i)):this.eventManager.addEventListener(t,e,Gl(i))}}const $l=(()=>"@".charCodeAt(0))();function Kl(t,e){if(t.charCodeAt(0)===$l)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Zl extends Xl{constructor(t,e,i,n){super(t),this.component=i;const o=Yl(n+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=Ul.replace(Vl,n+"-"+i.id),this.hostAttr=Wl.replace(Vl,n+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Ql extends Xl{constructor(t,e,i,n){super(t),this.sharedStylesHost=e,this.hostEl=i,this.component=n,this.shadowRoot=n.encapsulation===ee.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=Yl(n.id,n.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Jl=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),th=Jl("addEventListener"),eh=Jl("removeEventListener"),ih={},nh="__zone_symbol__propagationStopped",oh=(()=>{const t="undefined"!=typeof Zone&&Zone[Jl("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),rh=function(t){return!!oh&&oh.hasOwnProperty(t)},sh=function(t){const e=ih[t.type];if(!e)return;const i=this[e];if(!i)return;const n=[t];if(1===i.length){const t=i[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,n):t.handler.apply(this,n)}{const e=i.slice();for(let i=0;i<e.length&&!0!==t[nh];i++){const t=e[i];t.zone!==Zone.current?t.zone.run(t.handler,this,n):t.handler.apply(this,n)}}},ah=(()=>(class extends Bl{constructor(t,e,i){super(t),this.ngZone=e,i&&function(t){return"server"===t}(i)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[nh]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,i){let n=i;if(!t[th]||er.isInAngularZone()&&!rh(e))t.addEventListener(e,n,!1);else{let i=ih[e];i||(i=ih[e]=Jl("ANGULAR"+e+"FALSE"));let o=t[i];const r=o&&o.length>0;o||(o=t[i]=[]);const s=rh(e)?Zone.root:Zone.current;if(0===o.length)o.push({zone:s,handler:n});else{let t=!1;for(let e=0;e<o.length;e++)if(o[e].handler===n){t=!0;break}t||o.push({zone:s,handler:n})}r||t[th](e,sh,!1)}return()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,i){let n=t[eh];if(!n)return t.removeEventListener.apply(t,[e,i,!1]);let o=ih[e],r=o&&t[o];if(!r)return t.removeEventListener.apply(t,[e,i,!1]);let s=!1;for(let a=0;a<r.length;a++)if(r[a].handler===i){s=!0,r.splice(a,1);break}s?0===r.length&&n.apply(t,[e,sh,!1]):t.removeEventListener.apply(t,[e,i,!1])}}))(),lh={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},hh=new St("HammerGestureConfig"),dh=new St("HammerLoader"),uh=(()=>(class{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const i in this.overrides)e.get(i).set(this.overrides[i]);return e}}))(),ch=(()=>(class extends Bl{constructor(t,e,i,n){super(t),this._config=e,this.console=i,this.loader=n}supports(t){return!(!lh.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,i){const n=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let n=!1,o=()=>{n=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(o=()=>{});n||(o=this.addEventListener(t,e,i))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),o=()=>{}}),()=>{o()}}return n.runOutsideAngular(()=>{const o=this._config.buildHammer(t),r=function(t){n.runGuarded(function(){i(t)})};return o.on(e,r),()=>{o.off(e,r),"function"==typeof o.destroy&&o.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}))(),ph=["alt","control","meta","shift"],fh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},gh=(()=>{class t extends Bl{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,n){const o=t.parseEventName(i),r=t.eventCallback(o.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vl().onAndCancel(e,o.domEventName,r))}static parseEventName(e){const i=e.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const o=t._normalizeKey(i.pop());let r="";if(ph.forEach(t=>{const e=i.indexOf(t);e>-1&&(i.splice(e,1),r+=t+".")}),r+=o,0!=i.length||0===o.length)return null;const s={};return s.domEventName=n,s.fullKey=r,s}static getEventFullKey(t){let e="",i=vl().getEventKey(t);return" "===(i=i.toLowerCase())?i="space":"."===i&&(i="dot"),ph.forEach(n=>{n!=i&&(0,fh[n])(t)&&(e+=n+".")}),e+=i}static eventCallback(e,i,n){return o=>{t.getEventFullKey(o)===e&&n.runGuarded(()=>i(o))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t})();class mh{}const vh=(()=>(class extends mh{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Te.NONE:return e;case Te.HTML:return e instanceof bh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let i=null;try{Se=Se||new se(t);let n=e?String(e):"";i=Se.getInertBodyElement(n);let o=5,r=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=r,r=i.innerHTML,i=Se.getInertBodyElement(n)}while(n!==r);const s=new xe,a=s.sanitizeChildren(Ce(i)||i);return re()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(i){const t=Ce(i)||i;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Te.STYLE:return e instanceof wh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Oe);return e&&he(e[1])===e[1]||t.match(De)&&function(t){let e=!0,i=!0;for(let n=0;n<t.length;n++){const o=t.charAt(n);"'"===o&&i?e=!e:'"'===o&&e&&(i=!i)}return e&&i}(t)?t:(re()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Te.SCRIPT:if(e instanceof xh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Te.URL:return e instanceof Eh||e instanceof _h?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),he(String(e)));case Te.RESOURCE_URL:if(e instanceof Eh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof yh)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new bh(t)}bypassSecurityTrustStyle(t){return new wh(t)}bypassSecurityTrustScript(t){return new xh(t)}bypassSecurityTrustUrl(t){return new _h(t)}bypassSecurityTrustResourceUrl(t){return new Eh(t)}}))();class yh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class bh extends yh{getTypeName(){return"HTML"}}class wh extends yh{getTypeName(){return"Style"}}class xh extends yh{getTypeName(){return"Script"}}class _h extends yh{getTypeName(){return"URL"}}class Eh extends yh{getTypeName(){return"ResourceURL"}}const kh=mr(Ar,"browser",[{provide:Lo,useValue:"browser"},{provide:Ro,useValue:function(){Sl.makeCurrent(),Il.init()},multi:!0},{provide:la,useClass:Dl,deps:[xa]},{provide:xa,useFactory:function(){return document},deps:[]}]);function Sh(){return new Ne}const Ch=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Io,useValue:e.appId},{provide:Ol,useExisting:Io},Pl]}}}return t})();"undefined"!=typeof window&&window;class Th{constructor(t,e){this.id=t,this.url=e}}class Mh extends Th{constructor(t,e,i="imperative",n=null){super(t,e),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dh extends Th{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oh extends Th{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ph extends Th{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ih extends Th{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ah extends Th{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nh extends Th{constructor(t,e,i,n,o){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rh extends Th{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lh extends Th{constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wh{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Uh=(()=>(class{}))(),Yh="primary";class Gh{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qh(t){return new Gh(t)}const Xh="ngNavigationCancelingError";function $h(t){const e=Error("NavigationCancelingError: "+t);return e[Xh]=!0,e}function Kh(t,e,i){const n=i.path.split("/");if(n.length>t.length)return null;if("full"===i.pathMatch&&(e.hasChildren()||n.length<t.length))return null;const o={};for(let r=0;r<n.length;r++){const e=n[r],i=t[r];if(e.startsWith(":"))o[e.substring(1)]=i;else if(e!==i.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}class Zh{constructor(t,e){this.routes=t,this.module=e}}function Qh(t,e=""){for(let i=0;i<t.length;i++){const n=t[i];Jh(n,td(e,n))}}function Jh(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Yh)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Qh(t.children,e)}function td(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ed(t){const e=t.children&&t.children.map(ed),i=e?Object.assign({},t,{children:e}):Object.assign({},t);return!i.component&&(e||i.loadChildren)&&i.outlet&&i.outlet!==Yh&&(i.component=Uh),i}function id(t,e){const i=Object.keys(t),n=Object.keys(e);if(!i||!n||i.length!=n.length)return!1;let o;for(let r=0;r<i.length;r++)if(t[o=i[r]]!==e[o])return!1;return!0}function nd(t){return Array.prototype.concat.apply([],t)}function od(t){return t.length>0?t[t.length-1]:null}function rd(t,e){for(const i in t)t.hasOwnProperty(i)&&e(t[i],i)}function sd(t){return Ye(t)?t:Ue(t)?G(Promise.resolve(t)):Ta(t)}function ad(t,e,i){return i?function(t,e){return id(t,e)}(t.queryParams,e.queryParams)&&function t(e,i){if(!ud(e.segments,i.segments))return!1;if(e.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children){if(!e.children[n])return!1;if(!t(e.children[n],i.children[n]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>e[i]===t[i])}(t.queryParams,e.queryParams)&&function t(e,i){return function e(i,n,o){if(i.segments.length>o.length){return!!ud(i.segments.slice(0,o.length),o)&&!n.hasChildren()}if(i.segments.length===o.length){if(!ud(i.segments,o))return!1;for(const e in n.children){if(!i.children[e])return!1;if(!t(i.children[e],n.children[e]))return!1}return!0}{const t=o.slice(0,i.segments.length),r=o.slice(i.segments.length);return!!ud(i.segments,t)&&!!i.children[Yh]&&e(i.children[Yh],n,r)}}(e,i,i.segments)}(t.root,e.root)}class ld{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qh(this.queryParams)),this._queryParamMap}toString(){return gd.serialize(this)}}class hd{constructor(t,e){this.segments=t,this.children=e,this.parent=null,rd(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return md(this)}}class dd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qh(this.parameters)),this._parameterMap}toString(){return _d(this)}}function ud(t,e){return t.length===e.length&&t.every((t,i)=>t.path===e[i].path)}function cd(t,e){let i=[];return rd(t.children,(t,n)=>{n===Yh&&(i=i.concat(e(t,n)))}),rd(t.children,(t,n)=>{n!==Yh&&(i=i.concat(e(t,n)))}),i}class pd{}class fd{parse(t){const e=new Td(t);return new ld(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,i){if(!e.hasChildren())return md(e);if(i){const i=e.children[Yh]?t(e.children[Yh],!1):"",n=[];return rd(e.children,(e,i)=>{i!==Yh&&n.push(`${i}:${t(e,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}{const i=cd(e,(i,n)=>n===Yh?[t(e.children[Yh],!1)]:[`${n}:${t(i,!1)}`]);return`${md(e)}/(${i.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(t=>`${yd(e)}=${yd(t)}`).join("&"):`${yd(e)}=${yd(i)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const gd=new fd;function md(t){return t.segments.map(t=>_d(t)).join("/")}function vd(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yd(t){return vd(t).replace(/%3B/gi,";")}function bd(t){return vd(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wd(t){return decodeURIComponent(t)}function xd(t){return wd(t.replace(/\+/g,"%20"))}function _d(t){return`${bd(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${bd(t)}=${bd(e[t])}`).join("")}`;var e}const Ed=/^[^\/()?;=#]+/;function kd(t){const e=t.match(Ed);return e?e[0]:""}const Sd=/^[^=?&#]+/,Cd=/^[^?&#]+/;class Td{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hd([],{}):new hd([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Yh]=new hd(t,e)),i}parseSegment(){const t=kd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new dd(wd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=kd(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const t=kd(this.remaining);t&&this.capture(i=t)}t[wd(e)]=wd(i)}parseQueryParam(t){const e=function(t){const e=t.match(Sd);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Cd);return e?e[0]:""}(this.remaining);t&&this.capture(i=t)}const n=xd(e),o=xd(i);if(t.hasOwnProperty(n)){let e=t[n];Array.isArray(e)||(t[n]=e=[e]),e.push(o)}else t[n]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=kd(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let o=void 0;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Yh);const r=this.parseChildren();e[o]=1===Object.keys(r).length?r[Yh]:new hd([],r),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Md{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Dd(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Dd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Od(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Od(t,this._root).map(t=>t.value)}}function Dd(t,e){if(t===e.value)return e;for(const i of e.children){const e=Dd(t,i);if(e)return e}return null}function Od(t,e){if(t===e.value)return[e];for(const i of e.children){const n=Od(t,i);if(n.length)return n.unshift(e),n}return[]}class Pd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Id(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ad extends Md{constructor(t,e){super(t),this.snapshot=e,Fd(this,t)}toString(){return this.snapshot.toString()}}function Nd(t,e){const i=function(t,e){const i=new zd([],{},{},"",{},Yh,e,null,t.root,-1,{});return new Bd("",new Pd(i,[]))}(t,e),n=new Ma([new dd("",{})]),o=new Ma({}),r=new Ma({}),s=new Ma({}),a=new Ma(""),l=new Rd(n,o,s,a,r,Yh,e,i.root);return l.snapshot=i.root,new Ad(new Pd(l,[]),i)}class Rd{constructor(t,e,i,n,o,r,s,a){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=o,this.outlet=r,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(V(t=>qh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(V(t=>qh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ld(t,e="emptyOnly"){const i=t.pathFromRoot;let n=0;if("always"!==e)for(n=i.length-1;n>=1;){const t=i[n],e=i[n-1];if(t.routeConfig&&""===t.routeConfig.path)n--;else{if(e.component)break;n--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(n))}class zd{constructor(t,e,i,n,o,r,s,a,l,h,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=o,this.outlet=r,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=h,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bd extends Md{constructor(t,e){super(e),this.url=t,Fd(this,e)}toString(){return jd(this._root)}}function Fd(t,e){e.value._routerState=t,e.children.forEach(e=>Fd(t,e))}function jd(t){const e=t.children.length>0?` { ${t.children.map(jd).join(", ")} } `:"";return`${t.value}${e}`}function Hd(t){if(t.snapshot){const e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,id(e.queryParams,i.queryParams)||t.queryParams.next(i.queryParams),e.fragment!==i.fragment&&t.fragment.next(i.fragment),id(e.params,i.params)||t.params.next(i.params),function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!id(t[i],e[i]))return!1;return!0}(e.url,i.url)||t.url.next(i.url),id(e.data,i.data)||t.data.next(i.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Vd(t,e){var i,n;return id(t.params,e.params)&&ud(i=t.url,n=e.url)&&i.every((t,e)=>id(t.parameters,n[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Vd(t.parent,e.parent))}function Wd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ud(t,e,i,n,o){let r={};return n&&rd(n,(t,e)=>{r[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ld(i.root===t?e:function t(e,i,n){const o={};return rd(e.children,(e,r)=>{o[r]=e===i?n:t(e,i,n)}),new hd(e.segments,o)}(i.root,t,e),r,o)}class Yd{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Wd(i[0]))throw new Error("Root segment cannot have matrix parameters");const n=i.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(n&&n!==od(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function qd(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Yh]:`${t}`}function Xd(t,e,i){if(t||(t=new hd([],{})),0===t.segments.length&&t.hasChildren())return $d(t,e,i);const n=function(t,e,i){let n=0,o=e;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(n>=i.length)return r;const e=t.segments[o],s=qd(i[n]),a=n<i.length-1?i[n+1]:null;if(o>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Jd(s,a,e))return r;n+=2}else{if(!Jd(s,{},e))return r;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(t,e,i),o=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const e=new hd(t.segments.slice(0,n.pathIndex),{});return e.children[Yh]=new hd(t.segments.slice(n.pathIndex),t.children),$d(e,0,o)}return n.match&&0===o.length?new hd(t.segments,{}):n.match&&!t.hasChildren()?Kd(t,e,i):n.match?$d(t,0,o):Kd(t,e,i)}function $d(t,e,i){if(0===i.length)return new hd(t.segments,{});{const n=function(t){return"object"!=typeof t[0]?{[Yh]:t}:void 0===t[0].outlets?{[Yh]:t}:t[0].outlets}(i),o={};return rd(n,(i,n)=>{null!==i&&(o[n]=Xd(t.children[n],e,i))}),rd(t.children,(t,e)=>{void 0===n[e]&&(o[e]=t)}),new hd(t.segments,o)}}function Kd(t,e,i){const n=t.segments.slice(0,e);let o=0;for(;o<i.length;){if("object"==typeof i[o]&&void 0!==i[o].outlets){const t=Zd(i[o].outlets);return new hd(n,t)}if(0===o&&Wd(i[0])){n.push(new dd(t.segments[e].path,i[0])),o++;continue}const r=qd(i[o]),s=o<i.length-1?i[o+1]:null;r&&s&&Wd(s)?(n.push(new dd(r,Qd(s))),o+=2):(n.push(new dd(r,{})),o++)}return new hd(n,{})}function Zd(t){const e={};return rd(t,(t,i)=>{null!==t&&(e[i]=Kd(new hd([],{}),0,t))}),e}function Qd(t){const e={};return rd(t,(t,i)=>e[i]=`${t}`),e}function Jd(t,e,i){return t==i.path&&id(e,i.parameters)}const tu=(t,e,i)=>V(n=>(new eu(e,n.targetRouterState,n.currentRouterState,i).activate(t),n));class eu{constructor(t,e,i,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Hd(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const n=Id(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,n[e],i),delete n[e]}),rd(n,(t,e)=>{this.deactivateRouteAndItsChildren(t,i)})}deactivateRoutes(t,e,i){const n=t.value,o=e?e.value:null;if(n===o)if(n.component){const o=i.getContext(n.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const e=i.outlet.detach(),n=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:n})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet);if(i){const n=Id(t),o=t.value.component?i.children:e;rd(n,(t,e)=>this.deactivateRouteAndItsChildren(t,o)),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}activateChildRoutes(t,e,i){const n=Id(e);t.children.forEach(t=>{this.activateRoutes(t,n[t.value.outlet],i),this.forwardEvent(new Vh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new jh(t.value.snapshot))}activateRoutes(t,e,i){const n=t.value,o=e?e.value:null;if(Hd(n),n===o)if(n.component){const o=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(n.component){const e=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const t=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),iu(t.route)}else{const i=function(t){for(let e=n.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),o=i?i.module.componentFactoryResolver:null;e.attachRef=null,e.route=n,e.resolver=o,e.outlet&&e.outlet.activateWith(n,o),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,i)}}function iu(t){Hd(t.value),t.children.forEach(iu)}function nu(t){return"function"==typeof t}function ou(t){return t instanceof ld}class ru{constructor(t){this.segmentGroup=t||null}}class su{constructor(t){this.urlTree=t}}function au(t){return new x(e=>e.error(new ru(t)))}function lu(t){return new x(e=>e.error(new su(t)))}function hu(t){return new x(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class du{constructor(t,e,i,n,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=n,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(ei)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Yh).pipe(V(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qa(t=>{if(t instanceof su)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ru)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Yh).pipe(V(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Qa(t=>{if(t instanceof ru)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const n=t.segments.length>0?new hd([],{[Yh]:t}):t;return new ld(n,e,i)}expandSegmentGroup(t,e,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(V(t=>new hd([],t))):this.expandSegment(t,i,e,i.segments,n,!0)}expandChildren(t,e,i){return function(t,e){if(0===Object.keys(t).length)return Ta({});const i=[],n=[],o={};return rd(t,(t,r)=>{const s=e(r,t).pipe(V(t=>o[r]=t));r===Yh?i.push(s):n.push(s)}),Ta.apply(null,i.concat(n)).pipe(Ra(),Za(),V(()=>o))}(i.children,(i,n)=>this.expandSegmentGroup(t,e,n,i))}expandSegment(t,e,i,n,o,r){return Ta(...i).pipe(V(s=>this.expandSegmentAgainstRoute(t,e,i,s,n,o,r).pipe(Qa(t=>{if(t instanceof ru)return Ta(null);throw t}))),Ra(),ol(t=>!!t),Qa((t,i)=>{if(t instanceof Oa||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,n,o))return Ta(new hd([],{}));throw new ru(e)}throw t}))}noLeftoversInUrl(t,e,i){return 0===e.length&&!t.children[i]}expandSegmentAgainstRoute(t,e,i,n,o,r,s){return fu(n)!==r?au(e):void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,n,o,r):au(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,o,r){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,r):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,o,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,n){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?lu(o):this.lineralizeSegments(i,o).pipe(q(i=>{const o=new hd(i,{});return this.expandSegment(t,o,e,i,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,o,r){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:h}=uu(e,n,o);if(!s)return au(e);const d=this.applyRedirectCommands(a,n.redirectTo,h);return n.redirectTo.startsWith("/")?lu(d):this.lineralizeSegments(n,d).pipe(q(n=>this.expandSegment(t,e,i,n.concat(o.slice(l)),r,!1)))}matchSegmentAgainstRoute(t,e,i,n){if("**"===i.path)return i.loadChildren?this.configLoader.load(t.injector,i).pipe(V(t=>(i._loadedConfig=t,new hd(n,{})))):Ta(new hd(n,{}));const{matched:o,consumedSegments:r,lastChild:s}=uu(e,i,n);if(!o)return au(e);const a=n.slice(s);return this.getChildConfig(t,i,n).pipe(q(t=>{const i=t.module,n=t.routes,{segmentGroup:o,slicedSegments:s}=function(t,e,i,n){return i.length>0&&function(t,e,i){return n.some(i=>pu(t,e,i)&&fu(i)!==Yh)}(t,i)?{segmentGroup:cu(new hd(e,function(t,e){const i={};i[Yh]=e;for(const n of t)""===n.path&&fu(n)!==Yh&&(i[fu(n)]=new hd([],{}));return i}(n,new hd(i,t.children)))),slicedSegments:[]}:0===i.length&&function(t,e,i){return n.some(i=>pu(t,e,i))}(t,i)?{segmentGroup:cu(new hd(t.segments,function(t,e,i,n){const o={};for(const r of i)pu(t,e,r)&&!n[fu(r)]&&(o[fu(r)]=new hd([],{}));return Object.assign({},n,o)}(t,i,n,t.children))),slicedSegments:i}:{segmentGroup:t,slicedSegments:i}}(e,r,a,n);return 0===s.length&&o.hasChildren()?this.expandChildren(i,n,o).pipe(V(t=>new hd(r,t))):0===n.length&&0===s.length?Ta(new hd(r,{})):this.expandSegment(i,o,n,s,Yh,!0).pipe(V(t=>new hd(r.concat(t.segments),t.children)))}))}getChildConfig(t,e,i){return e.children?Ta(new Zh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ta(e._loadedConfig):function(t,e,i){const n=e.canLoad;return n&&0!==n.length?G(n).pipe(V(n=>{const o=t.get(n);let r;if(function(t){return t&&nu(t.canLoad)}(o))r=o.canLoad(e,i);else{if(!nu(o))throw new Error("Invalid CanLoad guard");r=o(e,i)}return sd(r)})).pipe(Ra(),(o=t=>!0===t,t=>t.lift(new rl(o,void 0,t)))):Ta(!0);var o}(t.injector,e,i).pipe(q(i=>i?this.configLoader.load(t.injector,e).pipe(V(t=>(e._loadedConfig=t,t))):function(t){return new x(e=>e.error($h(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Ta(new Zh([],t))}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return Ta(i);if(n.numberOfChildren>1||!n.children[Yh])return hu(t.redirectTo);n=n.children[Yh]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,n){const o=this.createSegmentGroup(t,e.root,i,n);return new ld(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return rd(t,(t,n)=>{if("string"==typeof t&&t.startsWith(":")){const o=t.substring(1);i[n]=e[o]}else i[n]=t}),i}createSegmentGroup(t,e,i,n){const o=this.createSegments(t,e.segments,i,n);let r={};return rd(e.children,(e,o)=>{r[o]=this.createSegmentGroup(t,e,i,n)}),new hd(o,r)}createSegments(t,e,i,n){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,n):this.findOrReturn(e,i))}findPosParam(t,e,i){const n=i[e.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return n}findOrReturn(t,e){let i=0;for(const n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}}function uu(t,e,i){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||i.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const n=(e.matcher||Kh)(i,t,e);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function cu(t){if(1===t.numberOfChildren&&t.children[Yh]){const e=t.children[Yh];return new hd(t.segments.concat(e.segments),e.children)}return t}function pu(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0!==i.redirectTo}function fu(t){return t.outlet||Yh}class gu{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mu{constructor(t,e){this.component=t,this.route=e}}function vu(t,e,i){const n=t._root;return function t(e,i,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Id(i);return e.children.forEach(e=>{!function(e,i,n,o,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=i?i.value:null,l=n?n.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const h=function(t,e,i){if("function"==typeof i)return i(t,e);switch(i){case"pathParamsChange":return!ud(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ud(t.url,e.url)||!id(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vd(t,e)||!id(t.queryParams,e.queryParams);case"paramsChange":default:return!Vd(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);if(h?r.canActivateChecks.push(new gu(o)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,i,s.component?l?l.children:null:n,o,r),h){r.canDeactivateChecks.push(new mu(l&&l.outlet&&l.outlet.component||null,a))}}else a&&bu(i,l,r),r.canActivateChecks.push(new gu(o)),t(e,null,s.component?l?l.children:null:n,o,r)}(e,s[e.value.outlet],n,o.concat([e.value]),r),delete s[e.value.outlet]}),rd(s,(t,e)=>bu(t,n.getContext(e),r)),r}(n,e?e._root:null,i,[n.value])}function yu(t,e,i){const n=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(n?n.module.injector:i).get(t)}function bu(t,e,i){const n=Id(t),o=t.value;rd(n,(t,n)=>{bu(t,o.component?e?e.children.getContext(n):null:e,i)}),i.canDeactivateChecks.push(new mu(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}const wu=Symbol("INITIAL_VALUE");function xu(){return al(t=>(function(...t){let e=null,i=null;return D(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),Y(t,i).lift(new Ia(e))})(...t.map(t=>t.pipe(el(1),function(...t){return e=>{let i=t[t.length-1];D(i)?t.pop():i=null;const n=t.length;return function(...t){return Ra()(Ta(...t))}(1!==n||i?n>0?Y(t,i):Sa(i):Ca(t[0]),e)}}(wu)))).pipe(dl((t,e)=>{let i=!1;return e.reduce((t,n,o)=>{if(t!==wu)return t;if(n===wu&&(i=!0),!i){if(!1===n)return n;if(o===e.length-1||ou(n))return n}return t},t)},wu),La(t=>t!==wu),V(t=>ou(t)?t:!0===t),el(1)))}function _u(t,e){return null!==t&&e&&e(new Hh(t)),Ta(!0)}function Eu(t,e){return null!==t&&e&&e(new Fh(t)),Ta(!0)}function ku(t,e,i){const n=e.routeConfig?e.routeConfig.canActivate:null;return n&&0!==n.length?Ta(n.map(n=>Na(()=>{const o=yu(n,e,i);let r;if(function(t){return t&&nu(t.canActivate)}(o))r=sd(o.canActivate(e,t));else{if(!nu(o))throw new Error("Invalid CanActivate guard");r=sd(o(e,t))}return r.pipe(ol())}))).pipe(xu()):Ta(!0)}function Su(t,e,i){const n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>Na(()=>Ta(e.guards.map(o=>{const r=yu(o,e.node,i);let s;if(function(t){return t&&nu(t.canActivateChild)}(r))s=sd(r.canActivateChild(n,t));else{if(!nu(r))throw new Error("Invalid CanActivateChild guard");s=sd(r(n,t))}return s.pipe(ol())})).pipe(xu())));return Ta(o).pipe(xu())}class Cu{}class Tu{constructor(t,e,i,n,o,r){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=n,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=r}recognize(){try{const e=Ou(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,e,Yh),n=new zd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yh,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Pd(n,i),r=new Bd(this.url,o);return this.inheritParamsAndData(r._root),Ta(r)}catch(t){return new x(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,i=Ld(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=cd(e,(e,i)=>this.processSegmentGroup(t,e,i));return function(t){const e={};i.forEach(t=>{const i=e[t.value.outlet];if(i){const e=i.url.map(t=>t.toString()).join("/"),n=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${n}'.`)}e[t.value.outlet]=t.value})}(),i.sort((t,e)=>t.value.outlet===Yh?-1:e.value.outlet===Yh?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,i,n){for(const r of t)try{return this.processSegmentAgainstRoute(r,e,i,n)}catch(o){if(!(o instanceof Cu))throw o}if(this.noLeftoversInUrl(e,i,n))return[];throw new Cu}noLeftoversInUrl(t,e,i){return 0===e.length&&!t.children[i]}processSegmentAgainstRoute(t,e,i,n){if(t.redirectTo)throw new Cu;if((t.outlet||Yh)!==n)throw new Cu;let o,r=[],s=[];if("**"===t.path){const r=i.length>0?od(i).parameters:{};o=new zd(i,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Au(t),n,t.component,t,Mu(e),Du(e)+i.length,Nu(t))}else{const a=function(t,e,i){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||i.length>0))throw new Cu;return{consumedSegments:[],lastChild:0,parameters:{}}}const n=(e.matcher||Kh)(i,t,e);if(!n)throw new Cu;const o={};rd(n.posParams,(t,e)=>{o[e]=t.path});const r=n.consumed.length>0?Object.assign({},o,n.consumed[n.consumed.length-1].parameters):o;return{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:r}}(e,t,i);r=a.consumedSegments,s=i.slice(a.lastChild),o=new zd(r,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Au(t),n,t.component,t,Mu(e),Du(e)+r.length,Nu(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:h}=Ou(e,r,s,a,this.relativeLinkResolution);if(0===h.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Pd(o,t)]}if(0===a.length&&0===h.length)return[new Pd(o,[])];const d=this.processSegment(a,l,h,Yh);return[new Pd(o,d)]}}function Mu(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Du(t){let e=t,i=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)i+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return i-1}function Ou(t,e,i,n,o){if(i.length>0&&function(t,e,i){return n.some(i=>Pu(t,e,i)&&Iu(i)!==Yh)}(t,i)){const o=new hd(e,function(t,e,i,n){const o={};o[Yh]=n,n._sourceSegment=t,n._segmentIndexShift=e.length;for(const r of i)if(""===r.path&&Iu(r)!==Yh){const i=new hd([],{});i._sourceSegment=t,i._segmentIndexShift=e.length,o[Iu(r)]=i}return o}(t,e,n,new hd(i,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===i.length&&function(t,e,i){return n.some(i=>Pu(t,e,i))}(t,i)){const r=new hd(t.segments,function(t,e,i,n,o,r){const s={};for(const a of n)if(Pu(t,i,a)&&!o[Iu(a)]){const i=new hd([],{});i._sourceSegment=t,i._segmentIndexShift="legacy"===r?t.segments.length:e.length,s[Iu(a)]=i}return Object.assign({},o,s)}(t,e,i,n,t.children,o));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:i}}const r=new hd(t.segments,t.children);return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:i}}function Pu(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0===i.redirectTo}function Iu(t){return t.outlet||Yh}function Au(t){return t.data||{}}function Nu(t){return t.resolve||{}}function Ru(t,e,i,n){const o=yu(t,e,n);return sd(o.resolve?o.resolve(e,i):o(e,i))}function Lu(t){return function(e){return e.pipe(al(e=>{const i=t(e);return i?G(i).pipe(V(()=>e)):G([e])}))}}class zu{}class Bu{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Fu=new St("ROUTES");class ju{constructor(t,e,i,n){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=n}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(V(i=>{this.onLoadEndListener&&this.onLoadEndListener(e);const n=i.create(t);return new Zh(nd(n.injector.get(Fu)).map(ed),n)}))}loadModuleFactory(t){return"string"==typeof t?G(this.loader.load(t)):sd(t()).pipe(q(t=>t instanceof ii?Ta(t):G(this.compiler.compileModuleAsync(t))))}}class Hu{}class Vu{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Wu(t){throw t}function Uu(t,e,i){return e.parse("/")}function Yu(t,e){return Ta(null)}class Gu{constructor(t,e,i,n,o,r,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=i,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=Wu,this.malformedUriErrorHandler=Uu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yu,afterPreactivation:Yu},this.urlHandlingStrategy=new Vu,this.routeReuseStrategy=new Bu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(ei),this.console=o.get(Bo);const l=o.get(er);this.isNgZoneEnabled=l instanceof er,this.resetConfig(a),this.currentUrlTree=new ld(new hd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ju(r,s,t=>this.triggerEvent(new zh(t)),t=>this.triggerEvent(new Bh(t))),this.routerState=Nd(this.currentUrlTree,this.rootComponentType),this.transitions=new Ma({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(La(t=>0!==t.id),V(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),al(t=>{let i=!1,n=!1;return Ta(t).pipe(Ua(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),al(t=>{const i=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ta(t).pipe(al(t=>{const i=this.transitions.getValue();return e.next(new Mh(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==this.transitions.getValue()?ka:[t]}),al(t=>Promise.resolve(t)),function(t,e,i,n){return function(o){return o.pipe(al(o=>(function(t,e,i,n,r){return new du(t,e,i,o.extractedUrl,r).apply()})(t,e,i,0,n).pipe(V(t=>Object.assign({},o,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ua(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,i,n,o){return function(r){return r.pipe(q(r=>(function(t,e,i,n,o="emptyOnly",r="legacy"){return new Tu(t,e,i,n,o,r).recognize()})(t,e,r.urlAfterRedirects,i(r.urlAfterRedirects),n,o).pipe(V(t=>Object.assign({},r,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ua(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Ua(t=>{const i=new Ih(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(i)}));if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:i,extractedUrl:n,source:o,restoredState:r,extras:s}=t,a=new Mh(i,this.serializeUrl(n),o,r);e.next(a);const l=Nd(n,this.rootComponentType).snapshot;return Ta(Object.assign({},t,{targetSnapshot:l,urlAfterRedirects:n,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ka}),Lu(t=>{const{targetSnapshot:e,id:i,extractedUrl:n,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:i,appliedUrlTree:n,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!s})}),Ua(t=>{const e=new Ah(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),V(t=>Object.assign({},t,{guards:vu(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(i){return i.pipe(q(i=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=i;return 0===s.length&&0===r.length?Ta(Object.assign({},i,{guardsResult:!0})):function(t,e,i,n){return G(s).pipe(q(t=>(function(t,e,i,n,o){const r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Ta(r.map(r=>{const s=yu(r,e,o);let a;if(function(t){return t&&nu(t.canDeactivate)}(s))a=sd(s.canDeactivate(t,e,i,n));else{if(!nu(s))throw new Error("Invalid CanDeactivate guard");a=sd(s(t,e,i,n))}return a.pipe(ol())})).pipe(xu()):Ta(!0)})(t.component,t.route,i,e,n)),ol(t=>!0!==t,!0))}(0,n,o,t).pipe(q(i=>i&&function(t){return"boolean"==typeof i}()?function(t,e,i,n){return G(r).pipe(pl(e=>G([Eu(e.route.parent,n),_u(e.route,n),Su(t,e.path,i),ku(t,e.route,i)]).pipe(Ra(),ol(t=>!0!==t,!0))),ol(t=>!0!==t,!0))}(n,0,t,e):Ta(i)),V(t=>Object.assign({},i,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Ua(t=>{if(ou(t.guardsResult)){const e=$h(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Ua(t=>{const e=new Nh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),La(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const i=new Oh(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(i),t.resolve(!1),!1}return!0}),Lu(t=>{if(t.guards.canActivateChecks.length)return Ta(t).pipe(Ua(t=>{const e=new Rh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(i){return i.pipe(q(i=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=i;return o.length?G(o).pipe(pl(i=>(function(t,e,i,o){return function(t,e,i,n){const o=Object.keys(t);if(0===o.length)return Ta({});if(1===o.length){const r=o[0];return Ru(t[r],e,i,n).pipe(V(t=>({[r]:t})))}const r={};return G(o).pipe(q(o=>Ru(t[o],e,i,n).pipe(V(t=>(r[o]=t,t))))).pipe(Za(),V(()=>r))}(t._resolve,t,n,o).pipe(V(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,Ld(t,i).resolve),null)))})(i.route,0,t,e)),function(t,e){return arguments.length>=2?function(i){return b(dl(t,e),Ha(1),Xa(e))(i)}:function(e){return b(dl((e,i,n)=>t(e,i,n+1)),Ha(1))(e)}}((t,e)=>t),V(t=>i)):Ta(i)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),Ua(t=>{const e=new Lh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Lu(t=>{const{targetSnapshot:e,id:i,extractedUrl:n,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:i,appliedUrlTree:n,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!s})}),V(t=>{const e=function(t,e,i){const n=function t(e,i,n){if(n&&e.shouldReuseRoute(i.value,n.value.snapshot)){const o=n.value;o._futureSnapshot=i.value;const r=function(e,i,n){return i.children.map(i=>{for(const o of n.children)if(e.shouldReuseRoute(o.value.snapshot,i.value))return t(e,i,o);return t(e,i)})}(e,i,n);return new Pd(o,r)}{const n=e.retrieve(i.value);if(n){const t=n.route;return function t(e,i){if(e.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)t(e.children[n],i.children[n])}(i,t),t}{const n=new Rd(new Ma((o=i.value).url),new Ma(o.params),new Ma(o.queryParams),new Ma(o.fragment),new Ma(o.data),o.outlet,o.component,o),r=i.children.map(i=>t(e,i));return new Pd(n,r)}}var o}(t,e._root,i?i._root:void 0);return new Ad(n,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),Ua(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),tu(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),Ua({next(){i=!0},complete(){i=!0}}),function(t){return e=>e.lift(new fl(t))}(()=>{if(!i&&!n){this.resetUrlToCurrentUrlTree();const i=new Oh(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(i),t.resolve(!1)}this.currentNavigation=null}),Qa(i=>{if(n=!0,function(t){return i&&i[Xh]}()){const n=ou(i.url);n||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const o=new Oh(t.id,this.serializeUrl(t.extractedUrl),i.message);e.next(o),t.resolve(!1),n&&this.navigateByUrl(i.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const n=new Ph(t.id,this.serializeUrl(t.extractedUrl),i);e.next(n);try{t.resolve(this.errorHandler(i))}catch(o){t.reject(o)}}return ka}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const i="popstate"===t.type?"popstate":"hashchange",n=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,i,n,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Qh(t),this.config=t.map(ed),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:i,queryParams:n,fragment:o,preserveQueryParams:r,queryParamsHandling:s,preserveFragment:a}=e;re()&&r&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=i||this.routerState.root,h=a?this.currentUrlTree.fragment:o;let d=null;if(s)switch(s){case"merge":d=Object.assign({},this.currentUrlTree.queryParams,n);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=n||null}else d=r?this.currentUrlTree.queryParams:n||null;return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,i,n,o){if(0===i.length)return Ud(e.root,e.root,e,n,o);const r=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Yd(!0,0,t);let e=0,i=!1;const n=t.reduce((t,n,o)=>{if("object"==typeof n&&null!=n){if(n.outlets){const e={};return rd(n.outlets,(t,i)=>{e[i]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(n.segmentPath)return[...t,n.segmentPath]}return"string"!=typeof n?[...t,n]:0===o?(n.split("/").forEach((n,o)=>{0==o&&"."===n||(0==o&&""===n?i=!0:".."===n?e++:""!=n&&t.push(n))}),t):[...t,n]},[]);return new Yd(i,e,n)}(i);if(r.toRoot())return Ud(e.root,new hd([],{}),e,n,o);const s=function(t,i,n){if(t.isAbsolute)return new Gd(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Gd(n.snapshot._urlSegment,!0,0);const o=Wd(t.commands[0])?0:1;return function(e,i,r){let s=n.snapshot._urlSegment,a=n.snapshot._lastPathIndex+o,l=t.numberOfDoubleDots;for(;l>a;){if(l-=a,!(s=s.parent))throw new Error("Invalid number of '../'");a=s.segments.length}return new Gd(s,!1,a-l)}()}(r,0,t),a=s.processChildren?$d(s.segmentGroup,s.index,r.commands):Xd(s.segmentGroup,s.index,r.commands);return Ud(s.segmentGroup,a,e,n,o)}(l,this.currentUrlTree,t,d,h)}navigateByUrl(t,e={skipLocationChange:!1}){re()&&this.isNgZoneEnabled&&!er.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const i=ou(t)?t:this.parseUrl(t),n=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const i=t[e];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(i){e=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return e}isActive(t,e){if(ou(t))return ad(this.currentUrlTree,t,e);const i=this.parseUrl(t);return ad(this.currentUrlTree,i,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,i)=>{const n=t[i];return null!=n&&(e[i]=n),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Dh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,i,n){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let r=null,s=null;const a=new Promise((t,e)=>{r=t,s=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:n,resolve:r,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,i,n){const o=this.urlSerializer.serialize(t);n=n||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",Object.assign({},n,{navigationId:i})):this.location.go(o,"",Object.assign({},n,{navigationId:i}))}resetStateAndUrl(t,e,i){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class qu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xu,this.attachRef=null}}class Xu{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new qu,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const $u=(()=>(class{constructor(t,e,i,n,o){this.parentContexts=t,this.location=e,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new To,this.deactivateEvents=new To,this.name=n||Yh,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const i=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,o=new Ku(t,n,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}))();class Ku{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Rd?this.route:t===Xu?this.childContexts:this.parent.get(t,e)}}class Zu{}class Qu{preload(t,e){return e().pipe(Qa(()=>Ta(null)))}}class Ju{preload(t,e){return Ta(null)}}const tc=(()=>(class{constructor(t,e,i,n,o){this.router=t,this.injector=n,this.preloadingStrategy=o,this.loader=new ju(e,i,e=>t.triggerEvent(new zh(e)),e=>t.triggerEvent(new Bh(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(La(t=>t instanceof Dh),pl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ei);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const i=[];for(const n of e)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const t=n._loadedConfig;i.push(this.processRoutes(t.module,t.routes))}else n.loadChildren&&!n.canLoad?i.push(this.preloadConfig(t,n)):n.children&&i.push(this.processRoutes(t,n.children));return G(i).pipe(Z(),V(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}))();class ec{constructor(t,e,i={}){this.router=t,this.viewportScroller=e,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Mh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Wh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const ic=new St("ROUTER_CONFIGURATION"),nc=new St("ROUTER_FORROOT_GUARD"),oc=[ca,{provide:pd,useClass:fd},{provide:Gu,useFactory:uc,deps:[wr,pd,Xu,ca,Vt,_r,Yo,Fu,ic,[Hu,new lt],[zu,new lt]]},Xu,{provide:Rd,useFactory:cc,deps:[Gu]},{provide:_r,useClass:Sr},tc,Ju,Qu,{provide:ic,useValue:{enableTracing:!1}}];function rc(){return new gr("Router",Gu)}const sc=(()=>{class t{constructor(t,e){}static forRoot(e,i){return{ngModule:t,providers:[oc,dc(e),{provide:nc,useFactory:hc,deps:[[Gu,new lt,new dt]]},{provide:ic,useValue:i||{}},{provide:da,useFactory:lc,deps:[la,[new at(ua),new lt],ic]},{provide:ec,useFactory:ac,deps:[Gu,_a,ic]},{provide:Zu,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Ju},{provide:gr,multi:!0,useFactory:rc},[pc,{provide:Oo,multi:!0,useFactory:fc,deps:[pc]},{provide:mc,useFactory:gc,deps:[pc]},{provide:zo,multi:!0,useExisting:mc}]]}}static forChild(e){return{ngModule:t,providers:[dc(e)]}}}return t})();function ac(t,e,i){return i.scrollOffset&&e.setOffset(i.scrollOffset),new ec(t,e,i)}function lc(t,e,i={}){return i.useHash?new fa(t,e):new ga(t,e)}function hc(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function dc(t){return[{provide:te,multi:!0,useValue:t},{provide:Fu,multi:!0,useValue:t}]}function uc(t,e,i,n,o,r,s,a,l={},h,d){const u=new Gu(null,e,i,n,o,r,s,nd(a));if(h&&(u.urlHandlingStrategy=h),d&&(u.routeReuseStrategy=d),l.errorHandler&&(u.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(u.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=vl();u.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(u.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(u.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(u.relativeLinkResolution=l.relativeLinkResolution),u}function cc(t){return t.routerState.root}const pc=(()=>(class{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(ha,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),i=this.injector.get(Gu),n=this.injector.get(ic);if(this.isLegacyDisabled(n)||this.isLegacyEnabled(n))t(!0);else if("disabled"===n.initialNavigation)i.setUpLocationChangeListener(),t(!0);else{if("enabled"!==n.initialNavigation)throw new Error(`Invalid initialNavigation options: '${n.initialNavigation}'`);i.hooks.afterPreactivation=()=>this.initNavigation?Ta(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),i.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(ic),i=this.injector.get(tc),n=this.injector.get(ec),o=this.injector.get(Gu),r=this.injector.get(wr);t===r.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),i.setUpPreloading(),n.init(),o.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}))();function fc(t){return t.appInitializer.bind(t)}function gc(t){return t.bootstrapListener.bind(t)}const mc=new St("Router Initializer");var vc=Ki({encapsulation:2,styles:[],data:{}});function yc(t){return Jr(0,[(t()(),Fr(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),so(1,212992,null,0,$u,[Xu,Ii,Qe,[8,null],Si],null,null)],function(t,e){t(e,1,0)},null)}function bc(t){return Jr(0,[(t()(),Fr(0,0,null,null,1,"ng-component",[],null,null,null,yc,vc)),so(1,49152,null,0,Uh,[],null,null)],null,null)}var wc=zn("ng-component",Uh,bc,{},{},[]),xc=i("TycK");class _c{constructor(){}ngOnInit(){}ngAfterViewInit(){if(this.graph&&this.ref){let t={nodes:[],edges:[]};for(let e of this.graph.nodes)t.nodes.push({id:e.id,label:e.attrs.name,x:Math.floor(1e3*e.attrs.x),y:Math.floor(1e3*e.attrs.y)});for(let e of this.graph.edges)t.edges.push({from:e.srcID,to:e.tgtID});new xc.Network(this.ref.nativeElement,t,{nodes:{shape:"dot",scaling:{min:10,max:30},font:{size:12,face:"Tahoma"}},edges:{color:{inherit:!0},width:.15},interaction:{dragNodes:!0},physics:{enabled:!1}})}}}var Ec=Ki({encapsulation:0,styles:[["#canvas[_ngcontent-%COMP%]{display:block;height:450px;width:450px;max-width:100%}"]],data:{}});function kc(t){return Jr(0,[Ur(671088640,1,{ref:0}),(t()(),Fr(1,0,[[1,0],["canvas",1]],null,0,"div",[["id","canvas"]],null,null,null,null,null))],null,null)}var Sc=i("4rB0");class Cc{constructor(){}ngOnInit(){}ngAfterViewInit(){if(this.graph&&this.ref){let t=new Sc(this.ref.nativeElement);for(let e of this.graph.nodes)t.graph.addNode({id:e.id,label:e.attrs.name,x:Math.floor(1e3*e.attrs.x),y:Math.floor(1e3*e.attrs.y),size:1});for(let e of this.graph.edges)t.graph.addEdge({id:`${e.srcID}_${e.tgtID}`,source:e.srcID,target:e.tgtID});t.refresh()}}}var Tc=Ki({encapsulation:0,styles:[["#canvas[_ngcontent-%COMP%]{display:block;height:450px;width:450px;max-width:100%}"]],data:{}});function Mc(t){return Jr(0,[Ur(671088640,1,{ref:0}),(t()(),Fr(1,0,[[1,0],["canvas",1]],null,0,"div",[["id","canvas"]],null,null,null,null,null))],null,null)}var Dc=i("h63A");class Oc{constructor(){}ngOnInit(){}ngAfterViewInit(){if(this.graph&&this.ref){let t=[];for(let e of this.graph.nodes)t.push({data:{id:e.id,weight:e.weight},position:{x:Math.floor(1e3*e.attrs.x),y:Math.floor(1e3*e.attrs.y)},locked:!0});for(let e of this.graph.edges)t.push({data:{id:e.id,source:e.srcID,target:e.tgtID}});Dc({elements:t,container:this.ref.nativeElement})}}}var Pc=Ki({encapsulation:0,styles:[["#canvas[_ngcontent-%COMP%]{display:block;height:450px;width:450px;max-width:100%}"]],data:{}});function Ic(t){return Jr(0,[Ur(671088640,1,{ref:0}),(t()(),Fr(1,0,[[1,0],["canvas",1]],null,0,"div",[["id","canvas"]],null,null,null,null,null))],null,null)}const Ac='\n*Vertices    332\n     1 "Wiley Post-Will Rogers Mem"             0.4407    0.0910    0.5000\n     2 "Deadhorse"                              0.4830    0.1014    0.5000\n     3 "Ralph Wien Memorial"                    0.4110    0.1330    0.5000\n     4 "Fairbanks Intl"                         0.4861    0.1528    0.5000\n     5 "Nome"                                   0.3965    0.1557    0.5000\n     6 "St Mary\'s"                              0.4074    0.1791    0.5000\n     7 "Aniak"                                  0.4266    0.1837    0.5000\n     8 "Anchorage Intl"                         0.4752    0.1876    0.5000\n     9 "Tuluksak"                               0.4193    0.1883    0.5000\n    10 "Akiachak"                               0.4169    0.1901    0.5000\n    11 "Akiak"                                  0.4180    0.1901    0.5000\n    12 "Kwethluk"                               0.4169    0.1911    0.5000\n    13 "Bethel"                                 0.4149    0.1913    0.5000\n    14 "Napaskiak"                              0.4152    0.1921    0.5000\n    15 "Napakiak"                               0.4142    0.1922    0.5000\n    16 "Merle K (Mudhole) Smith"                0.4982    0.1941    0.5000\n    17 "Tuntutuliak"                            0.4107    0.1956    0.5000\n    18 "Eek"                                    0.4140    0.1967    0.5000\n    19 "Kongiganak"                             0.4096    0.1992    0.5000\n    20 "Kwigillingok"                           0.4082    0.2003    0.5000\n    21 "Quinhagak"                              0.4147    0.2011    0.5000\n    22 "Yakutat"                                0.5278    0.2035    0.5000\n    23 "Dillingham"                             0.4319    0.2079    0.5000\n    24 "King Salmon"                            0.4413    0.2114    0.5000\n    25 "Gustavus"                               0.5480    0.2138    0.5000\n    26 "Juneau Intl"                            0.5537    0.2145    0.5000\n    27 "Kodiak"                                 0.4625    0.2203    0.5000\n    28 "St Paul Island"                         0.3722    0.2259    0.5000\n    29 "Sitka"                                  0.5497    0.2270    0.5000\n    30 "Port Heiden"                            0.4312    0.2278    0.5000\n    31 "James A Johnson Petersburg"             0.5620    0.2293    0.5000\n    32 "Wrangell"                               0.5650    0.2324    0.5000\n    33 "Ketchikan Intl"                         0.5683    0.2432    0.5000\n    34 "Sand Point"                             0.4216    0.2435    0.5000\n    35 "Cold Bay"                               0.4104    0.2446    0.5000\n    36 "Unalaska"                               0.3909    0.2571    0.5000\n    37 "Eareckson As"                           0.2924    0.2684    0.5000\n    38 "Adak Naf"                               0.3395    0.2764    0.5000\n    39 "Bellingham Intl"                        0.6150    0.3059    0.5000\n    40 "Glacier Park Intl"                      0.6572    0.3105    0.5000\n    41 "Minot Intl"                             0.7233    0.3110    0.5000\n    42 "William R Fairchild Intl"               0.6101    0.3123    0.5000\n    43 "Grand Forks Afb"                        0.7430    0.3138    0.5000\n    44 "Grand Forks Intl"                       0.7442    0.3139    0.5000\n    45 "Spokane Intl"                           0.6405    0.3171    0.5000\n    46 "Great Falls Intl"                       0.6719    0.3184    0.5000\n    47 "Seattle-Tacoma Intl"                    0.6162    0.3188    0.5000\n    48 "Pangborn Memorial"                      0.6269    0.3192    0.5000\n    49 "Grant County"                           0.6314    0.3210    0.5000\n    50 "Missoula Intll"                         0.6580    0.3238    0.5000\n    51 "Hector Intll"                           0.7460    0.3238    0.5000\n    52 "Duluth Intl"                            0.7696    0.3245    0.5000\n    53 "Bismarck Muni"                          0.7260    0.3252    0.5000\n    54 "Pullman/Moscow Regional"                0.6427    0.3254    0.5000\n    55 "Helena Regional"                        0.6688    0.3268    0.5000\n    56 "Yakima Air Terminal"                    0.6252    0.3271    0.5000\n    57 "Marquette County"                       0.7931    0.3275    0.5000\n    58 "Lewiston-Nez Perce County"              0.6431    0.3290    0.5000\n    59 "Tri-Cities"                             0.6324    0.3300    0.5000\n    60 "Walla Walla Regional"                   0.6367    0.3317    0.5000\n    61 "Bert Mooney"                            0.6662    0.3330    0.5000\n    62 "Billings Logan Intl"                    0.6863    0.3344    0.5000\n    63 "Gallatin Field"                         0.6730    0.3347    0.5000\n    64 "Eastern Oregon Regional At Pen"         0.6338    0.3355    0.5000\n    65 "Portland Intl"                          0.6147    0.3365    0.5000\n    66 "Mcnary Fld"                             0.6127    0.3430    0.5000\n    67 "Minneapolis-St Paul Intl/Wold-"         0.7644    0.3432    0.5000\n    68 "Bangor Intl"                            0.8885    0.3439    0.5000\n    69 "Central Wisconsin"                      0.7824    0.3442    0.5000\n    70 "Cherry Capital"                         0.8032    0.3446    0.5000\n    71 "Austin Straubel Intll"                  0.7903    0.3470    0.5000\n    72 "Burlington Intl"                        0.8665    0.3472    0.5000\n    73 "Outagamie County"                       0.7883    0.3492    0.5000\n    74 "Roberts Field"                          0.6221    0.3492    0.5000\n    75 "Mahlon Sweet Field"                     0.6116    0.3505    0.5000\n    76 "Rapid City Regional"                    0.7142    0.3512    0.5000\n    77 "Wittman Regional"                       0.7881    0.3518    0.5000\n    78 "Rochester Intll"                        0.7680    0.3525    0.5000\n    79 "La Crosse Muni"                         0.7743    0.3528    0.5000\n    80 "Portland Intl Jetport"                  0.8810    0.3550    0.5000\n    81 "Jackson Hole"                           0.6751    0.3554    0.5000\n    82 "Joe Foss Field"                         0.7464    0.3557    0.5000\n    83 "Boise Air Terminal /Gowen Fld/"         0.6472    0.3558    0.5000\n    84 "Mbs Intll"                              0.8109    0.3561    0.5000\n    85 "Fanning Field"                          0.6683    0.3563    0.5000\n    86 "Friedman Memorial"                      0.6570    0.3564    0.5000\n    87 "North Bend Muni"                        0.6063    0.3572    0.5000\n    88 "Muskegon County"                        0.7999    0.3596    0.5000\n    89 "Oneida County"                          0.8552    0.3598    0.5000\n    90 "Dane County Regional-Truax Fie"         0.7841    0.3599    0.5000\n    91 "Greater Rochester Intl"                 0.8435    0.3601    0.5000\n    92 "Syracuse Hancock Intl"                  0.8515    0.3602    0.5000\n    93 "Bishop Intll"                           0.8126    0.3615    0.5000\n    94 "General Mitchell Intll"                 0.7914    0.3617    0.5000\n    95 "Greater Buffalo Intl"                   0.8381    0.3618    0.5000\n    96 "Manchester"                             0.8753    0.3619    0.5000\n    97 "Pocatello Regional"                     0.6657    0.3621    0.5000\n    98 "Natrona County Intl"                    0.6969    0.3621    0.5000\n    99 "Kent County Intl"                       0.8035    0.3623    0.5000\n   100 "Capital City"                           0.8083    0.3633    0.5000\n   101 "Albany County"                          0.8632    0.3636    0.5000\n   102 "Waterloo Muni"                          0.7685    0.3655    0.5000\n   103 "Tompkins County"                        0.8497    0.3661    0.5000\n   104 "Twin Falls-Sun Valley Regional"         0.6560    0.3662    0.5000\n   105 "Detroit City"                           0.8163    0.3669    0.5000\n   106 "Sioux Gateway"                          0.7482    0.3669    0.5000\n   107 "Dubuque Regional"                       0.7771    0.3669    0.5000\n   108 "Rogue Valley Intl- M"                   0.6133    0.3672    0.5000\n   109 "General Edward Lawrence Logan"          0.8775    0.3673    0.5000\n   110 "Worcester Muni"                         0.8730    0.3682    0.5000\n   111 "Kalamazoo/Battle Creek Interna"         0.8034    0.3685    0.5000\n   112 "Detroit Metropolitan Wayne Cou"         0.8146    0.3687    0.5000\n   113 "Binghamton Regional/Edwin A Li"         0.8521    0.3688    0.5000\n   114 "Greater Rockford"                       0.7853    0.3689    0.5000\n   115 "Elmira/Corning Regional"                0.8475    0.3692    0.5000\n   116 "Klamath Falls Intll"                    0.6191    0.3693    0.5000\n   117 "Erie Intl"                              0.8308    0.3700    0.5000\n   118 "Chicago O\'hare Intl"                    0.7914    0.3710    0.5000\n   119 "Bradley Intl"                           0.8689    0.3714    0.5000\n   120 "Cedar Rapids Muni"                      0.7720    0.3719    0.5000\n   121 "William B. Heilig Field"                0.7115    0.3720    0.5000\n   122 "Merrill C Meigs"                        0.7929    0.3721    0.5000\n   123 "Chicago Midway"                         0.7922    0.3728    0.5000\n   124 "Jack Mc Namara Field"                   0.6064    0.3729    0.5000\n   125 "Theodore Francis Green State"           0.8753    0.3734    0.5000\n   126 "Michiana Rgnl Transportation C"         0.7995    0.3736    0.5000\n   127 "Toledo Express"                         0.8123    0.3747    0.5000\n   128 "Des Moines Intl"                        0.7621    0.3752    0.5000\n   129 "Stewart Int\'l"                          0.8617    0.3755    0.5000\n   130 "Quad-City"                              0.7781    0.3760    0.5000\n   131 "Cleveland-Hopkins Intl"                 0.8222    0.3764    0.5000\n   132 "Wilkes-Barre/Scranton Intl"             0.8534    0.3771    0.5000\n   133 "Eppley Airfield"                        0.7507    0.3774    0.5000\n   134 "Tweed-New Haven"                        0.8679    0.3778    0.5000\n   135 "Youngstown-Warren Regional"             0.8282    0.3779    0.5000\n   136 "Westchester County"                     0.8637    0.3797    0.5000\n   137 "Fort Wayne Intll"                       0.8052    0.3805    0.5000\n   138 "Arcata"                                 0.6070    0.3805    0.5000\n   139 "Akron-Canton Regional"                  0.8243    0.3811    0.5000\n   140 "Lincoln Muni"                           0.7463    0.3818    0.5000\n   141 "University Park"                        0.8426    0.3818    0.5000\n   142 "Elko Muni-J.C. Harris Field"            0.6494    0.3820    0.5000\n   143 "Long Island Mac Arthur"                 0.8668    0.3823    0.5000\n   144 "Salt Lake City Intl"                    0.6688    0.3824    0.5000\n   145 "Burlington Regional"                    0.7750    0.3824    0.5000\n   146 "La Guardia"                             0.8629    0.3825    0.5000\n   147 "Newark Intl"                            0.8614    0.3833    0.5000\n   148 "Greater Peoria Regional"                0.7823    0.3835    0.5000\n   149 "Lehigh Valley Intll"                    0.8549    0.3837    0.5000\n   150 "John F Kennedy Intl"                    0.8633    0.3838    0.5000\n   151 "Redding Muni"                           0.6163    0.3850    0.5000\n   152 "Pittsburgh Intll"                       0.8305    0.3852    0.5000\n   153 "Yampa Valley"                           0.6930    0.3853    0.5000\n   154 "Bloomington/Normal"                     0.7862    0.3853    0.5000\n   155 "Purdue University"                      0.7963    0.3859    0.5000\n   156 "Mercer County"                          0.8581    0.3872    0.5000\n   157 "Harrisburg Intll"                       0.8481    0.3880    0.5000\n   158 "University Of Illinois-Willard"         0.7895    0.3895    0.5000\n   159 "Port Columbus Intl"                     0.8169    0.3899    0.5000\n   160 "Quincy Muni Baldwin Field"              0.7746    0.3904    0.5000\n   161 "James M Cox Dayton Intl"                0.8102    0.3908    0.5000\n   162 "Philadelphia Intl"                      0.8559    0.3911    0.5000\n   163 "Capital"                                0.7824    0.3914    0.5000\n   164 "Decatur"                                0.7865    0.3915    0.5000\n   165 "Chico Muni"                             0.6185    0.3918    0.5000\n   166 "Stapleton Intl"                         0.7049    0.3920    0.5000\n   167 "Indianapolis Intl"                      0.7996    0.3926    0.5000\n   168 "Eagle County Regional"                  0.6946    0.3933    0.5000\n   169 "Reno/Tahoe Intll"                       0.6291    0.3947    0.5000\n   170 "Atlantic City Intll"                    0.8593    0.3951    0.5000\n   171 "Hulman Regional"                        0.7944    0.3951    0.5000\n   172 "Kansas City Intl"                       0.7567    0.3966    0.5000\n   173 "Aspen-Pitkin Co/Sardy Field"            0.6948    0.3973    0.5000\n   174 "Baltimore-Washington Intl"              0.8486    0.3978    0.5000\n   175 "Walker Field"                           0.6864    0.3983    0.5000\n   176 "Cincinnati/Northern Kentucky I"         0.8079    0.3990    0.5000\n   177 "Washington Dulles Intl"                 0.8446    0.4000    0.5000\n   178 "Lake Tahoe"                             0.6280    0.4005    0.5000\n   179 "Washington National"                    0.8467    0.4008    0.5000\n   180 "Columbia Regional"                      0.7694    0.4012    0.5000\n   181 "City Of Colorado Springs Muni"          0.7059    0.4013    0.5000\n   182 "Lambert-St Louis Intl"                  0.7789    0.4018    0.5000\n   183 "Sacramento Metropolitan"                0.6198    0.4023    0.5000\n   184 "Gunnison County"                        0.6945    0.4039    0.5000\n   185 "Sonoma County"                          0.6136    0.4041    0.5000\n   186 "Yeager"                                 0.8235    0.4054    0.5000\n   187 "Tri-State/Milton J.Ferguson Fi"         0.8186    0.4055    0.5000\n   188 "Pueblo Memorial"                        0.7069    0.4062    0.5000\n   189 "Louisville Intl"                        0.8024    0.4073    0.5000\n   190 "Charlottesville-Albemarle"              0.8395    0.4077    0.5000\n   191 "Evansville Regional"                    0.7933    0.4086    0.5000\n   192 "Blue Grass"                             0.8082    0.4086    0.5000\n   193 "Stockton Metropolitan"                  0.6216    0.4100    0.5000\n   194 "Greenbrier Valley"                      0.8296    0.4103    0.5000\n   195 "Williamson County Regional"             0.7858    0.4114    0.5000\n   196 "Forney Aaf"                             0.7698    0.4115    0.5000\n   197 "Metropolitan Oakland Intl"              0.6166    0.4117    0.5000\n   198 "Wichita Mid-Continent"                  0.7429    0.4123    0.5000\n   199 "Modesto City-County--Harry Sha"         0.6231    0.4126    0.5000\n   200 "Mammoth Lakes"                          0.6339    0.4126    0.5000\n   201 "San Francisco Intl"                     0.6159    0.4126    0.5000\n   202 "Richmond Intll"                         0.8453    0.4137    0.5000\n   203 "San Jose Intll"                         0.6181    0.4151    0.5000\n   204 "Roanoke Regional/Woodrum Field"         0.8318    0.4154    0.5000\n   205 "Merced Municipal/Macready Fiel"         0.6253    0.4158    0.5000\n   206 "Springfield Regional"                   0.7635    0.4162    0.5000\n   207 "Cape Girardeau Regional"                0.7829    0.4164    0.5000\n   208 "Durango-La Plata County"                0.6903    0.4171    0.5000\n   209 "Joplin Regional"                        0.7578    0.4171    0.5000\n   210 "Newport News/Williamsburg Inte"         0.8495    0.4173    0.5000\n   211 "Barkley Regional"                       0.7870    0.4180    0.5000\n   212 "Norfolk Intl"                           0.8510    0.4196    0.5000\n   213 "Fresno Air Terminal"                    0.6294    0.4207    0.5000\n   214 "Monterey Peninsula"                     0.6186    0.4225    0.5000\n   215 "Tri-Cities Regional Tn/Va"              0.8194    0.4236    0.5000\n   216 "Tulsa Intl"                             0.7507    0.4262    0.5000\n   217 "Nashville Intll"                        0.7976    0.4269    0.5000\n   218 "Piedmont Triad Intll"                   0.8320    0.4272    0.5000\n   219 "Mc Carran Intl"                         0.6526    0.4273    0.5000\n   220 "Drake Field"                            0.7595    0.4281    0.5000\n   221 "Raleigh-Durham Intll"                   0.8378    0.4293    0.5000\n   222 "Mc Ghee Tyson"                          0.8113    0.4299    0.5000\n   223 "Asheville Regional"                     0.8187    0.4335    0.5000\n   224 "Meadows Field"                          0.6327    0.4335    0.5000\n   225 "Will Rogers World"                      0.7420    0.4339    0.5000\n   226 "Fort Smith Regional"                    0.7585    0.4344    0.5000\n   227 "Kinston Regional Jetport At St"         0.8438    0.4345    0.5000\n   228 "San Luis Obispo County-Mc Ches"         0.6247    0.4354    0.5000\n   229 "Amarillo Intl"                          0.7211    0.4356    0.5000\n   230 "Charlotte/Douglas Intl"                 0.8268    0.4356    0.5000\n   231 "Flagstaff Pulliam"                      0.6704    0.4363    0.5000\n   232 "Memphis Intl"                           0.7808    0.4372    0.5000\n   233 "Albuquerque Intl"                       0.6961    0.4373    0.5000\n   234 "Lovell Field"                           0.8052    0.4373    0.5000\n   235 "Fayetteville Regional/Grannis"          0.8374    0.4377    0.5000\n   236 "Santa Maria Pub/Capt G Allan H"         0.6256    0.4386    0.5000\n   237 "Greenville-Spartanburg"                 0.8204    0.4386    0.5000\n   238 "Albert J Ellis"                         0.8438    0.4393    0.5000\n   239 "Adams Field"                            0.7694    0.4402    0.5000\n   240 "Huntsville Intl-Carl T Jones F"         0.7972    0.4411    0.5000\n   241 "Lawton Muni"                            0.7379    0.4418    0.5000\n   242 "Santa Barbara Muni"                     0.6288    0.4431    0.5000\n   243 "New Hanover Intll"                      0.8423    0.4446    0.5000\n   244 "Oxnard"                                 0.6320    0.4453    0.5000\n   245 "Burbank-Glendale-Pasadena"              0.6363    0.4453    0.5000\n   246 "Ontario Intl"                           0.6402    0.4467    0.5000\n   247 "Sheppard Afb/Wichita Falls Mun"         0.7375    0.4474    0.5000\n   248 "Los Angeles Intl"                       0.6361    0.4478    0.5000\n   249 "Columbia Metropolitan"                  0.8260    0.4478    0.5000\n   250 "Palm Springs Regional"                  0.6457    0.4489    0.5000\n   251 "Long Beach /Daugherty Field/"           0.6374    0.4490    0.5000\n   252 "Myrtle Beach Intl"                      0.8371    0.4503    0.5000\n   253 "John Wayne Airport-Orange Coun"         0.6388    0.4503    0.5000\n   254 "Lubbock Intl"                           0.7205    0.4504    0.5000\n   255 "The William B Hartsfield Atlan"         0.8091    0.4506    0.5000\n   256 "Birmingham Intl"                        0.7973    0.4514    0.5000\n   257 "Texarkana Regional-Webb Field"          0.7604    0.4524    0.5000\n   258 "Phoenix Sky Harbor Intl"                0.6686    0.4526    0.5000\n   259 "Bush Field"                             0.8216    0.4532    0.5000\n   260 "Charleston Afb/Intl"                    0.8314    0.4577    0.5000\n   261 "Dallas/Fort Worth Intl"                 0.7449    0.4578    0.5000\n   262 "Dallas Love Field"                      0.7458    0.4582    0.5000\n   263 "San Diego Intl-Lindbergh Fld"           0.6423    0.4593    0.5000\n   264 "Yuma Mcas/Yuma Intl"                    0.6554    0.4600    0.5000\n   265 "Columbus Metropolitan"                  0.8065    0.4614    0.5000\n   266 "Monroe Regional"                        0.7703    0.4614    0.5000\n   267 "Shreveport Regional"                    0.7612    0.4621    0.5000\n   268 "Abilene Regional"                       0.7314    0.4624    0.5000\n   269 "Gregg County"                           0.7567    0.4626    0.5000\n   270 "Tyler Pounds Field"                     0.7532    0.4629    0.5000\n   271 "Jackson Intll"                          0.7803    0.4634    0.5000\n   272 "Dannelly Field"                         0.7991    0.4635    0.5000\n   273 "Savannah Intll"                         0.8255    0.4651    0.5000\n   274 "Tucson Intl"                            0.6741    0.4652    0.5000\n   275 "Midland Intll"                          0.7186    0.4669    0.5000\n   276 "El Paso Intl"                           0.6973    0.4682    0.5000\n   277 "Waco Regional"                          0.7439    0.4700    0.5000\n   278 "Alexandria Esler Regional"              0.7690    0.4721    0.5000\n   279 "Mathis Field"                           0.7273    0.4725    0.5000\n   280 "Killeen Muni"                           0.7416    0.4751    0.5000\n   281 "Mobile Regional"                        0.7897    0.4788    0.5000\n   282 "Easterwood Field"                       0.7483    0.4798    0.5000\n   283 "Baton Rouge Metropolitan, Ryan"         0.7749    0.4803    0.5000\n   284 "Jacksonville Intl"                      0.8231    0.4807    0.5000\n   285 "Eglin Afb"                              0.7984    0.4808    0.5000\n   286 "Pensacola Regional"                     0.7951    0.4809    0.5000\n   287 "Tallahassee Regional"                   0.8095    0.4816    0.5000\n   288 "Robert Mueller Muni"                    0.7415    0.4826    0.5000\n   289 "Panama City-Bay Co Intl"                0.8027    0.4834    0.5000\n   290 "Lafayette Regional"                     0.7706    0.4835    0.5000\n   291 "Lake Charles Regional"                  0.7643    0.4842    0.5000\n   292 "New Orleans Intl/Moisant Fld/"          0.7794    0.4855    0.5000\n   293 "Houston Intercontinental"               0.7535    0.4856    0.5000\n   294 "Jefferson County"                       0.7602    0.4859    0.5000\n   295 "Gainesville Regional"                   0.8201    0.4884    0.5000\n   296 "William P Hobby"                        0.7538    0.4888    0.5000\n   297 "San Antonio Intl"                       0.7376    0.4899    0.5000\n   298 "Daytona Beach Intl"                     0.8263    0.4933    0.5000\n   299 "Orlando Intl"                           0.8250    0.5004    0.5000\n   300 "Melbourne Intll"                        0.8284    0.5036    0.5000\n   301 "Tampa Intl"                             0.8188    0.5048    0.5000\n   302 "St Petersburg/Clearwater Intl"          0.8180    0.5054    0.5000\n   303 "Corpus Christi Intl"                    0.7425    0.5067    0.5000\n   304 "Laredo Intl"                            0.7325    0.5089    0.5000\n   305 "Sarasota/Bradenton Intl"                0.8186    0.5103    0.5000\n   306 "Palm Beach Intl"                        0.8312    0.5171    0.5000\n   307 "Southwest Florida Intl"                 0.8227    0.5185    0.5000\n   308 "Rio Grande Valley Intl"                 0.7417    0.5215    0.5000\n   309 "Mc Allen Miller Intl"                   0.7388    0.5220    0.5000\n   310 "Fort Lauderdale/Hollywood Intl"         0.8309    0.5230    0.5000\n   311 "Miami Intl"                             0.8302    0.5256    0.5000\n   312 "Lihue"                                  0.4276    0.5621    0.5000\n   313 "Honolulu Intl"                          0.4348    0.5684    0.5000\n   314 "Molokai"                                0.4390    0.5700    0.5000\n   315 "Kapalua"                                0.4412    0.5718    0.5000\n   316 "Kahului"                                0.4424    0.5724    0.5000\n   317 "Lanai"                                  0.4398    0.5735    0.5000\n   318 "Keahole-Kona Intll"                     0.4444    0.5835    0.5000\n   319 "Hilo Intll"                             0.4495    0.5837    0.5000\n   320 "Rafael Hernandez"                       0.8972    0.5954    0.5000\n   321 "Luis Munoz Marin Intl"                  0.9029    0.5959    0.5000\n   322 "Cyril E King"                           0.9082    0.5969    0.5000\n   323 "Eugenio Maria De Hostos"                0.8971    0.5977    0.5000\n   324 "Mercedita"                              0.9001    0.6000    0.5000\n   325 "Alexander Hamilton"                     0.9091    0.6029    0.5000\n   326 "Johnston Atoll"                         0.3757    0.6122    0.5000\n   327 "Saipan Intl"                            0.1479    0.6276    0.5000\n   328 "Rota Intl"                              0.1454    0.6366    0.5000\n   329 "Guam Intll"                             0.1431    0.6432    0.5000\n   330 "Babelthuap/Koror"                       0.0909    0.7017    0.5000\n   331 "Pago Pago Intl"                         0.3697    0.9090    0.5000\n   332 "West Tinian"                            0.1473    0.6288    0.5000\n*Arcs\n*Edges\n    118    201    0.1804\n    118    258    0.1474\n    118    182    0.0332\n    118    152    0.0416\n    118    162    0.0676\n     47    118    0.1828\n    118    144    0.1231\n    118    263    0.1733\n    118    301    0.1366\n    118    221    0.0745\n    118    321    0.2510\n    118    203    0.1788\n     65    118    0.1800\n    118    306    0.1514\n    118    297    0.1305\n    118    253    0.1720\n    118    183    0.1744\n    118    307    0.1508\n    118    169    0.1640\n    118    216    0.0686\n    118    212    0.0769\n    118    274    0.1504\n     92    118    0.0611\n     68    118    0.1008\n     91    118    0.0532\n    118    125    0.0839\n    118    189    0.0379\n    118    305    0.1419\n    118    202    0.0688\n    118    222    0.0622\n     80    118    0.0910\n    118    273    0.1001\n    118    250    0.1652\n    118    126    0.0085\n    118    204    0.0600\n    118    127    0.0212\n    118    186    0.0471\n    118    148    0.0155\n    118    129    0.0704\n     76    118    0.0797\n     78    118    0.0298\n    118    163    0.0223\n     70    118    0.0289\n    114    118    0.0065\n     77    118    0.0195\n    118    261    0.0985\n    248    261    0.1093\n    201    261    0.1367\n    150    261    0.1396\n    261    311    0.1090\n    146    261    0.1400\n    147    261    0.1383\n    258    261    0.0765\n    112    261    0.1131\n    261    313    0.3292\n    182    261    0.0655\n     67    261    0.1162\n    219    261    0.0972\n    261    299    0.0907\n    152    261    0.1122\n    261    293    0.0291\n    162    261    0.1295\n     47    261    0.1894\n    144    261    0.1071\n    261    263    0.1026\n    261    301    0.0876\n    177    261    0.1152\n    221    261    0.0972\n    261    310    0.1079\n    232    261    0.0414\n    261    321    0.2098\n    261    296    0.0323\n    123    261    0.0973\n    172    261    0.0623\n    261    292    0.0442\n    203    261    0.1338\n     65    261    0.1779\n    167    261    0.0851\n    261    306    0.1047\n    197    261    0.1363\n    261    297    0.0329\n    246    261    0.1053\n    253    261    0.1064\n     94    261    0.1068\n    183    261    0.1369\n    261    307    0.0987\n    261    276    0.0487\n    225    261    0.0241\n    169    261    0.1319\n    216    261    0.0321\n    261    284    0.0815\n    212    261    0.1128\n    261    274    0.0712\n    189    261    0.0765\n    133    261    0.0806\n    239    261    0.0302\n    202    261    0.1097\n    218    261    0.0923\n    128    261    0.0844\n    251    261    0.1079\n    254    261    0.0255\n    261    275    0.0278\n    198    261    0.0455\n    222    261    0.0720\n    261    308    0.0638\n    261    273    0.0809\n    240    261    0.0549\n    213    261    0.1213\n    250    261    0.0996\n    261    286    0.0553\n    261    271    0.0358\n    261    281    0.0495\n    261    267    0.0169\n    242    261    0.1170\n    261    309    0.0645\n    206    261    0.0456\n     81    261    0.1239\n    220    261    0.0331\n    261    290    0.0363\n    261    266    0.0257\n    226    261    0.0271\n    261    270    0.0097\n    142    261    0.1219\n    241    261    0.0175\n    261    278    0.0280\n    261    279    0.0229\n    261    291    0.0328\n    247    261    0.0128\n    261    304    0.0526\n    184    261    0.0738\n    261    280    0.0176\n    153    261    0.0892\n    257    261    0.0164\n    261    269    0.0127\n    168    261    0.0818\n    118    255    0.0815\n    255    261    0.0646\n    248    255    0.1730\n    201    255    0.1969\n    150    255    0.0860\n    166    255    0.1195\n    255    311    0.0779\n    146    255    0.0868\n    109    255    0.1078\n    147    255    0.0852\n    255    258    0.1405\n    112    255    0.0821\n    255    313    0.3924\n    182    255    0.0574\n     67    255    0.1163\n    219    255    0.1582\n    255    299    0.0523\n    152    255    0.0688\n    255    293    0.0657\n    162    255    0.0757\n     47    255    0.2336\n    230    255    0.0232\n    179    255    0.0624\n    144    255    0.1560\n    255    263    0.1670\n    255    301    0.0551\n    174    255    0.0659\n    177    255    0.0618\n    221    255    0.0357\n    176    255    0.0516\n    255    310    0.0756\n    232    255    0.0313\n    131    255    0.0753\n    255    321    0.1729\n    255    296    0.0672\n    123    255    0.0796\n    217    255    0.0263\n    172    255    0.0752\n    255    292    0.0458\n     65    255    0.2254\n    167    255    0.0588\n    255    306    0.0701\n    255    297    0.0816\n    246    255    0.1689\n    119    255    0.0992\n    253    255    0.1703\n     94    255    0.0906\n    255    288    0.0748\n    161    255    0.0598\n    159    255    0.0612\n    255    307    0.0692\n     95    255    0.0934\n    255    276    0.1132\n    225    255    0.0691\n    216    255    0.0633\n    255    284    0.0332\n    212    255    0.0521\n     92    255    0.0998\n     91    255    0.0968\n    125    255    0.1017\n    255    256    0.0118\n    189    255    0.0438\n    133    255    0.0936\n    255    305    0.0605\n    239    255    0.0410\n    202    255    0.0517\n    218    255    0.0327\n    255    260    0.0234\n    157    255    0.0738\n    237    255    0.0165\n    222    255    0.0208\n    255    322    0.1767\n    249    255    0.0171\n    255    273    0.0219\n    255    298    0.0460\n    240    255    0.0152\n    255    287    0.0310\n    255    283    0.0453\n    255    286    0.0334\n    255    271    0.0315\n    192    255    0.0420\n    255    281    0.0342\n    255    300    0.0564\n    137    255    0.0702\n    255    267    0.0493\n    127    255    0.0760\n    234    255    0.0139\n    223    255    0.0196\n    132    255    0.0858\n    255    295    0.0394\n    215    255    0.0289\n    255    272    0.0163\n    129    255    0.0917\n    255    265    0.0111\n    255    266    0.0403\n    255    289    0.0334\n    184    255    0.1237\n    118    248    0.1733\n    201    248    0.0406\n    248    311    0.2091\n    248    258    0.0329\n    182    248    0.1500\n     67    248    0.1655\n    248    299    0.1961\n    152    248    0.2042\n    162    248    0.2270\n     47    248    0.1305\n    144    248    0.0731\n    248    263    0.0131\n    248    301    0.1914\n    232    248    0.1451\n    172    248    0.1310\n    248    292    0.1482\n    203    248    0.0373\n     65    248    0.1133\n    197    248    0.0410\n    248    253    0.0037\n    248    316    0.2303\n     94    248    0.1776\n    183    248    0.0483\n    245    248    0.0025\n    169    248    0.0536\n    248    274    0.0418\n    248    250    0.0097\n    242    248    0.0087\n    214    248    0.0308\n    248    331    0.5326\n    244    248    0.0048\n    168    248    0.0800\n    182    201    0.1634\n    144    201    0.0609\n    201    203    0.0033\n    197    201    0.0011\n    201    253    0.0441\n    183    201    0.0110\n    178    201    0.0171\n    185    201    0.0088\n    201    236    0.0278\n    118    150    0.0730\n    150    248    0.2360\n    150    201    0.2491\n    150    311    0.1456\n    146    150    0.0014\n    150    258    0.2065\n    150    182    0.0863\n     67    150    0.1069\n    150    219    0.2151\n    150    299    0.1227\n    150    152    0.0328\n    150    162    0.0104\n     47    150    0.2555\n    144    150    0.1945\n    150    263    0.2335\n    150    301    0.1289\n    150    221    0.0522\n    150    321    0.2158\n    150    292    0.1318\n    150    306    0.1371\n    150    212    0.0379\n     92    150    0.0264\n     91    150    0.0309\n    150    202    0.0349\n    150    322    0.2178\n    150    324    0.2193\n    118    166    0.0890\n    166    261    0.0770\n    166    248    0.0886\n    166    201    0.0914\n    150    166    0.1586\n    166    311    0.1832\n    146    166    0.1583\n    147    166    0.1567\n    166    258    0.0706\n    112    166    0.1121\n    166    313    0.3226\n    166    182    0.0746\n     67    166    0.0770\n    166    219    0.0631\n    166    299    0.1618\n    152    166    0.1258\n    166    293    0.1055\n    162    166    0.1510\n     47    166    0.1150\n    144    166    0.0374\n    166    263    0.0919\n    166    301    0.1603\n    166    177    0.1399\n    166    232    0.0883\n    166    296    0.1085\n    123    166    0.0894\n    166    172    0.0520\n    166    292    0.1196\n    166    203    0.0898\n     65    166    0.1059\n    166    167    0.0947\n    166    197    0.0905\n    166    297    0.1032\n    166    246    0.0847\n    166    253    0.0881\n     94    166    0.0917\n    166    183    0.0857\n    166    276    0.0766\n    166    225    0.0560\n    166    169    0.0758\n    166    216    0.0572\n    166    274    0.0794\n    133    166    0.0481\n     45    166    0.0988\n    128    166    0.0596\n    166    251    0.0883\n    166    198    0.0431\n     90    166    0.0855\n    166    213    0.0808\n    166    250    0.0821\n    130    166    0.0749\n    166    242    0.0917\n     75    166    0.1021\n    140    166    0.0426\n     82    166    0.0551\n    166    206    0.0634\n    148    166    0.0779\n     51    166    0.0796\n     81    166    0.0472\n    166    175    0.0195\n     50    166    0.0828\n    106    166    0.0500\n     41    166    0.0831\n    142    166    0.0564\n    166    184    0.0158\n    153    166    0.0137\n    166    168    0.0104\n    118    311    0.1594\n    201    311    0.2423\n    182    311    0.1340\n     67    311    0.1939\n    152    311    0.1404\n    162    311    0.1369\n     47    311    0.2976\n    263    311    0.1993\n    301    311    0.0237\n    221    311    0.0966\n    311    321    0.1011\n    292    311    0.0647\n    203    311    0.2392\n    306    311    0.0086\n     94    311    0.1684\n    311    322    0.1057\n    287    311    0.0486\n    311    324    0.1021\n    118    146    0.0724\n    146    311    0.1468\n    146    182    0.0862\n     67    146    0.1061\n    146    299    0.1238\n    146    152    0.0325\n    146    301    0.1300\n    146    221    0.0531\n    146    232    0.0987\n    123    146    0.0714\n    146    172    0.1071\n    146    292    0.1326\n    146    306    0.1383\n    119    146    0.0126\n     94    146    0.0745\n    146    307    0.1418\n    146    212    0.0390\n     92    146    0.0250\n     91    146    0.0296\n    146    189    0.0654\n    146    202    0.0358\n     80    146    0.0329\n    146    168    0.1686\n    109    118    0.0862\n    109    261    0.1605\n    109    248    0.2545\n    109    201    0.2655\n    109    150    0.0218\n    109    166    0.1744\n    109    311    0.1652\n    109    146    0.0211\n    109    147    0.0227\n    109    258    0.2256\n    109    112    0.0629\n    109    182    0.1045\n     67    109    0.1156\n    109    219    0.2328\n    109    299    0.1431\n    109    152    0.0503\n    109    293    0.1714\n    109    162    0.0321\n     47    109    0.2658\n    109    230    0.0851\n    109    179    0.0455\n    109    144    0.2092\n    109    301    0.1495\n    109    174    0.0420\n    109    177    0.0464\n    109    221    0.0736\n    109    176    0.0765\n    109    310    0.1625\n    109    232    0.1193\n    109    131    0.0560\n    109    321    0.2300\n    109    203    0.2638\n    109    167    0.0819\n    109    306    0.1568\n     94    109    0.0863\n    109    161    0.0713\n    109    159    0.0647\n    109    307    0.1608\n     95    109    0.0398\n    109    212    0.0586\n     92    109    0.0270\n     91    109    0.0348\n    109    202    0.0565\n     80    109    0.0128\n    109    273    0.1108\n    118    147    0.0711\n    147    248    0.2344\n    147    201    0.2472\n    147    150    0.0020\n    147    311    0.1457\n    146    147    0.0017\n    147    258    0.2049\n    147    182    0.0845\n     67    147    0.1050\n    147    219    0.2134\n    147    299    0.1226\n    147    152    0.0310\n    147    293    0.1487\n     47    147    0.2535\n    147    301    0.1288\n    147    177    0.0237\n    147    221    0.0517\n    147    310    0.1430\n    147    232    0.0970\n    147    321    0.2166\n    123    147    0.0700\n    147    172    0.1055\n    147    292    0.1310\n    147    167    0.0625\n    147    306    0.1372\n     94    147    0.0733\n    147    307    0.1406\n    147    284    0.1047\n    147    212    0.0378\n     92    147    0.0251\n     91    147    0.0293\n    125    147    0.0171\n    147    305    0.1340\n    147    202    0.0344\n    147    218    0.0528\n     99    147    0.0616\n    147    322    0.2187\n     80    147    0.0344\n    143    147    0.0055\n    147    273    0.0893\n     96    147    0.0255\n    147    300    0.1247\n    147    153    0.1684\n    147    324    0.2201\n    201    258    0.0662\n    182    258    0.1214\n    152    258    0.1754\n     47    258    0.1437\n    144    258    0.0702\n    258    263    0.0271\n    203    258    0.0629\n    258    297    0.0784\n    253    258    0.0299\n    183    258    0.0701\n    169    258    0.0701\n    216    258    0.0862\n    258    274    0.0137\n    250    258    0.0232\n    258    264    0.0151\n    112    118    0.0233\n    112    248    0.1952\n    112    201    0.2035\n    112    150    0.0510\n    112    311    0.1577\n    112    146    0.0502\n    112    147    0.0490\n    112    258    0.1684\n    112    182    0.0487\n     67    112    0.0563\n    112    219    0.1723\n    112    299    0.1321\n    112    152    0.0229\n    112    293    0.1319\n    112    162    0.0470\n     47    112    0.2046\n    112    144    0.1464\n    112    263    0.1947\n    112    301    0.1362\n    112    177    0.0434\n    112    221    0.0649\n    112    310    0.1552\n    112    232    0.0764\n    112    296    0.1346\n    112    123    0.0228\n    112    172    0.0643\n    112    292    0.1220\n    112    203    0.2019\n     65    112    0.2025\n    112    167    0.0282\n    112    306    0.1493\n    112    253    0.1938\n     94    112    0.0242\n    112    307    0.1500\n    112    212    0.0626\n     92    112    0.0379\n     91    112    0.0302\n    112    125    0.0609\n    112    189    0.0405\n    112    305    0.1417\n    112    202    0.0545\n     99    112    0.0128\n    112    157    0.0387\n     90    112    0.0317\n    112    126    0.0159\n    112    136    0.0503\n    112    137    0.0151\n     71    112    0.0326\n    100    112    0.0083\n     84    112    0.0131\n     70    112    0.0267\n    118    313    0.4076\n    248    313    0.2347\n    201    313    0.2389\n    258    313    0.2609\n    182    313    0.3823\n     67    313    0.3992\n    219    313    0.2595\n     47    313    0.3086\n    263    313    0.2344\n    246    313    0.2387\n    313    316    0.0086\n    312    313    0.0096\n    313    329    0.3011\n    313    318    0.0179\n    313    319    0.0212\n    313    314    0.0045\n    313    331    0.3468\n    313    317    0.0071\n    313    326    0.0736\n    313    315    0.0072\n    182    301    0.1105\n    182    216    0.0373\n    182    274    0.1225\n     92    182    0.0837\n    182    222    0.0429\n    106    182    0.0465\n    160    182    0.0122\n    182    196    0.0133\n     67    118    0.0388\n     67    201    0.1639\n     67    258    0.1454\n     67    182    0.0604\n     67    152    0.0783\n     67    162    0.1033\n     47     67    0.1502\n     67    144    0.1033\n     67    263    0.1685\n     67    301    0.1705\n     67    292    0.1431\n     67    203    0.1630\n     65     67    0.1498\n     67    197    0.1629\n     67    246    0.1617\n     67    253    0.1651\n     67    183    0.1562\n     67    307    0.1847\n     67    274    0.1518\n     67    189    0.0745\n     67    133    0.0368\n     67     76    0.0508\n     67     78    0.0100\n     43     67    0.0364\n    118    219    0.1498\n    219    248    0.0263\n    201    219    0.0395\n    219    258    0.0299\n    182    219    0.1288\n     67    219    0.1399\n    219    299    0.1873\n    152    219    0.1828\n    162    219    0.2065\n     47    219    0.1144\n    144    219    0.0477\n    219    263    0.0336\n    219    301    0.1834\n    219    232    0.1286\n    123    219    0.1499\n    172    219    0.1085\n    203    219    0.0366\n     65    219    0.0984\n    197    219    0.0392\n    219    297    0.1056\n    219    246    0.0230\n    219    253    0.0268\n     94    219    0.1535\n    183    219    0.0412\n    169    219    0.0402\n    219    274    0.0436\n    133    219    0.1101\n    219    250    0.0227\n    118    299    0.1337\n    201    299    0.2268\n    299    311    0.0257\n    258    299    0.1635\n    182    299    0.1088\n     67    299    0.1685\n    152    299    0.1153\n    162    299    0.1136\n    144    299    0.1958\n    299    301    0.0076\n    221    299    0.0722\n    232    299    0.0771\n    299    321    0.1232\n    123    299    0.1317\n    292    299    0.0480\n    299    306    0.0178\n     94    299    0.1427\n    299    307    0.0182\n     92    299    0.1427\n    125    299    0.1366\n    299    305    0.0118\n    299    322    0.1274\n    273    299    0.0353\n    287    299    0.0244\n    286    299    0.0357\n    152    201    0.2163\n    152    182    0.0542\n     47    152    0.2244\n    152    263    0.2023\n    152    301    0.1202\n    152    221    0.0447\n    152    297    0.1400\n    152    183    0.2114\n    152    307    0.1335\n     92    152    0.0326\n     91    152    0.0283\n    125    152    0.0463\n    152    189    0.0357\n    152    305    0.1257\n    152    202    0.0321\n    152    222    0.0486\n     80    152    0.0588\n    126    152    0.0331\n    127    152    0.0210\n    152    215    0.0400\n    129    152    0.0327\n    152    156    0.0277\n    118    293    0.1207\n    248    293    0.1233\n    201    293    0.1558\n    293    311    0.0865\n    146    293    0.1503\n    258    293    0.0911\n    182    293    0.0876\n     67    293    0.1428\n    219    293    0.1165\n    293    299    0.0730\n    152    293    0.1265\n    162    293    0.1393\n     47    293    0.2160\n    144    293    0.1335\n    263    293    0.1143\n    293    301    0.0681\n    293    296    0.0032\n    172    293    0.0891\n    292    293    0.0259\n    203    293    0.1527\n     65    293    0.2037\n    167    293    0.1038\n    293    306    0.0838\n    293    297    0.0165\n    246    293    0.1198\n    253    293    0.1200\n    183    293    0.1575\n    293    307    0.0766\n    225    293    0.0530\n    216    293    0.0595\n    284    293    0.0698\n    274    293    0.0820\n    133    293    0.1082\n    293    305    0.0696\n    286    293    0.0419\n    281    293    0.0368\n    293    309    0.0393\n    290    293    0.0172\n    142    293    0.1469\n    162    201    0.2410\n    147    162    0.0095\n    162    258    0.1971\n    162    182    0.0777\n    152    162    0.0261\n    144    162    0.1873\n    162    301    0.1196\n    162    221    0.0423\n    162    321    0.2101\n    162    307    0.1317\n     92    162    0.0312\n     91    162    0.0334\n    125    162    0.0263\n    162    305    0.1249\n    162    202    0.0250\n     80    162    0.0440\n    162    273    0.0800\n     47    201    0.0938\n     47    182    0.1826\n     47    144    0.0825\n     47    203    0.0963\n     47    253    0.1334\n     47    183    0.0836\n     47     56    0.0122\n     47     74    0.0310\n     47     86    0.0555\n    118    230    0.0737\n    230    261    0.0849\n    230    248    0.1911\n    201    230    0.2122\n    150    230    0.0634\n    166    230    0.1295\n    230    311    0.0901\n    146    230    0.0642\n    147    230    0.0627\n    230    258    0.1591\n    112    230    0.0680\n    182    230    0.0586\n     67    230    0.1115\n    219    230    0.1744\n    230    299    0.0648\n    152    230    0.0505\n    230    293    0.0887\n    162    230    0.0532\n     47    230    0.2408\n    179    230    0.0401\n    230    263    0.1860\n    230    301    0.0697\n    177    230    0.0398\n    221    230    0.0127\n    176    230    0.0412\n    230    310    0.0875\n    230    232    0.0460\n    230    321    0.1774\n    172    230    0.0802\n    230    292    0.0688\n    167    230    0.0509\n    230    306    0.0816\n    230    297    0.1044\n     94    230    0.0819\n    161    230    0.0478\n    159    230    0.0468\n    230    307    0.0830\n    230    284    0.0453\n    212    230    0.0290\n     92    230    0.0793\n     91    230    0.0773\n    125    230    0.0789\n    189    230    0.0374\n    230    305    0.0751\n    230    239    0.0576\n    202    230    0.0287\n    218    230    0.0099\n    157    230    0.0521\n    230    237    0.0071\n    222    230    0.0165\n    143    230    0.0666\n    230    273    0.0295\n    230    298    0.0577\n    230    240    0.0301\n    230    287    0.0491\n    230    286    0.0553\n    230    281    0.0569\n    230    300    0.0680\n    204    230    0.0208\n    230    252    0.0179\n    186    230    0.0304\n    230    295    0.0532\n    215    230    0.0141\n    230    272    0.0393\n    230    235    0.0108\n    230    243    0.0179\n    230    238    0.0174\n    227    230    0.0170\n    118    179    0.0628\n    179    261    0.1167\n    150    179    0.0238\n    179    311    0.1259\n    146    179    0.0244\n    147    179    0.0229\n    112    179    0.0454\n    179    182    0.0678\n     67    179    0.1005\n    179    299    0.1019\n    152    179    0.0225\n    179    293    0.1260\n    162    179    0.0134\n    179    301    0.1077\n    179    221    0.0299\n    179    310    0.1232\n    179    232    0.0753\n    123    179    0.0613\n    172    179    0.0901\n    179    292    0.1082\n    167    179    0.0478\n    179    306    0.1173\n     94    179    0.0677\n    179    307    0.1201\n     92    179    0.0409\n     91    179    0.0408\n    125    179    0.0396\n    179    189    0.0448\n    179    218    0.0302\n    144    182    0.1118\n    144    253    0.0742\n    144    183    0.0529\n    144    216    0.0929\n    144    274    0.0830\n     86    144    0.0286\n    104    144    0.0206\n    201    263    0.0536\n    182    263    0.1482\n     47    263    0.1429\n    144    263    0.0813\n    203    263    0.0504\n    253    263    0.0097\n    183    263    0.0613\n    250    263    0.0109\n    118    174    0.0632\n    174    261    0.1198\n    174    248    0.2183\n    174    201    0.2332\n    150    174    0.0203\n    166    174    0.1438\n    174    311    0.1291\n    146    174    0.0209\n    147    174    0.0193\n    174    258    0.1882\n    112    174    0.0448\n    174    182    0.0698\n     67    174    0.1004\n    174    219    0.1982\n    174    299    0.1053\n    152    174    0.0221\n    174    293    0.1294\n    162    174    0.0099\n    174    230    0.0436\n    174    301    0.1111\n    174    221    0.0333\n    174    176    0.0407\n    174    310    0.1264\n    131    174    0.0340\n    174    321    0.2054\n    172    174    0.0919\n    174    292    0.1117\n    167    174    0.0493\n    174    306    0.1206\n    161    174    0.0390\n    159    174    0.0327\n    174    307    0.1234\n    174    284    0.0867\n    174    212    0.0219\n     92    174    0.0377\n     91    174    0.0380\n    125    174    0.0362\n    174    305    0.1164\n    174    202    0.0162\n    174    218    0.0338\n    143    174    0.0239\n    174    273    0.0712\n    174    204    0.0243\n     89    174    0.0386\n    118    177    0.0606\n    177    248    0.2139\n    177    201    0.2290\n    150    177    0.0247\n    177    311    0.1264\n    146    177    0.0253\n    177    258    0.1837\n    177    182    0.0657\n     67    177    0.0983\n    177    299    0.1023\n    152    177    0.0204\n    177    293    0.1250\n    162    177    0.0144\n     47    177    0.2424\n    177    179    0.0022\n    144    177    0.1767\n    177    263    0.2108\n    177    301    0.1079\n    174    177    0.0046\n    177    321    0.2044\n    177    292    0.1075\n    177    212    0.0206\n     91    177    0.0399\n    125    177    0.0406\n    177    202    0.0137\n    157    177    0.0125\n     80    177    0.0579\n    177    273    0.0678\n     96    177    0.0489\n    177    204    0.0200\n    141    177    0.0183\n    182    221    0.0650\n    221    301    0.0779\n    221    321    0.1789\n    221    307    0.0905\n     92    221    0.0704\n     91    221    0.0694\n    221    305    0.0832\n    202    221    0.0173\n    221    322    0.1818\n    221    273    0.0379\n    129    221    0.0589\n    118    176    0.0325\n    176    261    0.0862\n    176    248    0.1786\n    176    201    0.1925\n    150    176    0.0574\n    166    176    0.1032\n    176    311    0.1285\n    146    176    0.0574\n    147    176    0.0558\n    176    258    0.1493\n    112    176    0.0310\n    176    182    0.0291\n     67    176    0.0708\n    176    219    0.1579\n    176    299    0.1028\n    152    176    0.0265\n    162    176    0.0486\n     47    176    0.2078\n    176    179    0.0388\n    144    176    0.1401\n    176    263    0.1762\n    176    301    0.1064\n    176    221    0.0426\n    176    310    0.1261\n    176    232    0.0468\n    176    296    0.1048\n    172    176    0.0513\n    176    292    0.0911\n     65    176    0.2031\n    167    176    0.0105\n    176    306    0.1204\n     94    176    0.0408\n    176    307    0.1204\n    176    284    0.0831\n    176    212    0.0478\n     92    176    0.0584\n     91    176    0.0527\n    176    189    0.0100\n    176    305    0.1118\n    176    239    0.0564\n    176    202    0.0402\n    176    218    0.0371\n     99    176    0.0370\n    176    222    0.0311\n     80    176    0.0853\n    176    271    0.0701\n    176    192    0.0096\n    126    176    0.0268\n    137    176    0.0187\n    118    310    0.1570\n    150    310    0.1429\n    310    311    0.0027\n    146    310    0.1441\n    182    310    0.1319\n     67    310    0.1917\n    299    310    0.0234\n    152    310    0.1378\n    293    310    0.0860\n    162    310    0.1342\n    301    310    0.0219\n    177    310    0.1238\n    221    310    0.0940\n    232    310    0.0994\n    123    310    0.1551\n    292    310    0.0637\n    167    310    0.1341\n    306    310    0.0059\n     94    310    0.1661\n    307    310    0.0094\n    143    310    0.1452\n    302    310    0.0218\n    118    232    0.0670\n    201    232    0.1667\n    232    311    0.1013\n    232    258    0.1133\n    182    232    0.0355\n     67    232    0.0954\n    152    232    0.0719\n    162    232    0.0881\n     47    232    0.2028\n    232    301    0.0775\n    232    292    0.0483\n    232    297    0.0681\n     94    232    0.0762\n    232    307    0.0915\n    225    232    0.0389\n    216    232    0.0320\n    189    232    0.0369\n    133    232    0.0669\n    222    232    0.0314\n    232    285    0.0470\n    118    131    0.0313\n    131    261    0.1123\n    131    248    0.1993\n    131    201    0.2095\n    131    150    0.0418\n    131    166    0.1183\n    131    311    0.1494\n    131    146    0.0412\n    131    147    0.0398\n    131    258    0.1715\n    112    131    0.0108\n    131    182    0.0502\n     67    131    0.0667\n    131    219    0.1771\n    131    299    0.1240\n    131    152    0.0121\n    131    293    0.1290\n    131    162    0.0368\n     47    131    0.2139\n    131    230    0.0594\n    131    179    0.0346\n    131    301    0.1284\n    131    177    0.0325\n    131    221    0.0552\n    131    176    0.0267\n    131    310    0.1469\n    123    131    0.0302\n    131    172    0.0685\n    131    292    0.1172\n    131    167    0.0278\n    131    306    0.1410\n     94    131    0.0341\n    131    307    0.1421\n    125    131    0.0532\n    131    189    0.0367\n    131    305    0.1339\n    131    153    0.1295\n    182    321    0.2303\n    301    321    0.1240\n    321    322    0.0054\n    321    325    0.0094\n    118    296    0.1237\n    150    296    0.1517\n    296    311    0.0848\n    258    296    0.0926\n    182    296    0.0905\n     67    296    0.1460\n    232    296    0.0582\n    123    296    0.1222\n    292    296    0.0258\n    296    297    0.0162\n    225    296    0.0562\n    216    296    0.0627\n    275    296    0.0415\n    296    308    0.0349\n    123    182    0.0319\n     67    123    0.0406\n    123    152    0.0403\n     47    123    0.1841\n    123    301    0.1347\n    123    307    0.1489\n    123    273    0.0981\n    123    163    0.0210\n    123    302    0.1351\n    118    217    0.0562\n    217    261    0.0611\n    217    248    0.1628\n    201    217    0.1823\n    166    217    0.0991\n    217    311    0.1039\n    146    217    0.0790\n    109    217    0.0997\n    147    217    0.0773\n    217    258    0.1315\n    112    217    0.0606\n    182    217    0.0313\n     67    217    0.0900\n    217    219    0.1450\n    217    299    0.0784\n    152    217    0.0531\n    217    293    0.0734\n    162    217    0.0684\n    217    230    0.0305\n    179    217    0.0556\n    217    263    0.1586\n    217    301    0.0807\n    174    217    0.0587\n    217    221    0.0403\n    176    217    0.0297\n    217    310    0.1017\n    217    232    0.0197\n    131    217    0.0562\n    217    321    0.1991\n    217    296    0.0758\n    123    217    0.0544\n    172    217    0.0509\n    217    292    0.0614\n    167    217    0.0344\n    217    306    0.0963\n    217    297    0.0870\n     94    217    0.0655\n    159    217    0.0417\n    217    307    0.0950\n    217    284    0.0595\n    212    217    0.0539\n    189    217    0.0202\n    217    239    0.0312\n    202    217    0.0495\n    217    218    0.0344\n    217    222    0.0140\n    217    240    0.0142\n    217    283    0.0580\n    217    286    0.0541\n    217    271    0.0404\n    192    217    0.0211\n    126    217    0.0533\n    217    281    0.0525\n    118    172    0.0431\n    172    201    0.1417\n    172    258    0.1044\n    172    182    0.0228\n     67    172    0.0540\n    172    299    0.1243\n    152    172    0.0747\n    162    172    0.0994\n     47    172    0.1606\n    144    172    0.0890\n    172    263    0.1305\n    172    232    0.0472\n    123    172    0.0427\n     94    172    0.0492\n    172    225    0.0401\n    172    216    0.0302\n    133    172    0.0201\n    142    172    0.1083\n    118    292    0.1151\n    201    292    0.1790\n    182    292    0.0837\n    152    292    0.1126\n    162    292    0.1215\n    144    292    0.1512\n    292    301    0.0439\n    292    297    0.0420\n    182    203    0.1613\n    144    203    0.0603\n    203    253    0.0408\n    183    203    0.0129\n    203    251    0.0390\n     65    201    0.0761\n     65    258    0.1280\n     47     65    0.0178\n     65    144    0.0709\n     65    263    0.1259\n     65    203    0.0787\n     65    253    0.1163\n     65    183    0.0660\n     65    169    0.0600\n     59     65    0.0189\n     56     65    0.0141\n     65     74    0.0147\n     54     65    0.0301\n     65     66    0.0068\n    262    293    0.0285\n    262    296    0.0316\n    262    292    0.0433\n    262    297    0.0327\n    262    276    0.0495\n    225    262    0.0246\n    216    262    0.0324\n    239    262    0.0297\n    254    262    0.0265\n    262    275    0.0286\n    118    167    0.0231\n    167    248    0.1726\n    167    201    0.1848\n    150    167    0.0643\n    167    311    0.1365\n    146    167    0.0641\n    167    258    0.1441\n    167    182    0.0227\n     67    167    0.0607\n    167    219    0.1510\n    167    299    0.1108\n    152    167    0.0318\n    162    167    0.0563\n    167    301    0.1138\n    167    232    0.0484\n    123    167    0.0211\n    167    172    0.0431\n    167    292    0.0951\n    167    307    0.1280\n    167    189    0.0150\n    167    302    0.1143\n    182    306    0.1266\n    152    306    0.1319\n    162    306    0.1284\n    301    306    0.0175\n    221    306    0.0880\n    306    307    0.0086\n    118    197    0.1795\n    197    258    0.0662\n     47    197    0.0929\n    144    197    0.0599\n    197    263    0.0541\n     65    197    0.0752\n    197    246    0.0422\n    197    253    0.0445\n    183    197    0.0099\n    169    197    0.0211\n    197    250    0.0472\n    182    297    0.0973\n    144    297    0.1276\n    118    246    0.1691\n    201    246    0.0419\n    246    258    0.0290\n    182    246    0.1458\n     47    246    0.1301\n    144    246    0.0704\n    246    263    0.0128\n    203    246    0.0386\n     65    246    0.1131\n    246    253    0.0039\n    183    246    0.0489\n    169    246    0.0532\n    246    250    0.0059\n    118    233    0.1161\n    233    261    0.0529\n    233    255    0.1138\n    233    248    0.0609\n    201    233    0.0839\n    166    233    0.0461\n    233    258    0.0315\n    182    233    0.0901\n     67    233    0.1163\n    219    233    0.0446\n    152    233    0.1441\n    233    293    0.0750\n    144    233    0.0613\n    233    263    0.0581\n    176    233    0.1182\n    233    296    0.0773\n    233    262    0.0539\n    233    276    0.0309\n    233    274    0.0355\n    233    254    0.0277\n    233    275    0.0372\n    229    233    0.0251\n    142    233    0.0724\n    118    119    0.0775\n    119    261    0.1511\n    119    150    0.0136\n    119    311    0.1590\n    109    119    0.0095\n    119    147    0.0141\n    112    119    0.0544\n    119    182    0.0950\n     67    119    0.1082\n    119    299    0.1363\n    119    152    0.0408\n    119    162    0.0236\n    119    230    0.0768\n    119    179    0.0368\n    119    301    0.1425\n    119    174    0.0333\n    119    177    0.0375\n    119    221    0.0657\n    119    176    0.0670\n    119    310    0.1563\n    119    131    0.0470\n    119    321    0.2271\n    119    217    0.0904\n    119    306    0.1505\n     95    119    0.0323\n     92    119    0.0207\n     91    119    0.0278\n    182    253    0.1483\n    245    253    0.0056\n    201    316    0.2359\n     47    316    0.3074\n    314    316    0.0042\n     94    118    0.0093\n     94    201    0.1827\n     94    258    0.1528\n     94    182    0.0420\n     67     94    0.0327\n     94    152    0.0456\n     94    162    0.0709\n     47     94    0.1804\n     94    263    0.1782\n     94    301    0.1457\n     90     94    0.0075\n     77     94    0.0104\n    118    288    0.1222\n    261    288    0.0250\n    166    288    0.0977\n    258    288    0.0788\n    152    288    0.1319\n    288    293    0.0124\n    162    288    0.1465\n    230    288    0.0974\n    232    288    0.0600\n    288    296    0.0138\n    203    288    0.1407\n    262    288    0.0248\n    288    297    0.0083\n    276    288    0.0465\n    254    288    0.0384\n    275    288    0.0278\n    288    308    0.0389\n    118    161    0.0273\n    161    261    0.0936\n    161    248    0.1832\n    146    161    0.0533\n    147    161    0.0517\n    112    161    0.0225\n    161    182    0.0332\n     67    161    0.0661\n    161    299    0.1106\n    152    161    0.0211\n    161    162    0.0457\n    161    179    0.0378\n    161    301    0.1143\n    161    167    0.0108\n    161    189    0.0183\n     99    161    0.0293\n    126    161    0.0203\n    137    161    0.0114\n    100    161    0.0276\n    161    191    0.0245\n     93    161    0.0294\n    183    253    0.0516\n    118    159    0.0317\n    159    261    0.0990\n    159    248    0.1898\n    150    159    0.0468\n    159    166    0.1120\n    146    159    0.0466\n    147    159    0.0450\n    159    258    0.1610\n    112    159    0.0213\n    159    182    0.0398\n     67    159    0.0703\n    159    219    0.1685\n    159    299    0.1108\n    152    159    0.0144\n    159    293    0.1148\n    159    162    0.0390\n    159    179    0.0317\n    159    301    0.1149\n    159    176    0.0128\n    123    159    0.0300\n    159    167    0.0175\n     94    159    0.0380\n    159    161    0.0068\n    307    311    0.0103\n    182    307    0.1246\n    301    307    0.0142\n    305    307    0.0092\n     95    118    0.0476\n     95    150    0.0335\n     95    146    0.0323\n     95    147    0.0317\n     95    112    0.0245\n     67     95    0.0760\n     95    299    0.1392\n     95    152    0.0246\n     95    162    0.0343\n     95    230    0.0747\n     95    179    0.0399\n     95    174    0.0375\n     95    177    0.0387\n     95    221    0.0675\n     95    176    0.0479\n     95    131    0.0216\n     92     95    0.0135\n     91     95    0.0057\n    245    261    0.1093\n    201    245    0.0385\n    166    245    0.0869\n    245    258    0.0331\n    219    245    0.0243\n     47    245    0.1281\n    144    245    0.0708\n    245    263    0.0152\n    203    245    0.0353\n     65    245    0.1109\n    197    245    0.0389\n    245    246    0.0041\n    183    245    0.0461\n    213    245    0.0255\n    242    245    0.0078\n    118    276    0.1353\n    248    276    0.0645\n    201    276    0.0986\n    258    276    0.0327\n    219    276    0.0606\n    276    293    0.0588\n    263    276    0.0557\n    276    296    0.0601\n    276    297    0.0458\n    254    276    0.0292\n    275    276    0.0213\n      8    118    0.3655\n      8    248    0.3059\n      8    201    0.2654\n      8    112    0.3847\n      8    313    0.3829\n      8     67    0.3284\n      8     47    0.1926\n      8    144    0.2746\n      8     65    0.2040\n      8     26    0.0830\n      4      8    0.0365\n      8     13    0.0604\n      8     23    0.0478\n      3      8    0.0843\n      2      8    0.0866\n      5      8    0.0849\n      8     36    0.1093\n      8     16    0.0239\n      6      8    0.0683\n      8     35    0.0863\n      8     28    0.1099\n      8     30    0.0596\n    118    225    0.0800\n    225    258    0.0757\n    182    225    0.0489\n    144    225    0.0895\n    216    225    0.0116\n    142    225    0.1062\n    169    201    0.0222\n     47    169    0.0770\n    144    169    0.0416\n    169    263    0.0659\n    169    203    0.0232\n    169    183    0.0120\n    142    216    0.1105\n    118    284    0.1142\n    284    311    0.0455\n    146    284    0.1060\n    182    284    0.0904\n    284    299    0.0198\n    152    284    0.0958\n    162    284    0.0954\n    221    284    0.0535\n    284    306    0.0373\n    273    284    0.0158\n    284    286    0.0280\n    284    300    0.0235\n    182    212    0.0743\n    152    212    0.0400\n    162    212    0.0289\n    212    221    0.0164\n    131    212    0.0519\n    202    212    0.0082\n    229    274    0.0555\n    312    316    0.0180\n     68    109    0.0259\n     68    147    0.0478\n     68    125    0.0323\n     68     80    0.0134\n     68     96    0.0223\n     91     92    0.0080\n    125    221    0.0673\n    101    118    0.0722\n    101    255    0.1024\n    101    146    0.0189\n    101    112    0.0489\n    101    152    0.0392\n    101    162    0.0285\n    101    230    0.0807\n    101    179    0.0407\n    101    174    0.0372\n    101    221    0.0704\n    101    176    0.0657\n     95    101    0.0252\n     80    101    0.0198\n    101    129    0.0120\n    327    329    0.0163\n    329    330    0.0784\n    328    329    0.0070\n    118    256    0.0806\n    256    261    0.0528\n    182    256    0.0529\n    256    299    0.0563\n    152    256    0.0741\n    230    256    0.0335\n    176    256    0.0535\n    232    256    0.0218\n    256    296    0.0574\n    217    256    0.0245\n    256    292    0.0385\n    189    256    0.0444\n    240    256    0.0103\n    256    271    0.0208\n    256    267    0.0377\n    256    272    0.0122\n    182    189    0.0241\n    118    133    0.0412\n    133    258    0.1113\n    133    182    0.0373\n    133    152    0.0802\n    133    144    0.0821\n    133    140    0.0062\n    261    305    0.0905\n    305    311    0.0192\n    146    305    0.1353\n    182    305    0.1155\n    301    305    0.0055\n    248    318    0.2349\n    201    318    0.2421\n    316    318    0.0113\n    312    318    0.0272\n    182    239    0.0396\n    232    239    0.0118\n    216    239    0.0234\n    206    239    0.0247\n    202    204    0.0136\n    118    218    0.0693\n    146    218    0.0543\n    218    299    0.0735\n    152    218    0.0420\n    162    218    0.0433\n    177    218    0.0300\n    218    221    0.0062\n    204    218    0.0118\n     45    118    0.1602\n     45    201    0.0986\n     45     67    0.1266\n     45     47    0.0244\n     45    144    0.0712\n     45     65    0.0323\n     45     50    0.0187\n     45     46    0.0314\n     45     55    0.0299\n     45     58    0.0122\n     45     54    0.0086\n    118    128    0.0296\n    128    258    0.1214\n    128    182    0.0315\n     67    128    0.0321\n    128    152    0.0691\n    128    133    0.0116\n    128    142    0.1129\n     99    118    0.0149\n     67     99    0.0435\n     99    152    0.0354\n     99    167    0.0305\n     94     99    0.0121\n    201    251    0.0423\n    251    258    0.0314\n    197    251    0.0427\n    242    251    0.0104\n    118    260    0.0955\n    146    260    0.0815\n    147    260    0.0802\n    230    260    0.0226\n    179    260    0.0589\n    177    260    0.0592\n    221    260    0.0291\n    260    284    0.0245\n    260    273    0.0095\n    316    319    0.0133\n    318    319    0.0051\n     83    118    0.1450\n     83    248    0.0927\n     83    201    0.0649\n     83    166    0.0681\n     47     83    0.0483\n     83    144    0.0343\n     65     83    0.0378\n     45     83    0.0393\n     59     83    0.0297\n     83     85    0.0211\n     58     83    0.0271\n     83     86    0.0098\n     83    104    0.0136\n     54     83    0.0307\n     83     97    0.0195\n    118    157    0.0592\n    152    157    0.0178\n    157    221    0.0426\n    141    157    0.0083\n    118    181    0.0907\n    181    261    0.0687\n    166    181    0.0094\n    181    258    0.0634\n    181    182    0.0730\n    181    219    0.0593\n    144    181    0.0416\n    181    188    0.0050\n    146    237    0.0704\n    162    237    0.0593\n    221    237    0.0197\n    118    198    0.0637\n    198    258    0.0845\n    182    198    0.0375\n    198    219    0.0915\n    152    198    0.0917\n    198    232    0.0453\n    172    198    0.0209\n    198    216    0.0159\n    198    206    0.0210\n    142    198    0.0983\n    322    325    0.0061\n    118    143    0.0762\n    143    311    0.1479\n    143    299    0.1253\n    143    152    0.0364\n    143    162    0.0140\n    143    221    0.0552\n    143    306    0.1394\n     92    143    0.0269\n    143    170    0.0148\n    118    249    0.0842\n    147    249    0.0736\n    162    249    0.0641\n    230    249    0.0122\n    221    249    0.0219\n    218    249    0.0215\n    249    260    0.0113\n     90    118    0.0133\n     90    182    0.0422\n     67     90    0.0258\n     90    152    0.0528\n     73     90    0.0115\n    293    308    0.0378\n    297    308    0.0319\n    273    322    0.1556\n    147    298    0.1155\n    298    299    0.0072\n    221    298    0.0650\n    284    298    0.0130\n    298    300    0.0105\n    327    332    0.0013\n    118    240    0.0703\n    177    240    0.0627\n    232    240    0.0169\n    261    303    0.0490\n    293    303    0.0238\n    296    303    0.0212\n    213    248    0.0279\n    201    213    0.0157\n    144    213    0.0549\n    213    263    0.0407\n    197    213    0.0156\n    213    246    0.0282\n    213    253    0.0311\n    183    213    0.0208\n    169    213    0.0260\n    199    213    0.0103\n    205    213    0.0064\n    200    213    0.0093\n    287    301    0.0250\n    118    229    0.0955\n    229    261    0.0325\n    229    262    0.0335\n    229    254    0.0148\n    142    229    0.0895\n    201    250    0.0470\n    182    250    0.1413\n    144    250    0.0704\n    203    250    0.0436\n    250    274    0.0327\n    261    283    0.0375\n    283    293    0.0220\n    232    283    0.0435\n    271    283    0.0177\n    281    283    0.0149\n    267    283    0.0228\n    286    301    0.0337\n    118    149    0.0648\n    149    255    0.0811\n    112    149    0.0430\n    149    152    0.0244\n    149    230    0.0590\n    149    221    0.0487\n    149    157    0.0080\n     72    118    0.0788\n     72    146    0.0355\n     72    147    0.0365\n     72    152    0.0523\n     72    162    0.0452\n     72    177    0.0572\n     72     96    0.0171\n    271    281    0.0180\n    267    271    0.0191\n    118    120    0.0194\n    120    166    0.0700\n    120    258    0.1312\n    120    182    0.0307\n     67    120    0.0297\n    120    130    0.0073\n    106    120    0.0243\n    118    192    0.0412\n    182    192    0.0301\n    152    192    0.0323\n    189    192    0.0059\n    192    222    0.0215\n    192    204    0.0246\n    126    182    0.0349\n    281    286    0.0058\n    266    281    0.0261\n    105    182    0.0512\n    105    123    0.0248\n    105    167    0.0306\n     96    118    0.0844\n     96    152    0.0505\n     96    162    0.0351\n    109    170    0.0332\n    112    170    0.0519\n    152    170    0.0305\n    131    170    0.0415\n    125    170    0.0270\n    300    301    0.0097\n    221    300    0.0749\n    300    307    0.0160\n    118    136    0.0728\n     67    136    0.1058\n    136    152    0.0337\n    134    136    0.0046\n    118    139    0.0344\n    139    162    0.0331\n    139    230    0.0546\n    139    177    0.0277\n    139    167    0.0272\n    139    161    0.0171\n    137    139    0.0191\n    135    139    0.0050\n    118    137    0.0168\n    137    152    0.0257\n    126    137    0.0089\n    127    137    0.0092\n    267    281    0.0330\n    118    130    0.0142\n    130    258    0.1336\n    130    182    0.0258\n    130    148    0.0086\n    201    242    0.0331\n    224    242    0.0104\n     26     47    0.1216\n     26     33    0.0322\n     26     29    0.0131\n     26     31    0.0170\n     22     26    0.0281\n    230    234    0.0217\n      4     47    0.2109\n      4     26    0.0915\n      2      4    0.0515\n      1      4    0.0767\n     75    201    0.0622\n     47     75    0.0320\n     65     75    0.0143\n     75    108    0.0168\n     74     75    0.0106\n     75    151    0.0348\n     75    116    0.0202\n     75     87    0.0085\n     71    118    0.0240\n     67     71    0.0262\n     71     90    0.0143\n     57     71    0.0197\n     71     77    0.0053\n     62    166    0.0605\n     62     67    0.0786\n     62    144    0.0511\n     45     62    0.0490\n     50     62    0.0302\n     62     63    0.0133\n     46     62    0.0215\n     40     62    0.0377\n     55     62    0.0191\n     61     62    0.0201\n    150    325    0.2238\n    311    325    0.1105\n    147    325    0.2247\n    299    325    0.1326\n    221    325    0.1877\n    273    325    0.1612\n    100    118    0.0186\n    100    152    0.0312\n    100    137    0.0175\n    223    230    0.0084\n    152    252    0.0654\n    162    252    0.0621\n    221    252    0.0210\n    111    118    0.0123\n    111    112    0.0112\n     67    111    0.0465\n    111    152    0.0318\n    111    161    0.0233\n     71    111    0.0252\n    100    111    0.0071\n    132    152    0.0243\n    132    230    0.0643\n    132    174    0.0212\n    118    140    0.0464\n    140    182    0.0382\n     82    140    0.0261\n    106    140    0.0150\n    201    214    0.0103\n     82    118    0.0475\n     82    182    0.0564\n     67     82    0.0219\n     82    144    0.0821\n     82    130    0.0376\n     76     82    0.0325\n    152    186    0.0214\n    186    192    0.0156\n     84    118    0.0245\n    118    191    0.0376\n    182    191    0.0159\n    152    191    0.0439\n    167    191    0.0172\n    255    259    0.0128\n    230    259    0.0184\n    249    259    0.0070\n    259    273    0.0125\n    182    206    0.0211\n    148    182    0.0186\n    118    173    0.1001\n    173    261    0.0786\n    173    248    0.0774\n    166    173    0.0114\n     51    118    0.0655\n     51     67    0.0267\n     51     82    0.0319\n    272    283    0.0295\n    266    272    0.0289\n    218    235    0.0118\n    118    158    0.0186\n    158    182    0.0162\n    152    158    0.0412\n    158    161    0.0207\n    148    158    0.0094\n    158    171    0.0074\n    113    152    0.0271\n    113    174    0.0292\n     73    118    0.0220\n     73     94    0.0129\n     71     73    0.0030\n     69     73    0.0077\n     73     77    0.0026\n    162    243    0.0552\n    221    243    0.0159\n    117    152    0.0152\n     76    144    0.0551\n     47     59    0.0197\n     59    144    0.0638\n     45     59    0.0152\n     54     59    0.0113\n     93    118    0.0232\n     93    152    0.0297\n     93    100    0.0047\n    108    201    0.0455\n     65    108    0.0307\n     78     79    0.0063\n    110    152    0.0458\n    110    162    0.0286\n    152    210    0.0373\n     81    118    0.1173\n     81    144    0.0277\n     81     85    0.0069\n     50     67    0.1082\n     50    144    0.0596\n    224    261    0.1148\n    201    224    0.0268\n    183    224    0.0338\n    182    220    0.0327\n    190    230    0.0307\n    177    190    0.0092\n    190    202    0.0083\n     53    166    0.0701\n     53     67    0.0424\n     53    144    0.0809\n     53     82    0.0367\n     41     53    0.0145\n     63    166    0.0656\n     63     67    0.0918\n     63    144    0.0479\n     45     63    0.0370\n     50     63    0.0185\n     46     63    0.0163\n     55     63    0.0089\n     33     47    0.0895\n     29     33    0.0247\n     32     33    0.0113\n     52     67    0.0194\n     69    118    0.0283\n     69     71    0.0084\n     57     69    0.0198\n     85    261    0.1272\n     85    144    0.0261\n     85     97    0.0064\n    163    182    0.0110\n    261    294    0.0320\n     46     67    0.0958\n     46    144    0.0641\n     46     50    0.0149\n     46     55    0.0090\n    115    152    0.0233\n    103    115    0.0038\n    106    118    0.0434\n     82    106    0.0113\n    103    152    0.0271\n     39     47    0.0130\n     39     65    0.0306\n     39    142    0.0835\n      6     13    0.0143\n      7     13    0.0140\n     13     21    0.0098\n     13     18    0.0055\n     13     17    0.0060\n     12     13    0.0020\n     13     20    0.0112\n     13     19    0.0095\n     10     13    0.0023\n      9     13    0.0053\n     13     14    0.0009\n     13     15    0.0011\n    266    286    0.0315\n    266    271    0.0102\n    266    267    0.0091\n    182    226    0.0385\n    220    226    0.0064\n     79    118    0.0250\n     67     79    0.0138\n    208    258    0.0416\n    152    187    0.0235\n     44     67    0.0356\n     41     67    0.0522\n    201    228    0.0244\n    228    236    0.0033\n    261    282    0.0223\n     47    142    0.0714\n    142    144    0.0194\n     65    142    0.0572\n     45    142    0.0655\n     76    142    0.0717\n    121    142    0.0629\n    321    323    0.0061\n     98    144    0.0347\n     76     98    0.0204\n      8     27    0.0351\n     56     59    0.0078\n     40    144    0.0728\n     40     45    0.0180\n     40     50    0.0133\n     40     46    0.0167\n     40     55    0.0200\n     74    201    0.0637\n     42     47    0.0089\n    138    201    0.0333\n    138    183    0.0253\n    124    138    0.0076\n    151    201    0.0276\n     65    151    0.0485\n     66    151    0.0422\n    261    268    0.0143\n    118    154    0.0152\n    154    182    0.0180\n    154    164    0.0062\n    154    171    0.0128\n    193    201    0.0063\n    102    118    0.0236\n    102    182    0.0378\n    102    120    0.0073\n    102    107    0.0087\n    316    317    0.0028\n    314    317    0.0036\n     88    118    0.0142\n     29     47    0.1134\n     55    144    0.0556\n     50     55    0.0112\n    184    293    0.1008\n    231    258    0.0164\n    118    153    0.0994\n    153    248    0.0845\n     67    153    0.0829\n    153    293    0.1171\n    153    203    0.0806\n      3      5    0.0269\n    118    164    0.0211\n    164    182    0.0128\n      8     24    0.0414\n     23     24    0.0100\n    118    134    0.0768\n    261    277    0.0122\n     47     58    0.0288\n     58     65    0.0294\n     58     59    0.0107\n     56     58    0.0180\n     54     58    0.0036\n    180    182    0.0095\n    269    270    0.0035\n     57    118    0.0435\n     57     70    0.0199\n     47     54    0.0273\n    107    118    0.0149\n     47     48    0.0107\n     48     65    0.0212\n     48     49    0.0048\n    327    330    0.0935\n     45     61    0.0302\n     50     61    0.0123\n     61     63    0.0070\n     40     61    0.0242\n     55     61    0.0067\n    182    211    0.0181\n    182    209    0.0261\n    206    209    0.0058\n    327    328    0.0093\n     97    104    0.0105\n    118    155    0.0157\n      1      8    0.1026\n      1      2    0.0436\n    199    201    0.0072\n    122    163    0.0220\n     16     22    0.0311\n    118    145    0.0200\n    145    182    0.0198\n    130    145    0.0071\n    145    148    0.0074\n     65    116    0.0331\n    108    116    0.0062\n     74    116    0.0203\n    116    151    0.0159\n     66    116    0.0271\n     47     60    0.0242\n     60     65    0.0225\n     59     60    0.0046\n     56     60    0.0124\n     58     60    0.0069\n     54     60    0.0087\n     60     64    0.0048\n     49     60    0.0119\n     29     31    0.0125\n     31     32    0.0043\n    321    324    0.0050\n     65     87    0.0223\n     66     87    0.0156\n    194    221    0.0207\n    165    201    0.0210\n    130    160    0.0148\n    182    195    0.0118\n    155    171    0.0094\n      6      7    0.0197\n      7      8    0.0488\n      8     38    0.1622\n     36     38    0.0549\n     37     38    0.0478\n     25     26    0.0057\n     35     36    0.0232\n     28     35    0.0425\n    150    320    0.2143\n    311    320    0.0968\n    147    320    0.2151\n    320    324    0.0054\n    182    207    0.0151\n    195    207    0.0058\n     64     65    0.0191\n     59     64    0.0057\n    118    168    0.0993\n    168    258    0.0647\n    144    168    0.0280\n    201    205    0.0099\n     47     49    0.0154\n     49     56    0.0087\n      8     37    0.1999\n      8     34    0.0774\n    124    201    0.0408\n     17     19    0.0038\n     17     20    0.0053\n     19     20    0.0018\n     30     34    0.0184\n     10     12    0.0010\n      9     10    0.0030\n      9     12    0.0037\n     11     13    0.0033\n     10     11    0.0011\n      9     11    0.0022\n    315    316    0.0013\n    315    317    0.0022\n',Nc='\n*Vertices     35\n  1 "ARG"    0.3784 0.7257 0.5\n  2 "AUT"    0.7070 0.3091 0.5\n  3 "BEL"    0.3112 0.3627 0.5\n  4 "BGR"    0.4901 0.2231 0.5\n  5 "BRA"    0.4183 0.8734 0.5\n  6 "CHE"    0.8277 0.7710 0.5\n  7 "CHL"    0.0570 0.4660 0.5\n  8 "CMR"    0.6661 0.4183 0.5\n  9 "COL"    0.1708 0.7309 0.5\n 10 "DEU"    0.6178 0.2022 0.5\n 11 "DNK"    0.7995 0.3587 0.5\n 12 "ESP"    0.5580 0.5982 0.5\n 13 "FRA"    0.6993 0.2113 0.5\n 14 "GBR"    0.8284 0.4099 0.5\n 15 "GRE"    0.8529 0.5632 0.5\n 16 "HRV"    0.6570 0.7437 0.5\n 17 "IRN"    0.6526 0.0804 0.5\n 18 "ITA"    0.4556 0.6498 0.5\n 19 "JAM"    0.8974 0.5263 0.5\n 20 "JPN"    0.7505 0.9353 0.5\n 21 "KOR"    0.9060 0.8003 0.5\n 22 "MAR"    0.4052 0.5224 0.5\n 23 "MEX"    0.5903 0.8579 0.5\n 24 "NGA"    0.4846 0.5060 0.5\n 25 "NLD"    0.6541 0.5668 0.5\n 26 "NOR"    0.7761 0.4672 0.5\n 27 "PRT"    0.1998 0.4088 0.5\n 28 "PRY"    0.5335 0.8248 0.5\n 29 "ROM"    0.6593 0.5079 0.5\n 30 "SCO"    0.9430 0.4508 0.5\n 31 "TUN"    0.4882 0.0647 0.5\n 32 "TUR"    0.5347 0.3531 0.5\n 33 "USA"    0.3644 0.1830 0.5\n 34 "YUG"    0.5178 0.7720 0.5\n 35 "ZAF"    0.7861 0.6645 0.5\n*Arcs\n  1 12   4\n  1 18   9\n  2 10   7\n  2 12   1\n  2 13   1\n  2 14   1\n  2 18   1\n  3 10   2\n  3 13   2\n  3 18   2\n  3 25   2\n  4 10   4\n  4 12   1\n  4 27   1\n  4 32   4\n  5 12   4\n  5 13   1\n  5 18   5\n  5 20   1\n  5 27   1\n  7  1   1\n  7 18   1\n  7 33   1\n  8  2   1\n  8 10   1\n  8 12   2\n  8 13   7\n  8 15   1\n  8 18   2\n  8 20   2\n  8 27   2\n  8 32   2\n  9  1   3\n  9  5   2\n  9 12   1\n  9 18   1\n  9 33   2\n 10 12   1\n 10 13   1\n 10 18   2\n 11 10   3\n 11 12   1\n 11 14   6\n 11 18   1\n 11 25   1\n 11 30   3\n 11 32   1\n 16  2   1\n 16 10   2\n 16 12   4\n 16 14   2\n 16 18   4\n 16 32   1\n 17 10   3\n 18 12   2\n 18 13   1\n 18 14   2\n 19 14   7\n 21 13   1\n 21 20   4\n 22 10   3\n 22 12   4\n 22 13   1\n 22 18   1\n 22 27   3\n 22 31   1\n 24  3   2\n 24  6   1\n 24 10   1\n 24 12   4\n 24 13   3\n 24 18   2\n 24 25   3\n 24 32   3\n 24 33   1\n 24 35   1\n 25 10   1\n 25 12   5\n 25 14   4\n 25 18   2\n 26 10   3\n 26 12   1\n 26 14  12\n 26 15   2\n 26 18   1\n 26 30   3\n 28  5  10\n 28 12   2\n 28 23   1\n 29  3   1\n 29 10   2\n 29 12   6\n 29 14   2\n 29 15   2\n 29 25   1\n 29 32   4\n 30 13   1\n 30 14   7\n 31 10   2\n 31 13   3\n 33 10   2\n 33 14   2\n 33 25   1\n 34 10   1\n 34 12   9\n 34 13   1\n 34 14   1\n 34 18   7\n 34 20   2\n 35  2   1\n 35  6   1\n 35 10   2\n 35 12   2\n 35 13   1\n 35 14   4\n 35 18   1\n 35 25   2\n 35 32   3\n*Edges\n';class Rc{constructor(t){this.np=t,this.graphType="football",this.graphUsAirline=this.np.parse(Ac),this.graphFootball=this.np.parse(Nc),this.graph=this.graphFootball}ngOnInit(){}}class Lc{}class zc{}class Bc{}const Fc=(()=>{class t{constructor(){}parse(t,e="\n"){let i=new Bc;i.nodes=[],i.edges=[];let n=null,o=t.split(e);for(let r of o)if(r.indexOf("Vertices")>=0)n="node";else if(r.indexOf("*Arcs")>=0)n="arc";else if(r.indexOf("*Edges")>=0)n="edge";else switch(n){case"node":let t=this._parseNode(r);t&&i.nodes.push(t);break;case"arc":let e=this._parseArc(r);e&&i.edges.push(e);break;case"edge":let o=this._parseEdge(r);o&&i.edges.push(o)}return i}_parseLine(t,e=" "){let i=[],n=!1,o="";for(let r=0;r<t.length;r++)t[r]!=e||n?'"'!=t[r]||n?'"'==t[r]&&n?(n=!1,i.push(o),o=""):o+=t[r]:n=!0:(o.length>0&&i.push(o),o="",n=!1);return o.length>0&&i.push(o),i}_parseNode(t){let e=new Lc,i=this._parseLine(t);return i.length<=0?null:(e.id=i[0],e.weight=parseFloat(i[4]),e.attrs={name:i[1],x:parseFloat(i[2]),y:parseFloat(i[3])},e)}_parseArc(t){let e=new zc,i=this._parseLine(t);return i.length<=0?null:(e.directed=!0,e.srcID=i[0],e.tgtID=i[1],e.weight=parseFloat(i[2]),e)}_parseEdge(t){let e=new zc,i=this._parseLine(t);return i.length<=0?null:(e.directed=!1,e.srcID=i[0],e.tgtID=i[1],e.weight=parseFloat(i[2]),e)}}return t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();var jc=Ki({encapsulation:0,styles:[["h2[_ngcontent-%COMP%]{background:#f0f0f0;margin-top:32px;padding:16px 32px}"]],data:{}});function Hc(t){return Jr(0,[(t()(),Fr(0,0,null,null,4,"div",[["class","network-container"]],null,null,null,null,null)),(t()(),Fr(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Kr(-1,null,["Vis.js"])),(t()(),Fr(3,0,null,null,1,"app-vis",[],null,null,null,kc,Ec)),so(4,4308992,null,0,_c,[],{graph:[0,"graph"]},null),(t()(),Fr(5,0,null,null,4,"div",[["class","network-container"]],null,null,null,null,null)),(t()(),Fr(6,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Kr(-1,null,["sigma.js"])),(t()(),Fr(8,0,null,null,1,"app-sigma",[],null,null,null,Mc,Tc)),so(9,4308992,null,0,Cc,[],{graph:[0,"graph"]},null),(t()(),Fr(10,0,null,null,4,"div",[["class","network-container"]],null,null,null,null,null)),(t()(),Fr(11,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Kr(-1,null,["cytoscape.js"])),(t()(),Fr(13,0,null,null,1,"app-cytoscape",[],null,null,null,Ic,Pc)),so(14,4308992,null,0,Oc,[],{graph:[0,"graph"]},null)],function(t,e){var i=e.component;t(e,4,0,i.graph),t(e,9,0,i.graph),t(e,14,0,i.graph)},null)}function Vc(t){return Jr(0,[(t()(),Fr(0,0,null,null,1,"app-root-container",[],null,null,null,Hc,jc)),so(1,114688,null,0,Rc,[Fc],null,null)],function(t,e){t(e,1,0)},null)}var Wc=zn("app-root-container",Rc,Vc,{},{},[]);class Uc{constructor(t){this.np=t,this.graph=this.np.parse(Nc)}ngOnInit(){}}var Yc=Ki({encapsulation:0,styles:[[""]],data:{}});function Gc(t){return Jr(0,[(t()(),Fr(0,0,null,null,1,"app-cytoscape",[],null,null,null,Ic,Pc)),so(1,4308992,null,0,Oc,[],{graph:[0,"graph"]},null)],function(t,e){t(e,1,0,e.component.graph)},null)}function qc(t){return Jr(0,[(t()(),Fr(0,0,null,null,1,"app-cytoscape-container",[],null,null,null,Gc,Yc)),so(1,114688,null,0,Uc,[Fc],null,null)],function(t,e){t(e,1,0)},null)}var Xc=zn("app-cytoscape-container",Uc,qc,{},{},[]);class $c{constructor(t){this.np=t,this.graph=this.np.parse(Nc)}ngOnInit(){}}var Kc=Ki({encapsulation:0,styles:[[""]],data:{}});function Zc(t){return Jr(0,[(t()(),Fr(0,0,null,null,1,"app-sigma",[],null,null,null,Mc,Tc)),so(1,4308992,null,0,Cc,[],{graph:[0,"graph"]},null)],function(t,e){t(e,1,0,e.component.graph)},null)}function Qc(t){return Jr(0,[(t()(),Fr(0,0,null,null,1,"app-sigma-container",[],null,null,null,Zc,Kc)),so(1,114688,null,0,$c,[Fc],null,null)],function(t,e){t(e,1,0)},null)}var Jc=zn("app-sigma-container",$c,Qc,{},{},[]);class tp{constructor(t){this.np=t,this.graph=this.np.parse(Nc)}ngOnInit(){}}var ep=Ki({encapsulation:0,styles:[[""]],data:{}});function ip(t){return Jr(0,[(t()(),Fr(0,0,null,null,1,"app-vis",[],null,null,null,kc,Ec)),so(1,4308992,null,0,_c,[],{graph:[0,"graph"]},null)],function(t,e){t(e,1,0,e.component.graph)},null)}function np(t){return Jr(0,[(t()(),Fr(0,0,null,null,1,"app-vis-container",[],null,null,null,ip,ep)),so(1,114688,null,0,tp,[Fc],null,null)],function(t,e){t(e,1,0)},null)}var op=zn("app-vis-container",tp,np,{},{},[]),rp=Ki({encapsulation:0,styles:[[""]],data:{}});function sp(t){return Jr(0,[(t()(),Fr(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),so(1,212992,null,0,$u,[Xu,Ii,Qe,[8,null],Si],null,null)],function(t,e){t(e,1,0)},null)}function ap(t){return Jr(0,[(t()(),Fr(0,0,null,null,1,"app-root",[],null,null,null,sp,rp)),so(1,49152,null,0,aa,[],null,null)],null,null)}var lp=zn("app-root",aa,ap,{},{},[]);class hp{}var dp=oa(sa,[aa],function(t){return function(t){const e={},i=[];let n=!1;for(let o=0;o<t.length;o++){const r=t[o];r.token===jt&&!0===r.value&&(n=!0),1073741824&r.flags&&i.push(r.token),r.index=o,e[qi(r.token)]=r}return{factory:null,providersByKey:e,providers:t,modules:i,isRoot:n}}([Mn(512,Qe,Je,[[8,[wc,Wc,Xc,Jc,op,lp]],[3,Qe],ei]),Mn(5120,Fo,Lr,[[3,Fo]]),Mn(4608,ya,ba,[Fo,[2,va]]),Mn(5120,xo,zr,[er]),Mn(5120,Io,Ao,[]),Mn(5120,Ei,Nr,[]),Mn(5120,ki,Rr,[]),Mn(4608,mh,vh,[xa]),Mn(6144,Me,null,[mh]),Mn(4608,hh,uh,[]),Mn(5120,Ll,function(t,e,i,n,o,r,s,a){return[new ah(t,e,i),new gh(n),new ch(o,r,s,a)]},[xa,er,Lo,xa,xa,hh,Bo,[2,dh]]),Mn(4608,zl,zl,[Ll,er]),Mn(135680,jl,jl,[xa]),Mn(4608,ql,ql,[zl,jl,Io]),Mn(6144,ai,null,[ql]),Mn(6144,Fl,null,[jl]),Mn(4608,lr,lr,[er]),Mn(5120,Rd,cc,[Gu]),Mn(4608,Ju,Ju,[]),Mn(6144,Zu,null,[Ju]),Mn(135680,tc,tc,[Gu,_r,Yo,Vt,Zu]),Mn(4608,Qu,Qu,[]),Mn(5120,ec,ac,[Gu,_a,ic]),Mn(5120,mc,gc,[pc]),Mn(5120,zo,function(t){return[t]},[mc]),Mn(4608,Fc,Fc,[]),Mn(1073742336,wa,wa,[]),Mn(1024,Ne,Sh,[]),Mn(1024,gr,function(){return[rc()]},[]),Mn(512,pc,pc,[Vt]),Mn(1024,Oo,function(t,e){return[(i=t,Al("probe",Rl),Al("coreTokens",Object.assign({},Nl,(i||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Rl),fc(e)];var i},[[2,gr],pc]),Mn(512,Po,Po,[[2,Oo]]),Mn(131584,wr,wr,[er,Bo,Vt,Ne,Qe,Po]),Mn(1073742336,Br,Br,[wr]),Mn(1073742336,Ch,Ch,[[3,Ch]]),Mn(1024,nc,hc,[[3,Gu]]),Mn(512,pd,fd,[]),Mn(512,Xu,Xu,[]),Mn(256,ic,{},[]),Mn(1024,da,lc,[la,[2,ua],ic]),Mn(512,ca,ca,[da,la]),Mn(512,Yo,Yo,[]),Mn(512,_r,Sr,[Yo,[2,Er]]),Mn(1024,Fu,function(){return[[{path:"",component:Rc},{path:"cytoscape",component:Uc},{path:"sigma",component:$c},{path:"vis",component:tp}]]},[]),Mn(1024,Gu,uc,[wr,pd,Xu,ca,Vt,_r,Yo,Fu,ic,[2,Hu],[2,zu]]),Mn(1073742336,sc,sc,[[2,nc],[2,Gu]]),Mn(1073742336,hp,hp,[]),Mn(1073742336,sa,sa,[]),Mn(256,jt,!0,[])])});(function(){if(oe)throw new Error("Cannot enable prod mode after platform setup.");ne=!1})(),kh().bootstrapModuleFactory(dp).catch(t=>console.error(t))},zn8P:function(t,e){function i(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id="zn8P"}},[[0,0]]]);